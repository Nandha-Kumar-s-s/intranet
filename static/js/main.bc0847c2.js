/*! For license information please see main.bc0847c2.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var i=n(853),r=n(43),o=n(950);function s(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(s(188))}function d(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=d(e)))return t;e=e.sibling}return null}var h=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),C=Symbol.for("react.context"),x=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),w=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),I=Symbol.for("react.lazy");Symbol.for("react.scope");var k=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var D=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var O=Symbol.iterator;function T(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=O&&e[O]||e["@@iterator"])?e:null}var A=Symbol.for("react.client.reference");function P(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===A?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case v:return"Profiler";case g:return"StrictMode";case S:return"Suspense";case w:return"SuspenseList";case k:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case C:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case x:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case E:return null!==(t=e.displayName||null)?t:P(e.type)||"Memo";case I:t=e._payload,e=e._init;try{return P(e(t))}catch(n){}}return null}var M=Array.isArray,R=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N={pending:!1,data:null,method:null,action:null},F=[],$=-1;function H(e){return{current:e}}function L(e){0>$||(e.current=F[$],F[$]=null,$--)}function V(e,t){$++,F[$]=e.current,e.current=t}var z=H(null),j=H(null),W=H(null),K=H(null);function U(e,t){switch(V(W,t),V(j,e),V(z,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?rd(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=od(t=rd(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(z),V(z,e)}function q(){L(z),L(j),L(W)}function G(e){null!==e.memoizedState&&V(K,e);var t=z.current,n=od(t,e.type);t!==n&&(V(j,e),V(z,n))}function Z(e){j.current===e&&(L(z),L(j)),K.current===e&&(L(K),Gd._currentValue=N)}var Y=Object.prototype.hasOwnProperty,Q=i.unstable_scheduleCallback,X=i.unstable_cancelCallback,J=i.unstable_shouldYield,ee=i.unstable_requestPaint,te=i.unstable_now,ne=i.unstable_getCurrentPriorityLevel,ie=i.unstable_ImmediatePriority,re=i.unstable_UserBlockingPriority,oe=i.unstable_NormalPriority,se=i.unstable_LowPriority,ae=i.unstable_IdlePriority,le=i.log,ce=i.unstable_setDisableYieldValue,ue=null,de=null;function he(e){if("function"===typeof le&&ce(e),de&&"function"===typeof de.setStrictMode)try{de.setStrictMode(ue,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2;var _e=256,ge=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function ye(e,t,n){var i=e.pendingLanes;if(0===i)return 0;var r=0,o=e.suspendedLanes,s=e.pingedLanes;e=e.warmLanes;var a=134217727&i;return 0!==a?0!==(i=a&~o)?r=ve(i):0!==(s&=a)?r=ve(s):n||0!==(n=a&~e)&&(r=ve(n)):0!==(a=i&~o)?r=ve(a):0!==s?r=ve(s):n||0!==(n=i&~e)&&(r=ve(n)),0===r?0:0!==t&&t!==r&&0===(t&o)&&((o=r&-r)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:r}function be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function Ce(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function xe(){var e=_e;return 0===(4194048&(_e<<=1))&&(_e=256),e}function Se(){var e=ge;return 0===(62914560&(ge<<=1))&&(ge=4194304),e}function we(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ee(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ie(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-pe(t);e.entangledLanes|=t,e.entanglements[i]=1073741824|e.entanglements[i]|4194090&n}function ke(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-pe(n),r=1<<i;r&t|e[i]&t&&(e[i]|=t),n&=~r}}function De(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Oe(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Te(){var e=B.p;return 0!==e?e:void 0===(e=window.event)?32:ch(e.type)}var Ae=Math.random().toString(36).slice(2),Pe="__reactFiber$"+Ae,Me="__reactProps$"+Ae,Re="__reactContainer$"+Ae,Be="__reactEvents$"+Ae,Ne="__reactListeners$"+Ae,Fe="__reactHandles$"+Ae,$e="__reactResources$"+Ae,He="__reactMarker$"+Ae;function Le(e){delete e[Pe],delete e[Me],delete e[Be],delete e[Ne],delete e[Fe]}function Ve(e){var t=e[Pe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Re]||n[Pe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=yd(e);null!==e;){if(n=e[Pe])return n;e=yd(e)}return t}n=(e=n).parentNode}return null}function ze(e){if(e=e[Pe]||e[Re]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function je(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(s(33))}function We(e){var t=e[$e];return t||(t=e[$e]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Ke(e){e[He]=!0}var Ue=new Set,qe={};function Ge(e,t){Ze(e,t),Ze(e+"Capture",t)}function Ze(e,t){for(qe[e]=t,e=0;e<t.length;e++)Ue.add(t[e])}var Ye,Qe,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Je={},et={};function tt(e,t,n){if(r=t,Y.call(et,r)||!Y.call(Je,r)&&(Xe.test(r)?et[r]=!0:(Je[r]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var i=t.toLowerCase().slice(0,5);if("data-"!==i&&"aria-"!==i)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var r}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function it(e,t,n,i){if(null===i)e.removeAttribute(n);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+i)}}function rt(e){if(void 0===Ye)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ye=t&&t[1]||"",Qe=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ye+e+Qe}var ot=!1;function st(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(r){var i=r}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){i=o}e.call(n.prototype)}}else{try{throw Error()}catch(s){i=s}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(a){if(a&&i&&"string"===typeof a.stack)return[a.stack,i.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var r=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");r&&r.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=i.DetermineComponentFrameRoot(),s=o[0],a=o[1];if(s&&a){var l=s.split("\n"),c=a.split("\n");for(r=i=0;i<l.length&&!l[i].includes("DetermineComponentFrameRoot");)i++;for(;r<c.length&&!c[r].includes("DetermineComponentFrameRoot");)r++;if(i===l.length||r===c.length)for(i=l.length-1,r=c.length-1;1<=i&&0<=r&&l[i]!==c[r];)r--;for(;1<=i&&0<=r;i--,r--)if(l[i]!==c[r]){if(1!==i||1!==r)do{if(i--,0>--r||l[i]!==c[r]){var u="\n"+l[i].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=i&&0<=r);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?rt(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return rt(e.type);case 16:return rt("Lazy");case 13:return rt("Suspense");case 19:return rt("SuspenseList");case 0:case 15:return st(e.type,!1);case 11:return st(e.type.render,!1);case 1:return st(e.type,!0);case 31:return rt("Activity");default:return""}}function lt(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function dt(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var r=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return r.call(this)},set:function(e){i=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(e){i=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function ht(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=ut(e)?e.checked?"true":"false":e.value),(e=i)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function _t(e,t,n,i,r,o,s,a){e.name="",null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.type=s:e.removeAttribute("type"),null!=t?"number"===s?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==s&&"reset"!==s||e.removeAttribute("value"),null!=t?vt(e,s,ct(t)):null!=n?vt(e,s,ct(n)):null!=i&&e.removeAttribute("value"),null==r&&null!=o&&(e.defaultChecked=!!o),null!=r&&(e.checked=r&&"function"!==typeof r&&"symbol"!==typeof r),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ct(a):e.removeAttribute("name")}function gt(e,t,n,i,r,o,s,a){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}i="function"!==typeof(i=null!=i?i:r)&&"symbol"!==typeof i&&!!i,e.checked=a?e.checked:!!i,e.defaultChecked=!!i,null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.name=s)}function vt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function yt(e,t,n,i){if(e=e.options,t){t={};for(var r=0;r<n.length;r++)t["$"+n[r]]=!0;for(n=0;n<e.length;n++)r=t.hasOwnProperty("$"+e[n].value),e[n].selected!==r&&(e[n].selected=r),r&&i&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,r=0;r<e.length;r++){if(e[r].value===n)return e[r].selected=!0,void(i&&(e[r].defaultSelected=!0));null!==t||e[r].disabled||(t=e[r])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function Ct(e,t,n,i){if(null==t){if(null!=i){if(null!=n)throw Error(s(92));if(M(i)){if(1<i.length)throw Error(s(93));i=i[0]}n=i}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(i=e.textContent)===n&&""!==i&&null!==i&&(e.value=i)}function xt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function wt(e,t,n){var i=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?i?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":i?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Et(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(s(62));if(e=e.style,null!=n){for(var i in n)!n.hasOwnProperty(i)||null!=t&&t.hasOwnProperty(i)||(0===i.indexOf("--")?e.setProperty(i,""):"float"===i?e.cssFloat="":e[i]="");for(var r in t)i=t[r],t.hasOwnProperty(r)&&n[r]!==i&&wt(e,r,i)}else for(var o in t)t.hasOwnProperty(o)&&wt(e,o,t[o])}function It(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Dt=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ot(e){return Dt.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Tt=null;function At(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Pt=null,Mt=null;function Rt(e){var t=ze(e);if(t&&(e=t.stateNode)){var n=e[Me]||null;e:switch(e=t.stateNode,t.type){case"input":if(_t(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var r=i[Me]||null;if(!r)throw Error(s(90));_t(i,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name)}}for(t=0;t<n.length;t++)(i=n[t]).form===e.form&&ht(i)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&yt(e,!!n.multiple,t,!1)}}}var Bt=!1;function Nt(e,t,n){if(Bt)return e(t,n);Bt=!0;try{return e(t)}finally{if(Bt=!1,(null!==Pt||null!==Mt)&&(Vc(),Pt&&(t=Pt,e=Mt,Mt=Pt=null,Rt(t),e)))for(t=0;t<e.length;t++)Rt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var i=n[Me]||null;if(null===i)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(i=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!i;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var $t=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ht=!1;if($t)try{var Lt={};Object.defineProperty(Lt,"passive",{get:function(){Ht=!0}}),window.addEventListener("test",Lt,Lt),window.removeEventListener("test",Lt,Lt)}catch(Mh){Ht=!1}var Vt=null,zt=null,jt=null;function Wt(){if(jt)return jt;var e,t,n=zt,i=n.length,r="value"in Vt?Vt.value:Vt.textContent,o=r.length;for(e=0;e<i&&n[e]===r[e];e++);var s=i-e;for(t=1;t<=s&&n[i-t]===r[o-t];t++);return jt=r.slice(e,1<t?1-t:void 0)}function Kt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Ut(){return!0}function qt(){return!1}function Gt(e){function t(t,n,i,r,o){for(var s in this._reactName=t,this._targetInst=i,this.type=n,this.nativeEvent=r,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(s)&&(t=e[s],this[s]=t?t(r):r[s]);return this.isDefaultPrevented=(null!=r.defaultPrevented?r.defaultPrevented:!1===r.returnValue)?Ut:qt,this.isPropagationStopped=qt,this}return h(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Ut)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Ut)},persist:function(){},isPersistent:Ut}),t}var Zt,Yt,Qt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=Gt(Xt),en=h({},Xt,{view:0,detail:0}),tn=Gt(en),nn=h({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qt&&(Qt&&"mousemove"===e.type?(Zt=e.screenX-Qt.screenX,Yt=e.screenY-Qt.screenY):Yt=Zt=0,Qt=e),Zt)},movementY:function(e){return"movementY"in e?e.movementY:Yt}}),rn=Gt(nn),on=Gt(h({},nn,{dataTransfer:0})),sn=Gt(h({},en,{relatedTarget:0})),an=Gt(h({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Gt(h({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Gt(h({},Xt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},dn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},hn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=hn[e])&&!!t[e]}function fn(){return pn}var mn=Gt(h({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Kt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?dn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?Kt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Kt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),_n=Gt(h({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),gn=Gt(h({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),vn=Gt(h({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),yn=Gt(h({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Gt(h({},Xt,{newState:0,oldState:0})),Cn=[9,13,27,32],xn=$t&&"CompositionEvent"in window,Sn=null;$t&&"documentMode"in document&&(Sn=document.documentMode);var wn=$t&&"TextEvent"in window&&!Sn,En=$t&&(!xn||Sn&&8<Sn&&11>=Sn),In=String.fromCharCode(32),kn=!1;function Dn(e,t){switch(e){case"keyup":return-1!==Cn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function On(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Tn=!1;var An={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Pn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!An[e.type]:"textarea"===t}function Mn(e,t,n,i){Pt?Mt?Mt.push(i):Mt=[i]:Pt=i,0<(t=Wu(t,"onChange")).length&&(n=new Jt("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Rn=null,Bn=null;function Nn(e){Nu(e,0)}function Fn(e){if(ht(je(e)))return e}function $n(e,t){if("change"===e)return t}var Hn=!1;if($t){var Ln;if($t){var Vn="oninput"in document;if(!Vn){var zn=document.createElement("div");zn.setAttribute("oninput","return;"),Vn="function"===typeof zn.oninput}Ln=Vn}else Ln=!1;Hn=Ln&&(!document.documentMode||9<document.documentMode)}function jn(){Rn&&(Rn.detachEvent("onpropertychange",Wn),Bn=Rn=null)}function Wn(e){if("value"===e.propertyName&&Fn(Bn)){var t=[];Mn(t,Bn,e,At(e)),Nt(Nn,t)}}function Kn(e,t,n){"focusin"===e?(jn(),Bn=n,(Rn=t).attachEvent("onpropertychange",Wn)):"focusout"===e&&jn()}function Un(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Bn)}function qn(e,t){if("click"===e)return Fn(t)}function Gn(e,t){if("input"===e||"change"===e)return Fn(t)}var Zn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Yn(e,t){if(Zn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Y.call(t,r)||!Zn(e[r],t[r]))return!1}return!0}function Qn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,i=Qn(e);for(e=0;i;){if(3===i.nodeType){if(n=e+i.textContent.length,e<=t&&n>=t)return{node:i,offset:t-e};e=n}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Qn(i)}}function Jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function ei(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(i){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function ti(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var ni=$t&&"documentMode"in document&&11>=document.documentMode,ii=null,ri=null,oi=null,si=!1;function ai(e,t,n){var i=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;si||null==ii||ii!==pt(i)||("selectionStart"in(i=ii)&&ti(i)?i={start:i.selectionStart,end:i.selectionEnd}:i={anchorNode:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset},oi&&Yn(oi,i)||(oi=i,0<(i=Wu(ri,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=ii)))}function li(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ci={animationend:li("Animation","AnimationEnd"),animationiteration:li("Animation","AnimationIteration"),animationstart:li("Animation","AnimationStart"),transitionrun:li("Transition","TransitionRun"),transitionstart:li("Transition","TransitionStart"),transitioncancel:li("Transition","TransitionCancel"),transitionend:li("Transition","TransitionEnd")},ui={},di={};function hi(e){if(ui[e])return ui[e];if(!ci[e])return e;var t,n=ci[e];for(t in n)if(n.hasOwnProperty(t)&&t in di)return ui[e]=n[t];return e}$t&&(di=document.createElement("div").style,"AnimationEvent"in window||(delete ci.animationend.animation,delete ci.animationiteration.animation,delete ci.animationstart.animation),"TransitionEvent"in window||delete ci.transitionend.transition);var pi=hi("animationend"),fi=hi("animationiteration"),mi=hi("animationstart"),_i=hi("transitionrun"),gi=hi("transitionstart"),vi=hi("transitioncancel"),yi=hi("transitionend"),bi=new Map,Ci="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(e,t){bi.set(e,t),Ge(t,[e])}Ci.push("scrollEnd");var Si=new WeakMap;function wi(e,t){if("object"===typeof e&&null!==e){var n=Si.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Si.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Ei=[],Ii=0,ki=0;function Di(){for(var e=Ii,t=ki=Ii=0;t<e;){var n=Ei[t];Ei[t++]=null;var i=Ei[t];Ei[t++]=null;var r=Ei[t];Ei[t++]=null;var o=Ei[t];if(Ei[t++]=null,null!==i&&null!==r){var s=i.pending;null===s?r.next=r:(r.next=s.next,s.next=r),i.pending=r}0!==o&&Pi(n,r,o)}}function Oi(e,t,n,i){Ei[Ii++]=e,Ei[Ii++]=t,Ei[Ii++]=n,Ei[Ii++]=i,ki|=i,e.lanes|=i,null!==(e=e.alternate)&&(e.lanes|=i)}function Ti(e,t,n,i){return Oi(e,t,n,i),Mi(e)}function Ai(e,t){return Oi(e,null,null,t),Mi(e)}function Pi(e,t,n){e.lanes|=n;var i=e.alternate;null!==i&&(i.lanes|=n);for(var r=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(i=o.alternate)&&(i.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(r=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,r&&null!==t&&(r=31-pe(n),null===(i=(e=o.hiddenUpdates)[r])?e[r]=[t]:i.push(t),t.lane=536870912|n),o):null}function Mi(e){if(50<Pc)throw Pc=0,Mc=null,Error(s(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Ri={};function Bi(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(e,t,n,i){return new Bi(e,t,n,i)}function Fi(e){return!(!(e=e.prototype)||!e.isReactComponent)}function $i(e,t){var n=e.alternate;return null===n?((n=Ni(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Hi(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Li(e,t,n,i,r,o){var a=0;if(i=e,"function"===typeof e)Fi(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,z.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case k:return(e=Ni(31,n,t,r)).elementType=k,e.lanes=o,e;case _:return Vi(n.children,r,o,t);case g:a=8,r|=24;break;case v:return(e=Ni(12,n,t,2|r)).elementType=v,e.lanes=o,e;case S:return(e=Ni(13,n,t,r)).elementType=S,e.lanes=o,e;case w:return(e=Ni(19,n,t,r)).elementType=w,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case y:case C:a=10;break e;case b:a=9;break e;case x:a=11;break e;case E:a=14;break e;case I:a=16,i=null;break e}a=29,n=Error(s(130,null===e?"null":typeof e,"")),i=null}return(t=Ni(a,n,t,r)).elementType=e,t.type=i,t.lanes=o,t}function Vi(e,t,n,i){return(e=Ni(7,e,i,t)).lanes=n,e}function zi(e,t,n){return(e=Ni(6,e,null,t)).lanes=n,e}function ji(e,t,n){return(t=Ni(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Wi=[],Ki=0,Ui=null,qi=0,Gi=[],Zi=0,Yi=null,Qi=1,Xi="";function Ji(e,t){Wi[Ki++]=qi,Wi[Ki++]=Ui,Ui=e,qi=t}function er(e,t,n){Gi[Zi++]=Qi,Gi[Zi++]=Xi,Gi[Zi++]=Yi,Yi=e;var i=Qi;e=Xi;var r=32-pe(i)-1;i&=~(1<<r),n+=1;var o=32-pe(t)+r;if(30<o){var s=r-r%5;o=(i&(1<<s)-1).toString(32),i>>=s,r-=s,Qi=1<<32-pe(t)+r|n<<r|i,Xi=o+e}else Qi=1<<o|n<<r|i,Xi=e}function tr(e){null!==e.return&&(Ji(e,1),er(e,1,0))}function nr(e){for(;e===Ui;)Ui=Wi[--Ki],Wi[Ki]=null,qi=Wi[--Ki],Wi[Ki]=null;for(;e===Yi;)Yi=Gi[--Zi],Gi[Zi]=null,Xi=Gi[--Zi],Gi[Zi]=null,Qi=Gi[--Zi],Gi[Zi]=null}var ir=null,rr=null,or=!1,sr=null,ar=!1,lr=Error(s(519));function cr(e){throw mr(wi(Error(s(418,"")),e)),lr}function ur(e){var t=e.stateNode,n=e.type,i=e.memoizedProps;switch(t[Pe]=e,t[Me]=i,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Ru.length;n++)Fu(Ru[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),gt(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0),dt(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),Ct(t,i.value,i.defaultValue,i.children),dt(t)}"string"!==typeof(n=i.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===i.suppressHydrationWarning||Yu(t.textContent,n)?(null!=i.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=i.onScroll&&Fu("scroll",t),null!=i.onScrollEnd&&Fu("scrollend",t),null!=i.onClick&&(t.onclick=Qu),t=!0):t=!1,t||cr(e)}function dr(e){for(ir=e.return;ir;)switch(ir.tag){case 5:case 13:return void(ar=!1);case 27:case 3:return void(ar=!0);default:ir=ir.return}}function hr(e){if(e!==ir)return!1;if(!or)return dr(e),or=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||sd(e.type,e.memoizedProps)),t=!t),t&&rr&&cr(e),dr(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){rr=gd(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}rr=null}}else 27===n?(n=rr,pd(e.type)?(e=vd,vd=null,rr=e):rr=n):rr=ir?gd(e.stateNode.nextSibling):null;return!0}function pr(){rr=ir=null,or=!1}function fr(){var e=sr;return null!==e&&(null===yc?yc=e:yc.push.apply(yc,e),sr=null),e}function mr(e){null===sr?sr=[e]:sr.push(e)}var _r=H(null),gr=null,vr=null;function yr(e,t,n){V(_r,t._currentValue),t._currentValue=n}function br(e){e._currentValue=_r.current,L(_r)}function Cr(e,t,n){for(;null!==e;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==i&&(i.childLanes|=t)):null!==i&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function xr(e,t,n,i){var r=e.child;for(null!==r&&(r.return=e);null!==r;){var o=r.dependencies;if(null!==o){var a=r.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=r;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Cr(o.return,n,e),i||(a=null);break e}o=l.next}}else if(18===r.tag){if(null===(a=r.return))throw Error(s(341));a.lanes|=n,null!==(o=a.alternate)&&(o.lanes|=n),Cr(a,n,e),a=null}else a=r.child;if(null!==a)a.return=r;else for(a=r;null!==a;){if(a===e){a=null;break}if(null!==(r=a.sibling)){r.return=a.return,a=r;break}a=a.return}r=a}}function Sr(e,t,n,i){e=null;for(var r=t,o=!1;null!==r;){if(!o)if(0!==(524288&r.flags))o=!0;else if(0!==(262144&r.flags))break;if(10===r.tag){var a=r.alternate;if(null===a)throw Error(s(387));if(null!==(a=a.memoizedProps)){var l=r.type;Zn(r.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(r===K.current){if(null===(a=r.alternate))throw Error(s(387));a.memoizedState.memoizedState!==r.memoizedState.memoizedState&&(null!==e?e.push(Gd):e=[Gd])}r=r.return}null!==e&&xr(t,e,n,i),t.flags|=262144}function wr(e){for(e=e.firstContext;null!==e;){if(!Zn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Er(e){gr=e,vr=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ir(e){return Dr(gr,e)}function kr(e,t){return null===gr&&Er(e),Dr(e,t)}function Dr(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vr){if(null===e)throw Error(s(308));vr=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vr=vr.next=t;return n}var Or="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Tr=i.unstable_scheduleCallback,Ar=i.unstable_NormalPriority,Pr={$$typeof:C,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mr(){return{controller:new Or,data:new Map,refCount:0}}function Rr(e){e.refCount--,0===e.refCount&&Tr(Ar,function(){e.controller.abort()})}var Br=null,Nr=0,Fr=0,$r=null;function Hr(){if(0===--Nr&&null!==Br){null!==$r&&($r.status="fulfilled");var e=Br;Br=null,Fr=0,$r=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Lr=R.S;R.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Br){var n=Br=[];Nr=0,Fr=Ou(),$r={status:"pending",value:void 0,then:function(e){n.push(e)}}}Nr++,t.then(Hr,Hr)}(0,t),null!==Lr&&Lr(e,t)};var Vr=H(null);function zr(){var e=Vr.current;return null!==e?e:ic.pooledCache}function jr(e,t){V(Vr,null===t?Vr.current:t.pool)}function Wr(){var e=zr();return null===e?null:{parent:Pr._currentValue,pool:e}}var Kr=Error(s(460)),Ur=Error(s(474)),qr=Error(s(542)),Gr={then:function(){}};function Zr(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Yr(){}function Qr(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Yr,Yr),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e;default:if("string"===typeof t.status)t.then(Yr,Yr);else{if(null!==(e=ic)&&100<e.shellSuspendCounter)throw Error(s(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e}throw Xr=t,Kr}}var Xr=null;function Jr(){if(null===Xr)throw Error(s(459));var e=Xr;return Xr=null,e}function eo(e){if(e===Kr||e===qr)throw Error(s(483))}var to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function io(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ro(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oo(e,t,n){var i=e.updateQueue;if(null===i)return null;if(i=i.shared,0!==(2&nc)){var r=i.pending;return null===r?t.next=t:(t.next=r.next,r.next=t),i.pending=t,t=Mi(e),Pi(e,null,n),t}return Oi(e,i,t,n),Mi(e)}function so(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,ke(e,n)}}function ao(e,t){var n=e.updateQueue,i=e.alternate;if(null!==i&&n===(i=i.updateQueue)){var r=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var s={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?r=o=s:o=o.next=s,n=n.next}while(null!==n);null===o?r=o=t:o=o.next=t}else r=o=t;return n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:o,shared:i.shared,callbacks:i.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lo=!1;function co(){if(lo){if(null!==$r)throw $r}}function uo(e,t,n,i){lo=!1;var r=e.updateQueue;to=!1;var o=r.firstBaseUpdate,s=r.lastBaseUpdate,a=r.shared.pending;if(null!==a){r.shared.pending=null;var l=a,c=l.next;l.next=null,null===s?o=c:s.next=c,s=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==s&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==o){var d=r.baseState;for(s=0,u=c=l=null,a=o;;){var p=-536870913&a.lane,f=p!==a.lane;if(f?(oc&p)===p:(i&p)===p){0!==p&&p===Fr&&(lo=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,_=a;p=t;var g=n;switch(_.tag){case 1:if("function"===typeof(m=_.payload)){d=m.call(g,d,p);break e}d=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=_.payload)?m.call(g,d,p):m)||void 0===p)break e;d=h({},d,p);break e;case 2:to=!0}}null!==(p=a.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=r.callbacks)?r.callbacks=[p]:f.push(p))}else f={lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,s|=p;if(null===(a=a.next)){if(null===(a=r.shared.pending))break;a=(f=a).next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}null===u&&(l=d),r.baseState=l,r.firstBaseUpdate=c,r.lastBaseUpdate=u,null===o&&(r.shared.lanes=0),pc|=s,e.lanes=s,e.memoizedState=d}}function ho(e,t){if("function"!==typeof e)throw Error(s(191,e));e.call(t)}function po(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ho(n[e],t)}var fo=H(null),mo=H(0);function _o(e,t){V(mo,e=dc),V(fo,t),dc=e|t.baseLanes}function go(){V(mo,dc),V(fo,fo.current)}function vo(){dc=mo.current,L(fo),L(mo)}var yo=0,bo=null,Co=null,xo=null,So=!1,wo=!1,Eo=!1,Io=0,ko=0,Do=null,Oo=0;function To(){throw Error(s(321))}function Ao(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Zn(e[n],t[n]))return!1;return!0}function Po(e,t,n,i,r,o){return yo=o,bo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,R.H=null===e||null===e.memoizedState?Us:qs,Eo=!1,o=n(i,r),Eo=!1,wo&&(o=Ro(t,n,i,r)),Mo(e),o}function Mo(e){R.H=Ks;var t=null!==Co&&null!==Co.next;if(yo=0,xo=Co=bo=null,So=!1,ko=0,Do=null,t)throw Error(s(300));null===e||ka||null!==(e=e.dependencies)&&wr(e)&&(ka=!0)}function Ro(e,t,n,i){bo=e;var r=0;do{if(wo&&(Do=null),ko=0,wo=!1,25<=r)throw Error(s(301));if(r+=1,xo=Co=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}R.H=Gs,o=t(n,i)}while(wo);return o}function Bo(){var e=R.H,t=e.useState()[0];return t="function"===typeof t.then?Vo(t):t,e=e.useState()[0],(null!==Co?Co.memoizedState:null)!==e&&(bo.flags|=1024),t}function No(){var e=0!==Io;return Io=0,e}function Fo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function $o(e){if(So){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}So=!1}yo=0,xo=Co=bo=null,wo=!1,ko=Io=0,Do=null}function Ho(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xo?bo.memoizedState=xo=e:xo=xo.next=e,xo}function Lo(){if(null===Co){var e=bo.alternate;e=null!==e?e.memoizedState:null}else e=Co.next;var t=null===xo?bo.memoizedState:xo.next;if(null!==t)xo=t,Co=e;else{if(null===e){if(null===bo.alternate)throw Error(s(467));throw Error(s(310))}e={memoizedState:(Co=e).memoizedState,baseState:Co.baseState,baseQueue:Co.baseQueue,queue:Co.queue,next:null},null===xo?bo.memoizedState=xo=e:xo=xo.next=e}return xo}function Vo(e){var t=ko;return ko+=1,null===Do&&(Do=[]),e=Qr(Do,e,t),t=bo,null===(null===xo?t.memoizedState:xo.next)&&(t=t.alternate,R.H=null===t||null===t.memoizedState?Us:qs),e}function zo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Vo(e);if(e.$$typeof===C)return Ir(e)}throw Error(s(438,String(e)))}function jo(e){var t=null,n=bo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var i=bo.alternate;null!==i&&(null!==(i=i.updateQueue)&&(null!=(i=i.memoCache)&&(t={data:i.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),i=0;i<e;i++)n[i]=D;return t.index++,n}function Wo(e,t){return"function"===typeof t?t(e):t}function Ko(e){return Uo(Lo(),Co,e)}function Uo(e,t,n){var i=e.queue;if(null===i)throw Error(s(311));i.lastRenderedReducer=n;var r=e.baseQueue,o=i.pending;if(null!==o){if(null!==r){var a=r.next;r.next=o.next,o.next=a}t.baseQueue=r=o,i.pending=null}if(o=e.baseState,null===r)e.memoizedState=o;else{var l=a=null,c=null,u=t=r.next,d=!1;do{var h=-536870913&u.lane;if(h!==u.lane?(oc&h)===h:(yo&h)===h){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),h===Fr&&(d=!0);else{if((yo&p)===p){u=u.next,p===Fr&&(d=!0);continue}h={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=h,a=o):c=c.next=h,bo.lanes|=p,pc|=p}h=u.action,Eo&&n(o,h),o=u.hasEagerState?u.eagerState:n(o,h)}else p={lane:h,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,a=o):c=c.next=p,bo.lanes|=h,pc|=h;u=u.next}while(null!==u&&u!==t);if(null===c?a=o:c.next=l,!Zn(o,e.memoizedState)&&(ka=!0,d&&null!==(n=$r)))throw n;e.memoizedState=o,e.baseState=a,e.baseQueue=c,i.lastRenderedState=o}return null===r&&(i.lanes=0),[e.memoizedState,i.dispatch]}function qo(e){var t=Lo(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,r=n.pending,o=t.memoizedState;if(null!==r){n.pending=null;var a=r=r.next;do{o=e(o,a.action),a=a.next}while(a!==r);Zn(o,t.memoizedState)||(ka=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,i]}function Go(e,t,n){var i=bo,r=Lo(),o=or;if(o){if(void 0===n)throw Error(s(407));n=n()}else n=t();var a=!Zn((Co||r).memoizedState,n);if(a&&(r.memoizedState=n,ka=!0),r=r.queue,gs(2048,8,Qo.bind(null,i,r,e),[e]),r.getSnapshot!==t||a||null!==xo&&1&xo.memoizedState.tag){if(i.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Yo.bind(null,i,r,n,t),null),null===ic)throw Error(s(349));o||0!==(124&yo)||Zo(i,t,n)}return n}function Zo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Yo(e,t,n,i){t.value=n,t.getSnapshot=i,Xo(t)&&Jo(e)}function Qo(e,t,n){return n(function(){Xo(t)&&Jo(e)})}function Xo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Zn(e,n)}catch(i){return!0}}function Jo(e){var t=Ai(e,2);null!==t&&Nc(t,e,2)}function es(e){var t=Ho();if("function"===typeof e){var n=e;if(e=n(),Eo){he(!0);try{n()}finally{he(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:e},t}function ts(e,t,n,i){return e.baseState=n,Uo(e,Co,"function"===typeof i?i:Wo)}function ns(e,t,n,i,r){if(zs(e))throw Error(s(485));if(null!==(e=t.action)){var o={payload:r,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==R.T?n(!0):o.isTransition=!1,i(o),null===(n=t.pending)?(o.next=t.pending=o,is(t,o)):(o.next=n.next,t.pending=n.next=o)}}function is(e,t){var n=t.action,i=t.payload,r=e.state;if(t.isTransition){var o=R.T,s={};R.T=s;try{var a=n(r,i),l=R.S;null!==l&&l(s,a),rs(e,t,a)}catch(c){ss(e,t,c)}finally{R.T=o}}else try{rs(e,t,o=n(r,i))}catch(u){ss(e,t,u)}}function rs(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){os(e,t,n)},function(n){return ss(e,t,n)}):os(e,t,n)}function os(e,t,n){t.status="fulfilled",t.value=n,as(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,is(e,n)))}function ss(e,t,n){var i=e.pending;if(e.pending=null,null!==i){i=i.next;do{t.status="rejected",t.reason=n,as(t),t=t.next}while(t!==i)}e.action=null}function as(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ls(e,t){return t}function cs(e,t){if(or){var n=ic.formState;if(null!==n){e:{var i=bo;if(or){if(rr){t:{for(var r=rr,o=ar;8!==r.nodeType;){if(!o){r=null;break t}if(null===(r=gd(r.nextSibling))){r=null;break t}}r="F!"===(o=r.data)||"F"===o?r:null}if(r){rr=gd(r.nextSibling),i="F!"===r.data;break e}}cr(i)}i=!1}i&&(t=n[0])}}return(n=Ho()).memoizedState=n.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ls,lastRenderedState:t},n.queue=i,n=Hs.bind(null,bo,i),i.dispatch=n,i=es(!1),o=Vs.bind(null,bo,!1,i.queue),r={state:t,dispatch:null,action:e,pending:null},(i=Ho()).queue=r,n=ns.bind(null,bo,r,o,n),r.dispatch=n,i.memoizedState=e,[t,n,!1]}function us(e){return ds(Lo(),Co,e)}function ds(e,t,n){if(t=Uo(e,t,ls)[0],e=Ko(Wo)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var i=Vo(t)}catch(s){if(s===Kr)throw qr;throw s}else i=t;var r=(t=Lo()).queue,o=r.dispatch;return n!==t.memoizedState&&(bo.flags|=2048,fs(9,{destroy:void 0,resource:void 0},hs.bind(null,r,n),null)),[i,o,e]}function hs(e,t){e.action=t}function ps(e){var t=Lo(),n=Co;if(null!==n)return ds(t,n,e);Lo(),t=t.memoizedState;var i=(n=Lo()).queue.dispatch;return n.memoizedState=e,[t,i,!1]}function fs(e,t,n,i){return e={tag:e,create:n,deps:i,inst:t,next:null},null===(t=bo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e),e}function ms(){return Lo().memoizedState}function _s(e,t,n,i){var r=Ho();i=void 0===i?null:i,bo.flags|=e,r.memoizedState=fs(1|t,{destroy:void 0,resource:void 0},n,i)}function gs(e,t,n,i){var r=Lo();i=void 0===i?null:i;var o=r.memoizedState.inst;null!==Co&&null!==i&&Ao(i,Co.memoizedState.deps)?r.memoizedState=fs(t,o,n,i):(bo.flags|=e,r.memoizedState=fs(1|t,o,n,i))}function vs(e,t){_s(8390656,8,e,t)}function ys(e,t){gs(2048,8,e,t)}function bs(e,t){return gs(4,2,e,t)}function Cs(e,t){return gs(4,4,e,t)}function xs(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Ss(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,gs(4,4,xs.bind(null,t,e),n)}function ws(){}function Es(e,t){var n=Lo();t=void 0===t?null:t;var i=n.memoizedState;return null!==t&&Ao(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Is(e,t){var n=Lo();t=void 0===t?null:t;var i=n.memoizedState;if(null!==t&&Ao(t,i[1]))return i[0];if(i=e(),Eo){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[i,t],i}function ks(e,t,n){return void 0===n||0!==(1073741824&yo)?e.memoizedState=t:(e.memoizedState=n,e=Bc(),bo.lanes|=e,pc|=e,n)}function Ds(e,t,n,i){return Zn(n,t)?n:null!==fo.current?(e=ks(e,n,i),Zn(e,t)||(ka=!0),e):0===(42&yo)?(ka=!0,e.memoizedState=n):(e=Bc(),bo.lanes|=e,pc|=e,t)}function Os(e,t,n,i,r){var o=B.p;B.p=0!==o&&8>o?o:8;var s=R.T,a={};R.T=a,Vs(e,!1,t,n);try{var l=r(),c=R.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Ls(e,t,function(e,t){var n=[],i={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(i.status="rejected",i.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),i}(l,i),Rc());else Ls(e,t,i,Rc())}catch(u){Ls(e,t,{then:function(){},status:"rejected",reason:u},Rc())}finally{B.p=o,R.T=s}}function Ts(){}function As(e,t,n,i){if(5!==e.tag)throw Error(s(476));var r=Ps(e).queue;Os(e,r,t,N,null===n?Ts:function(){return Ms(e),n(i)})}function Ps(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:N},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wo,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ms(e){Ls(e,Ps(e).next.queue,{},Rc())}function Rs(){return Ir(Gd)}function Bs(){return Lo().memoizedState}function Ns(){return Lo().memoizedState}function Fs(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Rc(),i=oo(t,e=ro(n),n);return null!==i&&(Nc(i,t,n),so(i,t,n)),t={cache:Mr()},void(e.payload=t)}t=t.return}}function $s(e,t,n){var i=Rc();n={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},zs(e)?js(t,n):null!==(n=Ti(e,t,n,i))&&(Nc(n,e,i),Ws(n,t,i))}function Hs(e,t,n){Ls(e,t,n,Rc())}function Ls(e,t,n,i){var r={lane:i,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(zs(e))js(t,r);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,a=o(s,n);if(r.hasEagerState=!0,r.eagerState=a,Zn(a,s))return Oi(e,t,r,0),null===ic&&Di(),!1}catch(l){}if(null!==(n=Ti(e,t,r,i)))return Nc(n,e,i),Ws(n,t,i),!0}return!1}function Vs(e,t,n,i){if(i={lane:2,revertLane:Ou(),action:i,hasEagerState:!1,eagerState:null,next:null},zs(e)){if(t)throw Error(s(479))}else null!==(t=Ti(e,n,i,2))&&Nc(t,e,2)}function zs(e){var t=e.alternate;return e===bo||null!==t&&t===bo}function js(e,t){wo=So=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ws(e,t,n){if(0!==(4194048&n)){var i=t.lanes;n|=i&=e.pendingLanes,t.lanes=n,ke(e,n)}}var Ks={readContext:Ir,use:zo,useCallback:To,useContext:To,useEffect:To,useImperativeHandle:To,useLayoutEffect:To,useInsertionEffect:To,useMemo:To,useReducer:To,useRef:To,useState:To,useDebugValue:To,useDeferredValue:To,useTransition:To,useSyncExternalStore:To,useId:To,useHostTransitionStatus:To,useFormState:To,useActionState:To,useOptimistic:To,useMemoCache:To,useCacheRefresh:To},Us={readContext:Ir,use:zo,useCallback:function(e,t){return Ho().memoizedState=[e,void 0===t?null:t],e},useContext:Ir,useEffect:vs,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,_s(4194308,4,xs.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _s(4194308,4,e,t)},useInsertionEffect:function(e,t){_s(4,2,e,t)},useMemo:function(e,t){var n=Ho();t=void 0===t?null:t;var i=e();if(Eo){he(!0);try{e()}finally{he(!1)}}return n.memoizedState=[i,t],i},useReducer:function(e,t,n){var i=Ho();if(void 0!==n){var r=n(t);if(Eo){he(!0);try{n(t)}finally{he(!1)}}}else r=t;return i.memoizedState=i.baseState=r,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:r},i.queue=e,e=e.dispatch=$s.bind(null,bo,e),[i.memoizedState,e]},useRef:function(e){return e={current:e},Ho().memoizedState=e},useState:function(e){var t=(e=es(e)).queue,n=Hs.bind(null,bo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ws,useDeferredValue:function(e,t){return ks(Ho(),e,t)},useTransition:function(){var e=es(!1);return e=Os.bind(null,bo,e.queue,!0,!1),Ho().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var i=bo,r=Ho();if(or){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===ic)throw Error(s(349));0!==(124&oc)||Zo(i,t,n)}r.memoizedState=n;var o={value:n,getSnapshot:t};return r.queue=o,vs(Qo.bind(null,i,o,e),[e]),i.flags|=2048,fs(9,{destroy:void 0,resource:void 0},Yo.bind(null,i,o,n,t),null),n},useId:function(){var e=Ho(),t=ic.identifierPrefix;if(or){var n=Xi;t="\xab"+t+"R"+(n=(Qi&~(1<<32-pe(Qi)-1)).toString(32)+n),0<(n=Io++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Oo++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Rs,useFormState:cs,useActionState:cs,useOptimistic:function(e){var t=Ho();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Vs.bind(null,bo,!0,n),n.dispatch=t,[e,t]},useMemoCache:jo,useCacheRefresh:function(){return Ho().memoizedState=Fs.bind(null,bo)}},qs={readContext:Ir,use:zo,useCallback:Es,useContext:Ir,useEffect:ys,useImperativeHandle:Ss,useInsertionEffect:bs,useLayoutEffect:Cs,useMemo:Is,useReducer:Ko,useRef:ms,useState:function(){return Ko(Wo)},useDebugValue:ws,useDeferredValue:function(e,t){return Ds(Lo(),Co.memoizedState,e,t)},useTransition:function(){var e=Ko(Wo)[0],t=Lo().memoizedState;return["boolean"===typeof e?e:Vo(e),t]},useSyncExternalStore:Go,useId:Bs,useHostTransitionStatus:Rs,useFormState:us,useActionState:us,useOptimistic:function(e,t){return ts(Lo(),0,e,t)},useMemoCache:jo,useCacheRefresh:Ns},Gs={readContext:Ir,use:zo,useCallback:Es,useContext:Ir,useEffect:ys,useImperativeHandle:Ss,useInsertionEffect:bs,useLayoutEffect:Cs,useMemo:Is,useReducer:qo,useRef:ms,useState:function(){return qo(Wo)},useDebugValue:ws,useDeferredValue:function(e,t){var n=Lo();return null===Co?ks(n,e,t):Ds(n,Co.memoizedState,e,t)},useTransition:function(){var e=qo(Wo)[0],t=Lo().memoizedState;return["boolean"===typeof e?e:Vo(e),t]},useSyncExternalStore:Go,useId:Bs,useHostTransitionStatus:Rs,useFormState:ps,useActionState:ps,useOptimistic:function(e,t){var n=Lo();return null!==Co?ts(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:jo,useCacheRefresh:Ns},Zs=null,Ys=0;function Qs(e){var t=Ys;return Ys+=1,null===Zs&&(Zs=[]),Qr(Zs,e,t)}function Xs(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Js(e,t){if(t.$$typeof===p)throw Error(s(525));throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){return(0,e._init)(e._payload)}function ta(e){function t(t,n){if(e){var i=t.deletions;null===i?(t.deletions=[n],t.flags|=16):i.push(n)}}function n(n,i){if(!e)return null;for(;null!==i;)t(n,i),i=i.sibling;return null}function i(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function r(e,t){return(e=$i(e,t)).index=0,e.sibling=null,e}function o(t,n,i){return t.index=i,e?null!==(i=t.alternate)?(i=i.index)<n?(t.flags|=67108866,n):i:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,i){return null===t||6!==t.tag?((t=zi(n,e.mode,i)).return=e,t):((t=r(t,n)).return=e,t)}function c(e,t,n,i){var o=n.type;return o===_?d(e,t,n.props.children,i,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===I&&ea(o)===t.type)?(Xs(t=r(t,n.props),n),t.return=e,t):(Xs(t=Li(n.type,n.key,n.props,null,e.mode,i),n),t.return=e,t)}function u(e,t,n,i){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=ji(n,e.mode,i)).return=e,t):((t=r(t,n.children||[])).return=e,t)}function d(e,t,n,i,o){return null===t||7!==t.tag?((t=Vi(n,e.mode,i,o)).return=e,t):((t=r(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=zi(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Xs(n=Li(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=ji(t,e.mode,n)).return=e,t;case I:return h(e,t=(0,t._init)(t._payload),n)}if(M(t)||T(t))return(t=Vi(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return h(e,Qs(t),n);if(t.$$typeof===C)return h(e,kr(e,t),n);Js(e,t)}return null}function p(e,t,n,i){var r=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==r?null:l(e,t,""+n,i);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===r?c(e,t,n,i):null;case m:return n.key===r?u(e,t,n,i):null;case I:return p(e,t,n=(r=n._init)(n._payload),i)}if(M(n)||T(n))return null!==r?null:d(e,t,n,i,null);if("function"===typeof n.then)return p(e,t,Qs(n),i);if(n.$$typeof===C)return p(e,t,kr(e,n),i);Js(e,n)}return null}function g(e,t,n,i,r){if("string"===typeof i&&""!==i||"number"===typeof i||"bigint"===typeof i)return l(t,e=e.get(n)||null,""+i,r);if("object"===typeof i&&null!==i){switch(i.$$typeof){case f:return c(t,e=e.get(null===i.key?n:i.key)||null,i,r);case m:return u(t,e=e.get(null===i.key?n:i.key)||null,i,r);case I:return g(e,t,n,i=(0,i._init)(i._payload),r)}if(M(i)||T(i))return d(t,e=e.get(n)||null,i,r,null);if("function"===typeof i.then)return g(e,t,n,Qs(i),r);if(i.$$typeof===C)return g(e,t,n,kr(t,i),r);Js(t,i)}return null}function v(l,c,u,d){if("object"===typeof u&&null!==u&&u.type===_&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var y=u.key;null!==c;){if(c.key===y){if((y=u.type)===_){if(7===c.tag){n(l,c.sibling),(d=r(c,u.props.children)).return=l,l=d;break e}}else if(c.elementType===y||"object"===typeof y&&null!==y&&y.$$typeof===I&&ea(y)===c.type){n(l,c.sibling),Xs(d=r(c,u.props),u),d.return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===_?((d=Vi(u.props.children,l.mode,d,u.key)).return=l,l=d):(Xs(d=Li(u.type,u.key,u.props,null,l.mode,d),u),d.return=l,l=d)}return a(l);case m:e:{for(y=u.key;null!==c;){if(c.key===y){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(d=r(c,u.children||[])).return=l,l=d;break e}n(l,c);break}t(l,c),c=c.sibling}(d=ji(u,l.mode,d)).return=l,l=d}return a(l);case I:return v(l,c,u=(y=u._init)(u._payload),d)}if(M(u))return function(r,s,a,l){for(var c=null,u=null,d=s,f=s=0,m=null;null!==d&&f<a.length;f++){d.index>f?(m=d,d=null):m=d.sibling;var _=p(r,d,a[f],l);if(null===_){null===d&&(d=m);break}e&&d&&null===_.alternate&&t(r,d),s=o(_,s,f),null===u?c=_:u.sibling=_,u=_,d=m}if(f===a.length)return n(r,d),or&&Ji(r,f),c;if(null===d){for(;f<a.length;f++)null!==(d=h(r,a[f],l))&&(s=o(d,s,f),null===u?c=d:u.sibling=d,u=d);return or&&Ji(r,f),c}for(d=i(d);f<a.length;f++)null!==(m=g(d,r,f,a[f],l))&&(e&&null!==m.alternate&&d.delete(null===m.key?f:m.key),s=o(m,s,f),null===u?c=m:u.sibling=m,u=m);return e&&d.forEach(function(e){return t(r,e)}),or&&Ji(r,f),c}(l,c,u,d);if(T(u)){if("function"!==typeof(y=T(u)))throw Error(s(150));return function(r,a,l,c){if(null==l)throw Error(s(151));for(var u=null,d=null,f=a,m=a=0,_=null,v=l.next();null!==f&&!v.done;m++,v=l.next()){f.index>m?(_=f,f=null):_=f.sibling;var y=p(r,f,v.value,c);if(null===y){null===f&&(f=_);break}e&&f&&null===y.alternate&&t(r,f),a=o(y,a,m),null===d?u=y:d.sibling=y,d=y,f=_}if(v.done)return n(r,f),or&&Ji(r,m),u;if(null===f){for(;!v.done;m++,v=l.next())null!==(v=h(r,v.value,c))&&(a=o(v,a,m),null===d?u=v:d.sibling=v,d=v);return or&&Ji(r,m),u}for(f=i(f);!v.done;m++,v=l.next())null!==(v=g(f,r,m,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),a=o(v,a,m),null===d?u=v:d.sibling=v,d=v);return e&&f.forEach(function(e){return t(r,e)}),or&&Ji(r,m),u}(l,c,u=y.call(u),d)}if("function"===typeof u.then)return v(l,c,Qs(u),d);if(u.$$typeof===C)return v(l,c,kr(l,u),d);Js(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(d=r(c,u)).return=l,l=d):(n(l,c),(d=zi(u,l.mode,d)).return=l,l=d),a(l)):n(l,c)}return function(e,t,n,i){try{Ys=0;var r=v(e,t,n,i);return Zs=null,r}catch(s){if(s===Kr||s===qr)throw s;var o=Ni(29,s,null,e.mode);return o.lanes=i,o.return=e,o}}}var na=ta(!0),ia=ta(!1),ra=H(null),oa=null;function sa(e){var t=e.alternate;V(ua,1&ua.current),V(ra,e),null===oa&&(null===t||null!==fo.current||null!==t.memoizedState)&&(oa=e)}function aa(e){if(22===e.tag){if(V(ua,ua.current),V(ra,e),null===oa){var t=e.alternate;null!==t&&null!==t.memoizedState&&(oa=e)}}else la()}function la(){V(ua,ua.current),V(ra,ra.current)}function ca(e){L(ra),oa===e&&(oa=null),L(ua)}var ua=H(0);function da(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||_d(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ha(e,t,n,i){n=null===(n=n(i,t=e.memoizedState))||void 0===n?t:h({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var pa={enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Rc(),r=ro(i);r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=oo(e,r,i))&&(Nc(t,e,i),so(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Rc(),r=ro(i);r.tag=1,r.payload=t,void 0!==n&&null!==n&&(r.callback=n),null!==(t=oo(e,r,i))&&(Nc(t,e,i),so(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Rc(),i=ro(n);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=oo(e,i,n))&&(Nc(t,e,n),so(t,e,n))}};function fa(e,t,n,i,r,o,s){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(i,o,s):!t.prototype||!t.prototype.isPureReactComponent||(!Yn(n,i)||!Yn(r,o))}function ma(e,t,n,i){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,i),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&pa.enqueueReplaceState(t,t.state,null)}function _a(e,t){var n=t;if("ref"in t)for(var i in n={},t)"ref"!==i&&(n[i]=t[i]);if(e=e.defaultProps)for(var r in n===t&&(n=h({},n)),e)void 0===n[r]&&(n[r]=e[r]);return n}var ga="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function va(e){ga(e)}function ya(e){console.error(e)}function ba(e){ga(e)}function Ca(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function xa(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(i){setTimeout(function(){throw i})}}function Sa(e,t,n){return(n=ro(n)).tag=3,n.payload={element:null},n.callback=function(){Ca(e,t)},n}function wa(e){return(e=ro(e)).tag=3,e}function Ea(e,t,n,i){var r=n.type.getDerivedStateFromError;if("function"===typeof r){var o=i.value;e.payload=function(){return r(o)},e.callback=function(){xa(t,n,i)}}var s=n.stateNode;null!==s&&"function"===typeof s.componentDidCatch&&(e.callback=function(){xa(t,n,i),"function"!==typeof r&&(null===wc?wc=new Set([this]):wc.add(this));var e=i.stack;this.componentDidCatch(i.value,{componentStack:null!==e?e:""})})}var Ia=Error(s(461)),ka=!1;function Da(e,t,n,i){t.child=null===e?ia(t,null,n,i):na(t,e.child,n,i)}function Oa(e,t,n,i,r){n=n.render;var o=t.ref;if("ref"in i){var s={};for(var a in i)"ref"!==a&&(s[a]=i[a])}else s=i;return Er(t),i=Po(e,t,n,s,o,r),a=No(),null===e||ka?(or&&a&&tr(t),t.flags|=1,Da(e,t,i,r),t.child):(Fo(e,t,r),Za(e,t,r))}function Ta(e,t,n,i,r){if(null===e){var o=n.type;return"function"!==typeof o||Fi(o)||void 0!==o.defaultProps||null!==n.compare?((e=Li(n.type,null,i,t,t.mode,r)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Aa(e,t,o,i,r))}if(o=e.child,!Ya(e,r)){var s=o.memoizedProps;if((n=null!==(n=n.compare)?n:Yn)(s,i)&&e.ref===t.ref)return Za(e,t,r)}return t.flags|=1,(e=$i(o,i)).ref=t.ref,e.return=t,t.child=e}function Aa(e,t,n,i,r){if(null!==e){var o=e.memoizedProps;if(Yn(o,i)&&e.ref===t.ref){if(ka=!1,t.pendingProps=i=o,!Ya(e,r))return t.lanes=e.lanes,Za(e,t,r);0!==(131072&e.flags)&&(ka=!0)}}return Ba(e,t,n,i,r)}function Pa(e,t,n){var i=t.pendingProps,r=i.children,o=null!==e?e.memoizedState:null;if("hidden"===i.mode){if(0!==(128&t.flags)){if(i=null!==o?o.baseLanes|n:n,null!==e){for(r=t.child=e.child,o=0;null!==r;)o=o|r.lanes|r.childLanes,r=r.sibling;t.childLanes=o&~i}else t.childLanes=0,t.child=null;return Ma(e,t,i,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ma(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&jr(0,null!==o?o.cachePool:null),null!==o?_o(t,o):go(),aa(t)}else null!==o?(jr(0,o.cachePool),_o(t,o),la(),t.memoizedState=null):(null!==e&&jr(0,null),go(),la());return Da(e,t,r,n),t.child}function Ma(e,t,n,i){var r=zr();return r=null===r?null:{parent:Pr._currentValue,pool:r},t.memoizedState={baseLanes:n,cachePool:r},null!==e&&jr(0,null),go(),aa(t),null!==e&&Sr(e,t,i,!0),null}function Ra(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(s(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ba(e,t,n,i,r){return Er(t),n=Po(e,t,n,i,void 0,r),i=No(),null===e||ka?(or&&i&&tr(t),t.flags|=1,Da(e,t,n,r),t.child):(Fo(e,t,r),Za(e,t,r))}function Na(e,t,n,i,r,o){return Er(t),t.updateQueue=null,n=Ro(t,i,n,r),Mo(e),i=No(),null===e||ka?(or&&i&&tr(t),t.flags|=1,Da(e,t,n,o),t.child):(Fo(e,t,o),Za(e,t,o))}function Fa(e,t,n,i,r){if(Er(t),null===t.stateNode){var o=Ri,s=n.contextType;"object"===typeof s&&null!==s&&(o=Ir(s)),o=new n(i,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=pa,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=i,o.state=t.memoizedState,o.refs={},no(t),s=n.contextType,o.context="object"===typeof s&&null!==s?Ir(s):Ri,o.state=t.memoizedState,"function"===typeof(s=n.getDerivedStateFromProps)&&(ha(t,n,s,i),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(s=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),s!==o.state&&pa.enqueueReplaceState(o,o.state,null),uo(t,i,o,r),co(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),i=!0}else if(null===e){o=t.stateNode;var a=t.memoizedProps,l=_a(n,a);o.props=l;var c=o.context,u=n.contextType;s=Ri,"object"===typeof u&&null!==u&&(s=Ir(u));var d=n.getDerivedStateFromProps;u="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a||c!==s)&&ma(t,o,i,s),to=!1;var h=t.memoizedState;o.state=h,uo(t,i,o,r),co(),c=t.memoizedState,a||h!==c||to?("function"===typeof d&&(ha(t,n,d,i),c=t.memoizedState),(l=to||fa(t,n,l,i,h,c,s))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=c),o.props=i,o.state=c,o.context=s,i=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),i=!1)}else{o=t.stateNode,io(e,t),u=_a(n,s=t.memoizedProps),o.props=u,d=t.pendingProps,h=o.context,c=n.contextType,l=Ri,"object"===typeof c&&null!==c&&(l=Ir(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==d||h!==l)&&ma(t,o,i,l),to=!1,h=t.memoizedState,o.state=h,uo(t,i,o,r),co();var p=t.memoizedState;s!==d||h!==p||to||null!==e&&null!==e.dependencies&&wr(e.dependencies)?("function"===typeof a&&(ha(t,n,a,i),p=t.memoizedState),(u=to||fa(t,n,u,i,h,p,l)||null!==e&&null!==e.dependencies&&wr(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(i,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(i,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=p),o.props=i,o.state=p,o.context=l,i=u):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),i=!1)}return o=i,Ra(e,t),i=0!==(128&t.flags),o||i?(o=t.stateNode,n=i&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&i?(t.child=na(t,e.child,null,r),t.child=na(t,null,n,r)):Da(e,t,n,r),t.memoizedState=o.state,e=t.child):e=Za(e,t,r),e}function $a(e,t,n,i){return pr(),t.flags|=256,Da(e,t,n,i),t.child}var Ha={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function La(e){return{baseLanes:e,cachePool:Wr()}}function Va(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=_c),e}function za(e,t,n){var i,r=t.pendingProps,o=!1,a=0!==(128&t.flags);if((i=a)||(i=(null===e||null!==e.memoizedState)&&0!==(2&ua.current)),i&&(o=!0,t.flags&=-129),i=0!==(32&t.flags),t.flags&=-33,null===e){if(or){if(o?sa(t):la(),or){var l,c=rr;if(l=c){e:{for(l=c,c=ar;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=gd(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Yi?{id:Qi,overflow:Xi}:null,retryLane:536870912,hydrationErrors:null},(l=Ni(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ir=t,rr=null,l=!0):l=!1}l||cr(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return _d(c)?t.lanes=32:t.lanes=536870912,null;ca(t)}return c=r.children,r=r.fallback,o?(la(),c=Wa({mode:"hidden",children:c},o=t.mode),r=Vi(r,o,n,null),c.return=t,r.return=t,c.sibling=r,t.child=c,(o=t.child).memoizedState=La(n),o.childLanes=Va(e,i,n),t.memoizedState=Ha,r):(sa(t),ja(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(sa(t),t.flags&=-257,t=Ka(e,t,n)):null!==t.memoizedState?(la(),t.child=e.child,t.flags|=128,t=null):(la(),o=r.fallback,c=t.mode,r=Wa({mode:"visible",children:r.children},c),(o=Vi(o,c,n,null)).flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,na(t,e.child,null,n),(r=t.child).memoizedState=La(n),r.childLanes=Va(e,i,n),t.memoizedState=Ha,t=o);else if(sa(t),_d(c)){if(i=c.nextSibling&&c.nextSibling.dataset)var u=i.dgst;i=u,(r=Error(s(419))).stack="",r.digest=i,mr({value:r,source:null,stack:null}),t=Ka(e,t,n)}else if(ka||Sr(e,t,n,!1),i=0!==(n&e.childLanes),ka||i){if(null!==(i=ic)&&(0!==(r=0!==((r=0!==(42&(r=n&-n))?1:De(r))&(i.suspendedLanes|n))?0:r)&&r!==l.retryLane))throw l.retryLane=r,Ai(e,r),Nc(i,e,r),Ia;"$?"===c.data||qc(),t=Ka(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,rr=gd(c.nextSibling),ir=t,or=!0,sr=null,ar=!1,null!==e&&(Gi[Zi++]=Qi,Gi[Zi++]=Xi,Gi[Zi++]=Yi,Qi=e.id,Xi=e.overflow,Yi=t),(t=ja(t,r.children)).flags|=4096);return t}return o?(la(),o=r.fallback,c=t.mode,u=(l=e.child).sibling,(r=$i(l,{mode:"hidden",children:r.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?o=$i(u,o):(o=Vi(o,c,n,null)).flags|=2,o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,null===(c=e.child.memoizedState)?c=La(n):(null!==(l=c.cachePool)?(u=Pr._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Wr(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=Va(e,i,n),t.memoizedState=Ha,r):(sa(t),e=(n=e.child).sibling,(n=$i(n,{mode:"visible",children:r.children})).return=t,n.sibling=null,null!==e&&(null===(i=t.deletions)?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=n,t.memoizedState=null,n)}function ja(e,t){return(t=Wa({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Wa(e,t){return(e=Ni(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ka(e,t,n){return na(t,e.child,null,n),(e=ja(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ua(e,t,n){e.lanes|=t;var i=e.alternate;null!==i&&(i.lanes|=t),Cr(e.return,t,n)}function qa(e,t,n,i,r){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=r)}function Ga(e,t,n){var i=t.pendingProps,r=i.revealOrder,o=i.tail;if(Da(e,t,i.children,n),0!==(2&(i=ua.current)))i=1&i|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ua(e,n,t);else if(19===e.tag)Ua(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}switch(V(ua,i),r){case"forwards":for(n=t.child,r=null;null!==n;)null!==(e=n.alternate)&&null===da(e)&&(r=n),n=n.sibling;null===(n=r)?(r=t.child,t.child=null):(r=n.sibling,n.sibling=null),qa(t,!1,r,n,o);break;case"backwards":for(n=null,r=t.child,t.child=null;null!==r;){if(null!==(e=r.alternate)&&null===da(e)){t.child=r;break}e=r.sibling,r.sibling=n,n=r,r=e}qa(t,!0,n,null,o);break;case"together":qa(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Za(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Sr(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=$i(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=$i(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ya(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!wr(e))}function Qa(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)ka=!0;else{if(!Ya(e,n)&&0===(128&t.flags))return ka=!1,function(e,t,n){switch(t.tag){case 3:U(t,t.stateNode.containerInfo),yr(0,Pr,e.memoizedState.cache),pr();break;case 27:case 5:G(t);break;case 4:U(t,t.stateNode.containerInfo);break;case 10:yr(0,t.type,t.memoizedProps.value);break;case 13:var i=t.memoizedState;if(null!==i)return null!==i.dehydrated?(sa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?za(e,t,n):(sa(t),null!==(e=Za(e,t,n))?e.sibling:null);sa(t);break;case 19:var r=0!==(128&e.flags);if((i=0!==(n&t.childLanes))||(Sr(e,t,n,!1),i=0!==(n&t.childLanes)),r){if(i)return Ga(e,t,n);t.flags|=128}if(null!==(r=t.memoizedState)&&(r.rendering=null,r.tail=null,r.lastEffect=null),V(ua,ua.current),i)break;return null;case 22:case 23:return t.lanes=0,Pa(e,t,n);case 24:yr(0,Pr,e.memoizedState.cache)}return Za(e,t,n)}(e,t,n);ka=0!==(131072&e.flags)}else ka=!1,or&&0!==(1048576&t.flags)&&er(t,qi,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var i=t.elementType,r=i._init;if(i=r(i._payload),t.type=i,"function"!==typeof i){if(void 0!==i&&null!==i){if((r=i.$$typeof)===x){t.tag=11,t=Oa(null,t,i,e,n);break e}if(r===E){t.tag=14,t=Ta(null,t,i,e,n);break e}}throw t=P(i)||i,Error(s(306,t,""))}Fi(i)?(e=_a(i,e),t.tag=1,t=Fa(null,t,i,e,n)):(t.tag=0,t=Ba(null,t,i,e,n))}return t;case 0:return Ba(e,t,t.type,t.pendingProps,n);case 1:return Fa(e,t,i=t.type,r=_a(i,t.pendingProps),n);case 3:e:{if(U(t,t.stateNode.containerInfo),null===e)throw Error(s(387));i=t.pendingProps;var o=t.memoizedState;r=o.element,io(e,t),uo(t,i,null,n);var a=t.memoizedState;if(i=a.cache,yr(0,Pr,i),i!==o.cache&&xr(t,[Pr],n,!0),co(),i=a.element,o.isDehydrated){if(o={element:i,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=$a(e,t,i,n);break e}if(i!==r){mr(r=wi(Error(s(424)),t)),t=$a(e,t,i,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(rr=gd(e.firstChild),ir=t,or=!0,sr=null,ar=!0,n=ia(t,null,i,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pr(),i===r){t=Za(e,t,n);break e}Da(e,t,i,n)}t=t.child}return t;case 26:return Ra(e,t),null===e?(n=Dd(t.type,null,t.pendingProps,null))?t.memoizedState=n:or||(n=t.type,e=t.pendingProps,(i=id(W.current).createElement(n))[Pe]=t,i[Me]=e,ed(i,n,e),Ke(i),t.stateNode=i):t.memoizedState=Dd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return G(t),null===e&&or&&(i=t.stateNode=bd(t.type,t.pendingProps,W.current),ir=t,ar=!0,r=rr,pd(t.type)?(vd=r,rr=gd(i.firstChild)):rr=r),Da(e,t,t.pendingProps.children,n),Ra(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&or&&((r=i=rr)&&(null!==(i=function(e,t,n,i){for(;1===e.nodeType;){var r=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(i){if(!e[He])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==r.rel||e.getAttribute("href")!==(null==r.href||""===r.href?null:r.href)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin)||e.getAttribute("title")!==(null==r.title?null:r.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==r.src?null:r.src)||e.getAttribute("type")!==(null==r.type?null:r.type)||e.getAttribute("crossorigin")!==(null==r.crossOrigin?null:r.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==r.name?null:""+r.name;if("hidden"===r.type&&e.getAttribute("name")===o)return e}if(null===(e=gd(e.nextSibling)))break}return null}(i,t.type,t.pendingProps,ar))?(t.stateNode=i,ir=t,rr=gd(i.firstChild),ar=!1,r=!0):r=!1),r||cr(t)),G(t),r=t.type,o=t.pendingProps,a=null!==e?e.memoizedProps:null,i=o.children,sd(r,o)?i=null:null!==a&&sd(r,a)&&(t.flags|=32),null!==t.memoizedState&&(r=Po(e,t,Bo,null,null,n),Gd._currentValue=r),Ra(e,t),Da(e,t,i,n),t.child;case 6:return null===e&&or&&((e=n=rr)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=gd(e.nextSibling)))return null}return e}(n,t.pendingProps,ar))?(t.stateNode=n,ir=t,rr=null,e=!0):e=!1),e||cr(t)),null;case 13:return za(e,t,n);case 4:return U(t,t.stateNode.containerInfo),i=t.pendingProps,null===e?t.child=na(t,null,i,n):Da(e,t,i,n),t.child;case 11:return Oa(e,t,t.type,t.pendingProps,n);case 7:return Da(e,t,t.pendingProps,n),t.child;case 8:case 12:return Da(e,t,t.pendingProps.children,n),t.child;case 10:return i=t.pendingProps,yr(0,t.type,i.value),Da(e,t,i.children,n),t.child;case 9:return r=t.type._context,i=t.pendingProps.children,Er(t),i=i(r=Ir(r)),t.flags|=1,Da(e,t,i,n),t.child;case 14:return Ta(e,t,t.type,t.pendingProps,n);case 15:return Aa(e,t,t.type,t.pendingProps,n);case 19:return Ga(e,t,n);case 31:return i=t.pendingProps,n=t.mode,i={mode:i.mode,children:i.children},null===e?((n=Wa(i,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=$i(e.child,i)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Pa(e,t,n);case 24:return Er(t),i=Ir(Pr),null===e?(null===(r=zr())&&(r=ic,o=Mr(),r.pooledCache=o,o.refCount++,null!==o&&(r.pooledCacheLanes|=n),r=o),t.memoizedState={parent:i,cache:r},no(t),yr(0,Pr,r)):(0!==(e.lanes&n)&&(io(e,t),uo(t,null,null,n),co()),r=e.memoizedState,o=t.memoizedState,r.parent!==i?(r={parent:i,cache:i},t.memoizedState=r,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=r),yr(0,Pr,i)):(i=o.cache,yr(0,Pr,i),i!==r.cache&&xr(t,[Pr],n,!0))),Da(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(s(156,t.tag))}function Xa(e){e.flags|=4}function Ja(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Vd(t)){if(null!==(t=ra.current)&&((4194048&oc)===oc?null!==oa:(62914560&oc)!==oc&&0===(536870912&oc)||t!==oa))throw Xr=Gr,Ur;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,gc|=t)}function tl(e,t){if(!or)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;null!==n;)null!==n.alternate&&(i=n),n=n.sibling;null===i?t||null===e.tail?e.tail=null:e.tail.sibling=null:i.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,i=0;if(t)for(var r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=65011712&r.subtreeFlags,i|=65011712&r.flags,r.return=e,r=r.sibling;else for(r=e.child;null!==r;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=e,r=r.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function il(e,t,n){var i=t.pendingProps;switch(nr(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,i=null,null!==e&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),br(Pr),q(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(hr(t)?Xa(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,fr())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Xa(t),null!==n?(nl(t),Ja(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xa(t),nl(t),Ja(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==i&&Xa(t),nl(t),t.flags&=-16777217),null;case 27:Z(t),n=W.current;var r=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Xa(t);else{if(!i){if(null===t.stateNode)throw Error(s(166));return nl(t),null}e=z.current,hr(t)?ur(t):(e=bd(r,i,n),t.stateNode=e,Xa(t))}return nl(t),null;case 5:if(Z(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==i&&Xa(t);else{if(!i){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=z.current,hr(t))ur(t);else{switch(r=id(W.current),e){case 1:e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=r.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=r.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=r.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof i.is?r.createElement("select",{is:i.is}):r.createElement("select"),i.multiple?e.multiple=!0:i.size&&(e.size=i.size);break;default:e="string"===typeof i.is?r.createElement(n,{is:i.is}):r.createElement(n)}}e[Pe]=t,e[Me]=i;e:for(r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&27!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;null===r.sibling;){if(null===r.return||r.return===t)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}t.stateNode=e;e:switch(ed(e,n,i),n){case"button":case"input":case"select":case"textarea":e=!!i.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xa(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==i&&Xa(t);else{if("string"!==typeof i&&null===t.stateNode)throw Error(s(166));if(e=W.current,hr(t)){if(e=t.stateNode,n=t.memoizedProps,i=null,null!==(r=ir))switch(r.tag){case 27:case 5:i=r.memoizedProps}e[Pe]=t,(e=!!(e.nodeValue===n||null!==i&&!0===i.suppressHydrationWarning||Yu(e.nodeValue,n)))||cr(t)}else(e=id(e).createTextNode(i))[Pe]=t,t.stateNode=e}return nl(t),null;case 13:if(i=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(r=hr(t),null!==i&&null!==i.dehydrated){if(null===e){if(!r)throw Error(s(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(s(317));r[Pe]=t}else pr(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),r=!1}else r=fr(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=r),r=!0;if(!r)return 256&t.flags?(ca(t),t):(ca(t),null)}if(ca(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==i,e=null!==e&&null!==e.memoizedState,n){r=null,null!==(i=t.child).alternate&&null!==i.alternate.memoizedState&&null!==i.alternate.memoizedState.cachePool&&(r=i.alternate.memoizedState.cachePool.pool);var o=null;null!==i.memoizedState&&null!==i.memoizedState.cachePool&&(o=i.memoizedState.cachePool.pool),o!==r&&(i.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return q(),null===e&&Lu(t.stateNode.containerInfo),nl(t),null;case 10:return br(t.type),nl(t),null;case 19:if(L(ua),null===(r=t.memoizedState))return nl(t),null;if(i=0!==(128&t.flags),null===(o=r.rendering))if(i)tl(r,!1);else{if(0!==hc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=da(e))){for(t.flags|=128,tl(r,!1),e=o.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Hi(n,e),n=n.sibling;return V(ua,1&ua.current|2),t.child}e=e.sibling}null!==r.tail&&te()>xc&&(t.flags|=128,i=!0,tl(r,!1),t.lanes=4194304)}else{if(!i)if(null!==(e=da(o))){if(t.flags|=128,i=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(r,!0),null===r.tail&&"hidden"===r.tailMode&&!o.alternate&&!or)return nl(t),null}else 2*te()-r.renderingStartTime>xc&&536870912!==n&&(t.flags|=128,i=!0,tl(r,!1),t.lanes=4194304);r.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=r.last)?e.sibling=o:t.child=o,r.last=o)}return null!==r.tail?(t=r.tail,r.rendering=t,r.tail=t.sibling,r.renderingStartTime=te(),t.sibling=null,e=ua.current,V(ua,i?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return ca(t),vo(),i=null!==t.memoizedState,null!==e?null!==e.memoizedState!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),i=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(i=t.memoizedState.cachePool.pool),i!==n&&(t.flags|=2048),null!==e&&L(Vr),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),br(Pr),nl(t),null;case 25:case 30:return null}throw Error(s(156,t.tag))}function rl(e,t){switch(nr(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return br(Pr),q(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Z(t),null;case 13:if(ca(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));pr()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return L(ua),null;case 4:return q(),null;case 10:return br(t.type),null;case 22:case 23:return ca(t),vo(),null!==e&&L(Vr),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return br(Pr),null;default:return null}}function ol(e,t){switch(nr(t),t.tag){case 3:br(Pr),q();break;case 26:case 27:case 5:Z(t);break;case 4:q();break;case 13:ca(t);break;case 19:L(ua);break;case 10:br(t.type);break;case 22:case 23:ca(t),vo(),null!==e&&L(Vr);break;case 24:br(Pr)}}function sl(e,t){try{var n=t.updateQueue,i=null!==n?n.lastEffect:null;if(null!==i){var r=i.next;n=r;do{if((n.tag&e)===e){i=void 0;var o=n.create,s=n.inst;i=o(),s.destroy=i}n=n.next}while(n!==r)}}catch(a){uu(t,t.return,a)}}function al(e,t,n){try{var i=t.updateQueue,r=null!==i?i.lastEffect:null;if(null!==r){var o=r.next;i=o;do{if((i.tag&e)===e){var s=i.inst,a=s.destroy;if(void 0!==a){s.destroy=void 0,r=t;var l=n,c=a;try{c()}catch(u){uu(r,l,u)}}}i=i.next}while(i!==o)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{po(t,n)}catch(i){uu(e,e.return,i)}}}function cl(e,t,n){n.props=_a(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(i){uu(e,t,i)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;default:i=e.stateNode}"function"===typeof n?e.refCleanup=n(i):n.current=i}}catch(r){uu(e,t,r)}}function dl(e,t){var n=e.ref,i=e.refCleanup;if(null!==n)if("function"===typeof i)try{i()}catch(r){uu(e,t,r)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){uu(e,t,o)}else n.current=null}function hl(e){var t=e.type,n=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&i.focus();break e;case"img":n.src?i.src=n.src:n.srcSet&&(i.srcset=n.srcSet)}}catch(r){uu(e,e.return,r)}}function pl(e,t,n){try{var i=e.stateNode;!function(e,t,n,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var r=null,o=null,a=null,l=null,c=null,u=null,d=null;for(f in n){var h=n[f];if(n.hasOwnProperty(f)&&null!=h)switch(f){case"checked":case"value":break;case"defaultValue":c=h;default:i.hasOwnProperty(f)||Xu(e,t,f,null,i,h)}}for(var p in i){var f=i[p];if(h=n[p],i.hasOwnProperty(p)&&(null!=f||null!=h))switch(p){case"type":o=f;break;case"name":r=f;break;case"checked":u=f;break;case"defaultChecked":d=f;break;case"value":a=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(s(137,t));break;default:f!==h&&Xu(e,t,p,f,i,h)}}return void _t(e,a,l,c,u,d,o,r);case"select":for(o in f=a=l=p=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":f=c;default:i.hasOwnProperty(o)||Xu(e,t,o,null,i,c)}for(r in i)if(o=i[r],c=n[r],i.hasOwnProperty(r)&&(null!=o||null!=c))switch(r){case"value":p=o;break;case"defaultValue":l=o;break;case"multiple":a=o;default:o!==c&&Xu(e,t,r,o,i,c)}return t=l,n=a,i=f,void(null!=p?yt(e,!!n,p,!1):!!i!==!!n&&(null!=t?yt(e,!!n,t,!0):yt(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(r=n[l],n.hasOwnProperty(l)&&null!=r&&!i.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xu(e,t,l,null,i,r)}for(a in i)if(r=i[a],o=n[a],i.hasOwnProperty(a)&&(null!=r||null!=o))switch(a){case"value":p=r;break;case"defaultValue":f=r;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=r)throw Error(s(91));break;default:r!==o&&Xu(e,t,a,r,i,o)}return void bt(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!i.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Xu(e,t,m,null,i,p);for(c in i)if(p=i[c],f=n[c],i.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Xu(e,t,c,p,i,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _ in n)p=n[_],n.hasOwnProperty(_)&&null!=p&&!i.hasOwnProperty(_)&&Xu(e,t,_,null,i,p);for(u in i)if(p=i[u],f=n[u],i.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(s(137,t));break;default:Xu(e,t,u,p,i,f)}return;default:if(It(t)){for(var g in n)p=n[g],n.hasOwnProperty(g)&&void 0!==p&&!i.hasOwnProperty(g)&&Ju(e,t,g,void 0,i,p);for(d in i)p=i[d],f=n[d],!i.hasOwnProperty(d)||p===f||void 0===p&&void 0===f||Ju(e,t,d,p,i,f);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!i.hasOwnProperty(v)&&Xu(e,t,v,null,i,p);for(h in i)p=i[h],f=n[h],!i.hasOwnProperty(h)||p===f||null==p&&null==f||Xu(e,t,h,p,i,f)}(i,e.type,n,t),i[Me]=t}catch(r){uu(e,e.return,r)}}function fl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&pd(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&pd(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function _l(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Qu));else if(4!==i&&(27===i&&pd(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(_l(e,t,n),e=e.sibling;null!==e;)_l(e,t,n),e=e.sibling}function gl(e,t,n){var i=e.tag;if(5===i||6===i)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==i&&(27===i&&pd(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var i=e.type,r=t.attributes;r.length;)t.removeAttributeNode(r[0]);ed(t,i,n),t[Pe]=e,t[Me]=n}catch(o){uu(e,e.return,o)}}var yl=!1,bl=!1,Cl=!1,xl="function"===typeof WeakSet?WeakSet:Set,Sl=null;function wl(e,t,n){var i=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&i&&sl(5,n);break;case 1:if(Fl(e,n),4&i)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(s){uu(n,n.return,s)}else{var r=_a(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(r,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){uu(n,n.return,a)}}64&i&&ll(n),512&i&&ul(n,n.return);break;case 3:if(Fl(e,n),64&i&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{po(e,t)}catch(s){uu(n,n.return,s)}}break;case 27:null===t&&4&i&&vl(n);case 26:case 5:Fl(e,n),null===t&&4&i&&hl(n),512&i&&ul(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&i&&Tl(e,n),64&i&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var i=function(){t(),n.removeEventListener("DOMContentLoaded",i)};n.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}(e,n=fu.bind(null,n))));break;case 22:if(!(i=null!==n.memoizedState||yl)){t=null!==t&&null!==t.memoizedState||bl,r=yl;var o=bl;yl=i,(bl=t)&&!o?Hl(e,n,0!==(8772&n.subtreeFlags)):Fl(e,n),yl=r,bl=o}break;case 30:break;default:Fl(e,n)}}function El(e){var t=e.alternate;null!==t&&(e.alternate=null,El(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Le(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Il=null,kl=!1;function Dl(e,t,n){for(n=n.child;null!==n;)Ol(e,t,n),n=n.sibling}function Ol(e,t,n){if(de&&"function"===typeof de.onCommitFiberUnmount)try{de.onCommitFiberUnmount(ue,n)}catch(o){}switch(n.tag){case 26:bl||dl(n,t),Dl(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:bl||dl(n,t);var i=Il,r=kl;pd(n.type)&&(Il=n.stateNode,kl=!1),Dl(e,t,n),Cd(n.stateNode),Il=i,kl=r;break;case 5:bl||dl(n,t);case 6:if(i=Il,r=kl,Il=null,Dl(e,t,n),kl=r,null!==(Il=i))if(kl)try{(9===Il.nodeType?Il.body:"HTML"===Il.nodeName?Il.ownerDocument.body:Il).removeChild(n.stateNode)}catch(s){uu(n,t,s)}else try{Il.removeChild(n.stateNode)}catch(s){uu(n,t,s)}break;case 18:null!==Il&&(kl?(fd(9===(e=Il).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),kh(e)):fd(Il,n.stateNode));break;case 4:i=Il,r=kl,Il=n.stateNode.containerInfo,kl=!0,Dl(e,t,n),Il=i,kl=r;break;case 0:case 11:case 14:case 15:bl||al(2,n,t),bl||al(4,n,t),Dl(e,t,n);break;case 1:bl||(dl(n,t),"function"===typeof(i=n.stateNode).componentWillUnmount&&cl(n,t,i)),Dl(e,t,n);break;case 21:Dl(e,t,n);break;case 22:bl=(i=bl)||null!==n.memoizedState,Dl(e,t,n),bl=i;break;default:Dl(e,t,n)}}function Tl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{kh(e)}catch(n){uu(t,t.return,n)}}function Al(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new xl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new xl),t;default:throw Error(s(435,e.tag))}}(e);t.forEach(function(t){var i=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(i,i))})}function Pl(e,t){var n=t.deletions;if(null!==n)for(var i=0;i<n.length;i++){var r=n[i],o=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(pd(l.type)){Il=l.stateNode,kl=!1;break e}break;case 5:Il=l.stateNode,kl=!1;break e;case 3:case 4:Il=l.stateNode.containerInfo,kl=!0;break e}l=l.return}if(null===Il)throw Error(s(160));Ol(o,a,r),Il=null,kl=!1,null!==(o=r.alternate)&&(o.return=null),r.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Rl(t,e),t=t.sibling}var Ml=null;function Rl(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Pl(t,e),Bl(e),4&i&&(al(3,e,e.return),sl(3,e),al(5,e,e.return));break;case 1:Pl(t,e),Bl(e),512&i&&(bl||null===n||dl(n,n.return)),64&i&&yl&&(null!==(e=e.updateQueue)&&(null!==(i=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?i:n.concat(i))));break;case 26:var r=Ml;if(Pl(t,e),Bl(e),512&i&&(bl||null===n||dl(n,n.return)),4&i){var o=null!==n?n.memoizedState:null;if(i=e.memoizedState,null===n)if(null===i)if(null===e.stateNode){e:{i=e.type,n=e.memoizedProps,r=r.ownerDocument||r;t:switch(i){case"title":(!(o=r.getElementsByTagName("title")[0])||o[He]||o[Pe]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=r.createElement(i),r.head.insertBefore(o,r.querySelector("head > title"))),ed(o,i,n),o[Pe]=e,Ke(o),i=o;break e;case"link":var a=Hd("link","href",r).get(i+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((o=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}ed(o=r.createElement(i),i,n),r.head.appendChild(o);break;case"meta":if(a=Hd("meta","content",r).get(i+(n.content||"")))for(l=0;l<a.length;l++)if((o=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}ed(o=r.createElement(i),i,n),r.head.appendChild(o);break;default:throw Error(s(468,i))}o[Pe]=e,Ke(o),i=o}e.stateNode=i}else Ld(r,e.type,e.stateNode);else e.stateNode=Rd(r,i,e.memoizedProps);else o!==i?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===i?Ld(r,e.type,e.stateNode):Rd(r,i,e.memoizedProps)):null===i&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Pl(t,e),Bl(e),512&i&&(bl||null===n||dl(n,n.return)),null!==n&&4&i&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Pl(t,e),Bl(e),512&i&&(bl||null===n||dl(n,n.return)),32&e.flags){r=e.stateNode;try{xt(r,"")}catch(f){uu(e,e.return,f)}}4&i&&null!=e.stateNode&&pl(e,r=e.memoizedProps,null!==n?n.memoizedProps:r),1024&i&&(Cl=!0);break;case 6:if(Pl(t,e),Bl(e),4&i){if(null===e.stateNode)throw Error(s(162));i=e.memoizedProps,n=e.stateNode;try{n.nodeValue=i}catch(f){uu(e,e.return,f)}}break;case 3:if($d=null,r=Ml,Ml=wd(t.containerInfo),Pl(t,e),Ml=r,Bl(e),4&i&&null!==n&&n.memoizedState.isDehydrated)try{kh(t.containerInfo)}catch(f){uu(e,e.return,f)}Cl&&(Cl=!1,Nl(e));break;case 4:i=Ml,Ml=wd(e.stateNode.containerInfo),Pl(t,e),Bl(e),Ml=i;break;case 12:default:Pl(t,e),Bl(e);break;case 13:Pl(t,e),Bl(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(Cc=te()),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Al(e,i)));break;case 22:r=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=yl,d=bl;if(yl=u||r,bl=d||c,Pl(t,e),bl=d,yl=u,Bl(e),8192&i)e:for(t=e.stateNode,t._visibility=r?-2&t._visibility:1|t._visibility,r&&(null===n||c||yl||bl||$l(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,r)"function"===typeof(a=o.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var h=c.memoizedProps.style,p=void 0!==h&&null!==h&&h.hasOwnProperty("display")?h.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){uu(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=r?"":c.memoizedProps}catch(f){uu(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&i&&(null!==(i=e.updateQueue)&&(null!==(n=i.retryQueue)&&(i.retryQueue=null,Al(e,n))));break;case 19:Pl(t,e),Bl(e),4&i&&(null!==(i=e.updateQueue)&&(e.updateQueue=null,Al(e,i)));case 30:case 21:}}function Bl(e){var t=e.flags;if(2&t){try{for(var n,i=e.return;null!==i;){if(fl(i)){n=i;break}i=i.return}if(null==n)throw Error(s(160));switch(n.tag){case 27:var r=n.stateNode;gl(e,ml(e),r);break;case 5:var o=n.stateNode;32&n.flags&&(xt(o,""),n.flags&=-33),gl(e,ml(e),o);break;case 3:case 4:var a=n.stateNode.containerInfo;_l(e,ml(e),a);break;default:throw Error(s(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Nl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Nl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)wl(e,t.alternate,t),t=t.sibling}function $l(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:al(4,t,t.return),$l(t);break;case 1:dl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),$l(t);break;case 27:Cd(t.stateNode);case 26:case 5:dl(t,t.return),$l(t);break;case 22:null===t.memoizedState&&$l(t);break;default:$l(t)}e=e.sibling}}function Hl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var i=t.alternate,r=e,o=t,s=o.flags;switch(o.tag){case 0:case 11:case 15:Hl(r,o,n),sl(4,o);break;case 1:if(Hl(r,o,n),"function"===typeof(r=(i=o).stateNode).componentDidMount)try{r.componentDidMount()}catch(c){uu(i,i.return,c)}if(null!==(r=(i=o).updateQueue)){var a=i.stateNode;try{var l=r.shared.hiddenCallbacks;if(null!==l)for(r.shared.hiddenCallbacks=null,r=0;r<l.length;r++)ho(l[r],a)}catch(c){uu(i,i.return,c)}}n&&64&s&&ll(o),ul(o,o.return);break;case 27:vl(o);case 26:case 5:Hl(r,o,n),n&&null===i&&4&s&&hl(o),ul(o,o.return);break;case 12:Hl(r,o,n);break;case 13:Hl(r,o,n),n&&4&s&&Tl(r,o);break;case 22:null===o.memoizedState&&Hl(r,o,n),ul(o,o.return);break;case 30:break;default:Hl(r,o,n)}t=t.sibling}}function Ll(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Rr(n))}function Vl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Rr(e))}function zl(e,t,n,i){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)jl(e,t,n,i),t=t.sibling}function jl(e,t,n,i){var r=t.flags;switch(t.tag){case 0:case 11:case 15:zl(e,t,n,i),2048&r&&sl(9,t);break;case 1:case 13:default:zl(e,t,n,i);break;case 3:zl(e,t,n,i),2048&r&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Rr(e)));break;case 12:if(2048&r){zl(e,t,n,i),e=t.stateNode;try{var o=t.memoizedProps,s=o.id,a=o.onPostCommit;"function"===typeof a&&a(s,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else zl(e,t,n,i);break;case 23:break;case 22:o=t.stateNode,s=t.alternate,null!==t.memoizedState?2&o._visibility?zl(e,t,n,i):Kl(e,t):2&o._visibility?zl(e,t,n,i):(o._visibility|=2,Wl(e,t,n,i,0!==(10256&t.subtreeFlags))),2048&r&&Ll(s,t);break;case 24:zl(e,t,n,i),2048&r&&Vl(t.alternate,t)}}function Wl(e,t,n,i,r){for(r=r&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,s=t,a=n,l=i,c=s.flags;switch(s.tag){case 0:case 11:case 15:Wl(o,s,a,l,r),sl(8,s);break;case 23:break;case 22:var u=s.stateNode;null!==s.memoizedState?2&u._visibility?Wl(o,s,a,l,r):Kl(o,s):(u._visibility|=2,Wl(o,s,a,l,r)),r&&2048&c&&Ll(s.alternate,s);break;case 24:Wl(o,s,a,l,r),r&&2048&c&&Vl(s.alternate,s);break;default:Wl(o,s,a,l,r)}t=t.sibling}}function Kl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,i=t,r=i.flags;switch(i.tag){case 22:Kl(n,i),2048&r&&Ll(i.alternate,i);break;case 24:Kl(n,i),2048&r&&Vl(i.alternate,i);break;default:Kl(n,i)}t=t.sibling}}var Ul=8192;function ql(e){if(e.subtreeFlags&Ul)for(e=e.child;null!==e;)Gl(e),e=e.sibling}function Gl(e){switch(e.tag){case 26:ql(e),e.flags&Ul&&null!==e.memoizedState&&function(e,t,n){if(null===zd)throw Error(s(475));var i=zd;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var r=Od(n.href),o=e.querySelector(Td(r));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(i.count++,i=Wd.bind(i),e.then(i,i)),t.state.loading|=4,t.instance=o,void Ke(o);o=e.ownerDocument||e,n=Ad(n),(r=xd.get(r))&&Nd(n,r),Ke(o=o.createElement("link"));var a=o;a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(o,"link",n),t.instance=o}null===i.stylesheets&&(i.stylesheets=new Map),i.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(i.count++,t=Wd.bind(i),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ml,e.memoizedState,e.memoizedProps);break;case 5:default:ql(e);break;case 3:case 4:var t=Ml;Ml=wd(e.stateNode.containerInfo),ql(e),Ml=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Ul,Ul=16777216,ql(e),Ul=t):ql(e))}}function Zl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Yl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Sl=i,Jl(i,e)}Zl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Ql(e),e=e.sibling}function Ql(e){switch(e.tag){case 0:case 11:case 15:Yl(e),2048&e.flags&&al(9,e,e.return);break;case 3:case 12:default:Yl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):Yl(e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var i=t[n];Sl=i,Jl(i,e)}Zl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:al(8,t,t.return),Xl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function Jl(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:al(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var i=n.memoizedState.cachePool.pool;null!=i&&i.refCount++}break;case 24:Rr(n.memoizedState.cache)}if(null!==(i=n.child))i.return=n,Sl=i;else e:for(n=e;null!==Sl;){var r=(i=Sl).sibling,o=i.return;if(El(i),i===n){Sl=null;break e}if(null!==r){r.return=o,Sl=r;break e}Sl=o}}}var ec={getCacheForType:function(e){var t=Ir(Pr),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,ic=null,rc=null,oc=0,sc=0,ac=null,lc=!1,cc=!1,uc=!1,dc=0,hc=0,pc=0,fc=0,mc=0,_c=0,gc=0,vc=null,yc=null,bc=!1,Cc=0,xc=1/0,Sc=null,wc=null,Ec=0,Ic=null,kc=null,Dc=0,Oc=0,Tc=null,Ac=null,Pc=0,Mc=null;function Rc(){if(0!==(2&nc)&&0!==oc)return oc&-oc;if(null!==R.T){return 0!==Fr?Fr:Ou()}return Te()}function Bc(){0===_c&&(_c=0===(536870912&oc)||or?xe():536870912);var e=ra.current;return null!==e&&(e.flags|=32),_c}function Nc(e,t,n){(e!==ic||2!==sc&&9!==sc)&&null===e.cancelPendingCommit||(jc(e,0),Lc(e,oc,_c,!1)),Ee(e,n),0!==(2&nc)&&e===ic||(e===ic&&(0===(2&nc)&&(fc|=n),4===hc&&Lc(e,oc,_c,!1)),xu(e))}function Fc(e,t,n){if(0!==(6&nc))throw Error(s(327));for(var i=!n&&0===(124&t)&&0===(t&e.expiredLanes)||be(e,t),r=i?function(e,t){var n=nc;nc|=2;var i=Kc(),r=Uc();ic!==e||oc!==t?(Sc=null,xc=te()+500,jc(e,t)):cc=be(e,t);e:for(;;)try{if(0!==sc&&null!==rc){t=rc;var o=ac;t:switch(sc){case 1:sc=0,ac=null,Jc(e,t,o,1);break;case 2:case 9:if(Zr(o)){sc=0,ac=null,Xc(t);break}t=function(){2!==sc&&9!==sc||ic!==e||(sc=7),xu(e)},o.then(t,t);break e;case 3:sc=7;break e;case 4:sc=5;break e;case 7:Zr(o)?(sc=0,ac=null,Xc(t)):(sc=0,ac=null,Jc(e,t,o,7));break;case 5:var a=null;switch(rc.tag){case 26:a=rc.memoizedState;case 5:case 27:var l=rc;if(!a||Vd(a)){sc=0,ac=null;var c=l.sibling;if(null!==c)rc=c;else{var u=l.return;null!==u?(rc=u,eu(u)):rc=null}break t}}sc=0,ac=null,Jc(e,t,o,5);break;case 6:sc=0,ac=null,Jc(e,t,o,6);break;case 8:zc(),hc=6;break e;default:throw Error(s(462))}}Yc();break}catch(d){Wc(e,d)}return vr=gr=null,R.H=i,R.A=r,nc=n,null!==rc?0:(ic=null,oc=0,Di(),hc)}(e,t):Gc(e,t,!0),o=i;;){if(0===r){cc&&!i&&Lc(e,t,0,!1);break}if(n=e.current.alternate,!o||Hc(n)){if(2===r){if(o=t,e.errorRecoveryDisabledLanes&o)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;r=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(jc(l,a).flags|=256),2!==(a=Gc(l,a,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=o,fc|=o,r=4;break e}o=yc,yc=r,null!==o&&(null===yc?yc=o:yc.push.apply(yc,o))}r=a}if(o=!1,2!==r)continue}}if(1===r){jc(e,0),Lc(e,t,0,!0);break}e:{switch(i=e,o=r){case 0:case 1:throw Error(s(345));case 4:if((4194048&t)!==t)break;case 6:Lc(i,t,_c,!lc);break e;case 2:yc=null;break;case 3:case 5:break;default:throw Error(s(329))}if((62914560&t)===t&&10<(r=Cc+300-te())){if(Lc(i,t,_c,!lc),0!==ye(i,0,!0))break e;i.timeoutHandle=ld($c.bind(null,i,n,yc,Sc,bc,t,_c,fc,gc,lc,o,2,-0,0),r)}else $c(i,n,yc,Sc,bc,t,_c,fc,gc,lc,o,0,-0,0)}break}r=Gc(e,t,!1),o=!1}xu(e)}function $c(e,t,n,i,r,o,a,l,c,u,d,h,p,f){if(e.timeoutHandle=-1,(8192&(h=t.subtreeFlags)||16785408===(16785408&h))&&(zd={stylesheets:null,count:0,unsuspend:jd},Gl(t),null!==(h=function(){if(null===zd)throw Error(s(475));var e=zd;return e.stylesheets&&0===e.count&&Ud(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Ud(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=h(nu.bind(null,e,t,o,n,i,r,a,l,c,d,1,p,f)),void Lc(e,o,a,!u);nu(e,t,o,n,i,r,a,l,c)}function Hc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var i=0;i<n.length;i++){var r=n[i],o=r.getSnapshot;r=r.value;try{if(!Zn(o(),r))return!1}catch(s){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Lc(e,t,n,i){t&=~mc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var r=t;0<r;){var o=31-pe(r),s=1<<o;i[o]=-1,r&=~s}0!==n&&Ie(e,n,t)}function Vc(){return 0!==(6&nc)||(Su(0,!1),!1)}function zc(){if(null!==rc){if(0===sc)var e=rc.return;else vr=gr=null,$o(e=rc),Zs=null,Ys=0,e=rc;for(;null!==e;)ol(e.alternate,e),e=e.return;rc=null}}function jc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,cd(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),zc(),ic=e,rc=n=$i(e.current,null),oc=t,sc=0,ac=null,lc=!1,cc=be(e,t),uc=!1,gc=_c=mc=fc=pc=hc=0,yc=vc=null,bc=!1,0!==(8&t)&&(t|=32&t);var i=e.entangledLanes;if(0!==i)for(e=e.entanglements,i&=t;0<i;){var r=31-pe(i),o=1<<r;t|=e[r],i&=~o}return dc=t,Di(),n}function Wc(e,t){bo=null,R.H=Ks,t===Kr||t===qr?(t=Jr(),sc=3):t===Ur?(t=Jr(),sc=4):sc=t===Ia?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ac=t,null===rc&&(hc=1,Ca(e,wi(t,e.current)))}function Kc(){var e=R.H;return R.H=Ks,null===e?Ks:e}function Uc(){var e=R.A;return R.A=ec,e}function qc(){hc=4,lc||(4194048&oc)!==oc&&null!==ra.current||(cc=!0),0===(134217727&pc)&&0===(134217727&fc)||null===ic||Lc(ic,oc,_c,!1)}function Gc(e,t,n){var i=nc;nc|=2;var r=Kc(),o=Uc();ic===e&&oc===t||(Sc=null,jc(e,t)),t=!1;var s=hc;e:for(;;)try{if(0!==sc&&null!==rc){var a=rc,l=ac;switch(sc){case 8:zc(),s=6;break e;case 3:case 2:case 9:case 6:null===ra.current&&(t=!0);var c=sc;if(sc=0,ac=null,Jc(e,a,l,c),n&&cc){s=0;break e}break;default:c=sc,sc=0,ac=null,Jc(e,a,l,c)}}Zc(),s=hc;break}catch(u){Wc(e,u)}return t&&e.shellSuspendCounter++,vr=gr=null,nc=i,R.H=r,R.A=o,null===rc&&(ic=null,oc=0,Di()),s}function Zc(){for(;null!==rc;)Qc(rc)}function Yc(){for(;null!==rc&&!J();)Qc(rc)}function Qc(e){var t=Qa(e.alternate,e,dc);e.memoizedProps=e.pendingProps,null===t?eu(e):rc=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Na(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Na(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:$o(t);default:ol(n,t),t=Qa(n,t=rc=Hi(t,dc),dc)}e.memoizedProps=e.pendingProps,null===t?eu(e):rc=t}function Jc(e,t,n,i){vr=gr=null,$o(t),Zs=null,Ys=0;var r=t.return;try{if(function(e,t,n,i,r){if(n.flags|=32768,null!==i&&"object"===typeof i&&"function"===typeof i.then){if(null!==(t=n.alternate)&&Sr(t,n,r,!0),null!==(n=ra.current)){switch(n.tag){case 13:return null===oa?qc():null===n.alternate&&0===hc&&(hc=3),n.flags&=-257,n.flags|=65536,n.lanes=r,i===Gr?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([i]):t.add(i),du(e,i,r)),!1;case 22:return n.flags|=65536,i===Gr?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([i]):n.add(i),du(e,i,r)),!1}throw Error(s(435,n.tag))}return du(e,i,r),qc(),!1}if(or)return null!==(t=ra.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=r,i!==lr&&mr(wi(e=Error(s(422),{cause:i}),n))):(i!==lr&&mr(wi(t=Error(s(423),{cause:i}),n)),(e=e.current.alternate).flags|=65536,r&=-r,e.lanes|=r,i=wi(i,n),ao(e,r=Sa(e.stateNode,i,r)),4!==hc&&(hc=2)),!1;var o=Error(s(520),{cause:i});if(o=wi(o,n),null===vc?vc=[o]:vc.push(o),4!==hc&&(hc=2),null===t)return!0;i=wi(i,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=r&-r,n.lanes|=e,ao(n,e=Sa(n.stateNode,i,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===wc||!wc.has(o))))return n.flags|=65536,r&=-r,n.lanes|=r,Ea(r=wa(r),e,n,i),ao(n,r),!1}n=n.return}while(null!==n);return!1}(e,r,t,n,oc))return hc=1,Ca(e,wi(n,e.current)),void(rc=null)}catch(o){if(null!==r)throw rc=r,o;return hc=1,Ca(e,wi(n,e.current)),void(rc=null)}32768&t.flags?(or||1===i?e=!0:cc||0!==(536870912&oc)?e=!1:(lc=e=!0,(2===i||9===i||3===i||6===i)&&(null!==(i=ra.current)&&13===i.tag&&(i.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=il(t.alternate,t,dc);if(null!==n)return void(rc=n);if(null!==(t=t.sibling))return void(rc=t);rc=t=e}while(null!==t);0===hc&&(hc=5)}function tu(e,t){do{var n=rl(e.alternate,e);if(null!==n)return n.flags&=32767,void(rc=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(rc=e);rc=e=n}while(null!==e);hc=6,rc=null}function nu(e,t,n,i,r,o,a,l,c){e.cancelPendingCommit=null;do{au()}while(0!==Ec);if(0!==(6&nc))throw Error(s(327));if(null!==t){if(t===e.current)throw Error(s(177));if(o=t.lanes|t.childLanes,function(e,t,n,i,r,o){var s=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=s&~n;0<n;){var u=31-pe(n),d=1<<u;a[u]=0,l[u]=-1;var h=c[u];if(null!==h)for(c[u]=null,u=0;u<h.length;u++){var p=h[u];null!==p&&(p.lane&=-536870913)}n&=~d}0!==i&&Ie(e,i,0),0!==o&&0===r&&0!==e.tag&&(e.suspendedLanes|=o&~(s&~t))}(e,n,o|=ki,a,l,c),e===ic&&(rc=ic=null,oc=0),kc=t,Ic=e,Dc=n,Oc=o,Tc=r,Ac=i,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,Q(oe,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),i=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||i){i=R.T,R.T=null,r=B.p,B.p=2,a=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,td=nh,ti(e=ei(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var i=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(i&&0!==i.rangeCount){n=i.anchorNode;var r=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch(_){n=null;break e}var a=0,l=-1,c=-1,u=0,d=0,h=e,p=null;t:for(;;){for(var f;h!==n||0!==r&&3!==h.nodeType||(l=a+r),h!==o||0!==i&&3!==h.nodeType||(c=a+i),3===h.nodeType&&(a+=h.nodeValue.length),null!==(f=h.firstChild);)p=h,h=f;for(;;){if(h===e)break t;if(p===n&&++u===r&&(l=a),p===o&&++d===i&&(c=a),null!==(f=h.nextSibling))break;p=(h=p).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nd={focusedElem:e,selectionRange:n},nh=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(o=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,r=o.memoizedProps,o=o.memoizedState,i=n.stateNode;try{var m=_a(n.type,r,(n.elementType,n.type));e=i.getSnapshotBeforeUpdate(m,o),i.__reactInternalSnapshotBeforeUpdate=e}catch(g){uu(n,n.return,g)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))md(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":md(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(s(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{nc=a,B.p=r,R.T=i}}Ec=1,iu(),ru(),ou()}}function iu(){if(1===Ec){Ec=0;var e=Ic,t=kc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=R.T,R.T=null;var i=B.p;B.p=2;var r=nc;nc|=4;try{Rl(t,e);var o=nd,s=ei(e.containerInfo),a=o.focusedElem,l=o.selectionRange;if(s!==a&&a&&a.ownerDocument&&Jn(a.ownerDocument.documentElement,a)){if(null!==l&&ti(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var d=a.ownerDocument||document,h=d&&d.defaultView||window;if(h.getSelection){var p=h.getSelection(),f=a.textContent.length,m=Math.min(l.start,f),_=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>_&&(s=_,_=m,m=s);var g=Xn(a,m),v=Xn(a,_);if(g&&v&&(1!==p.rangeCount||p.anchorNode!==g.node||p.anchorOffset!==g.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var y=d.createRange();y.setStart(g.node,g.offset),p.removeAllRanges(),m>_?(p.addRange(y),p.extend(v.node,v.offset)):(y.setEnd(v.node,v.offset),p.addRange(y))}}}}for(d=[],p=a;p=p.parentNode;)1===p.nodeType&&d.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<d.length;a++){var b=d[a];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}nh=!!td,nd=td=null}finally{nc=r,B.p=i,R.T=n}}e.current=t,Ec=2}}function ru(){if(2===Ec){Ec=0;var e=Ic,t=kc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=R.T,R.T=null;var i=B.p;B.p=2;var r=nc;nc|=4;try{wl(e,t.alternate,t)}finally{nc=r,B.p=i,R.T=n}}Ec=3}}function ou(){if(4===Ec||3===Ec){Ec=0,ee();var e=Ic,t=kc,n=Dc,i=Ac;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Ec=5:(Ec=0,kc=Ic=null,su(e,e.pendingLanes));var r=e.pendingLanes;if(0===r&&(wc=null),Oe(n),t=t.stateNode,de&&"function"===typeof de.onCommitFiberRoot)try{de.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==i){t=R.T,r=B.p,B.p=2,R.T=null;try{for(var o=e.onRecoverableError,s=0;s<i.length;s++){var a=i[s];o(a.value,{componentStack:a.stack})}}finally{R.T=t,B.p=r}}0!==(3&Dc)&&au(),xu(e),r=e.pendingLanes,0!==(4194090&n)&&0!==(42&r)?e===Mc?Pc++:(Pc=0,Mc=e):Pc=0,Su(0,!1)}}function su(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Rr(t)))}function au(e){return iu(),ru(),ou(),lu()}function lu(){if(5!==Ec)return!1;var e=Ic,t=Oc;Oc=0;var n=Oe(Dc),i=R.T,r=B.p;try{B.p=32>n?32:n,R.T=null,n=Tc,Tc=null;var o=Ic,a=Dc;if(Ec=0,kc=Ic=null,Dc=0,0!==(6&nc))throw Error(s(331));var l=nc;if(nc|=4,Ql(o.current),jl(o,o.current,a,n),nc=l,Su(0,!1),de&&"function"===typeof de.onPostCommitFiberRoot)try{de.onPostCommitFiberRoot(ue,o)}catch(c){}return!0}finally{B.p=r,R.T=i,su(e,t)}}function cu(e,t,n){t=wi(n,t),null!==(e=oo(e,t=Sa(e.stateNode,t,2),2))&&(Ee(e,2),xu(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var i=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof i.componentDidCatch&&(null===wc||!wc.has(i))){e=wi(n,e),null!==(i=oo(t,n=wa(2),2))&&(Ea(n,i,t,e),Ee(i,2),xu(i));break}}t=t.return}}function du(e,t,n){var i=e.pingCache;if(null===i){i=e.pingCache=new tc;var r=new Set;i.set(t,r)}else void 0===(r=i.get(t))&&(r=new Set,i.set(t,r));r.has(n)||(uc=!0,r.add(n),e=hu.bind(null,e,t,n),t.then(e,e))}function hu(e,t,n){var i=e.pingCache;null!==i&&i.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,ic===e&&(oc&n)===n&&(4===hc||3===hc&&(62914560&oc)===oc&&300>te()-Cc?0===(2&nc)&&jc(e,0):mc|=n,gc===oc&&(gc=0)),xu(e)}function pu(e,t){0===t&&(t=Se()),null!==(e=Ai(e,t))&&(Ee(e,t),xu(e))}function fu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,r=e.memoizedState;null!==r&&(n=r.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(s(314))}null!==i&&i.delete(t),pu(e,n)}var _u=null,gu=null,vu=!1,yu=!1,bu=!1,Cu=0;function xu(e){e!==gu&&null===e.next&&(null===gu?_u=gu=e:gu=gu.next=e),yu=!0,vu||(vu=!0,dd(function(){0!==(6&nc)?Q(ie,wu):Eu()}))}function Su(e,t){if(!bu&&yu){bu=!0;do{for(var n=!1,i=_u;null!==i;){if(!t)if(0!==e){var r=i.pendingLanes;if(0===r)var o=0;else{var s=i.suspendedLanes,a=i.pingedLanes;o=(1<<31-pe(42|e)+1)-1,o=201326741&(o&=r&~(s&~a))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Du(i,o))}else o=oc,0===(3&(o=ye(i,i===ic?o:0,null!==i.cancelPendingCommit||-1!==i.timeoutHandle)))||be(i,o)||(n=!0,Du(i,o));i=i.next}}while(n);bu=!1}}function wu(){Eu()}function Eu(){yu=vu=!1;var e=0;0!==Cu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ad&&(ad=e,!0);return ad=null,!1}()&&(e=Cu),Cu=0);for(var t=te(),n=null,i=_u;null!==i;){var r=i.next,o=Iu(i,t);0===o?(i.next=null,null===n?_u=r:n.next=r,null===r&&(gu=n)):(n=i,(0!==e||0!==(3&o))&&(yu=!0)),i=r}Su(e,!1)}function Iu(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,r=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var s=31-pe(o),a=1<<s,l=r[s];-1===l?0!==(a&n)&&0===(a&i)||(r[s]=Ce(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}if(n=oc,n=ye(e,e===(t=ic)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),i=e.callbackNode,0===n||e===t&&(2===sc||9===sc)||null!==e.cancelPendingCommit)return null!==i&&null!==i&&X(i),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||be(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==i&&X(i),Oe(n)){case 2:case 8:n=re;break;case 32:default:n=oe;break;case 268435456:n=ae}return i=ku.bind(null,e),n=Q(n,i),e.callbackPriority=t,e.callbackNode=n,t}return null!==i&&null!==i&&X(i),e.callbackPriority=2,e.callbackNode=null,2}function ku(e,t){if(0!==Ec&&5!==Ec)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(au()&&e.callbackNode!==n)return null;var i=oc;return 0===(i=ye(e,e===ic?i:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,i,t),Iu(e,te()),null!=e.callbackNode&&e.callbackNode===n?ku.bind(null,e):null)}function Du(e,t){if(au())return null;Fc(e,t,!0)}function Ou(){return 0===Cu&&(Cu=xe()),Cu}function Tu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Ot(""+e)}function Au(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Pu=0;Pu<Ci.length;Pu++){var Mu=Ci[Pu];xi(Mu.toLowerCase(),"on"+(Mu[0].toUpperCase()+Mu.slice(1)))}xi(pi,"onAnimationEnd"),xi(fi,"onAnimationIteration"),xi(mi,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(_i,"onTransitionRun"),xi(gi,"onTransitionStart"),xi(vi,"onTransitionCancel"),xi(yi,"onTransitionEnd"),Ze("onMouseEnter",["mouseout","mouseover"]),Ze("onMouseLeave",["mouseout","mouseover"]),Ze("onPointerEnter",["pointerout","pointerover"]),Ze("onPointerLeave",["pointerout","pointerover"]),Ge("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ge("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ge("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ge("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ge("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ru));function Nu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var i=e[n],r=i.event;i=i.listeners;e:{var o=void 0;if(t)for(var s=i.length-1;0<=s;s--){var a=i[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&r.isPropagationStopped())break e;o=a,r.currentTarget=c;try{o(r)}catch(u){ga(u)}r.currentTarget=null,o=l}else for(s=0;s<i.length;s++){if(l=(a=i[s]).instance,c=a.currentTarget,a=a.listener,l!==o&&r.isPropagationStopped())break e;o=a,r.currentTarget=c;try{o(r)}catch(u){ga(u)}r.currentTarget=null,o=l}}}}function Fu(e,t){var n=t[Be];void 0===n&&(n=t[Be]=new Set);var i=e+"__bubble";n.has(i)||(Vu(t,e,2,!1),n.add(i))}function $u(e,t,n){var i=0;t&&(i|=4),Vu(n,e,i,t)}var Hu="_reactListening"+Math.random().toString(36).slice(2);function Lu(e){if(!e[Hu]){e[Hu]=!0,Ue.forEach(function(t){"selectionchange"!==t&&(Bu.has(t)||$u(t,!1,e),$u(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Hu]||(t[Hu]=!0,$u("selectionchange",!1,t))}}function Vu(e,t,n,i){switch(ch(t)){case 2:var r=ih;break;case 8:r=rh;break;default:r=oh}n=r.bind(null,t,n,e),r=void 0,!Ht||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(r=!0),i?void 0!==r?e.addEventListener(t,n,{capture:!0,passive:r}):e.addEventListener(t,n,!0):void 0!==r?e.addEventListener(t,n,{passive:r}):e.addEventListener(t,n,!1)}function zu(e,t,n,i,r){var o=i;if(0===(1&t)&&0===(2&t)&&null!==i)e:for(;;){if(null===i)return;var s=i.tag;if(3===s||4===s){var a=i.stateNode.containerInfo;if(a===r)break;if(4===s)for(s=i.return;null!==s;){var c=s.tag;if((3===c||4===c)&&s.stateNode.containerInfo===r)return;s=s.return}for(;null!==a;){if(null===(s=Ve(a)))return;if(5===(c=s.tag)||6===c||26===c||27===c){i=o=s;continue e}a=a.parentNode}}i=i.return}Nt(function(){var i=o,r=At(n),s=[];e:{var a=bi.get(e);if(void 0!==a){var c=Jt,u=e;switch(e){case"keypress":if(0===Kt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=sn;break;case"focusout":u="blur",c=sn;break;case"beforeblur":case"afterblur":c=sn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=gn;break;case pi:case fi:case mi:c=an;break;case yi:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=yn;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=_n;break;case"toggle":case"beforetoggle":c=bn}var d=0!==(4&t),h=!d&&("scroll"===e||"scrollend"===e),p=d?null!==a?a+"Capture":null:a;d=[];for(var f,m=i;null!==m;){var _=m;if(f=_.stateNode,5!==(_=_.tag)&&26!==_&&27!==_||null===f||null===p||null!=(_=Ft(m,p))&&d.push(ju(m,_,f)),h)break;m=m.return}0<d.length&&(a=new c(a,u,null,n,r),s.push({event:a,listeners:d}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Tt||!(u=n.relatedTarget||n.fromElement)||!Ve(u)&&!u[Re])&&(c||a)&&(a=r.window===r?r:(a=r.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=i,null!==(u=(u=n.relatedTarget||n.toElement)?Ve(u):null)&&(h=l(u),d=u.tag,u!==h||5!==d&&27!==d&&6!==d)&&(u=null)):(c=null,u=i),c!==u)){if(d=rn,_="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(d=_n,_="onPointerLeave",p="onPointerEnter",m="pointer"),h=null==c?a:je(c),f=null==u?a:je(u),(a=new d(_,m+"leave",c,n,r)).target=h,a.relatedTarget=f,_=null,Ve(r)===i&&((d=new d(p,m+"enter",u,n,r)).target=f,d.relatedTarget=h,_=d),h=_,c&&u)e:{for(p=u,m=0,f=d=c;f;f=Ku(f))m++;for(f=0,_=p;_;_=Ku(_))f++;for(;0<m-f;)d=Ku(d),m--;for(;0<f-m;)p=Ku(p),f--;for(;m--;){if(d===p||null!==p&&d===p.alternate)break e;d=Ku(d),p=Ku(p)}d=null}else d=null;null!==c&&Uu(s,a,c,d,!1),null!==u&&null!==h&&Uu(s,h,u,d,!0)}if("select"===(c=(a=i?je(i):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var g=$n;else if(Pn(a))if(Hn)g=Gn;else{g=Un;var v=Kn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?i&&It(i.elementType)&&(g=$n):g=qn;switch(g&&(g=g(e,i))?Mn(s,g,n,r):(v&&v(e,a,i),"focusout"===e&&i&&"number"===a.type&&null!=i.memoizedProps.value&&vt(a,"number",a.value)),v=i?je(i):window,e){case"focusin":(Pn(v)||"true"===v.contentEditable)&&(ii=v,ri=i,oi=null);break;case"focusout":oi=ri=ii=null;break;case"mousedown":si=!0;break;case"contextmenu":case"mouseup":case"dragend":si=!1,ai(s,n,r);break;case"selectionchange":if(ni)break;case"keydown":case"keyup":ai(s,n,r)}var y;if(xn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Tn?Dn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(En&&"ko"!==n.locale&&(Tn||"onCompositionStart"!==b?"onCompositionEnd"===b&&Tn&&(y=Wt()):(zt="value"in(Vt=r)?Vt.value:Vt.textContent,Tn=!0)),0<(v=Wu(i,b)).length&&(b=new cn(b,e,null,n,r),s.push({event:b,listeners:v}),y?b.data=y:null!==(y=On(n))&&(b.data=y))),(y=wn?function(e,t){switch(e){case"compositionend":return On(t);case"keypress":return 32!==t.which?null:(kn=!0,In);case"textInput":return(e=t.data)===In&&kn?null:e;default:return null}}(e,n):function(e,t){if(Tn)return"compositionend"===e||!xn&&Dn(e,t)?(e=Wt(),jt=zt=Vt=null,Tn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return En&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Wu(i,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,r),s.push({event:v,listeners:b}),v.data=y)),function(e,t,n,i,r){if("submit"===t&&n&&n.stateNode===r){var o=Tu((r[Me]||null).action),s=i.submitter;s&&null!==(t=(t=s[Me]||null)?Tu(t.formAction):s.getAttribute("formAction"))&&(o=t,s=null);var a=new Jt("action","action",null,i,r);e.push({event:a,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(0!==Cu){var e=s?Au(r,s):new FormData(r);As(n,{pending:!0,data:e,method:r.method,action:o},null,e)}}else"function"===typeof o&&(a.preventDefault(),e=s?Au(r,s):new FormData(r),As(n,{pending:!0,data:e,method:r.method,action:o},o,e))},currentTarget:r}]})}}(s,e,i,n,r)}Nu(s,t)})}function ju(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wu(e,t){for(var n=t+"Capture",i=[];null!==e;){var r=e,o=r.stateNode;if(5!==(r=r.tag)&&26!==r&&27!==r||null===o||(null!=(r=Ft(e,n))&&i.unshift(ju(e,r,o)),null!=(r=Ft(e,t))&&i.push(ju(e,r,o))),3===e.tag)return i;e=e.return}return[]}function Ku(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Uu(e,t,n,i,r){for(var o=t._reactName,s=[];null!==n&&n!==i;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===i)break;5!==a&&26!==a&&27!==a||null===c||(l=c,r?null!=(c=Ft(n,o))&&s.unshift(ju(n,c,l)):r||null!=(c=Ft(n,o))&&s.push(ju(n,c,l))),n=n.return}0!==s.length&&e.push({event:t,listeners:s})}var qu=/\r\n?/g,Gu=/\u0000|\uFFFD/g;function Zu(e){return("string"===typeof e?e:""+e).replace(qu,"\n").replace(Gu,"")}function Yu(e,t){return t=Zu(t),Zu(e)===t}function Qu(){}function Xu(e,t,n,i,r,o){switch(n){case"children":"string"===typeof i?"body"===t||"textarea"===t&&""===i||xt(e,i):("number"===typeof i||"bigint"===typeof i)&&"body"!==t&&xt(e,""+i);break;case"className":nt(e,"class",i);break;case"tabIndex":nt(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,i);break;case"style":Et(e,i,o);break;case"data":if("object"!==t){nt(e,"data",i);break}case"src":case"href":if(""===i&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==i||"function"===typeof i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=Ot(""+i),e.setAttribute(n,i);break;case"action":case"formAction":if("function"===typeof i){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Xu(e,t,"name",r.name,r,null),Xu(e,t,"formEncType",r.formEncType,r,null),Xu(e,t,"formMethod",r.formMethod,r,null),Xu(e,t,"formTarget",r.formTarget,r,null)):(Xu(e,t,"encType",r.encType,r,null),Xu(e,t,"method",r.method,r,null),Xu(e,t,"target",r.target,r,null))),null==i||"symbol"===typeof i||"boolean"===typeof i){e.removeAttribute(n);break}i=Ot(""+i),e.setAttribute(n,i);break;case"onClick":null!=i&&(e.onclick=Qu);break;case"onScroll":null!=i&&Fu("scroll",e);break;case"onScrollEnd":null!=i&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(s(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(s(60));e.innerHTML=n}}break;case"multiple":e.multiple=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"muted":e.muted=i&&"function"!==typeof i&&"symbol"!==typeof i;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==i||"function"===typeof i||"boolean"===typeof i||"symbol"===typeof i){e.removeAttribute("xlink:href");break}n=Ot(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""+i):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===i?e.setAttribute(n,""):!1!==i&&null!=i&&"function"!==typeof i&&"symbol"!==typeof i?e.setAttribute(n,i):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=i&&"function"!==typeof i&&"symbol"!==typeof i&&!isNaN(i)&&1<=i?e.setAttribute(n,i):e.removeAttribute(n);break;case"rowSpan":case"start":null==i||"function"===typeof i||"symbol"===typeof i||isNaN(i)?e.removeAttribute(n):e.setAttribute(n,i);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),tt(e,"popover",i);break;case"xlinkActuate":it(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":it(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":it(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":it(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":it(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":it(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":it(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":it(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":it(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":tt(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=kt.get(n)||n,i)}}function Ju(e,t,n,i,r,o){switch(n){case"style":Et(e,i,o);break;case"dangerouslySetInnerHTML":if(null!=i){if("object"!==typeof i||!("__html"in i))throw Error(s(61));if(null!=(n=i.__html)){if(null!=r.children)throw Error(s(60));e.innerHTML=n}}break;case"children":"string"===typeof i?xt(e,i):("number"===typeof i||"bigint"===typeof i)&&xt(e,""+i);break;case"onScroll":null!=i&&Fu("scroll",e);break;case"onScrollEnd":null!=i&&Fu("scrollend",e);break;case"onClick":null!=i&&(e.onclick=Qu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:qe.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(r=n.endsWith("Capture"),t=n.slice(2,r?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Me]||null)?o[n]:null)&&e.removeEventListener(t,o,r),"function"!==typeof i)?n in e?e[n]=i:!0===i?e.setAttribute(n,""):tt(e,n,i):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,i,r)))}}function ed(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var i,r=!1,o=!1;for(i in n)if(n.hasOwnProperty(i)){var a=n[i];if(null!=a)switch(i){case"src":r=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Xu(e,t,i,a,n,null)}}return o&&Xu(e,t,"srcSet",n.srcSet,n,null),void(r&&Xu(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=i=a=o=null,c=null,u=null;for(r in n)if(n.hasOwnProperty(r)){var d=n[r];if(null!=d)switch(r){case"name":o=d;break;case"type":a=d;break;case"checked":c=d;break;case"defaultChecked":u=d;break;case"value":i=d;break;case"defaultValue":l=d;break;case"children":case"dangerouslySetInnerHTML":if(null!=d)throw Error(s(137,t));break;default:Xu(e,t,r,d,n,null)}}return gt(e,i,l,c,u,a,o,!1),void dt(e);case"select":for(o in Fu("invalid",e),r=a=i=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":i=l;break;case"defaultValue":a=l;break;case"multiple":r=l;default:Xu(e,t,o,l,n,null)}return t=i,n=a,e.multiple=!!r,void(null!=t?yt(e,!!r,t,!1):null!=n&&yt(e,!!r,n,!0));case"textarea":for(a in Fu("invalid",e),i=o=r=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":r=l;break;case"defaultValue":o=l;break;case"children":i=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(s(91));break;default:Xu(e,t,a,l,n,null)}return Ct(e,r,o,i),void dt(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(r=n[c]))if("selected"===c)e.selected=r&&"function"!==typeof r&&"symbol"!==typeof r;else Xu(e,t,c,r,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(r=0;r<Ru.length;r++)Fu(Ru[r],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(r=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,t));default:Xu(e,t,u,r,n,null)}return;default:if(It(t)){for(d in n)n.hasOwnProperty(d)&&(void 0!==(r=n[d])&&Ju(e,t,d,r,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(r=n[l])&&Xu(e,t,l,r,n,null))}var td=null,nd=null;function id(e){return 9===e.nodeType?e:e.ownerDocument}function rd(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function od(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function sd(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ad=null;var ld="function"===typeof setTimeout?setTimeout:void 0,cd="function"===typeof clearTimeout?clearTimeout:void 0,ud="function"===typeof Promise?Promise:void 0,dd="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ud?function(e){return ud.resolve(null).then(e).catch(hd)}:ld;function hd(e){setTimeout(function(){throw e})}function pd(e){return"head"===e}function fd(e,t){var n=t,i=0,r=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<i&&8>i){n=i;var s=e.ownerDocument;if(1&n&&Cd(s.documentElement),2&n&&Cd(s.body),4&n)for(Cd(n=s.head),s=n.firstChild;s;){var a=s.nextSibling,l=s.nodeName;s[He]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===s.rel.toLowerCase()||n.removeChild(s),s=a}}if(0===r)return e.removeChild(o),void kh(t);r--}else"$"===n||"$?"===n||"$!"===n?r++:i=n.charCodeAt(0)-48;else i=0;n=o}while(n);kh(t)}function md(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":md(n),Le(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function _d(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function gd(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vd=null;function yd(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function bd(e,t,n){switch(t=id(n),e){case"html":if(!(e=t.documentElement))throw Error(s(452));return e;case"head":if(!(e=t.head))throw Error(s(453));return e;case"body":if(!(e=t.body))throw Error(s(454));return e;default:throw Error(s(451))}}function Cd(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Le(e)}var xd=new Map,Sd=new Set;function wd(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ed=B.d;B.d={f:function(){var e=Ed.f(),t=Vc();return e||t},r:function(e){var t=ze(e);null!==t&&5===t.tag&&"form"===t.type?Ms(t):Ed.r(e)},D:function(e){Ed.D(e),kd("dns-prefetch",e,null)},C:function(e,t){Ed.C(e,t),kd("preconnect",e,t)},L:function(e,t,n){Ed.L(e,t,n);var i=Id;if(i&&e&&t){var r='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(r+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(r+='[imagesizes="'+mt(n.imageSizes)+'"]')):r+='[href="'+mt(e)+'"]';var o=r;switch(t){case"style":o=Od(e);break;case"script":o=Pd(e)}xd.has(o)||(e=h({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),xd.set(o,e),null!==i.querySelector(r)||"style"===t&&i.querySelector(Td(o))||"script"===t&&i.querySelector(Md(o))||(ed(t=i.createElement("link"),"link",e),Ke(t),i.head.appendChild(t)))}},m:function(e,t){Ed.m(e,t);var n=Id;if(n&&e){var i=t&&"string"===typeof t.as?t.as:"script",r='link[rel="modulepreload"][as="'+mt(i)+'"][href="'+mt(e)+'"]',o=r;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Pd(e)}if(!xd.has(o)&&(e=h({rel:"modulepreload",href:e},t),xd.set(o,e),null===n.querySelector(r))){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Md(o)))return}ed(i=n.createElement("link"),"link",e),Ke(i),n.head.appendChild(i)}}},X:function(e,t){Ed.X(e,t);var n=Id;if(n&&e){var i=We(n).hoistableScripts,r=Pd(e),o=i.get(r);o||((o=n.querySelector(Md(r)))||(e=h({src:e,async:!0},t),(t=xd.get(r))&&Fd(e,t),Ke(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(r,o))}},S:function(e,t,n){Ed.S(e,t,n);var i=Id;if(i&&e){var r=We(i).hoistableStyles,o=Od(e);t=t||"default";var s=r.get(o);if(!s){var a={loading:0,preload:null};if(s=i.querySelector(Td(o)))a.loading=5;else{e=h({rel:"stylesheet",href:e,"data-precedence":t},n),(n=xd.get(o))&&Nd(e,n);var l=s=i.createElement("link");Ke(l),ed(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){a.loading|=1}),l.addEventListener("error",function(){a.loading|=2}),a.loading|=4,Bd(s,t,i)}s={type:"stylesheet",instance:s,count:1,state:a},r.set(o,s)}}},M:function(e,t){Ed.M(e,t);var n=Id;if(n&&e){var i=We(n).hoistableScripts,r=Pd(e),o=i.get(r);o||((o=n.querySelector(Md(r)))||(e=h({src:e,async:!0,type:"module"},t),(t=xd.get(r))&&Fd(e,t),Ke(o=n.createElement("script")),ed(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},i.set(r,o))}}};var Id="undefined"===typeof document?null:document;function kd(e,t,n){var i=Id;if(i&&"string"===typeof t&&t){var r=mt(t);r='link[rel="'+e+'"][href="'+r+'"]',"string"===typeof n&&(r+='[crossorigin="'+n+'"]'),Sd.has(r)||(Sd.add(r),e={rel:e,crossOrigin:n,href:t},null===i.querySelector(r)&&(ed(t=i.createElement("link"),"link",e),Ke(t),i.head.appendChild(t)))}}function Dd(e,t,n,i){var r,o,a,l,c=(c=W.current)?wd(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Od(n.href),(i=(n=We(c).hoistableStyles).get(t))||(i={type:"style",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Od(n.href);var u=We(c).hoistableStyles,d=u.get(e);if(d||(c=c.ownerDocument||c,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,d),(u=c.querySelector(Td(e)))&&!u._p&&(d.instance=u,d.state.loading=5),xd.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},xd.set(e,n),u||(r=c,o=e,a=n,l=d.state,r.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=r.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),ed(o,"link",a),Ke(o),r.head.appendChild(o))))),t&&null===i)throw Error(s(528,""));return d}if(t&&null!==i)throw Error(s(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Pd(n),(i=(n=We(c).hoistableScripts).get(t))||(i={type:"script",instance:null,count:0,state:null},n.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function Od(e){return'href="'+mt(e)+'"'}function Td(e){return'link[rel="stylesheet"]['+e+"]"}function Ad(e){return h({},e,{"data-precedence":e.precedence,precedence:null})}function Pd(e){return'[src="'+mt(e)+'"]'}function Md(e){return"script[async]"+e}function Rd(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(i)return t.instance=i,Ke(i),i;var r=h({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return Ke(i=(e.ownerDocument||e).createElement("style")),ed(i,"style",r),Bd(i,n.precedence,e),t.instance=i;case"stylesheet":r=Od(n.href);var o=e.querySelector(Td(r));if(o)return t.state.loading|=4,t.instance=o,Ke(o),o;i=Ad(n),(r=xd.get(r))&&Nd(i,r),Ke(o=(e.ownerDocument||e).createElement("link"));var a=o;return a._p=new Promise(function(e,t){a.onload=e,a.onerror=t}),ed(o,"link",i),t.state.loading|=4,Bd(o,n.precedence,e),t.instance=o;case"script":return o=Pd(n.src),(r=e.querySelector(Md(o)))?(t.instance=r,Ke(r),r):(i=n,(r=xd.get(o))&&Fd(i=h({},n),r),Ke(r=(e=e.ownerDocument||e).createElement("script")),ed(r,"link",i),e.head.appendChild(r),t.instance=r);case"void":return null;default:throw Error(s(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(i=t.instance,t.state.loading|=4,Bd(i,n.precedence,e));return t.instance}function Bd(e,t,n){for(var i=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),r=i.length?i[i.length-1]:null,o=r,s=0;s<i.length;s++){var a=i[s];if(a.dataset.precedence===t)o=a;else if(o!==r)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Nd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fd(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var $d=null;function Hd(e,t,n){if(null===$d){var i=new Map,r=$d=new Map;r.set(n,i)}else(i=(r=$d).get(n))||(i=new Map,r.set(n,i));if(i.has(e))return i;for(i.set(e,null),n=n.getElementsByTagName(e),r=0;r<n.length;r++){var o=n[r];if(!(o[He]||o[Pe]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var s=o.getAttribute(t)||"";s=e+s;var a=i.get(s);a?a.push(o):i.set(s,[o])}}return i}function Ld(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Vd(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var zd=null;function jd(){}function Wd(){if(this.count--,0===this.count)if(this.stylesheets)Ud(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Kd=null;function Ud(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Kd=new Map,t.forEach(qd,e),Kd=null,Wd.call(e))}function qd(e,t){if(!(4&t.state.loading)){var n=Kd.get(e);if(n)var i=n.get(null);else{n=new Map,Kd.set(e,n);for(var r=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<r.length;o++){var s=r[o];"LINK"!==s.nodeName&&"not all"===s.getAttribute("media")||(n.set(s.dataset.precedence,s),i=s)}i&&n.set(null,i)}s=(r=t.instance).getAttribute("data-precedence"),(o=n.get(s)||i)===i&&n.set(null,r),n.set(s,r),this.count++,i=Wd.bind(this),r.addEventListener("load",i),r.addEventListener("error",i),o?o.parentNode.insertBefore(r,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(r,e.firstChild),t.state.loading|=4}}var Gd={$$typeof:C,Provider:null,Consumer:null,_currentValue:N,_currentValue2:N,_threadCount:0};function Zd(e,t,n,i,r,o,s,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=we(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=we(0),this.hiddenUpdates=we(null),this.identifierPrefix=i,this.onUncaughtError=r,this.onCaughtError=o,this.onRecoverableError=s,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Yd(e,t,n,i,r,o,s,a,l,c,u,d){return e=new Zd(e,t,n,s,a,l,c,d),t=1,!0===o&&(t|=24),o=Ni(3,null,null,t),e.current=o,o.stateNode=e,(t=Mr()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:i,isDehydrated:n,cache:t},no(o),e}function Qd(e){return e?e=Ri:Ri}function Xd(e,t,n,i,r,o){r=Qd(r),null===i.context?i.context=r:i.pendingContext=r,(i=ro(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(i.callback=o),null!==(n=oo(e,i,t))&&(Nc(n,0,t),so(n,e,t))}function Jd(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function eh(e,t){Jd(e,t),(e=e.alternate)&&Jd(e,t)}function th(e){if(13===e.tag){var t=Ai(e,67108864);null!==t&&Nc(t,0,67108864),eh(e,67108864)}}var nh=!0;function ih(e,t,n,i){var r=R.T;R.T=null;var o=B.p;try{B.p=2,oh(e,t,n,i)}finally{B.p=o,R.T=r}}function rh(e,t,n,i){var r=R.T;R.T=null;var o=B.p;try{B.p=8,oh(e,t,n,i)}finally{B.p=o,R.T=r}}function oh(e,t,n,i){if(nh){var r=sh(i);if(null===r)zu(e,t,i,ah,n),vh(e,i);else if(function(e,t,n,i,r){switch(t){case"focusin":return dh=yh(dh,e,t,n,i,r),!0;case"dragenter":return hh=yh(hh,e,t,n,i,r),!0;case"mouseover":return ph=yh(ph,e,t,n,i,r),!0;case"pointerover":var o=r.pointerId;return fh.set(o,yh(fh.get(o)||null,e,t,n,i,r)),!0;case"gotpointercapture":return o=r.pointerId,mh.set(o,yh(mh.get(o)||null,e,t,n,i,r)),!0}return!1}(r,e,t,n,i))i.stopPropagation();else if(vh(e,i),4&t&&-1<gh.indexOf(e)){for(;null!==r;){var o=ze(r);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var s=ve(o.pendingLanes);if(0!==s){var a=o;for(a.pendingLanes|=2,a.entangledLanes|=2;s;){var l=1<<31-pe(s);a.entanglements[1]|=l,s&=~l}xu(o),0===(6&nc)&&(xc=te()+500,Su(0,!1))}}break;case 13:null!==(a=Ai(o,2))&&Nc(a,0,2),Vc(),eh(o,2)}if(null===(o=sh(i))&&zu(e,t,i,ah,n),o===r)break;r=o}null!==r&&i.stopPropagation()}else zu(e,t,i,null,n)}}function sh(e){return lh(e=At(e))}var ah=null;function lh(e){if(ah=null,null!==(e=Ve(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ah=e,null}function ch(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case ie:return 2;case re:return 8;case oe:case se:return 32;case ae:return 268435456;default:return 32}default:return 32}}var uh=!1,dh=null,hh=null,ph=null,fh=new Map,mh=new Map,_h=[],gh="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,t){switch(e){case"focusin":case"focusout":dh=null;break;case"dragenter":case"dragleave":hh=null;break;case"mouseover":case"mouseout":ph=null;break;case"pointerover":case"pointerout":fh.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":mh.delete(t.pointerId)}}function yh(e,t,n,i,r,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[r]},null!==t&&(null!==(t=ze(t))&&th(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,null!==r&&-1===t.indexOf(r)&&t.push(r),e)}function bh(e){var t=Ve(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=B.p;try{return B.p=e,t()}finally{B.p=n}}(e.priority,function(){if(13===n.tag){var e=Rc();e=De(e);var t=Ai(n,e);null!==t&&Nc(t,0,e),eh(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Ch(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=sh(e.nativeEvent);if(null!==n)return null!==(t=ze(n))&&th(t),e.blockedOn=n,!1;var i=new(n=e.nativeEvent).constructor(n.type,n);Tt=i,n.target.dispatchEvent(i),Tt=null,t.shift()}return!0}function xh(e,t,n){Ch(e)&&n.delete(t)}function Sh(){uh=!1,null!==dh&&Ch(dh)&&(dh=null),null!==hh&&Ch(hh)&&(hh=null),null!==ph&&Ch(ph)&&(ph=null),fh.forEach(xh),mh.forEach(xh)}function wh(e,t){e.blockedOn===t&&(e.blockedOn=null,uh||(uh=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Sh)))}var Eh=null;function Ih(e){Eh!==e&&(Eh=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Eh===e&&(Eh=null);for(var t=0;t<e.length;t+=3){var n=e[t],i=e[t+1],r=e[t+2];if("function"!==typeof i){if(null===lh(i||n))continue;break}var o=ze(n);null!==o&&(e.splice(t,3),t-=3,As(o,{pending:!0,data:r,method:n.method,action:i},i,r))}}))}function kh(e){function t(t){return wh(t,e)}null!==dh&&wh(dh,e),null!==hh&&wh(hh,e),null!==ph&&wh(ph,e),fh.forEach(t),mh.forEach(t);for(var n=0;n<_h.length;n++){var i=_h[n];i.blockedOn===e&&(i.blockedOn=null)}for(;0<_h.length&&null===(n=_h[0]).blockedOn;)bh(n),null===n.blockedOn&&_h.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(i=0;i<n.length;i+=3){var r=n[i],o=n[i+1],s=r[Me]||null;if("function"===typeof o)s||Ih(n);else if(s){var a=null;if(o&&o.hasAttribute("formAction")){if(r=o,s=o[Me]||null)a=s.formAction;else if(null!==lh(r))continue}else a=s.action;"function"===typeof a?n[i+1]=a:(n.splice(i,3),i-=3),Ih(n)}}}function Dh(e){this._internalRoot=e}function Oh(e){this._internalRoot=e}Oh.prototype.render=Dh.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Xd(t.current,Rc(),e,t,null,null)},Oh.prototype.unmount=Dh.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xd(e.current,2,null,e,null,null),Vc(),t[Re]=null}},Oh.prototype.unstable_scheduleHydration=function(e){if(e){var t=Te();e={blockedOn:null,target:e,priority:t};for(var n=0;n<_h.length&&0!==t&&t<_h[n].priority;n++);_h.splice(n,0,e),0===n&&bh(e)}};var Th=r.version;if("19.1.1"!==Th)throw Error(s(527,Th,"19.1.1"));B.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var r=n.return;if(null===r)break;var o=r.alternate;if(null===o){if(null!==(i=r.return)){n=i;continue}break}if(r.child===o.child){for(o=r.child;o;){if(o===n)return u(r),e;if(o===i)return u(r),t;o=o.sibling}throw Error(s(188))}if(n.return!==i.return)n=r,i=o;else{for(var a=!1,c=r.child;c;){if(c===n){a=!0,n=r,i=o;break}if(c===i){a=!0,i=r,n=o;break}c=c.sibling}if(!a){for(c=o.child;c;){if(c===n){a=!0,n=o,i=r;break}if(c===i){a=!0,i=o,n=r;break}c=c.sibling}if(!a)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?d(e):null)?null:e.stateNode};var Ah={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:R,reconcilerVersion:"19.1.1"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Ph=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ph.isDisabled&&Ph.supportsFiber)try{ue=Ph.inject(Ah),de=Ph}catch(Rh){}}t.createRoot=function(e,t){if(!a(e))throw Error(s(299));var n=!1,i="",r=va,o=ya,l=ba;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(i=t.identifierPrefix),void 0!==t.onUncaughtError&&(r=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Yd(e,1,!1,null,0,n,i,r,o,l,0,null),e[Re]=t.current,Lu(e),new Dh(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(s(299));var i=!1,r="",o=va,l=ya,c=ba,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(r=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Yd(e,1,!0,t,0,i,r,o,l,c,0,u)).context=Qd(null),n=t.current,(r=ro(i=De(i=Rc()))).callback=null,oo(n,r,i),n=i,t.current.lanes=n,Ee(t,n),xu(t),e[Re]=t.current,Lu(e),new Oh(t)},t.version="19.1.1"},43:(e,t,n)=>{"use strict";e.exports=n(288)},132:function(e){var t;t=()=>(()=>{var e={1674:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(1233),r=n(3866),o=n(3398);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,l(i.key),i)}}function l(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}function c(){return c="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},c.apply(this,arguments)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=h(e);if(t){var r=h(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var p=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(l,e);var t,n,i,s=d(l);function l(e,t){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{allowedTags:[]};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(i=s.call(this,e,t,r)).allowedTags=null!==(n=r.allowedTags)&&void 0!==n?n:[],i}return t=l,i=[{key:"keys",value:function(e){return(0,r.dj)(c(h(l),"keys",this),e,o.WT.attribute)}}],(n=[{key:"add",value:function(e,t){return r.Mx.call(this,c(h(l.prototype),"add",this),e,t)}},{key:"remove",value:function(e){return r.Mx.call(this,c(h(l.prototype),"remove",this),e)}},{key:"value",value:function(e){return r.Mx.call(this,c(h(l.prototype),"value",this),e)}},{key:"canAdd",value:function(e,t){return r.ud.call(this,c(h(l.prototype),"canAdd",this),e,t)}}])&&a(t.prototype,n),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),l}(i.Attributor)},3866:(e,t,n)=>{"use strict";n.d(t,{Mx:()=>r,dj:()=>s,ud:()=>o});var i=n(3398);function r(e){var t=this.keyName;this.keyName=(0,i.mQ)(this.keyName);for(var n=arguments.length,r=new Array(n>1?n-1:0),o=1;o<n;o++)r[o-1]=arguments[o];var s=e.call.apply(e,[this].concat(r));return this.keyName=t,s}function o(e,t,n){return this.allowedTags.indexOf(t.tagName)>-1&&e.call(this,t,n)}function s(e,t,n){return e(t).map(function(e){return(0,i.jf)(t.tagName,e,n)})}},4569:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(1233),r=n(3866),o=n(3398);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,l(i.key),i)}}function l(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}function c(){return c="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},c.apply(this,arguments)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=h(e);if(t){var r=h(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var p=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(l,e);var t,n,i,s=d(l);function l(e,t){var n,i,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{allowedTags:[]};return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(i=s.call(this,e,t,r)).allowedTags=null!==(n=r.allowedTags)&&void 0!==n?n:[],i}return t=l,i=[{key:"keys",value:function(e){return(0,r.dj)(c(h(l),"keys",this),e,o.WT.style)}}],(n=[{key:"add",value:function(e,t){return r.Mx.call(this,c(h(l.prototype),"add",this),e,t)}},{key:"remove",value:function(e){return r.Mx.call(this,c(h(l.prototype),"remove",this),e)}},{key:"value",value:function(e){return r.Mx.call(this,c(h(l.prototype),"value",this),e)}},{key:"canAdd",value:function(e,t){return r.ud.call(this,c(h(l.prototype),"canAdd",this),e,t)}}])&&a(t.prototype,n),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),l}(i.StyleAttributor)},3398:(e,t,n)=>{"use strict";n.d(t,{WT:()=>c,jf:()=>d,mQ:()=>h});var i=n(19),r=n(8252);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach(function(t){l(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c={attribute:"attr",style:"style"},u=a(a({},i.Sp.allowedTags.reduce(function(e,t){return e[t]={name:i.Sp.name,keyNamesSet:i.bc},e},{})),r.Pw.allowedTags.reduce(function(e,t){return e[t]={name:r.Pw.name,keyNamesSet:r.fU},e},{}));function d(e,t,n){var i=u[e];return i&&i.keyNamesSet.has(t)?"".concat(n).concat(i.name,"_").concat(t):t}function h(e){return e.replace(/([^]*_)/,"")}},6446:(e,t,n)=>{"use strict";n.d(t,{i2:()=>w,qz:()=>E,E2:()=>I,ZP:()=>S});var i=n(9098),r=n.n(i),o=n(1233),s=n(4122),a=n(6603),l=n(8222),c=n(3398);function u(e,t,n,i){return n.map(n=>{const r=i?(0,c.jf)(e,n,i):n;return t.scroll.query(r,o.Scope.ATTRIBUTE)}).filter(e=>e instanceof o.Attributor).reduce((e,t)=>(e[t.attrName]=t,e),{})}function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?h(Object(n),!0).forEach(function(t){var i,r,o;i=e,r=t,o=n[t],(r=g(r))in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):h(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,g(i.key),i)}}function _(e,t,n){return t&&m(e.prototype,t),n&&m(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function g(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==d(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}function v(){return v="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=x(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},v.apply(this,arguments)}function y(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}function b(e,t){return b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},b(e,t)}function C(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=x(e);if(t){var r=x(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function x(e){return x=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},x(e)}o.AttributorStore.prototype.build=function(){const{tagName:e}=this.domNode,t=o.Registry.find(this.domNode);if(null==t)return;const n=o.Attributor.keys(this.domNode),i=o.ClassAttributor.keys(this.domNode),r=o.StyleAttributor.keys(this.domNode);this.attributes={...u(e,t,n,c.WT.attribute),...u(e,t,i),...u(e,t,r,c.WT.style)}};var S=function(e){y(n,e);var t=C(n);function n(e,i){var r;return f(this,n),(r=t.call(this,e,i)).cache={},r}return _(n,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=E(this)),this.cache.delta}},{key:"deleteAt",value:function(e,t){v(x(n.prototype),"deleteAt",this).call(this,e,t),this.cache={}}},{key:"formatAt",value:function(e,t,i,r){t<=0||(this.scroll.query(i,o.Scope.BLOCK)?e+t===this.length()&&this.format(i,r):v(x(n.prototype),"formatAt",this).call(this,e,Math.min(t,this.length()-e-1),i,r),this.cache={})}},{key:"insertAt",value:function(e,t,i){if(null!=i)return v(x(n.prototype),"insertAt",this).call(this,e,t,i),void(this.cache={});if(0!==t.length){var r=t.split("\n"),o=r.shift();o.length>0&&(e<this.length()-1||null==this.children.tail?v(x(n.prototype),"insertAt",this).call(this,Math.min(e,this.length()-1),o):this.children.tail.insertAt(this.children.tail.length(),o),this.cache={});var s=this;r.reduce(function(e,t){return(s=s.split(e,!0)).insertAt(0,t),t.length},e+o.length)}}},{key:"insertBefore",value:function(e,t){var i=this.children.head;t&&!this.domNode.contains(t.domNode)||v(x(n.prototype),"insertBefore",this).call(this,e,t),i instanceof s.Z&&i.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=v(x(n.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(e,t){v(x(n.prototype),"moveChildren",this).call(this,e,t),this.cache={}}},{key:"optimize",value:function(e){v(x(n.prototype),"optimize",this).call(this,e),this.cache={}}},{key:"path",value:function(e){return v(x(n.prototype),"path",this).call(this,e,!0)}},{key:"removeChild",value:function(e){v(x(n.prototype),"removeChild",this).call(this,e),this.cache={}}},{key:"split",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t&&(0===e||e>=this.length()-1)){var i=this.clone();return 0===e?(this.parent.insertBefore(i,this),this):(this.parent.insertBefore(i,this.next),i)}var r=v(x(n.prototype),"split",this).call(this,e,t);return this.cache={},r}}]),n}(o.BlockBlot);S.blotName="block",S.tagName="P",S.defaultChild=s.Z,S.allowedChildren=[s.Z,a.Z,o.EmbedBlot,l.Z];var w=function(e){y(n,e);var t=C(n);function n(){return f(this,n),t.apply(this,arguments)}return _(n,[{key:"attach",value:function(){v(x(n.prototype),"attach",this).call(this),this.attributes=new o.AttributorStore(this.domNode)}},{key:"delta",value:function(){return(new(r())).insert(this.value(),p(p({},this.formats()),this.attributes.values()))}},{key:"format",value:function(e,t){var n=this.scroll.query(e,o.Scope.BLOCK_ATTRIBUTE);null!=n&&this.attributes.attribute(n,t)}},{key:"formatAt",value:function(e,t,n,i){this.format(n,i)}},{key:"insertAt",value:function(e,t,i){if("string"===typeof t&&t.endsWith("\n")){var r=this.scroll.create(S.blotName);this.parent.insertBefore(r,0===e?this:this.next),r.insertAt(0,t.slice(0,-1))}else v(x(n.prototype),"insertAt",this).call(this,e,t,i)}}]),n}(o.EmbedBlot);function E(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return e.descendants(o.LeafBlot).reduce(function(e,n){return 0===n.length()?e:e.insert(n.value(),I(n,{},t))},new(r())).insert("\n",I(e))}function I(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==e?t:("function"===typeof e.formats&&(t=p(p({},t),e.formats()),n&&delete t["code-token"]),null==e.parent||"scroll"===e.parent.statics.blotName||e.parent.statics.scope!==e.statics.scope?t:I(e.parent,t,n))}w.scope=o.Scope.BLOCK_BLOT},4122:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,o(i.key),i)}}function o(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}n.d(t,{Z:()=>u});var c=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(l,e);var t,n,i,o=a(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),o.apply(this,arguments)}return t=l,i=[{key:"value",value:function(){}}],(n=[{key:"optimize",value:function(){(this.prev||this.next)&&this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),l}(n(1233).EmbedBlot);c.blotName="break",c.tagName="BR";const u=c},3553:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,o(i.key),i)}}function o(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}n.d(t,{Z:()=>u});var c=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(l,e);var t,n,i,o=a(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),o.apply(this,arguments)}return t=l,n&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(n(1233).ContainerBlot);const u=c},3657:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(1233),r=n(8222);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,a(i.key),i)}}function a(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}function l(){return l="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},l.apply(this,arguments)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var r=d(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(h,e);var t,n,o,a=u(h);function h(e,t,n){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,h),(i=a.call(this,e,t)).selection=n,i.textNode=document.createTextNode(h.CONTENTS),i.domNode.appendChild(i.textNode),i.savedLength=0,i}return t=h,o=[{key:"value",value:function(){}}],(n=[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(e,t){if(0===this.savedLength){for(var n=this,r=0;null!=n&&n.statics.scope!==i.Scope.BLOCK_BLOT;)r+=n.offset(n.parent),n=n.parent;null!=n&&(this.savedLength=h.CONTENTS.length,n.optimize(),n.formatAt(r,h.CONTENTS.length,e,t),this.savedLength=0)}else l(d(h.prototype),"format",this).call(this,e,t)}},{key:"index",value:function(e,t){return e===this.textNode?0:l(d(h.prototype),"index",this).call(this,e,t)}},{key:"length",value:function(){return this.savedLength}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){l(d(h.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(this.selection.composing||null==this.parent)return null;for(var e=this.selection.getNativeRange();null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);var t,n=this.prev instanceof r.Z?this.prev:null,i=n?n.length():0,o=this.next instanceof r.Z?this.next:null,s=o?o.text:"",a=this.textNode,l=a.data.split(h.CONTENTS).join("");if(a.data=h.CONTENTS,n)t=n,(l||o)&&(n.insertAt(n.length(),l+s),o&&o.remove());else if(o)t=o,o.insertAt(0,l);else{var c=document.createTextNode(l);t=this.scroll.create(c),this.parent.insertBefore(t,this)}if(this.remove(),e){var u=function(e,t){return n&&e===n.domNode?t:e===a?i+t-1:o&&e===o.domNode?i+l.length+t:null},d=u(e.start.node,e.start.offset),p=u(e.end.node,e.end.offset);if(null!==d&&null!==p)return{startNode:t.domNode,startOffset:d,endNode:t.domNode,endOffset:p}}return null}},{key:"update",value:function(e,t){var n=this;if(e.some(function(e){return"characterData"===e.type&&e.target===n.textNode})){var i=this.restore();i&&(t.range=i)}}},{key:"value",value:function(){return""}}])&&s(t.prototype,n),o&&s(t,o),Object.defineProperty(t,"prototype",{writable:!1}),h}(i.EmbedBlot);h.blotName="cursor",h.className="ql-cursor",h.tagName="span",h.CONTENTS="\ufeff";const p=h},7452:(e,t,n)=>{"use strict";n.d(t,{Z:()=>p});var i=n(1233),r=n(8222);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,a(i.key),i)}}function a(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}function l(){return l="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},l.apply(this,arguments)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function u(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=d(e);if(t){var r=d(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===o(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}var h="\ufeff";const p=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}(a,e);var t,n,i,o=u(a);function a(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(n=o.call(this,e,t)).contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),Array.from(n.domNode.childNodes).forEach(function(e){n.contentNode.appendChild(e)}),n.leftGuard=document.createTextNode(h),n.rightGuard=document.createTextNode(h),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return t=a,(n=[{key:"index",value:function(e,t){return e===this.leftGuard?0:e===this.rightGuard?1:l(d(a.prototype),"index",this).call(this,e,t)}},{key:"restore",value:function(e){var t,n,i=e.data.split(h).join("");if(e===this.leftGuard)if(this.prev instanceof r.Z){var o=this.prev.length();this.prev.insertAt(o,i),t={startNode:this.prev.domNode,startOffset:o+i.length}}else n=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(n),this),t={startNode:n,startOffset:i.length};else e===this.rightGuard&&(this.next instanceof r.Z?(this.next.insertAt(0,i),t={startNode:this.next.domNode,startOffset:i.length}):(n=document.createTextNode(i),this.parent.insertBefore(this.scroll.create(n),this.next),t={startNode:n,startOffset:i.length}));return e.data=h,t}},{key:"update",value:function(e,t){var n=this;e.forEach(function(e){if("characterData"===e.type&&(e.target===n.leftGuard||e.target===n.rightGuard)){var i=n.restore(e.target);i&&(t.range=i)}})}}])&&s(t.prototype,n),i&&s(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(i.EmbedBlot)},6603:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i=n(1233),r=n(4122),o=n(8222);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,l(i.key),i)}}function l(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}function c(){return c="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},c.apply(this,arguments)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=h(e);if(t){var r=h(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var p=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(s,e);var t,n,r,o=d(s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),o.apply(this,arguments)}return t=s,r=[{key:"compare",value:function(e,t){var n=s.order.indexOf(e),i=s.order.indexOf(t);return n>=0||i>=0?n-i:e===t?0:e<t?-1:1}}],(n=[{key:"formatAt",value:function(e,t,n,r){if(s.compare(this.statics.blotName,n)<0&&this.scroll.query(n,i.Scope.BLOT)){var o=this.isolate(e,t);r&&o.wrap(n,r)}else c(h(s.prototype),"formatAt",this).call(this,e,t,n,r)}},{key:"optimize",value:function(e){if(c(h(s.prototype),"optimize",this).call(this,e),this.parent instanceof s&&s.compare(this.statics.blotName,this.parent.statics.blotName)>0){var t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}])&&a(t.prototype,n),r&&a(t,r),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.InlineBlot);p.allowedChildren=[p,r.Z,i.EmbedBlot,o.Z],p.order=["cursor","inline","link","underline","strike","italic","bold","script","code"];const f=p},3272:(e,t,n)=>{"use strict";n.d(t,{Z:()=>b});var i=n(1233),r=n(2069),o=n(6446),s=n(4122),a=n(3553),l=n(1969);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"===typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?d(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,p(i.key),i)}}function p(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}function f(){return f="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=g(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},f.apply(this,arguments)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}function _(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=g(e);if(t){var r=g(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===c(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function g(e){return g=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},g(e)}function v(e){return e instanceof o.ZP||e instanceof o.i2}var y=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(d,e);var t,n,a,c=_(d);function d(e,t,n){var i,r=n.emitter,o=n.toggleBlankClass;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(i=c.call(this,e,t)).emitter=r,i.toggleBlankClass=o,i.batch=!1,i.optimize(),i.enable(),i.domNode.addEventListener("dragstart",function(e){return i.handleDragStart(e)}),i}return t=d,n=[{key:"batchStart",value:function(){Array.isArray(this.batch)||(this.batch=[])}},{key:"batchEnd",value:function(){var e=this.batch;this.batch=!1,this.update(e)}},{key:"emitMount",value:function(e){this.emitter.emit(r.Z.events.SCROLL_BLOT_MOUNT,e)}},{key:"emitUnmount",value:function(e){this.emitter.emit(r.Z.events.SCROLL_BLOT_UNMOUNT,e)}},{key:"deleteAt",value:function(e,t){var n=u(this.line(e),2),i=n[0],r=n[1],a=u(this.line(e+t),1)[0];if(f(g(d.prototype),"deleteAt",this).call(this,e,t),null!=a&&i!==a&&r>0){var c=(i instanceof l.zW||a instanceof l.zW)&&i.parent!==a.parent;if(!(i instanceof o.i2||a instanceof o.i2)&&!c){var h=a.children.head instanceof s.Z?null:a.children.head;i.moveChildren(a,h),i.remove()}}this.optimize()}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.domNode.setAttribute("contenteditable",e)}},{key:"formatAt",value:function(e,t,n,i){f(g(d.prototype),"formatAt",this).call(this,e,t,n,i),this.optimize()}},{key:"handleDragStart",value:function(e){e.preventDefault()}},{key:"insertAt",value:function(e,t,n){if(e>=this.length())if(null==n||null==this.scroll.query(t,i.Scope.BLOCK)){var r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r),null==n&&t.endsWith("\n")?r.insertAt(0,t.slice(0,-1),n):r.insertAt(0,t,n)}else{var o=this.scroll.create(t,n);this.appendChild(o)}else f(g(d.prototype),"insertAt",this).call(this,e,t,n);this.optimize()}},{key:"insertBefore",value:function(e,t){if(e.statics.scope===i.Scope.INLINE_BLOT){var n=this.scroll.create(this.statics.defaultChild.blotName);n.appendChild(e),f(g(d.prototype),"insertBefore",this).call(this,n,t)}else f(g(d.prototype),"insertBefore",this).call(this,e,t)}},{key:"isEnabled",value:function(){return"true"===this.domNode.getAttribute("contenteditable")}},{key:"leaf",value:function(e){return this.path(e).pop()||[null,-1]}},{key:"line",value:function(e){return e===this.length()?this.line(e-1):this.descendant(v,e)}},{key:"lines",value:function(){return function e(t,n,r){var o=[],s=r;return t.children.forEachAt(n,r,function(t,n,r){v(t)?o.push(t):t instanceof i.ContainerBlot&&(o=o.concat(e(t,n,s))),s-=r}),o}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.batch||(f(g(d.prototype),"optimize",this).call(this,e,t),e.length>0&&this.emitter.emit(r.Z.events.SCROLL_OPTIMIZE,e,t))}},{key:"path",value:function(e){return f(g(d.prototype),"path",this).call(this,e).slice(1)}},{key:"remove",value:function(){}},{key:"update",value:function(e){var t=this;if(this.batch)Array.isArray(e)&&(this.batch=this.batch.concat(e),this.toggleBlankClass());else{var n=r.Z.sources.USER;"string"===typeof e&&(n=e),Array.isArray(e)||(e=this.observer.takeRecords()),(e=e.filter(function(e){var n=e.target,i=t.find(n,!0);return i&&i.scroll===t})).length>0&&this.emitter.emit(r.Z.events.SCROLL_BEFORE_UPDATE,n,e),f(g(d.prototype),"update",this).call(this,e.concat([])),e.length>0&&this.emitter.emit(r.Z.events.SCROLL_UPDATE,n,e)}}}],n&&h(t.prototype,n),a&&h(t,a),Object.defineProperty(t,"prototype",{writable:!1}),d}(i.ScrollBlot);y.blotName="scroll",y.className="ql-editor",y.tagName="DIV",y.defaultChild=o.ZP,y.allowedChildren=[o.ZP,o.i2,a.Z];const b=y},8222:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,o(i.key),i)}}function o(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}function s(e,t){return s=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},s(e,t)}function a(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=l(e);if(t){var o=l(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}n.d(t,{Z:()=>c,b:()=>u});var c=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&s(e,t)}(l,e);var t,n,i,o=a(l);function l(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),o.apply(this,arguments)}return t=l,n&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(n(1233).TextBlot);function u(e){return e.replace(/[&<>"']/g,function(e){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[e]})}},2432:(e,t,n)=>{"use strict";n.d(t,{default:()=>g});var i=n(281),r=n(6446),o=n(4122),s=n(3553),a=n(3657),l=n(7452),c=n(6603),u=n(3272),d=n(8222),h=n(5635),p=n(2613),f=n(3071),m=n(3859),_=n(990);i.ZP.register({"blots/block":r.ZP,"blots/block/embed":r.i2,"blots/break":o.Z,"blots/container":s.Z,"blots/cursor":a.Z,"blots/embed":l.Z,"blots/inline":c.Z,"blots/scroll":u.Z,"blots/text":d.Z,"modules/clipboard":h.ZP,"modules/history":p.Z,"modules/keyboard":f.ZP,"modules/uploader":m.Z,"modules/input":_.Z});const g=i.ZP},6229:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(7452),r=n(2069);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function s(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,a(i.key),i)}}function a(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===o(t)?t:String(t)}const l=function(){function e(t,n){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.emitter=n,this.isComposing=!1,t.domNode.addEventListener("compositionstart",function(e){i.isComposing||i.handleCompositionStart(e)}),t.domNode.addEventListener("compositionend",function(e){i.isComposing&&i.handleCompositionEnd(e)})}var t,n,o;return t=e,(n=[{key:"isCompositionInProgress",value:function(){return this.isComposing}},{key:"handleCompositionStart",value:function(e){var t=e.target instanceof Node?this.scroll.find(e.target,!0):null;!t||t instanceof i.Z||(this.emitter.emit(r.Z.events.COMPOSITION_BEFORE_START,e),this.scroll.batchStart(),this.emitter.emit(r.Z.events.COMPOSITION_START,e),this.isComposing=!0)}},{key:"handleCompositionEnd",value:function(e){this.emitter.emit(r.Z.events.COMPOSITION_BEFORE_END,e),this.scroll.batchEnd(),this.emitter.emit(r.Z.events.COMPOSITION_END,e),this.isComposing=!1}}])&&s(t.prototype,n),o&&s(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}()},2861:(e,t,n)=>{"use strict";n.d(t,{Z:()=>$});var i=n(8805),r=n.n(i),o=n(2722),s=n.n(o),a=n(732),l=n.n(a),c=n(9098),u=n.n(c),d=n(1233),h=n(7800),p=n(3657),f=n(6446),m=n(4122),_=n(8222),g=n(5874);function v(e){return k(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||w()}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){C(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C(e,t,n){return(t=O(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x(e){return x="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x(e)}function S(e,t){return k(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(e,t)||E(e,t)||w()}function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function E(e,t){if(e){if("string"===typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?I(e,t):void 0}}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function k(e){if(Array.isArray(e))return e}function D(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,O(i.key),i)}}function O(e){var t=function(e,t){if("object"!==x(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==x(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===x(t)?t:String(t)}var T=/^[ -~]*$/,A=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scroll=t,this.delta=this.getDelta(),this.immediateFormats=new Set}var t,n,i;return t=e,n=[{key:"addImmediateFormat",value:function(e){this.immediateFormats.add(e)}},{key:"applyDelta",value:function(e){var t=this;this.scroll.update();var n=this.scroll.length();this.scroll.batchStart();var i=function(e){return e.reduce(function(e,t){if("string"===typeof t.insert){var n=t.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return e.insert(n,t.attributes)}return e.push(t)},new(u()))}(e),r=new(u());return i.reduce(function(e,i){var o=c.Op.length(i),s=i.attributes||{},a=!1;if(null!=i.insert){if(r.retain(o),"string"===typeof i.insert){var u=i.insert;a=!u.endsWith("\n")&&(n<=e||t.scroll.descendant(f.i2,e)[0]),t.scroll.insertAt(e,u);var h=S(t.scroll.line(e),2),p=h[0],m=h[1],_=l()({},(0,f.E2)(p));if(p instanceof f.ZP){var g=S(p.descendant(d.LeafBlot,m),1)[0];_=l()(_,(0,f.E2)(g))}s=c.AttributeMap.diff(_,s)||{}}else if("object"===x(i.insert)){var v=Object.keys(i.insert)[0];if(null==v)return e;a=null!=t.scroll.query(v,d.Scope.INLINE)&&(n<=e||t.scroll.descendant(f.i2,e)[0]),t.scroll.insertAt(e,v,i.insert[v])}n+=o}else r.push(i);var y=Object.keys(s);t.immediateFormats.forEach(function(n){y.indexOf(n)>-1&&(t.scroll.formatAt(e,o,n,s[n]),delete s[n])}),Object.keys(s).forEach(function(n){t.scroll.formatAt(e,o,n,s[n])});var b=a?1:0;return n+=b,r.delete(b),e+o+b},0),r.reduce(function(e,n){return"number"===typeof n.delete?(t.scroll.deleteAt(e,n.delete),e):e+c.Op.length(n)},0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(i)}},{key:"deleteText",value:function(e,t){return this.scroll.deleteAt(e,t),this.update((new(u())).retain(e).delete(t))}},{key:"formatLine",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(i).forEach(function(r){n.scroll.lines(e,Math.max(t,1)).forEach(function(e){e.format(r,i[r])})}),this.scroll.optimize();var o=(new(u())).retain(e).retain(t,r()(i));return this.update(o)}},{key:"formatText",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(i).forEach(function(r){n.scroll.formatAt(e,t,r,i[r])});var o=(new(u())).retain(e).retain(t,r()(i));return this.update(o)}},{key:"getContents",value:function(e,t){return this.delta.slice(e,e+t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(e,t){return e.concat(t.delta())},new(u()))}},{key:"getFormat",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=[],i=[];0===t?this.scroll.path(e).forEach(function(e){var t=S(e,1)[0];t instanceof f.ZP?n.push(t):t instanceof d.LeafBlot&&i.push(t)}):(n=this.scroll.lines(e,t),i=this.scroll.descendants(d.LeafBlot,e,t));var r=S([n,i].map(function(e){if(0===e.length)return{};for(var t=(0,f.E2)(e.shift());Object.keys(t).length>0;){var n=e.shift();if(null==n)return t;t=R((0,f.E2)(n),t)}return t}),2);return n=r[0],i=r[1],b(b({},n),i)}},{key:"getHTML",value:function(e,t){var n=S(this.scroll.line(e),2),i=n[0],r=n[1];return i.length()>r+t?M(i,r,t,!0):M(this.scroll,e,t,!0)}},{key:"getText",value:function(e,t){return this.getContents(e,t).filter(function(e){return"string"===typeof e.insert}).map(function(e){return e.insert}).join("")}},{key:"insertEmbed",value:function(e,t,n){return this.scroll.insertAt(e,t,n),this.update((new(u())).retain(e).insert(C({},t,n)))}},{key:"insertText",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t=t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(e,t),Object.keys(i).forEach(function(r){n.scroll.formatAt(e,t.length,r,i[r])}),this.update((new(u())).retain(e).insert(t,r()(i)))}},{key:"isBlank",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(0===this.scroll.children.length)return!0;if(e)return!1;if(this.scroll.children.length>1)return!1;var t=this.scroll.children.head;return t.statics.blotName===f.ZP.blotName&&!(t.children.length>1)&&t.children.head instanceof m.Z}},{key:"removeFormat",value:function(e,t){var n=this.getText(e,t),i=S(this.scroll.line(e+t),2),r=i[0],o=i[1],s=0,a=new(u());null!=r&&(s=r.length()-o,a=r.delta().slice(o,o+s-1).insert("\n"));var l=this.getContents(e,t+s).diff((new(u())).insert(n).concat(a)),c=(new(u())).retain(e).concat(l);return this.applyDelta(c)}},{key:"update",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,i=this.delta;if(1===t.length&&"characterData"===t[0].type&&t[0].target.data.match(T)&&this.scroll.find(t[0].target)){var r=this.scroll.find(t[0].target),o=(0,f.E2)(r),a=r.offset(this.scroll),l=t[0].oldValue.replace(p.Z.CONTENTS,""),c=(new(u())).insert(l),d=(new(u())).insert(r.value()),h=n&&{oldRange:F(n.oldRange,-a),newRange:F(n.newRange,-a)};e=(new(u())).retain(a).concat(c.diff(d,h)).reduce(function(e,t){return t.insert?e.insert(t.insert,o):e.push(t)},new(u())),this.delta=i.compose(e)}else this.delta=this.getDelta(),e&&s()(i.compose(e),this.delta)||this.deltaContainsRetain(i)||(e=i.diff(this.delta,n));return e}},{key:"deltaContainsRetain",value:function(e){return e.ops.some(function(e){return(0,g.Z)(e.retain)})}}],n&&D(t.prototype,n),i&&D(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function P(e,t,n){if(0===e.length){var i=S(B(n.pop()),1)[0];return t<=0?"</li></".concat(i,">"):"</li></".concat(i,">").concat(P([],t-1,n))}var r=v(e),o=r[0],s=o.child,a=o.offset,l=o.length,c=o.indent,u=o.type,d=r.slice(1),h=S(B(u,s),2),p=h[0],f=h[1];if(c>t)return n.push(u),c===t+1?"<".concat(p,"><li").concat(f,">").concat(M(s,a,l)).concat(P(d,c,n)):"<".concat(p,"><li>").concat(P(e,t+1,n));var m=n[n.length-1];if(c===t&&u===m)return"</li><li".concat(f,">").concat(M(s,a,l)).concat(P(d,c,n));var _=S(B(n.pop()),1)[0];return"</li></".concat(_,">").concat(P(e,t-1,n))}function M(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"===typeof e.html)return e.html(t,n);if(e instanceof _.Z)return(0,_.b)(e.value().slice(t,t+n));if(e.children){if("list-container"===e.statics.blotName){var r=[];return e.children.forEachAt(t,n,function(e,t,n){var i=e.formats();r.push({child:e,offset:t,length:n,indent:i.indent||0,type:i.list})}),P(r,-1,[])}var o=[];if(e.children.forEachAt(t,n,function(e,t,n){o.push(M(e,t,n))}),function(e,t){1===e.length&&e.head instanceof m.Z&&t.push("<br>")}(e.children,o),i||"list"===e.statics.blotName)return o.join("");var s=function(e){var t=e.domNode.cloneNode(!0);return function(e,t){var n,i;return["tableCellLine","tableHeaderCellLine","tableCell","tableHeaderCell"].includes(e.statics.blotName)&&(n=t,i=e.statics.className,n.classList.remove(i),0===n.classList.length&&n.removeAttribute("class")),t}(e,t)}(e),a=s.outerHTML,l=s.innerHTML,c=S(a.split(">".concat(l,"<")),2),u=c[0],d=c[1];return 0===u.indexOf("<table")?"".concat(u.replace(/(\sdata-.+?=["'].*?["'])/g,""),">").concat(o.join("").replace(/(\sdata-table.+?=["'].*?["'])/g,""),"<").concat(d):"".concat(u,">").concat(o.join(""),"<").concat(d)}return e.domNode.outerHTML}function R(e,t){return Object.keys(t).reduce(function(n,i){return null==e[i]||(t[i]===e[i]?n[i]=t[i]:Array.isArray(t[i])?t[i].indexOf(e[i])<0&&(n[i]=t[i].concat([e[i]])):n[i]=[t[i],e[i]]),n},{})}function B(e,t){var n="ordered"===e?"ol":"ul",i=t?"".concat(function(e){var t=e.domNode;if(!t.hasAttributes())return"";for(var n=t.attributes,i=" ",r=0;r<n.length;r+=1){var o=n[r].name,s=n[r].value;"class"===o&&(s=N(s)),s.length&&-1===o.indexOf("data-")&&(i+="".concat(o,'="').concat(s,'"'))}return i.length>1?i:""}(t)):"";switch(e){case"checked":return[n,"".concat(i,' data-list="checked"')];case"unchecked":return[n,"".concat(i,' data-list="unchecked"')];default:return[n,i]}}function N(e){return e.replace(/ql-indent-\d/g,"").trim()}function F(e,t){var n=e.index,i=e.length;return new h.e(n+t,i)}const $=A},2069:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var i=n(3034),r=n.n(i),o=n(8034),s=n(2598);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,c(i.key),i)}}function c(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function u(){return u="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},u.apply(this,arguments)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=p(e);if(t){var r=p(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var f=(0,n(3122).Z)("quill:events");(0,o.Z)()&&["selectionchange","mousedown","mouseup","click"].forEach(function(e){document.addEventListener(e,function(){for(var e,t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];var r=n[0],o=null===r||void 0===r||null===(e=r.target)||void 0===e?void 0:e.shadowRoot,a=(null!==o&&void 0!==o?o:document).querySelectorAll(".ql-container");Array.from(a).forEach(function(e){var t,i=s.Z.get(e);i&&i.emitter&&(t=i.emitter).handleDOM.apply(t,n)})})});var m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(o,e);var t,n,i,r=h(o);function o(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(e=r.call(this)).listeners={},e.on("error",f.error),e}return t=o,n=[{key:"emit",value:function(){for(var e,t,n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];(e=f.log).call.apply(e,[f].concat(i)),(t=u(p(o.prototype),"emit",this)).call.apply(t,[this].concat(i))}},{key:"handleDOM",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];(this.listeners[e.type]||[]).forEach(function(t){var i=t.node,r=t.handler;(e.target===i||i.contains(e.target))&&r.apply(void 0,[e].concat(n))})}},{key:"listenDOM",value:function(e,t,n){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({node:t,handler:n})}}],n&&l(t.prototype,n),i&&l(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(r());m.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",CONTENT_SETTED:"content-setted",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"},m.sources={API:"api",SILENT:"silent",USER:"user"};const _=m},2598:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=new WeakMap},3122:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var i=["error","warn","log","info"],r="warn";function o(e){if(i.indexOf(e)<=i.indexOf(r)){for(var t,n=arguments.length,o=new Array(n>1?n-1:0),s=1;s<n;s++)o[s-1]=arguments[s];(t=console)[e].apply(t,o)}}function s(e){return i.reduce(function(t,n){return t[n]=o.bind(console,n,e),t},{})}s.level=function(e){r=e},o.level=s.level;const a=s},7094:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function o(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function s(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}n.d(t,{Z:()=>l});var a=o(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n});a.DEFAULTS={};const l=a},281:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>D});var i=n(9098),r=n.n(i),o=n(8805),s=n.n(o),a=n(732),l=n.n(a),c=n(1233),u=n(2861),d=n(2069),h=n(7094),p=n(7800),f=n(2598),m=n(3122),_=n(1690),g=n(5874),v=n(6229);function y(e){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y(e)}function b(e,t,n){return(t=w(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"===typeof e)return x(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?x(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function S(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,w(i.key),i)}}function w(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==y(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}var E=(0,m.Z)("quill"),I="style-data-key",k=new c.Registry;c.ParentBlot.uiClass="ql-ui";var D=function(){function e(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options=O(t,i),this.container=this.options.container,null==this.container)return E.error("Invalid Quill container",t);this.options.debug&&e.debug(this.options.debug);var r=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",f.Z.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new d.Z;var o=this.options.registry.query(c.ScrollBlot.blotName);this.scroll=new o(this.options.registry,this.root,{emitter:this.emitter,toggleBlankClass:this.toggleBlankClass.bind(this)}),this.editor=new u.Z(this.scroll),this.composition=new v.Z(this.scroll,this.emitter),this.selection=new p.Z(this.scroll,this.emitter,this.composition),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.init(),this.emitter.on(d.Z.events.EDITOR_CHANGE,function(e){e===d.Z.events.TEXT_CHANGE&&n.toggleBlankClass()}),this.emitter.on(d.Z.events.SCROLL_UPDATE,function(e,t){var i=n.selection.lastRange,r=C(n.selection.getRange(),1)[0],o=i&&r?{oldRange:i,newRange:r}:void 0;T.call(n,function(){return n.editor.update(null,t,o)},e)}),this.setContents(this.getInitialContent(r)),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}var t,n,i;return t=e,n=[{key:"getInitialContent",value:function(e){return this.clipboard.convert({html:"".concat(e,"<p><br></p>"),text:"\n"})}},{key:"toggleBlankClass",value:function(){var e=this.composition.isCompositionInProgress();this.root.classList.toggle("ql-blank",this.editor.isBlank(e))}},{key:"addContainer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"===typeof e){var n=e;(e=document.createElement("div")).classList.add(n)}return this.container.insertBefore(e,t),e}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(e,t,n){var i=this,r=C(A(e,t,n),4);return e=r[0],t=r[1],n=r[3],T.call(this,function(){return i.editor.deleteText(e,t)},n,e,-1*t)}},{key:"disable",value:function(){this.enable(!1)}},{key:"editReadOnly",value:function(e){this.allowReadOnlyEdits=!0;var t=e();return this.allowReadOnlyEdits=!1,t}},{key:"enable",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(e),this.container.classList.toggle("ql-disabled",!e)}},{key:"focus",value:function(){var e=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=e,this.scrollIntoView()}},{key:"format",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d.Z.sources.API;return this.applyCompositionChanges(),T.call(this,function(){var i=n.getSelection(!0),o=new(r());if(null==i)return o;if(n.scroll.query(e,c.Scope.BLOCK))o=n.editor.formatLine(i.index,i.length,b({},e,t));else{if(0===i.length)return n.selection.format(e,t),o;o=n.editor.formatText(i.index,i.length,b({},e,t))}return n.setSelection(i,d.Z.sources.SILENT),o},i)}},{key:"formatLine",value:function(e,t,n,i,r){var o,s=this,a=C(A(e,t,n,i,r),4);return e=a[0],t=a[1],o=a[2],r=a[3],T.call(this,function(){return s.editor.formatLine(e,t,o)},r,e,0)}},{key:"formatText",value:function(e,t,n,i,r){var o,s=this,a=C(A(e,t,n,i,r),4);return e=a[0],t=a[1],o=a[2],r=a[3],T.call(this,function(){return s.editor.formatText(e,t,o)},r,e,0)}},{key:"getBounds",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t="number"===typeof e?this.selection.getBounds(e,n):this.selection.getBounds(e.index,e.length);var i=this.container.getBoundingClientRect();return{bottom:t.bottom-i.top,height:t.height,left:t.left-i.left,right:t.right-i.left,top:t.top-i.top,width:t.width}}},{key:"getContents",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=C(A(e,t),2);return e=n[0],t=n[1],this.editor.getContents(e,t)}},{key:"getFormat",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,g.Z)(e)?"number"===typeof e?this.editor.getFormat(e,t):this.editor.getFormat(e.index,e.length):{}}},{key:"getIndex",value:function(e){return e.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(e){return this.scroll.leaf(e)}},{key:"getLine",value:function(e){return this.scroll.line(e)}},{key:"getLines",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!==typeof e?this.scroll.lines(e.index,e.length):this.scroll.lines(e,t)}},{key:"getModule",value:function(e){return this.theme.modules[e]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getSemanticHTML",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=C(A(e,t),2);return e=n[0],t=n[1],this.editor.getHTML(e,t)}},{key:"getText",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-e,n=C(A(e,t),2);return e=n[0],t=n[1],this.editor.getText(e,t)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(t,n,i){var r=this,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e.sources.API;return T.call(this,function(){return r.editor.insertEmbed(t,n,i)},o,t)}},{key:"insertText",value:function(e,t,n,i,r){var o,s=this,a=C(A(e,0,n,i,r),4);return e=a[0],o=a[2],r=a[3],T.call(this,function(){return s.editor.insertText(e,t,o)},r,e,t.length)}},{key:"isEnabled",value:function(){return this.scroll.isEnabled()}},{key:"off",value:function(){var e;return(e=this.emitter).off.apply(e,arguments)}},{key:"on",value:function(){var e;return(e=this.emitter).on.apply(e,arguments)}},{key:"once",value:function(){var e;return(e=this.emitter).once.apply(e,arguments)}},{key:"removeFormat",value:function(e,t,n){var i=this,r=C(A(e,t,n),4);return e=r[0],t=r[1],n=r[3],T.call(this,function(){return i.editor.removeFormat(e,t)},n,e)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(t){var n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.Z.sources.API;return T.call(this,function(){t=new(r())(t);var i=n.getLength(),o=n.editor.deleteText(0,i),s=n.editor.applyDelta(t),a=n.editor.deleteText(n.getLength()-1,1);return n.emitter.emit(e.events.CONTENT_SETTED),o.compose(s).compose(a)},i)}},{key:"setSelection",value:function(t,n,i){if(null==t)this.selection.setRange(null,n||e.sources.API);else{var r=C(A(t,n,i),4);t=r[0],n=r[1],i=r[3],this.selection.setRange(new p.e(Math.max(0,t),n),i),i!==d.Z.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.Z.sources.API,n=(new(r())).insert(e);return this.setContents(n,t)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.Z.sources.USER,t=this.scroll.update(e);return this.selection.update(e),t}},{key:"updateContents",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:d.Z.sources.API;return T.call(this,function(){return e=new(r())(e),t.editor.applyDelta(e,n)},n,!0)}},{key:"applyCompositionChanges",value:function(){this.composition.handleCompositionEnd({})}}],i=[{key:"debug",value:function(e){!0===e&&(e="log"),m.Z.level(e)}},{key:"find",value:function(e){return f.Z.get(e)||k.find(e)}},{key:"import",value:function(e){return null==this.imports[e]&&E.error("Cannot import ".concat(e,". Are you sure it was registered?")),this.imports[e]}},{key:"register",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!==typeof e){var r=e.attrName||e.blotName;"string"===typeof r?this.register("formats/".concat(r),e,t):Object.keys(e).forEach(function(i){n.register(i,e[i],t)})}else null==this.imports[e]||i||E.warn("Overwriting ".concat(e," with"),t),this.imports[e]=t,0!==e.indexOf("blots/")&&0!==e.indexOf("formats/")||"abstract"===t.blotName||k.register(t),"function"===typeof t.register&&t.register(k)}}],n&&S(t.prototype,n),i&&S(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();function O(e,t){if((t=l()({container:e,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0}},t)).theme&&t.theme!==D.DEFAULTS.theme){if(t.theme=D.import("themes/".concat(t.theme)),null==t.theme)throw new Error("Invalid theme ".concat(t.theme,". Did you register it?"))}else t.theme=_.Z;var n=s()(t.theme.DEFAULTS);[n,t].forEach(function(e){e.modules=e.modules||{},Object.keys(e.modules).forEach(function(t){!0===e.modules[t]&&(e.modules[t]={})})});var i=Object.keys(n.modules).concat(Object.keys(t.modules)).reduce(function(e,t){var n=D.import("modules/".concat(t));return null==n?E.error("Cannot load ".concat(t," module. Are you sure you registered it?")):e[t]=n.DEFAULTS||{},e},{});return null!=t.modules&&t.modules.toolbar&&t.modules.toolbar.constructor!==Object&&(t.modules.toolbar={container:t.modules.toolbar}),t=l()({},D.DEFAULTS,{modules:i},n,t),["bounds","container","scrollingContainer"].forEach(function(e){"string"===typeof t[e]&&(t[e]=document.querySelector(t[e]))}),t.modules=Object.keys(t.modules).reduce(function(e,n){return t.modules[n]&&(e[n]=t.modules[n]),e},{}),t}function T(e,t,n,i){if(!this.isEnabled()&&t===d.Z.sources.USER&&!this.allowReadOnlyEdits)return new(r());var o=null==n?null:this.getSelection(),s=this.editor.delta,a=e();if(null!=o&&(!0===n&&(n=o.index),null==i?o=P(o,a,t):0!==i&&(o=P(o,n,i,t)),this.setSelection(o,d.Z.sources.SILENT)),a.length()>0){var l,c,u=[d.Z.events.TEXT_CHANGE,a,s,t];(l=this.emitter).emit.apply(l,[d.Z.events.EDITOR_CHANGE].concat(u)),t!==d.Z.sources.SILENT&&(c=this.emitter).emit.apply(c,u)}return a}function A(e,t,n,i,r){var o={};return"number"===typeof e.index&&"number"===typeof e.length?"number"!==typeof t?(r=i,i=n,n=t,t=e.length,e=e.index):(t=e.length,e=e.index):"number"!==typeof t&&(r=i,i=n,n=t,t=0),"object"===y(n)?(o=n,r=i):"string"===typeof n&&(null!=i?o[n]=i:r=n),[e,t,o,r=r||d.Z.sources.API]}function P(e,t,n,i){if(null==e)return null;var o,s;if(t instanceof r()){var a=C([e.index,e.index+e.length].map(function(e){return t.transformPosition(e,i!==d.Z.sources.USER)}),2);o=a[0],s=a[1]}else{var l=C([e.index,e.index+e.length].map(function(e){return e<t||e===t&&i===d.Z.sources.USER?e:n>=0?e+n:Math.max(t,e+n)}),2);o=l[0],s=l[1]}return new p.e(o,s-o)}D.DEFAULTS={bounds:null,modules:{},placeholder:"",readOnly:!1,registry:k,scrollingContainer:null,theme:"default"},D.events=d.Z.events,D.sources=d.Z.sources,D.version="1.7.2",D.MS_LIST_DATA_KEY="mso-list-data",D.replaceStyleAttribute=function(e){return e.replace(/(?:(<[a-z0-9]+\s*))([\s\S]*?)(>|\/>)/gi,function(e,t,n,i){return t+n.replace(/style\s*=/gi,"".concat(I,"="))+i})},D.restoreStyleAttribute=function(e){e.querySelectorAll("[".concat(I,"]")).forEach(function(e){var t=e.getAttribute(I);e.style=t,e.setAttribute(D.MS_LIST_DATA_KEY,t),e.removeAttribute(I)})},D.imports={delta:r(),parchment:c,"core/module":h.Z,"core/theme":_.Z}},7800:(e,t,n)=>{"use strict";n.d(t,{Z:()=>C,e:()=>b});var i=n(1233),r=n(8805),o=n.n(r),s=n(2722),a=n.n(s),l=n(2069);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e){return function(e){if(Array.isArray(e))return p(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||h(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(e,t)||h(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){if(e){if("string"===typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?p(e,t):void 0}}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function f(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_(i.key),i)}}function m(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function _(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==c(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===c(t)?t:String(t)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var v=(0,n(3122).Z)("quill:selection");function y(e){return e<0?0:e}var b=m(function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;g(this,e),this.index=t,this.length=n}),C=function(){function e(t,n,i){var r=this;g(this,e),this.emitter=n,this.scroll=t,this.composition=i,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new b(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){r.mouseDown||r.composition.isCompositionInProgress()||setTimeout(r.update.bind(r,l.Z.sources.USER),1)}),this.emitter.on(l.Z.events.SCROLL_BEFORE_UPDATE,function(){if(r.hasFocus()){var e=r.getNativeRange();null!=e&&e.start.node!==r.cursor.textNode&&r.emitter.once(l.Z.events.SCROLL_UPDATE,function(){try{r.root.contains(e.start.node)&&r.root.contains(e.end.node)&&r.setNativeRange(e.start.node,e.start.offset,e.end.node,e.end.offset),r.update(l.Z.sources.SILENT)}catch(t){}})}}),this.emitter.on(l.Z.events.SCROLL_OPTIMIZE,function(e,t){if(t.range){var n=t.range,i=n.startNode,o=n.startOffset,s=n.endNode,a=n.endOffset;r.setNativeRange(i,o,s,a),r.update(l.Z.sources.SILENT)}}),this.update(l.Z.sources.SILENT)}return m(e,[{key:"handleDragging",value:function(){var e=this;this.emitter.listenDOM("mousedown",document.body,function(){e.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){e.mouseDown=!1,e.update(l.Z.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(e,t){this.scroll.update();var n=this.getNativeRange();if(null!=n&&n.native.collapsed&&!this.scroll.query(e,i.Scope.BLOCK)){if(n.start.node!==this.cursor.textNode){var r=this.scroll.find(n.start.node,!1);if(null==r)return;if(r instanceof i.LeafBlot){var o=r.split(n.start.offset);r.parent.insertBefore(this.cursor,o)}else r.insertBefore(this.cursor,n.start.node);this.cursor.attach()}this.cursor.format(e,t),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}},{key:"getBounds",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.scroll.length();e=Math.min(e,i-1),n=Math.min(e+n,i-1)-e;var r=d(this.scroll.leaf(e),2),o=r[0],s=r[1];if(null==o)return null;var a=d(this.getPositionData(o,s,!0),2);t=a[0],s=a[1];var l=document.createRange();if(n>0){l.setStart(t,s);var c=d(this.scroll.leaf(e+n),2);if(o=c[0],s=c[1],null==o)return null;var u=d(this.getPositionData(o,s,!0),2);return t=u[0],s=u[1],l.setEnd(t,s),l.getBoundingClientRect()}var h,p="left";if(t instanceof Text){if(s<t.data.length)l.setStart(t,s),l.setEnd(t,s+1);else{var f=y(s-1);l.setStart(t,f),l.setEnd(t,s),p="right"}h=l.getBoundingClientRect()}else h=o.domNode.getBoundingClientRect(),s>0&&(p="right");return{bottom:h.top+h.height,height:h.height,left:h[p],right:h[p],top:h.top,width:0}}},{key:"getNativeRange",value:function(){var e,t,n=this.root.getRootNode(),i=null!==(e=null===(t=n.getSelection)||void 0===t?void 0:t.call(n))&&void 0!==e?e:document.getSelection();if(null==i||i.rangeCount<=0)return null;var r=i.getRangeAt(0);if(null==r)return null;var o=this.normalizeNative(r);return v.info("getNativeRange",o),o}},{key:"getRange",value:function(){var e=this.getNativeRange();return null==e?[null,null]:[this.normalizedToRange(e),e]}},{key:"hasFocus",value:function(){var e=this.root.getRootNode();return e.activeElement===this.root||x(this.root,e.activeElement)}},{key:"normalizedToRange",value:function(e){var t=this,n=[[e.start.node,e.start.offset]];e.native.collapsed||n.push([e.end.node,e.end.offset]);var r=n.map(function(e){var n=d(e,2),r=n[0],o=n[1],s=t.scroll.find(r,!0),a=s.offset(t.scroll);return 0===o?a:s instanceof i.LeafBlot?a+s.index(r,o):a+s.length()}),o=Math.min(Math.max.apply(Math,u(r)),this.scroll.length()-1),s=Math.min.apply(Math,[o].concat(u(r)));return new b(s,o-s)}},{key:"normalizeNative",value:function(e){if(!x(this.root,e.startContainer)||!e.collapsed&&!x(this.root,e.endContainer))return null;var t={start:{node:e.startContainer,offset:e.startOffset},end:{node:e.endContainer,offset:e.endOffset},native:e};return[t.start,t.end].forEach(function(e){for(var t=e.node,n=e.offset;!(t instanceof Text)&&t.childNodes.length>0;)if(t.childNodes.length>n)t=t.childNodes[n],n=0;else{if(t.childNodes.length!==n)break;n=(t=t.lastChild)instanceof Text?t.data.length:t.childNodes.length>0?t.childNodes.length:t.childNodes.length+1}e.node=t,e.offset=n}),t}},{key:"rangeToNative",value:function(e){var t=this,n=e.collapsed?[e.index]:[e.index,e.index+e.length],i=[],r=this.scroll.length();return n.forEach(function(e,n){e=Math.min(r-1,e);var o=d(t.scroll.leaf(e),2),s=o[0],a=o[1],l=d(t.getPositionData(s,a,0!==n),2),c=l[0],u=l[1];i.push(c,u)}),i.length<2?i.concat(i):i}},{key:"getPositionData",value:function(e,t,n){return e instanceof i.LeafBlot?e.position(t,n):[e.domNode,t]}},{key:"scrollIntoView",value:function(e){var t=this.lastRange;if(null!=t){var n=this.getBounds(t.index,t.length);if(null!=n){var i=this.scroll.length()-1,r=d(this.scroll.line(Math.min(t.index,i)),1)[0],o=r;if(t.length>0&&(o=d(this.scroll.line(Math.min(t.index+t.length,i)),1)[0]),null!=r&&null!=o){var s=e.getBoundingClientRect();n.top<s.top?e.scrollTop-=s.top-n.top:n.bottom>s.bottom&&(e.scrollTop+=n.bottom-s.bottom)}}}}},{key:"setNativeRange",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:t,r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(v.info("setNativeRange",e,t,n,i),null==e||null!=this.root.parentNode&&null!=e.parentNode&&null!=n.parentNode){var o=document.getSelection();if(null!=o)if(null!=e){this.hasFocus()||this.root.focus();var s=(this.getNativeRange()||{}).native;if(null==s||r||e!==s.startContainer||t!==s.startOffset||n!==s.endContainer||i!==s.endOffset){"BR"===e.tagName&&(t=Array.from(e.parentNode.childNodes).indexOf(e),e=e.parentNode),"BR"===n.tagName&&(i=Array.from(n.parentNode.childNodes).indexOf(n),n=n.parentNode);var a=document.createRange();t=y(t),i=y(i),a.setStart(e,t),a.setEnd(n,i),o.removeAllRanges(),o.addRange(a)}}else o.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.Z.sources.API;if("string"===typeof t&&(n=t,t=!1),v.info("setRange",e),null!=e){var i=this.rangeToNative(e);this.setNativeRange.apply(this,u(i).concat([t]))}else this.setNativeRange(null);this.update(n)}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l.Z.sources.USER,t=this.lastRange,n=d(this.getRange(),2),i=n[0],r=n[1];if(this.lastRange=i,this.lastNative=r,null!=this.lastRange&&(this.savedRange=this.lastRange),!a()(t,this.lastRange)){var s;if(!this.composition.isCompositionInProgress()&&null!=r&&r.native.collapsed&&r.start.node!==this.cursor.textNode){var c=this.cursor.restore();c&&this.setNativeRange(c.startNode,c.startOffset,c.endNode,c.endOffset)}var u,h=[l.Z.events.SELECTION_CHANGE,o()(this.lastRange),o()(t),e];(s=this.emitter).emit.apply(s,[l.Z.events.EDITOR_CHANGE].concat(h)),e!==l.Z.sources.SILENT&&(u=this.emitter).emit.apply(u,h)}}}]),e}();function x(e,t){try{t.parentNode}catch(n){return!1}return t instanceof Text&&(t=t.parentNode),e.contains(t)}},1690:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,o(i.key),i)}}function o(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}n.d(t,{Z:()=>a});var s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.quill=t,this.options=n,this.modules={}}var t,n,i;return t=e,(n=[{key:"init",value:function(){var e=this;Object.keys(this.options.modules).forEach(function(t){null==e.modules[t]&&e.addModule(t)})}},{key:"addModule",value:function(e){var t=this.quill.constructor.import("modules/".concat(e));return this.modules[e]=new t(this.quill,this.options.modules[e]||{}),this.modules[e]}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),e}();s.DEFAULTS={modules:{}},s.themes={default:s};const a=s},715:(e,t,n)=>{"use strict";n.d(t,{HE:()=>a,dk:()=>s,if:()=>o});var i=n(1233),r={scope:i.Scope.BLOCK,whitelist:["right","center","justify"]},o=new i.Attributor("align","align",r),s=new i.ClassAttributor("align","ql-align",r),a=new i.StyleAttributor("align","text-align",r)},7898:(e,t,n)=>{"use strict";n.d(t,{Y:()=>o,w:()=>s});var i=n(1233),r=n(6039),o=new i.ClassAttributor("background","ql-bg",{scope:i.Scope.INLINE}),s=new r.OO("background","background-color",{scope:i.Scope.INLINE})},3991:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,o(i.key),i)}}function o(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}function s(){return s="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},s.apply(this,arguments)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}n.d(t,{Z:()=>d});var u=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(u,e);var t,n,i,o=l(u);function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),o.apply(this,arguments)}return t=u,i=[{key:"create",value:function(){return s(c(u),"create",this).call(this)}},{key:"formats",value:function(){return!0}}],(n=[{key:"optimize",value:function(e){s(c(u.prototype),"optimize",this).call(this,e),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(6603).Z);u.blotName="bold",u.tagName=["STRONG","B"];const d=u},7309:(e,t,n)=>{"use strict";n.d(t,{EK:()=>x,ZP:()=>C,se:()=>b});var i=n(6446),r=n(4122),o=n(3657),s=n(6603),a=n(8222),l=n(3553),c=n(281);function u(e){return u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u(e)}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,f(i.key),i)}}function p(e,t,n){return t&&h(e.prototype,t),n&&h(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e){var t=function(e,t){if("object"!==u(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==u(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===u(t)?t:String(t)}function m(){return m="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=y(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},m.apply(this,arguments)}function _(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&g(e,t)}function g(e,t){return g=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},g(e,t)}function v(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=y(e);if(t){var r=y(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===u(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function y(e){return y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y(e)}var b=function(e){_(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,[{key:"code",value:function(e,t){var n=this.children.map(function(e){return e.length()<=1?"":e.domNode.textContent}).join("\n").slice(e,e+t);return(0,a.b)(n)}},{key:"html",value:function(e,t){return"<pre>\n".concat(this.code(e,t),"\n</pre>")}}],[{key:"create",value:function(e){var t=m(y(n),"create",this).call(this,e);return t.setAttribute("spellcheck",!1),t}}]),n}(l.Z),C=function(e){_(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n,null,[{key:"register",value:function(){c.ZP.register(b)}}]),n}(i.ZP),x=function(e){_(n,e);var t=v(n);function n(){return d(this,n),t.apply(this,arguments)}return p(n)}(s.Z);x.blotName="code",x.tagName="CODE",C.blotName="code-block",C.className="ql-code-block",C.tagName="DIV",b.blotName="code-block-container",b.className="ql-code-block-container",b.tagName="DIV",b.allowedChildren=[C],C.allowedChildren=[a.Z,r.Z,o.Z],C.requiredContainer=b,C.TAB="  "},6039:(e,t,n)=>{"use strict";n.d(t,{HQ:()=>p,Hn:()=>h,OO:()=>d});var i=n(1233);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function s(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}function a(){return a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},a.apply(this,arguments)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var d=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(s,e);var t,n,i,r=c(s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),r.apply(this,arguments)}return t=s,(n=[{key:"value",value:function(e){var t=a(u(s.prototype),"value",this).call(this,e);if(0!==t.indexOf("rgb("))return t;t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"");var n=t.split(",").map(function(e){return"00".concat(parseInt(e,10).toString(16)).slice(-2)}).join("");return"#".concat(n)}}])&&o(t.prototype,n),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.StyleAttributor),h=new i.ClassAttributor("color","ql-color",{scope:i.Scope.INLINE}),p=new d("color","color",{scope:i.Scope.INLINE})},4048:(e,t,n)=>{"use strict";n.d(t,{H8:()=>a,IF:()=>o,hY:()=>s});var i=n(1233),r={scope:i.Scope.BLOCK,whitelist:["rtl"]},o=new i.Attributor("direction","dir",r),s=new i.ClassAttributor("direction","ql-direction",r),a=new i.StyleAttributor("direction","direction",r)},5832:(e,t,n)=>{"use strict";n.d(t,{H:()=>f,_:()=>h});var i=n(1233);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,s(i.key),i)}}function s(e){var t=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===r(t)?t:String(t)}function a(){return a="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},a.apply(this,arguments)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function c(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=u(e);if(t){var o=u(this).constructor;n=Reflect.construct(i,arguments,o)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===r(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}var d={scope:i.Scope.INLINE,whitelist:["serif","monospace"]},h=new i.ClassAttributor("font","ql-font",d),p=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(s,e);var t,n,i,r=c(s);function s(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),r.apply(this,arguments)}return t=s,(n=[{key:"value",value:function(e){return a(u(s.prototype),"value",this).call(this,e).replace(/["']/g,"")}}])&&o(t.prototype,n),i&&o(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(i.StyleAttributor),f=new p("font","font-family",d)},7256:(e,t,n)=>{"use strict";function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function r(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,o(i.key),i)}}function o(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==i(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}function s(){return s="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},s.apply(this,arguments)}function a(e,t){return a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},a(e,t)}function l(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=c(e);if(t){var o=c(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===i(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function c(e){return c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},c(e)}n.d(t,{N:()=>d,Z:()=>u});var u=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a(e,t)}(u,e);var t,n,i,o=l(u);function u(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,u),o.apply(this,arguments)}return t=u,i=[{key:"create",value:function(e){var t=s(c(u),"create",this).call(this,e);return t.setAttribute("href",this.sanitize(e)),t.setAttribute("rel","noopener noreferrer"),t.setAttribute("target","_blank"),t}},{key:"formats",value:function(e){return e.getAttribute("href")}},{key:"sanitize",value:function(e){return d(e,this.PROTOCOL_WHITELIST)?e:this.SANITIZED_URL}}],(n=[{key:"format",value:function(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("href",this.constructor.sanitize(t)):s(c(u.prototype),"format",this).call(this,e,t)}}])&&r(t.prototype,n),i&&r(t,i),Object.defineProperty(t,"prototype",{writable:!1}),u}(n(6603).Z);function d(e,t){var n=document.createElement("a");n.href=e;var i=n.href.slice(0,n.href.indexOf(":"));return t.indexOf(i)>-1}u.blotName="link",u.tagName="A",u.SANITIZED_URL="about:blank",u.PROTOCOL_WHITELIST=["http","https","mailto","tel"]},1629:(e,t,n)=>{"use strict";n.d(t,{Z:()=>o,m:()=>r});var i=n(1233),r=new i.ClassAttributor("size","ql-size",{scope:i.Scope.INLINE,whitelist:["small","large","huge"]}),o=new i.StyleAttributor("size","font-size",{scope:i.Scope.INLINE,whitelist:["10px","18px","32px"]})},1342:(e,t,n)=>{"use strict";n.d(t,{Du:()=>u,h6:()=>d,kk:()=>c,yA:()=>l});var i=n(6062),r=n(1801),o=n(8252);function s(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var l=o.F1.map(function(e){return(0,i.Z)(o.Pw,e)}),c=o.Mu.map(function(e){return(0,r.Z)(o.Pw,e)}),u=c.reduce(function(e,t){return e[t.attrName]=t,e},{}),d=[].concat(s(l),s(c)).reduce(function(e,t){return e[t.keyName]=t,e},{})},8252:(e,t,n)=>{"use strict";n.d(t,{F1:()=>r,Mu:()=>o,Pw:()=>i,fU:()=>s});var i={name:"cell",allowedTags:["TH","TD","TR"]},r=["height","width"],o=["height","width","vertical-align","text-align","background-color","border","border-style","border-width","border-color","padding","padding-top","padding-right","padding-bottom","padding-left"],s=new Set([].concat(r,o))},6062:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var i=n(1674),r=n(2141),o=n(3398),s=["name"];function a(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function l(e,t){var n=e.name,l=a(e,s),c="".concat(n).concat((0,r.Z)(t)),u="".concat(o.WT.attribute).concat(n,"_").concat(t);return new i.Z(c,u,l)}},1801:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var i=n(4569),r=n(2141),o=n(3398),s=["name","formatName"];function a(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"===typeof e)return l(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?l(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function l(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function c(e,t){if(null==e)return{};var n,i,r=function(e,t){if(null==e)return{};var n,i,r={},o=Object.keys(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(i=0;i<o.length;i++)n=o[i],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}function u(e,t){var n=e.name,l=e.formatName,u=c(e,s),d=a(t.split("-"),2),h=d[0],p=d[1],f="".concat(n).concat((0,r.Z)(null!==l&&void 0!==l?l:h)).concat(p?(0,r.Z)(p):""),m="".concat(o.WT.style).concat(n,"_").concat(t);return new i.Z(f,m,u)}},319:(e,t,n)=>{"use strict";n.d(t,{Qu:()=>l,VT:()=>c,Zt:()=>d,li:()=>u});var i=n(6062),r=n(1801),o=n(19);function s(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"===typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}var l=o.N2.map(function(e){return(0,i.Z)(o.Sp,e)}),c=o.GX.map(function(e){return(0,r.Z)(o.Sp,e)}),u=c.reduce(function(e,t){return e[t.attrName]=t,e},{}),d=[].concat(s(l),s(c)).reduce(function(e,t){return e[t.keyName]=t,e},{})},19:(e,t,n)=>{"use strict";n.d(t,{GX:()=>o,N2:()=>r,Sp:()=>i,bc:()=>s});var i={name:"table",allowedTags:["TABLE"]},r=["height","width"],o=["height","width","text-align","background-color","border","border-style","border-width","border-color"],s=new Set([].concat(r,o))},8536:(e,t,n)=>{"use strict";function i(){return Math.random().toString(36).slice(2,6)}n.d(t,{Z:()=>i})},1969:(e,t,n)=>{"use strict";n.d(t,{KA:()=>B,Lv:()=>L,RM:()=>F,SC:()=>R,iD:()=>O,pj:()=>A,xD:()=>$,xJ:()=>H,xs:()=>P,zW:()=>D});var i=n(6446),r=n(4122),o=n(3553),s=n(5874),a=n(1342),l=n(319),c=n(8536),u=n(2795);function d(e){return d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d(e)}function h(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(e,t)||f(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e){return function(e){if(Array.isArray(e))return m(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||f(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){if(e){if("string"===typeof e)return m(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?m(e,t):void 0}}function m(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,y(i.key),i)}}function v(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function y(e){var t=function(e,t){if("object"!==d(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==d(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===d(t)?t:String(t)}function b(){return b="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=w(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},b.apply(this,arguments)}function C(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=w(e);if(t){var r=w(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===d(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var E=["row","cell"],I="data-table-";function k(e,t,n){e.forEachAt(t,n,function(e,t,n){e.deleteAt(t,n)})}var D=function(e){C(n,e);var t=S(n);function n(){return _(this,n),t.apply(this,arguments)}return v(n,[{key:"optimize",value:function(){var e,t=this.domNode.getAttribute("".concat(I,"row"));if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var i=this.domNode,r={row:t};Object.keys(a.Du).forEach(function(e){var t=i.dataset[e.toLowerCase()];t&&(r[e]=t)}),this.wrap(this.statics.requiredContainer.blotName,r)}for(var o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];(e=b(w(n.prototype),"optimize",this)).call.apply(e,[this].concat(s))}},{key:"format",value:function(e,t){"tableCellLine"===e&&null===t&&(t=this.formats().tableCellLine);var i=E.indexOf(e)>-1;if(i||l.li[e]||a.Du[e]){var r,o,s="data-".concat(i?"table-":"").concat(e.toLowerCase());(0,u.Z)(this.domNode,s,t),a.Du[e]&&(null===(r=this.cell())||void 0===r||r.format(e,t)),l.li[e]&&(null===(o=this.cell())||void 0===o||null===(o=o.table())||void 0===o||o.format(e,t))}else b(w(n.prototype),"format",this).call(this,e,t)}},{key:"cell",value:function(){return"row"in this.parent?this.parent:null}}],[{key:"create",value:function(e){var t=b(w(n),"create",this).call(this,e);return E.forEach(function(n){var i,r="row"===n?L:V;t.setAttribute("".concat(I).concat(n),null!==(i=null===e||void 0===e?void 0:e[n])&&void 0!==i?i:r())}),t}},{key:"formats",value:function(e){return E.reduce(function(t,n){var i="".concat(I).concat(n);return e.hasAttribute(i)&&(t[n]=e.getAttribute(i)||void 0),t},{})}}]),n}(i.ZP);D.blotName="tableCellLine",D.className="ql-table-cell-line",D.tagName="P";var O=function(e){C(n,e);var t=S(n);function n(){return _(this,n),t.apply(this,arguments)}return v(n)}(D);O.blotName="tableHeaderCellLine",O.className="ql-table-header-cell-line";var T=function(e){C(n,e);var t=S(n);function n(){return _(this,n),t.apply(this,arguments)}return v(n,[{key:"format",value:function(e,t){var n;null===(n=a.Du[e])||void 0===n||n.add(this.domNode,t)}},{key:"checkMerge",value:function(){if(b(w(n.prototype),"checkMerge",this).call(this)&&null!=this.next.children.head){var e=this.children.head.formats()[this.children.head.statics.blotName],t=this.children.tail.formats()[this.children.tail.statics.blotName],i=this.next.children.head.formats()[this.next.children.head.statics.blotName],r=this.next.children.tail.formats()[this.next.children.tail.statics.blotName];return e.cell===t.cell&&e.cell===i.cell&&e.cell===r.cell}return!1}},{key:"formats",value:function(){return n.cellFormats(this.domNode)}},{key:"cellOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"row",value:function(){return"table"in this.parent?this.parent:null}},{key:"rowOffset",value:function(){return this.row()?this.row().rowOffset():-1}},{key:"table",value:function(){var e;return null===(e=this.row())||void 0===e?void 0:e.table()}},{key:"optimize",value:function(){var e,t,i=null!==(e=this.domNode.getAttribute("".concat(I,"row")))&&void 0!==e?e:this.domNode.getAttribute("".concat(I,"header-row"));!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName,{row:i});for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];(t=b(w(n.prototype),"optimize",this)).call.apply(t,[this].concat(o))}},{key:"deleteAt",value:function(e,t){k(this.children,e,t)}}],[{key:"create",value:function(e){var t=b(w(n),"create",this).call(this,e);return e&&Object.keys(e).forEach(function(n){var i;null===(i=a.Du[n])||void 0===i||i.add(t,e[n])}),t}},{key:"cellFormats",value:function(e){var t,n={};return(e.hasAttribute("".concat(I,"row"))||e.hasAttribute("".concat(I,"header-row")))&&(n.row=null!==(t=e.getAttribute("".concat(I,"row")))&&void 0!==t?t:e.getAttribute("".concat(I,"header-row"))),Object.keys(a.Du).forEach(function(t){var i,r=null===(i=e.firstElementChild)||void 0===i?void 0:i.dataset[t.toLowerCase()];r&&(n[t]=r)}),n}}]),n}(o.Z);T.tagName=["TD","TH"];var A=function(e){C(n,e);var t=S(n);function n(){return _(this,n),t.apply(this,arguments)}return v(n,[{key:"format",value:function(e,t){"row"===e?(this.domNode.setAttribute("".concat(I).concat(e),t),this.children.forEach(function(n){n.format(e,t)})):b(w(n.prototype),"format",this).call(this,e,t)}}],[{key:"create",value:function(e){var t=b(w(n),"create",this).call(this,e),i="".concat(I,"row");return null!==e&&void 0!==e&&e.row&&t.setAttribute(i,e.row),t}}]),n}(T);A.blotName="tableCell",A.className="ql-table-data-cell",A.dataAttribute="".concat(I,"row"),A.defaultChild=D;var P=function(e){C(n,e);var t=S(n);function n(){return _(this,n),t.apply(this,arguments)}return v(n,[{key:"format",value:function(e,t){"row"===e?(this.domNode.setAttribute("".concat(I).concat(e),t),this.children.forEach(function(n){n.format(e,t)})):b(w(n.prototype),"format",this).call(this,e,t)}}],[{key:"create",value:function(e){var t=b(w(n),"create",this).call(this,e),i="".concat(I,"header-row");return e&&e.row&&t.setAttribute(i,e.row),t}}]),n}(T);P.tagName=["TH","TD"],P.className="ql-table-header-cell",P.blotName="tableHeaderCell",P.dataAttribute="".concat(I,"header-row"),P.defaultChild=O;var M=function(e){C(n,e);var t=S(n);function n(){return _(this,n),t.apply(this,arguments)}return v(n,[{key:"checkMerge",value:function(){if(b(w(n.prototype),"checkMerge",this).call(this)&&(0,s.Z)(this.next.children.head)){var e="row",t=this.children.head.formats(),i=this.children.tail.formats(),r=this.next.children.head.formats(),o=this.next.children.tail.formats();return t[e]===i[e]&&t[e]===r[e]&&t[e]===o[e]}return!1}},{key:"optimize",value:function(){for(var e,t=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];(e=b(w(n.prototype),"optimize",this)).call.apply(e,[this].concat(r));var a=this.childFormatName;this.children.forEach(function(e){if((0,s.Z)(e.next)){var n=e.formats(),i=e.next.formats();if(n[a]!==i[a]){var r=t.splitAfter(e);r&&r.optimize(),t.prev&&t.prev.optimize()}}})}},{key:"rowOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"table",value:function(){var e;return null===(e=this.parent)||void 0===e?void 0:e.parent}},{key:"formats",value:function(){var e={},t="".concat(I,"row");return this.domNode.hasAttribute(t)&&(e[t]=this.domNode.getAttribute(t)),e}}],[{key:"create",value:function(e){var t=b(w(n),"create",this).call(this,e);return null!==e&&void 0!==e&&e.row&&t.setAttribute("".concat(I,"row"),e.row),t}}]),n}(o.Z);M.tagName="TR";var R=function(e){C(n,e);var t=S(n);function n(e,i){var r;return _(this,n),(r=t.call(this,e,i)).childFormatName="table",r}return v(n,[{key:"deleteAt",value:function(e,t){k(this.children,e,t)}}]),n}(M);R.blotName="tableRow";var B=function(e){C(n,e);var t=S(n);function n(e,i){var r;return _(this,n),(r=t.call(this,e,i)).childFormatName="tableHeaderCell",r}return v(n)}(M);B.blotName="tableHeaderRow";var N=function(e){C(n,e);var t=S(n);function n(){return _(this,n),t.apply(this,arguments)}return v(n,[{key:"optimize",value:function(){var e;if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var t,i=(null===(t=this.children.head.children.head.children)||void 0===t||null===(t=t.head)||void 0===t?void 0:t.domNode)||null,r={};i&&Object.keys(l.li).forEach(function(e){var t=i.dataset[e.toLowerCase()];t&&(r[e]=t)}),this.wrap(this.statics.requiredContainer.blotName,r)}for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];(e=b(w(n.prototype),"optimize",this)).call.apply(e,[this].concat(s))}}]),n}(o.Z),F=function(e){C(n,e);var t=S(n);function n(){return _(this,n),t.apply(this,arguments)}return v(n)}(N);F.blotName="tableBody",F.tagName="TBODY";var $=function(e){C(n,e);var t=S(n);function n(){return _(this,n),t.apply(this,arguments)}return v(n)}(N);$.blotName="tableHeader",$.tagName="THEAD";var H=function(e){C(n,e);var t=S(n);function n(){return _(this,n),t.apply(this,arguments)}return v(n,[{key:"balanceCells",value:function(){var e=this.descendants(B),t=this.descendants(R),n=this.getMaxTableColCount(e,t);this.balanceRows(n,e,P),this.balanceRows(n,t,A)}},{key:"getMaxTableColCount",value:function(e,t){return Math.max(this.getMaxRowColCount(e),this.getMaxRowColCount(t))}},{key:"getMaxRowColCount",value:function(e){return Math.max.apply(Math,p(e.map(function(e){return e.children.length})))}},{key:"balanceRows",value:function(e,t,n){var i=this;t.forEach(function(t){new Array(e-t.children.length).fill(0).forEach(function(){var e;(0,s.Z)(t.children.head)&&(e=n.cellFormats(t.children.head.domNode));var r=i.scroll.create(n.blotName,e),o=i.scroll.create(n.allowedChildren[0].blotName,e);r.appendChild(o),t.appendChild(r),r.optimize()})})}},{key:"cells",value:function(e){return this.rows().map(function(t){return t.children.at(e)})}},{key:"deleteColumn",value:function(e){var t=this;[$,F].forEach(function(n){var i=h(t.descendants(n),1)[0];(0,s.Z)(i)&&(0,s.Z)(i.children.head)&&i.children.forEach(function(t){var n=t.children.at(e);(0,s.Z)(n)&&n.remove()})})}},{key:"insertColumn",value:function(e){var t=this;[$,F].forEach(function(n){var i=h(t.descendants(n),1)[0];if((0,s.Z)(i)&&(0,s.Z)(i.children.head)){var o=n===$?P:A,a=n===$?O:D;i.children.forEach(function(n){var i=n.children.at(e),s=a.formats(n.children.head.children.head.domNode),l=t.scroll.create(o.blotName,{row:s.row}),c=t.scroll.create(a.blotName,{row:s.row}),u=t.scroll.create(r.Z.blotName);c.appendChild(u),l.appendChild(c),n.insertBefore(l,i)})}})}},{key:"insertRow",value:function(e){var t=this,n=h(this.descendants(F),1)[0];if((0,s.Z)(n)&&(0,s.Z)(n.children.head)){var i=L(),o=this.scroll.create(R.blotName,{row:i});n.children.head.children.forEach(function(){var e=t.scroll.create(A.blotName,{row:i}),n=t.scroll.create(D.blotName,{row:i}),s=t.scroll.create(r.Z.blotName);n.appendChild(s),e.appendChild(n),o.appendChild(e)});var a=n.children.at(e);n.insertBefore(o,a)}}},{key:"insertHeaderRow",value:function(){var e=this,t=h(this.descendants($),1)[0],n=h(this.descendants(F),1)[0];if(!(0,s.Z)(t)&&(0,s.Z)(n)&&(0,s.Z)(n.children.head)){var i=L(),o=this.scroll.create($.blotName),a=this.scroll.create(B.blotName),l=this.children.at(0);o.appendChild(a),n.children.head.children.forEach(function(){var t=e.scroll.create(P.blotName,{row:i}),n=e.scroll.create(O.blotName,{row:i}),o=e.scroll.create(r.Z.blotName);n.appendChild(o),t.appendChild(n),a.appendChild(t),t.optimize()}),this.insertBefore(o,l)}}},{key:"rows",value:function(){var e=this.children.head;return(0,s.Z)(e)?e.children.map(function(e){return e}):[]}},{key:"formats",value:function(){var e={},t=this.cells()[0].domNode.firstElementChild;return Object.keys(l.li).forEach(function(n){var i=null===t||void 0===t?void 0:t.dataset[n.toLowerCase()];i&&(e[n]=i)}),e}},{key:"format",value:function(e,t){var n=l.li[e];if(n){var i="data-".concat(e.toLowerCase());this.cells().forEach(function(e){(0,u.Z)(e.children.head.domNode,i,t)}),n.add(this.domNode,t)}}}],[{key:"create",value:function(e){var t=b(w(n),"create",this).call(this,e);return e&&Object.keys(e).forEach(function(n){var i;null===(i=l.li[n])||void 0===i||i.add(t,e[n])}),t}}]),n}(o.Z);function L(){return"row-".concat((0,c.Z)())}function V(){return"cell-".concat((0,c.Z)())}H.blotName="tableContainer",H.tagName="TABLE",H.allowedChildren=[$,F],F.requiredContainer=H,$.requiredContainer=H,F.allowedChildren=[R],R.requiredContainer=F,R.allowedChildren=[A],A.requiredContainer=R,D.requiredContainer=A,A.allowedChildren=[D],$.allowedChildren=[B],B.requiredContainer=$,O.requiredContainer=P,P.allowedChildren=[O],B.allowedChildren=[P],P.requiredContainer=B},2795:(e,t,n)=>{"use strict";function i(e,t,n){n?e.setAttribute(t,n):e.removeAttribute(t)}n.d(t,{Z:()=>i})},5635:(e,t,n)=>{"use strict";n.d(t,{HI:()=>F,PF:()=>$,ZP:()=>N,fw:()=>z});var i=n(9098),r=n.n(i),o=n(1233),s=n(6446),a=n(281),l=n(3122),c=n(7094),u=n(715),d=n(7898),h=n(7309),p=n(6039),f=n(4048),m=n(5832),_=n(1629),g=n(3071),v=n(2141);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach(function(t){x(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function x(e,t,n){return(t=I(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"===typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?w(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function E(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,I(i.key),i)}}function I(e){var t=function(e,t){if("object"!==C(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==C(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===C(t)?t:String(t)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function D(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=T(e);if(t){var r=T(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===C(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return O(e)}(this,n)}}function O(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function T(e){return T=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},T(e)}var A=(0,l.Z)("quill:clipboard"),P=[[3,U],[3,W],["br",function(e,t){return $(t,"\n")||t.insert("\n"),t}],[1,W],[1,function(e,t,n){var i=n.query(e);if(null==i)return t;if(i.prototype instanceof o.EmbedBlot){var s={},a=i.value(e);if(null!=a)return s[i.blotName]=a,(new(r())).insert(s,i.formats(e,n))}else if(i.prototype instanceof o.BlockBlot&&!$(t,"\n")&&t.insert("\n"),"function"===typeof i.formats)return F(t,i.blotName,i.formats(e,n));return t}],[1,function(e,t,n){if(-1===["TD","TH","TR","TABLE"].indexOf(e.tagName)){var i=o.Attributor.keys(e),r=o.ClassAttributor.keys(e),s=o.StyleAttributor.keys(e),a={};if(i.concat(r).concat(s).forEach(function(t){var i=n.query(t,o.Scope.ATTRIBUTE);null!=i&&(a[i.attrName]=i.value(e),a[i.attrName])||(null==(i=R[t])||i.attrName!==t&&i.keyName!==t||(a[i.attrName]=i.value(e)||void 0),null==(i=B[t])||i.attrName!==t&&i.keyName!==t||(i=B[t],a[i.attrName]=i.value(e)||void 0))}),Object.keys(a).length>0)return F(t,a)}return t}],[1,function(e,t){var n={},i=e.style||{};return["height","width"].forEach(function(t){var r=-1!==["TD","TH"].indexOf(e.tagName),o="TABLE"===e.tagName;if((r||o)&&i[t]){var s="".concat(o?"table":"cell").concat((0,v.Z)(t));n[s]=i[t]}}),"italic"===i.fontStyle&&(n.italic=!0),-1!==i.textDecoration.indexOf("underline")&&(n.underline=!0),-1!==i.textDecoration.indexOf("line-through")&&(n.strike=!0),(0===i.fontWeight.indexOf("bold")||parseInt(i.fontWeight,10)>=700)&&(n.bold=!0),Object.keys(n).length>0&&(t=F(t,n)),parseFloat(i.textIndent||0)>0?(new(r())).insert("\t").concat(t):t}],["li",function(e,t,n){var i=n.query(e);if(null==i||"list"!==i.blotName||!$(t,"\n"))return t;for(var o=-1,s=e.parentNode;null!=s;)-1!==["OL","UL"].indexOf(s.tagName)&&(o+=1),s=s.parentNode;return o<=0?t:t.reduce(function(e,t){return t.attributes&&"number"===typeof t.attributes.indent?e.push(t):e.insert(t.insert,b({indent:o},t.attributes||{}))},new(r()))}],["ol, ul",function(e,t){var n="OL"===e.tagName?"ordered":"bullet";return F(t,"list",n)}],["pre",function(e,t,n){var i=n.query("code-block"),r=!i||i.formats(e,n);return F(t,"code-block",r)}],["b",j.bind(j,"bold")],["i",j.bind(j,"italic")],["strike",j.bind(j,"strike")],["style",function(){return new(r())}]],M=[U,W],R=[u.if,f.IF].reduce(function(e,t){return e[t.keyName]=t,e},{}),B=[u.HE,d.w,p.HQ,f.H8,m.H,_.Z].reduce(function(e,t){return e[t.keyName]=t,e},{}),N=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(s,e);var t,n,i,o=D(s);function s(e,t){var n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(i=o.call(this,e,t)).quill.root.addEventListener("copy",function(e){return i.onCaptureCopy(e,!1)}),i.quill.root.addEventListener("cut",function(e){return i.onCaptureCopy(e,!0)}),i.quill.root.addEventListener("paste",i.onCapturePaste.bind(O(i))),i.matchers=[],i.tableBlots=null!==(n=t.tableBlots)&&void 0!==n?n:[],i.multilineParagraph=!1,P.concat(i.options.matchers).forEach(function(e){var t=S(e,2),n=t[0],r=t[1];i.addMatcher(n,r)}),i}return t=s,n=[{key:"addMatcher",value:function(e,t){this.matchers.push([e,t])}},{key:"addTableBlot",value:function(e){this.tableBlots.push(e)}},{key:"convert",value:function(e){var t=e.html,n=e.text,i=e.keepLastNewLine,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o[h.ZP.blotName]?(new(r())).insert(n,x({},h.ZP.blotName,o[h.ZP.blotName])):t?this.applyMatchers(t,i,o):this.applyTextMatchers(n)}},{key:"applyTextMatchers",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(0===t.length)return new(r());var n=this.prepareTextMatching(),i=this.quill.root.ownerDocument.createElement("div");i.textContent=t;var o=i.childNodes[0];return n.reduce(function(t,n){return n(o,t,e.quill.scroll)},new(r()))}},{key:"applyMatchers",value:function(e,t){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=a.ZP.replaceStyleAttribute(e),s=(new DOMParser).parseFromString(o,"text/html");a.ZP.restoreStyleAttribute(s);var l=s.body,c=new WeakMap,u=S(this.prepareMatching(l,c),2),d=u[0],h=u[1],p=z(this.quill.scroll,l,d,h,c,this.multilineParagraph);return t||!$(p,"\n")||null!=p.ops[p.ops.length-1].attributes&&!Object.values(i).some(function(e){return n.tableBlots.includes(e)})?p:p.compose((new(r())).retain(p.length()-1).delete(1))}},{key:"dangerouslyPasteHTML",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.ZP.sources.API;if("string"===typeof e){var i=this.convert({html:e,text:""});this.quill.setContents(i,t),this.quill.setSelection(0,a.ZP.sources.SILENT)}else{var o=this.convert({html:t,text:""});this.quill.updateContents((new(r())).retain(e).concat(o),n),this.quill.setSelection(e+o.length(),a.ZP.sources.SILENT)}}},{key:"onCaptureCopy",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.defaultPrevented&&e.clipboardData){e.preventDefault();var n=S(this.quill.selection.getRange(),1)[0];if(null!=n){var i=this.onCopy(n,t),r=i.html,o=i.text;e.clipboardData.setData("text/plain",o),e.clipboardData.setData("text/html",r),t&&(this.raiseCallback("onCut",e),(0,g.WQ)({range:n,quill:this.quill}))}}}},{key:"onCapturePaste",value:function(e){if(!e.defaultPrevented&&this.quill.isEnabled()&&(this.raiseCallback("onPaste",e),e.clipboardData)){e.preventDefault();var t=this.quill.getSelection(!0);if(null!=t){var n=e.clipboardData.getData("text/html"),i=Array.from(e.clipboardData.files||[]);if(!n&&i.length>0)this.quill.uploader.upload(t,i);else{if(n&&i.length>0){var r=(new DOMParser).parseFromString(n,"text/html").body;if(1===r.childElementCount&&"IMG"===r.firstElementChild.tagName)return void this.quill.uploader.upload(t,i)}var o=e.clipboardData.getData("text/plain");this.onPaste(t,{html:n,text:o,keepLastNewLine:!0})}}}}},{key:"raiseCallback",value:function(e,t){var n=this.options[e];n&&"function"===typeof n&&n(t)}},{key:"onCopy",value:function(e){var t=e.index,n=e.length,i=this.quill.getText(t,n);return{html:this.quill.getSemanticHTML(t,n),text:i}}},{key:"onPaste",value:function(e,t){var n=t.text,i=t.html,o=t.keepLastNewLine,s=this.quill.getFormat(e.index),l=this.convert({text:n,html:i,keepLastNewLine:o},s);A.log("onPaste",l,{text:n,html:i});var c=(new(r())).retain(e.index).delete(e.length).concat(l);this.quill.updateContents(c,a.ZP.sources.USER),this.quill.setSelection(c.length()-e.length,a.ZP.sources.SILENT),this.quill.scrollIntoView()}},{key:"prepareMatching",value:function(e,t){var n=[],i=[];return this.matchers.forEach(function(r){var o=S(r,2),s=o[0],a=o[1];switch(s){case 3:i.push(a);break;case 1:n.push(a);break;default:Array.from(e.querySelectorAll(s)).forEach(function(e){t.has(e)?t.get(e).push(a):t.set(e,[a])})}}),[n,i]}},{key:"prepareTextMatching",value:function(){var e=[K];return this.matchers.forEach(function(t){var n=S(t,2),i=n[0],r=n[1];-1===M.indexOf(r)&&3===i&&e.push(r)}),e}}],n&&E(t.prototype,n),i&&E(t,i),Object.defineProperty(t,"prototype",{writable:!1}),s}(c.Z);function F(e,t,n){return"object"===C(t)?Object.keys(t).reduce(function(e,n){return F(e,n,t[n])},e):e.reduce(function(e,i){if(i.attributes&&i.attributes[t])return e.push(i);var r=n?x({},t,n):{};return e.insert(i.insert,b(b({},r),i.attributes))},new(r()))}function $(e,t){for(var n="",i=e.ops.length-1;i>=0&&n.length<t.length;--i){var r=e.ops[i];if("string"!==typeof r.insert)break;n=r.insert+n}return n.slice(-1*t.length)===t}function H(e){return 0!==e.childNodes.length&&-1!==["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].indexOf(e.tagName.toLowerCase())}N.DEFAULTS={matchers:[]};var L=new WeakMap;function V(e){return null!=e&&(L.has(e)||("PRE"===e.tagName?L.set(e,!0):L.set(e,V(e.parentNode))),L.get(e))}function z(e,t,n,i,o,s){return t.nodeType===t.TEXT_NODE?i.reduce(function(n,i){return i(t,n,e)},new(r())):t.nodeType===t.ELEMENT_NODE?Array.from(t.childNodes||[]).reduce(function(r,a,l,c){var u=z(e,a,n,i,o,s),d=l<c.length-1&&c[l+1],h=d&&d.nodeType===t.ELEMENT_NODE&&["ul","ol"].indexOf(d.tagName.toLowerCase())>-1;a.nodeType===t.ELEMENT_NODE&&(s="br"===a.tagName.toLowerCase(),u=n.reduce(function(t,n){return n(a,t,e)},u),u=(o.get(a)||[]).reduce(function(t,n){return n(a,t,e)},u));var p=r.concat(u);return s&&h&&p.insert("\n"),p},new(r())):new(r())}function j(e,t,n){return F(n,e,!0)}function W(e,t,n){if(!$(t,"\n")){if(H(e))return t.insert("\n");if(t.length()>0&&e.nextSibling)for(var i=e.nextSibling;null!=i;){if(H(i))return t.insert("\n");var r=n.query(i);if((null===r||void 0===r?void 0:r.prototype)instanceof s.i2)return t.insert("\n");i=i.firstChild}}return t}function K(e,t){var n=e.data||"";return n=n.replace(/\r\n/g,"\n"),t.insert(n)}function U(e,t){var n=e.data;if("O:P"===e.parentNode.tagName)return t.insert(n.trim());if(0===n.trim().length&&-1!==n.indexOf("\n"))return t;if(!V(e)){var i=function(e,t){var n=t.replace(/[^\u00a0]/g,"");return n.length<1&&e?" ":n};n=(n=n.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,i.bind(i,!0)),(null==e.previousSibling&&H(e.parentNode)||null!=e.previousSibling&&H(e.previousSibling))&&(n=n.replace(/^\s+/,i.bind(i,!1))),(null==e.nextSibling&&H(e.parentNode)||null!=e.nextSibling&&H(e.nextSibling))&&(n=n.replace(/\s+$/,i.bind(i,!1)))}return t.insert(n)}},2613:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var i=n(1233),r=n(281),o=n(7094),s=n(8034);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,c(i.key),i)}}function c(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=p(e);if(t){var r=p(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===a(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}(this,n)}}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var f=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(c,e);var t,n,o,a=d(c);function c(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),(n=a.call(this,e,t)).lastRecorded=0,n.ignoreChange=!1,n.clear(),n.quill.on(r.ZP.events.EDITOR_CHANGE,function(e,t,i,o){e!==r.ZP.events.TEXT_CHANGE||n.ignoreChange||(n.options.userOnly&&o!==r.ZP.sources.USER?n.transform(t):n.record(t,i))}),n.quill.keyboard.addBinding({key:"z",shortKey:!0},n.undo.bind(h(n))),n.quill.keyboard.addBinding({key:"z",shortKey:!0,shiftKey:!0},n.redo.bind(h(n))),(0,s.Z)()&&/Win/i.test(navigator.platform)&&n.quill.keyboard.addBinding({key:"y",shortKey:!0},n.redo.bind(h(n))),n.quill.root.addEventListener("beforeinput",function(e){"historyUndo"===e.inputType?(n.undo(),e.preventDefault()):"historyRedo"===e.inputType&&(n.redo(),e.preventDefault())}),n}return t=c,(n=[{key:"change",value:function(e,t){if(0!==this.stack[e].length){var n=this.stack[e].pop(),o=this.quill.getContents(),s=n.invert(o);this.stack[t].push(s),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(n,r.ZP.sources.USER),this.ignoreChange=!1;var a=function(e,t){var n=t.reduce(function(e,t){return e+(t.delete||0)},0),r=t.length()-n;return function(e,t){var n=t.ops[t.ops.length-1];return null!=n&&(null!=n.insert?"string"===typeof n.insert&&n.insert.endsWith("\n"):null!=n.attributes&&Object.keys(n.attributes).some(function(t){return null!=e.query(t,i.Scope.BLOCK)}))}(e,t)&&(r-=1),r}(this.quill.scroll,n);this.quill.setSelection(a)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(e,t){if(0!==e.ops.length){this.stack.redo=[];var n=e.invert(t),i=Date.now();if(this.lastRecorded+this.options.delay>i&&this.stack.undo.length>0){var r=this.stack.undo.pop();n=n.compose(r)}else this.lastRecorded=i;0!==n.length()&&(this.stack.undo.push(n),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(e){m(this.stack.undo,e),m(this.stack.redo,e)}},{key:"undo",value:function(){this.change("undo","redo")}}])&&l(t.prototype,n),o&&l(t,o),Object.defineProperty(t,"prototype",{writable:!1}),c}(o.Z);function m(e,t){for(var n=t,i=e.length-1;i>=0;i-=1){var r=e[i];e[i]=n.transform(r,!0),n=r.transform(n),0===e[i].length()&&e.splice(i,1)}}f.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1}},990:(e,t,n)=>{"use strict";n.d(t,{Z:()=>_});var i=n(9098),r=n.n(i),o=n(7094),s=n(281),a=n(3071);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,u(i.key),i)}}function u(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=p(e);if(t){var r=p(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var f=["insertText","insertReplacementText"],m=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(l,e);var t,n,i,o=h(l);function l(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),n=o.call(this,e,t),e.root.addEventListener("beforeinput",function(e){n.handleBeforeInput(e)}),/Android/i.test(navigator.userAgent)||e.on(s.ZP.events.COMPOSITION_BEFORE_START,function(){n.handleCompositionStart()}),n}return t=l,n=[{key:"deleteRange",value:function(e){(0,a.WQ)({range:e,quill:this.quill})}},{key:"replaceText",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(0===e.length)return!1;if(t){var n=this.quill.getFormat(e.index,1);this.deleteRange(e),this.quill.updateContents((new(r())).retain(e.index).insert(t,n),s.ZP.sources.USER)}else this.deleteRange(e);return this.quill.setSelection(e.index+t.length,0,s.ZP.sources.SILENT),!0}},{key:"handleBeforeInput",value:function(e){if(this.quill.composition.isCompositionInProgress()||e.defaultPrevented||!f.includes(e.inputType))"insertFromDrop"===e.inputType&&e.dataTransfer.getData("text/html").includes("<table")&&e.preventDefault();else{var t=e.getTargetRanges?e.getTargetRanges()[0]:null;if(t&&!0!==t.collapsed){var n=function(e){var t;return"string"===typeof e.data?e.data:null!==(t=e.dataTransfer)&&void 0!==t&&t.types.includes("text/plain")?e.dataTransfer.getData("text/plain"):null}(e);if(null!=n){var i=this.quill.selection.normalizeNative(t),r=i?this.quill.selection.normalizedToRange(i):null;r&&this.replaceText(r,n)&&e.preventDefault()}}}}},{key:"handleCompositionStart",value:function(){var e=this.quill.getSelection();e&&this.replaceText(e)}}],n&&c(t.prototype,n),i&&c(t,i),Object.defineProperty(t,"prototype",{writable:!1}),l}(o.Z);const _=m},3071:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>O,WQ:()=>M});var i=n(8805),r=n.n(i),o=n(2722),s=n.n(o),a=n(9098),l=n.n(a),c=n(1233),u=n(281),d=n(3122),h=n(7094),p=n(8034);function f(e){return f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f(e)}function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"===typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function v(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach(function(t){y(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function y(e,t,n){return(t=C(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,C(i.key),i)}}function C(e){var t=function(e,t){if("object"!==f(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==f(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===f(t)?t:String(t)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=w(e);if(t){var r=w(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===f(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var E=(0,d.Z)("quill:keyboard"),I={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift",left:"leftArrow",up:"upArrow",right:"rightArrow",down:"downArrow",multiply:"asterisk",spacebar:"space",del:"del",subtract:"minus",esc:"escape"},k={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},D=(0,p.Z)()&&/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",O=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(d,e);var t,n,i,o=S(d);function d(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,d),(n=o.call(this,e,t)).bindings={},Object.keys(n.options.bindings).forEach(function(e){n.options.bindings[e]&&n.addBinding(n.options.bindings[e])}),n.addInternalBindings(),n.listen(),n}return t=d,n=[{key:"addInternalBindings",value:function(){var e=this;this.quill.once(u.ZP.events.CONTENT_SETTED,function(){e.addBinding({key:"enter",shiftKey:null},e.handleEnter),e.addBinding({key:"enter",metaKey:null,ctrlKey:null,altKey:null},function(){}),(0,p.Z)()&&/Firefox/i.test(navigator.userAgent)?(e.addBinding({key:"backspace"},{collapsed:!0},e.handleBackspace),e.addBinding({key:"del"},{collapsed:!0},e.handleDelete)):(e.addBinding({key:"backspace"},{collapsed:!0,prefix:/^.?$/},e.handleBackspace),e.addBinding({key:"del"},{collapsed:!0,suffix:/^.?$/},e.handleDelete)),e.addBinding({key:"backspace"},{collapsed:!1},e.handleDeleteRange),e.addBinding({key:"del"},{collapsed:!1},e.handleDeleteRange),e.addBinding({key:"backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},e.handleBackspace)})}},{key:"addBinding",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=function(e){if("string"===typeof e||"number"===typeof e)e={key:e};else{if("object"!==f(e))return null;e=r()(e)}return e.shortKey&&(e[D]=e.shortKey,delete e.shortKey),e}(e);if(null!=o){"function"===typeof n&&(n={handler:n}),"function"===typeof i&&(i={handler:i});var s=o.which?"which":"key";(Array.isArray(o[s])?o[s]:[o[s]]).forEach(function(e){var r=v(v(v({},o),{},{key:e},n),i);t.bindings[r.key]=t.bindings[r.key]||[],t.bindings[r.key].push(r)})}else E.warn("Attempted to add invalid keyboard binding",o)}},{key:"listen",value:function(){var e=this;this.quill.root.addEventListener("keydown",function(t){if(!t.defaultPrevented&&!t.isComposing){e.raiseOnKeydownCallback(t);var n=d.normalizeKeyName(t),i=(e.bindings[n]||[]).concat(e.bindings[t.which]||[]).filter(function(e){return d.match(t,e)});if(0!==i.length){var r=e.quill.getSelection();if(null!=r&&e.quill.hasFocus()){var o=m(e.quill.getLine(r.index),2),a=o[0],l=o[1],u=m(e.quill.getLeaf(r.index),2),h=u[0],p=u[1],_=m(0===r.length?[h,p]:e.quill.getLeaf(r.index+r.length),2),g=_[0],v=_[1],y=h instanceof c.TextBlot?h.value().slice(0,p):"",b=g instanceof c.TextBlot?g.value().slice(v):"",C={collapsed:0===r.length,empty:0===r.length&&a.length()<=1,format:e.quill.getFormat(r),line:a,offset:l,prefix:y,suffix:b,event:t},x=!1;i.some(function(t){if(null!=t.collapsed&&t.collapsed!==C.collapsed)return!1;if(null!=t.empty&&t.empty!==C.empty)return!1;if(null!=t.offset&&t.offset!==C.offset)return!1;if(Array.isArray(t.format)){if(t.format.every(function(e){return null==C.format[e]}))return!1}else if("object"===f(t.format)&&!Object.keys(t.format).every(function(e){return!0===t.format[e]?null!=C.format[e]:!1===t.format[e]?null==C.format[e]:s()(t.format[e],C.format[e])}))return!1;if(null!=t.prefix&&!t.prefix.test(C.prefix))return!1;if(null!=t.suffix&&!t.suffix.test(C.suffix))return!1;var n=t.handler.call(e,r,C,t),i=null===n||void 0===n?void 0:n.preventAfterAllMatches;return(x=!0!==n||i)&&!i}),x&&t.preventDefault()}}}})}},{key:"raiseOnKeydownCallback",value:function(e){var t=this.options.onKeydown;t&&"function"===typeof t&&t(e)}},{key:"handleBackspace",value:function(e,t){var n=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(t.prefix)?2:1;if(!(0===e.index||this.quill.getLength()<=1)){var i={},r=m(this.quill.getLine(e.index),1)[0],o=(new(l())).retain(e.index-n).delete(n);if(0===t.offset){var s=m(this.quill.getLine(e.index-1),1)[0];if(s){var c="block"===s.statics.blotName&&s.length()<=1,d=s.statics.blotName.startsWith("table"),h="block"===r.statics.blotName&&r.length()<=1;if(d&&(h&&r.remove(),this.quill.setSelection(e.index-1)),!c&&!d){var p=r.formats(),f=this.quill.getFormat(e.index-1,1);if(i=a.AttributeMap.diff(p,f)||{},Object.keys(i).length>0){var _=(new(l())).retain(e.index+r.length()-2).retain(1,i);o=o.compose(_)}}}}this.quill.updateContents(o,u.ZP.sources.USER),this.quill.focus()}}},{key:"handleDelete",value:function(e,t){var n=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(t.suffix)?2:1;if(!(e.index>=this.quill.getLength()-n)){var i={},r=m(this.quill.getLine(e.index),1)[0],o=(new(l())).retain(e.index).delete(n);if(t.offset>=r.length()-1){var s=m(this.quill.getLine(e.index+1),1)[0];if(s){var c=r.formats(),d=this.quill.getFormat(e.index,1);i=a.AttributeMap.diff(c,d)||{},Object.keys(i).length>0&&(o=o.retain(s.length()-1).retain(1,i))}}this.quill.updateContents(o,u.ZP.sources.USER),this.quill.focus()}}},{key:"handleDeleteRange",value:function(e,t){this.raiseOnKeydownCallback(t.event),M({range:e,quill:this.quill}),this.quill.focus()}},{key:"handleEnter",value:function(e,t){var n=this,i=Object.keys(t.format).reduce(function(e,i){return n.quill.scroll.query(i,c.Scope.BLOCK)&&!Array.isArray(t.format[i])&&(e[i]=t.format[i]),e},{}),r=(new(l())).retain(e.index).delete(e.length).insert("\n",i);this.quill.updateContents(r,u.ZP.sources.USER),this.quill.setSelection(e.index+1,u.ZP.sources.SILENT),this.quill.focus();var o=m(this.quill.getLine(e.index+1),1)[0],s=function(e){var t=window.innerHeight,n=e.getBoundingClientRect(),i=n.y,r=n.bottom;return i<0||!(r>=t)&&null}(o.domNode);null!==s&&o.domNode.scrollIntoView(s),Object.keys(t.format).forEach(function(e){null==i[e]&&(Array.isArray(t.format[e])||"code"!==e&&"link"!==e&&(n.raiseOnKeydownCallback(t.event),n.quill.format(e,t.format[e],u.ZP.sources.USER)))})}}],i=[{key:"match",value:function(e,t){return!["altKey","ctrlKey","metaKey","shiftKey"].some(function(n){return!!t[n]!==e[n]&&null!==t[n]})&&(t.key===d.normalizeKeyName(e)||t.key===e.which)}},{key:"normalizeKeyName",value:function(e){var t=e.key,n=e.which,i=!!t,r=i?t:n;return r&&(r=i?I[r.toLowerCase()]||r:k[r]||String.fromCharCode(r)),r}}],n&&b(t.prototype,n),i&&b(t,i),Object.defineProperty(t,"prototype",{writable:!1}),d}(h.Z);function T(e){return{key:"tab",shiftKey:!e,format:{"code-block":!0},handler:function(t){var n=this.quill.scroll.query("code-block"),i=0===t.length?this.quill.getLines(t.index,1):this.quill.getLines(t),r=t.index,o=t.length;i.forEach(function(t,i){e?(t.insertAt(0,n.TAB),0===i?r+=n.TAB.length:o+=n.TAB.length):0===t.domNode.textContent.indexOf(n.TAB)&&(t.deleteAt(0,n.TAB.length),0===i?r-=n.TAB.length:o-=n.TAB.length)}),this.quill.update(u.ZP.sources.USER),this.quill.setSelection(r,o,u.ZP.sources.SILENT)}}}function A(e,t){return y(y({key:e,shiftKey:t,altKey:null},"leftArrow"===e?"prefix":"suffix",/^$/),"handler",function(n){var i=n.index;return"rightArrow"===e&&(i+=n.length+1),!(m(this.quill.getLeaf(i),1)[0]instanceof c.EmbedBlot)||("leftArrow"===e?t?this.quill.setSelection(n.index-1,n.length+1,u.ZP.sources.USER):this.quill.setSelection(n.index-1,u.ZP.sources.USER):t?this.quill.setSelection(n.index,n.length+1,u.ZP.sources.USER):this.quill.setSelection(n.index+n.length+1,u.ZP.sources.USER),!1)})}function P(e,t){return{key:e[0],which:t,shortKey:!0,handler:function(t,n){return this.quill.format(e,!n.format[e],u.ZP.sources.USER),{preventAfterAllMatches:!0}}}}function M(e){var t=e.quill,n=e.range,i=t.getLines(n),r={};if(i.length>1){var o=i[0].formats(),s=i[i.length-1].formats();r=a.AttributeMap.diff(s,o)||{}}t.deleteText(n,u.ZP.sources.USER),Object.keys(r).length>0&&t.formatLine(n.index,1,r,u.ZP.sources.USER),t.setSelection(n.index,u.ZP.sources.SILENT)}O.DEFAULTS={bindings:{bold:P("bold",66),italic:P("italic",73),underline:P("underline",85),indent:{key:"tab",format:["blockquote","indent","list"],handler:function(e,t){return!(!t.collapsed||0===t.offset)||(this.quill.format("indent","+1",u.ZP.sources.USER),!1)}},outdent:{key:"tab",shiftKey:!0,format:["blockquote","indent","list"],handler:function(e,t){return!(!t.collapsed||0===t.offset)||(this.quill.format("indent","-1",u.ZP.sources.USER),!1)}},"outdent backspace":{key:"backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(e,t){null!=t.format.indent?this.quill.format("indent","-1",u.ZP.sources.USER):null!=t.format.list&&this.quill.format("list",!1,u.ZP.sources.USER)}},"indent code-block":T(!0),"outdent code-block":T(!1),"remove tab":{key:"tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(e){this.quill.deleteText(e.index-1,1,u.ZP.sources.USER)}},tab:{key:"tab",handler:function(e,t){var n=t.format;if(n.tableCellLine||n.tableHeaderCellLine||n.tableHeaderCell||n.table)return!0;this.quill.history.cutoff();var i=(new(l())).retain(e.index).delete(e.length).insert("\t");return this.quill.updateContents(i,u.ZP.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index+1,u.ZP.sources.SILENT),!1}},"blockquote empty enter":{key:"enter",collapsed:!0,format:["blockquote"],empty:!0,handler:function(){this.quill.format("blockquote",!1,u.ZP.sources.USER)}},"list empty enter":{key:"enter",collapsed:!0,format:["list"],empty:!0,handler:function(e,t){var n={list:!1};t.format.indent&&(n.indent=!1),this.quill.formatLine(e.index,e.length,n,u.ZP.sources.USER)}},"checklist enter":{key:"enter",collapsed:!0,format:{list:"checked"},handler:function(e){var t=m(this.quill.getLine(e.index),2),n=t[0],i=t[1],r=v(v({},n.formats()),{},{list:"checked"}),o=(new(l())).retain(e.index).insert("\n",r).retain(n.length()-i-1).retain(1,{list:"unchecked"});this.quill.updateContents(o,u.ZP.sources.USER),this.quill.setSelection(e.index+1,u.ZP.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:"enter",collapsed:!0,format:["header"],suffix:/^$/,handler:function(e,t){var n=m(this.quill.getLine(e.index),2),i=n[0],r=n[1],o=(new(l())).retain(e.index).insert("\n",t.format).retain(i.length()-r-1).retain(1,{header:null});this.quill.updateContents(o,u.ZP.sources.USER),this.quill.setSelection(e.index+1,u.ZP.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:"space",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(e,t){if(null==this.quill.scroll.query("list"))return!0;var n,i=t.prefix.length,r=m(this.quill.getLine(e.index),2),o=r[0],s=r[1];if(s>i)return!0;switch(t.prefix.trim()){case"[]":case"[ ]":n="unchecked";break;case"[x]":n="checked";break;case"-":case"*":n="bullet";break;default:n="ordered"}this.quill.insertText(e.index," ",u.ZP.sources.USER),this.quill.history.cutoff();var a=(new(l())).retain(e.index-s).delete(i+1).retain(o.length()-2-s).retain(1,{list:n});return this.raiseOnKeydownCallback(t.event),this.quill.updateContents(a,u.ZP.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(e.index-i,u.ZP.sources.SILENT),!1}},"code exit":{key:"enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler:function(e){for(var t=m(this.quill.getLine(e.index),2),n=t[0],i=t[1],r=2,o=n;null!=o&&o.length()<=1&&o.formats()["code-block"];)if(o=o.prev,(r-=1)<=0){var s=(new(l())).retain(e.index+n.length()-i-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(s,u.ZP.sources.USER),this.quill.setSelection(e.index-1,u.ZP.sources.SILENT),!1}return!0}},"embed left":A("leftArrow",!1),"embed left shift":A("leftArrow",!0),"embed right":A("rightArrow",!1),"embed right shift":A("rightArrow",!0)}}},5657:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>R});var i=n(9098),r=n.n(i),o=n(1233),s=n(6603),a=n(281),l=n(7094),c=n(6446),u=n(4122),d=n(3657),h=n(8222),p=n(7309),f=n(5635),m=n(8034);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function g(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,S(i.key),i)}}function x(e,t,n){return t&&C(e.prototype,t),n&&C(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function S(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==_(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}function w(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&E(e,t)}function E(e,t){return E=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},E(e,t)}function I(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=O(e);if(t){var r=O(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return k(e)}(this,n)}}function k(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(){return D="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=O(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},D.apply(this,arguments)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var T=new o.ClassAttributor("code-token","hljs",{scope:o.Scope.INLINE}),A=function(e){w(n,e);var t=I(n);function n(e,i,r){var o;return b(this,n),o=t.call(this,e,i,r),T.add(o.domNode,r),o}return x(n,[{key:"format",value:function(e,t){e!==n.blotName?D(O(n.prototype),"format",this).call(this,e,t):t?T.add(this.domNode,t):(T.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}},{key:"optimize",value:function(){for(var e,t=arguments.length,i=new Array(t),r=0;r<t;r++)i[r]=arguments[r];(e=D(O(n.prototype),"optimize",this)).call.apply(e,[this].concat(i)),T.value(this.domNode)||this.unwrap()}}],[{key:"formats",value:function(e,t){for(;null!=e&&e!==t.domNode;){if(e.classList&&e.classList.contains(p.ZP.className))return D(O(n),"formats",this).call(this,e,t);e=e.parentNode}}}]),n}(s.Z);A.blotName="code-token",A.className="ql-token";var P=function(e){w(n,e);var t=I(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"format",value:function(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-language",t):D(O(n.prototype),"format",this).call(this,e,t)}},{key:"replaceWith",value:function(e,t){return this.formatAt(0,this.length(),A.blotName,!1),D(O(n.prototype),"replaceWith",this).call(this,e,t)}}],[{key:"create",value:function(e){var t=D(O(n),"create",this).call(this,e);return"string"===typeof e&&t.setAttribute("data-language",e),t}},{key:"formats",value:function(e){return e.getAttribute("data-language")||"plain"}},{key:"register",value:function(){}}]),n}(p.ZP),M=function(e){w(n,e);var t=I(n);function n(){return b(this,n),t.apply(this,arguments)}return x(n,[{key:"attach",value:function(){D(O(n.prototype),"attach",this).call(this),this.forceNext=!1,this.scroll.emitMount(this)}},{key:"format",value:function(e,t){e===P.blotName&&(this.forceNext=!0,this.children.forEach(function(n){n.format(e,t)}))}},{key:"formatAt",value:function(e,t,i,r){i===P.blotName&&(this.forceNext=!0),D(O(n.prototype),"formatAt",this).call(this,e,t,i,r)}},{key:"highlight",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=this.children.head){var i=Array.from(this.domNode.childNodes).filter(function(e){return e!==t.uiNode}),o="".concat(i.map(function(e){return e.textContent}).join("\n"),"\n"),s=P.formats(this.children.head.domNode);if(n||this.forceNext||this.cachedText!==o){if(o.trim().length>0||null==this.cachedText){var a=this.children.reduce(function(e,t){return e.concat((0,c.qz)(t,!1))},new(r())),l=e(o,s);a.diff(l).reduce(function(e,n){var i=n.retain,r=n.attributes;return i?(r&&Object.keys(r).forEach(function(n){-1!==[P.blotName,A.blotName].indexOf(n)&&t.formatAt(e,i,n,r[n])}),e+i):e},0)}this.cachedText=o,this.forceNext=!1}}}},{key:"html",value:function(e,t){var n=v(this.children.find(e),1)[0],i=n?P.formats(n.domNode):"plain";return'<pre data-language="'.concat(i,'">\n').concat(this.code(e,t),"\n</pre>")}},{key:"optimize",value:function(e){if(D(O(n.prototype),"optimize",this).call(this,e),null!=this.parent&&null!=this.children.head&&null!=this.uiNode){var t=P.formats(this.children.head.domNode);t!==this.uiNode.value&&(this.uiNode.value=t)}}}]),n}(p.se);M.allowedChildren=[P],P.requiredContainer=M,P.allowedChildren=[A,d.Z,h.Z,u.Z];var R=function(e){w(n,e);var t=I(n);function n(e,i){var r;if(b(this,n),null==(r=t.call(this,e,i)).options.hljs)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");return r.languages=r.options.languages.reduce(function(e,t){return e[t.key]=!0,e},{}),r.highlightBlot=r.highlightBlot.bind(k(r)),r.initListener(),r.initTimer(),r}return x(n,[{key:"initListener",value:function(){var e=this;this.quill.on(a.ZP.events.SCROLL_BLOT_MOUNT,function(t){if(t instanceof M){var n=e.quill.root.ownerDocument.createElement("select");e.options.languages.forEach(function(e){var t=e.key,i=e.label,r=n.ownerDocument.createElement("option");r.textContent=i,r.setAttribute("value",t),n.appendChild(r)}),n.addEventListener("change",function(){t.format(P.blotName,n.value),e.quill.root.focus(),e.highlight(t,!0)}),null==t.uiNode&&(t.attachUI(n),t.children.head&&(n.value=P.formats(t.children.head.domNode)))}})}},{key:"initTimer",value:function(){var e=this,t=null;this.quill.on(a.ZP.events.SCROLL_OPTIMIZE,function(){clearTimeout(t),t=setTimeout(function(){e.highlight(),t=null},e.options.interval)})}},{key:"highlight",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.quill.selection.composing){this.quill.update(a.ZP.sources.USER);var i=this.quill.getSelection();(null==t?this.quill.scroll.descendants(M):[t]).forEach(function(t){t.highlight(e.highlightBlot,n)}),this.quill.update(a.ZP.sources.SILENT),null!=i&&this.quill.hasFocus()&&this.quill.setSelection(i,a.ZP.sources.SILENT)}}},{key:"highlightBlot",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plain";if("plain"===(t=this.languages[t]?t:"plain"))return(0,h.b)(e).split("\n").reduce(function(e,n,i){return 0!==i&&e.insert("\n",g({},p.ZP.blotName,t)),e.insert(n)},new(r()));var n=this.quill.root.ownerDocument.createElement("div");return n.classList.add(p.ZP.className),function(e,t){for(var n=e.split(".").map(Number),i=t.split(".").map(Number),r=Math.max(n.length,i.length),o=0;o<r;o+=1){var s,a,l=null!==(s=n[o])&&void 0!==s?s:0,c=null!==(a=i[o])&&void 0!==a?a:0;if(l!==c)return l>c}return!0}(this.options.hljs.versionString,"10.7")?n.innerHTML=this.options.hljs.highlight(e,{language:t}).value:n.innerHTML=this.options.hljs.highlight(t,e).value,(0,f.fw)(this.quill.scroll,n,[function(e,t){var n=T.value(e);return n?t.compose((new(r())).retain(t.length(),g({},A.blotName,n))):t}],[function(e,n){return e.data.split("\n").reduce(function(e,n,i){return 0!==i&&e.insert("\n",g({},p.ZP.blotName,t)),e.insert(n)},n)}],new WeakMap)}}],[{key:"register",value:function(){a.ZP.register(A,!0),a.ZP.register(P,!0),a.ZP.register(M,!0)}}]),n}(l.Z);R.DEFAULTS={hljs:(0,m.Z)()?window.hljs:null,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"Javascript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]}},867:(e,t,n)=>{"use strict";n.d(t,{Z:()=>D});var i=n(9098),r=n.n(i),o=n(1233),s=n(281),a=n(7094),l=n(1969),c=n(5874),u=n(5635),d=n(9466),h=n(7896),p=n(319),f=n(1342),m=n(2480);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function g(e,t,n){return(t=C(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function b(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,C(i.key),i)}}function C(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==_(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}function x(e,t){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},x(e,t)}function S(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=w(e);if(t){var r=w(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function w(e){return w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},w(e)}var E=[null,null,null,-1],I=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(a,e);var t,n,i,o=S(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=o.call.apply(o,[this].concat(n))).tableBlots=[l.zW.blotName,l.iD.blotName],e.tableBlots.forEach(function(t){e.quill.editor.addImmediateFormat(t)}),e.integrateClipboard(),e.addKeyboardHandlers(),e.listenBalanceCells(),e}return t=a,n=[{key:"integrateClipboard",value:function(){var e=this;this.tableBlots.forEach(function(t){e.quill.clipboard.addTableBlot(t)}),this.quill.clipboard.addMatcher("td, th",k),this.quill.clipboard.addMatcher("table",(0,h.F)(p.Zt)),this.quill.clipboard.addMatcher("td, th",(0,h.a)(f.h6))}},{key:"addKeyboardHandlers",value:function(){var e=this,t=a.keyboardBindings;Object.keys(t).forEach(function(n){t[n]&&e.quill.keyboard.addBinding(t[n])})}},{key:"balanceTables",value:function(){this.quill.scroll.descendants(l.xJ).forEach(function(e){e.balanceCells()})}},{key:"deleteColumn",value:function(){var e=v(this.getTable(),3),t=e[0],n=e[2];(0,c.Z)(n)&&(t.deleteColumn(n.cellOffset()),this.quill.update(s.ZP.sources.USER))}},{key:"deleteRow",value:function(){var e=v(this.getTable(),2)[1];(0,c.Z)(e)&&(e.remove(),this.quill.update(s.ZP.sources.USER))}},{key:"deleteTable",value:function(){var e=v(this.getTable(),1)[0];if((0,c.Z)(e)){var t=e.offset();e.remove(),this.quill.update(s.ZP.sources.USER),this.quill.setSelection(t,s.ZP.sources.SILENT)}}},{key:"getTable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(!(0,c.Z)(e))return E;var t=v(this.quill.getLine(e.index),2),n=t[0],i=t[1];if(!(0,c.Z)(n)||-1===this.tableBlots.indexOf(n.statics.blotName))return E;var r=n.parent,o=r.parent;return[o.parent.parent,o,r,i]}},{key:"insertColumn",value:function(e){var t=this.quill.getSelection(),n=v(this.getTable(t),3),i=n[0],r=n[1],o=n[2];if((0,c.Z)(o)){var a=o.cellOffset();i.insertColumn(a+e),this.quill.update(s.ZP.sources.USER);var l=r.rowOffset();0===e&&(l+=1),this.quill.setSelection(t.index+l,t.length,s.ZP.sources.SILENT)}}},{key:"insertColumnLeft",value:function(){this.insertColumn(0)}},{key:"insertColumnRight",value:function(){this.insertColumn(1)}},{key:"insertRow",value:function(e){var t=this.quill.getSelection(),n=v(this.getTable(t),3),i=n[0],r=n[1],o=n[2];if((0,c.Z)(o)){var a=r.rowOffset();i.insertRow(a+e),this.quill.update(s.ZP.sources.USER),e>0?this.quill.setSelection(t,s.ZP.sources.SILENT):this.quill.setSelection(t.index+r.children.length,t.length,s.ZP.sources.SILENT)}}},{key:"insertRowAbove",value:function(){this.insertRow(0)}},{key:"insertRowBelow",value:function(){this.insertRow(1)}},{key:"insertHeaderRow",value:function(){var e=this.quill.getSelection(),t=v(this.getTable(e),3),n=t[0],i=t[2];(0,c.Z)(i)&&(n.insertHeaderRow(),this.quill.update(s.ZP.sources.USER))}},{key:"insertTable",value:function(e,t){var n=this.quill.getSelection();if((0,c.Z)(n)){var i=new Array(e).fill(0).reduce(function(e){var n=(0,l.Lv)();return new Array(t).fill("\n").forEach(function(t){e.insert(t,{tableCellLine:{row:n,cell:(0,l.Lv)()}})}),e},(new(r())).retain(n.index));this.quill.updateContents(i,s.ZP.sources.USER),this.quill.setSelection(n.index,s.ZP.sources.SILENT),this.balanceTables()}}},{key:"tableFormats",value:function(){return this.tableBlots}},{key:"listenBalanceCells",value:function(){var e=this;this.quill.on(s.ZP.events.SCROLL_OPTIMIZE,function(t){t.some(function(t){return-1!==["TD","TH","TR","TBODY","THEAD","TABLE"].indexOf(t.target.tagName)&&(e.quill.once(s.ZP.events.TEXT_CHANGE,function(t,n,i){i===s.ZP.sources.USER&&e.balanceTables()}),!0)})}),this.quill.on(s.ZP.events.CONTENT_SETTED,function(){e.quill.once(s.ZP.events.TEXT_CHANGE,function(){e.balanceTables()})})}}],i=[{key:"register",value:function(){s.ZP.register(l.zW,!0),s.ZP.register(l.iD,!0),s.ZP.register(l.xs,!0),s.ZP.register(l.pj,!0),s.ZP.register(l.KA,!0),s.ZP.register(l.SC,!0),s.ZP.register(l.RM,!0),s.ZP.register(l.xD,!0),s.ZP.register(l.xJ,!0),[p.li,f.Du].forEach(function(e){Object.keys(e).forEach(function(t){s.ZP.register(g({},"formats/".concat(t),e[t]),!0)})})}}],n&&b(t.prototype,n),i&&b(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(a.Z);function k(e,t){var n=e.parentNode,i="TABLE"===n.parentNode.tagName?n.parentNode:n.parentNode.parentNode,o="THEAD"===n.parentNode.tagName||null,s=Array.from(i.querySelectorAll("tr")),a=Array.from(n.querySelectorAll("th,td")),l=s.indexOf(n)+1,c=a.indexOf(e)+1,d=o?"tableHeaderCellLine":"tableCellLine";return 0===t.length()?t=(new(r())).insert("\n",g({},d,{row:l,cell:c})):((0,u.PF)(t,"\n")||t.insert("\n"),(0,u.HI)(t,d,{row:l,cell:c}))}I.keyboardBindings={"table backspace":{key:"backspace",format:["tableCellLine","tableHeaderCellLine"],collapsed:!0,offset:0,handler:function(e){var t=v(this.quill.getLine(e.index),1)[0];return!(!t.prev||-1===["tableCellLine","tableHeaderCellLine"].indexOf(t.prev.statics.blotName))}},"table delete":{key:"del",format:["tableCellLine","tableHeaderCellLine"],collapsed:!0,suffix:/^$/,handler:function(){}},"table enter":{key:"enter",shiftKey:null,format:["tableCellLine","tableHeaderCellLine"],handler:function(e,t){var n,i,r=this,a=this.quill.getModule("table");if(a){var l=this.quill,c=v(a.getTable(e),1)[0];if(1===(null===(n=this.quill.selection)||void 0===n?void 0:n.lastNative.native.endContainer.nodeType)){var u=c.offset();(0,m.Z)({quill:l,index:u,table:c})}else if(null===(i=this.quill.selection)||void 0===i||!i.composing){e.length>0&&this.quill.scroll.deleteAt(e.index,e.length);var d=Object.keys(t.format).reduce(function(e,n){return r.quill.scroll.query(n,o.Scope.BLOCK)&&!Array.isArray(t.format[n])&&(e[n]=t.format[n]),e},{});this.quill.insertText(e.index,"\n",d.tableCellLine,s.ZP.sources.USER),this.quill.setSelection(e.index+1,s.ZP.sources.SILENT),this.quill.focus(),Object.keys(t.format).forEach(function(e){null==d[e]&&(Array.isArray(t.format[e])||"link"!==e&&r.quill.format(e,t.format[e],s.ZP.sources.USER))})}}}},"table tab":{key:"tab",shiftKey:null,format:["tableCellLine","tableHeaderCellLine"],handler:function(e,t){var n=t.event,i=t.line,r=i.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(r-1,s.ZP.sources.USER):this.quill.setSelection(r+i.length(),s.ZP.sources.USER)}},"table down":(0,d.Z)(!1,["tableCellLine","tableHeaderCellLine"]),"table up":(0,d.Z)(!0,["tableCellLine","tableHeaderCellLine"])};const D=I},6054:(e,t,n)=>{"use strict";n.d(t,{Z:()=>ie});var i=n(9098),r=n.n(i),o=n(281),s=n(7094),a=n(6446),l=n(3553),c=n(5874),u=n(319),d=n(8536),h=n(2795);function p(e){return p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p(e)}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(e,t)||_(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||_(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(e){if("string"===typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function y(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,C(i.key),i)}}function b(e,t,n){return t&&y(e.prototype,t),n&&y(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C(e){var t=function(e,t){if("object"!==p(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==p(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===p(t)?t:String(t)}function x(){return x="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=I(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},x.apply(this,arguments)}function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&w(e,t)}function w(e,t){return w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},w(e,t)}function E(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=I(e);if(t){var r=I(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===p(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function I(e){return I=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},I(e)}var k="data-tablelite-",D=function(e){S(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return b(n,[{key:"format",value:function(e,t){if(u.li[e]){var i,r="data-".concat(e.toLowerCase());(0,h.Z)(this.domNode,r,t),null===(i=this.row())||void 0===i||null===(i=i.table())||void 0===i||i.format(e,t)}else x(I(n.prototype),"format",this).call(this,e,t)}},{key:"cellOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"row",value:function(){return"table"in this.parent?this.parent:null}},{key:"rowOffset",value:function(){return this.row()?this.row().rowOffset():-1}},{key:"table",value:function(){var e;return null===(e=this.row())||void 0===e?void 0:e.table()}}],[{key:"create",value:function(e){var t=x(I(n),"create",this).call(this),i=this.dataAttribute;return(0,h.Z)(t,i,null!==e&&void 0!==e?e:$()),t}},{key:"formats",value:function(e){var t=this.dataAttribute;if(e.hasAttribute(t))return e.getAttribute(t)}}]),n}(a.ZP);D.tagName=["TD","TH"];var O=function(e){S(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return b(n,[{key:"format",value:function(e,t){e===n.blotName&&t?this.domNode.setAttribute(n.dataAttribute,t):x(I(n.prototype),"format",this).call(this,e,t)}}]),n}(D);O.blotName="table",O.dataAttribute="".concat(k,"row");var T=function(e){S(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return b(n,[{key:"format",value:function(e,t){e===n.blotName&&t?this.domNode.setAttribute(n.dataAttribute,t):x(I(n.prototype),"format",this).call(this,e,t)}}]),n}(D);T.tagName=["TH","TD"],T.blotName="tableHeaderCell",T.dataAttribute="".concat(k,"header-row");var A=function(e){S(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return b(n,[{key:"checkMerge",value:function(){if(x(I(n.prototype),"checkMerge",this).call(this)&&(0,c.Z)(this.next.children.head)){var e=this.childFormatName,t=this.children.head.formats(),i=this.children.tail.formats(),r=this.next.children.head.formats(),o=this.next.children.tail.formats();return t[e]===i[e]&&t[e]===r[e]&&t[e]===o[e]}return!1}},{key:"optimize",value:function(){for(var e,t=this,i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];(e=x(I(n.prototype),"optimize",this)).call.apply(e,[this].concat(r));var s=this.childFormatName;this.children.forEach(function(e){if((0,c.Z)(e.next)){var n=e.formats(),i=e.next.formats();if(n[s]!==i[s]){var r=t.splitAfter(e);r&&r.optimize(),t.prev&&t.prev.optimize()}}})}},{key:"rowOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"table",value:function(){var e;return null===(e=this.parent)||void 0===e?void 0:e.parent}}]),n}(l.Z);A.tagName="TR";var P=function(e){S(n,e);var t=E(n);function n(e,i){var r;return v(this,n),(r=t.call(this,e,i)).childFormatName="table",r}return b(n)}(A);P.blotName="tableRow";var M=function(e){S(n,e);var t=E(n);function n(e,i){var r;return v(this,n),(r=t.call(this,e,i)).childFormatName="tableHeaderCell",r}return b(n)}(A);M.blotName="tableHeaderRow";var R=function(e){S(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return b(n,[{key:"optimize",value:function(){var e;if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var t=this.children.head.children.head.domNode,i={};Object.keys(u.li).forEach(function(e){var n=t.dataset[e.toLowerCase()];n&&(i[e]=n)}),this.wrap(this.statics.requiredContainer.blotName,i)}for(var r=arguments.length,o=new Array(r),s=0;s<r;s++)o[s]=arguments[s];(e=x(I(n.prototype),"optimize",this)).call.apply(e,[this].concat(o))}}]),n}(l.Z),B=function(e){S(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return b(n)}(R);B.blotName="tableBody",B.tagName=["TBODY"];var N=function(e){S(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return b(n)}(R);N.blotName="tableHeader",N.tagName=["THEAD"];var F=function(e){S(n,e);var t=E(n);function n(){return v(this,n),t.apply(this,arguments)}return b(n,[{key:"balanceCells",value:function(){var e=this.descendants(M),t=this.descendants(P),n=this.getMaxTableColCount(e,t);this.balanceRows(n,e,T),this.balanceRows(n,t,O)}},{key:"getMaxTableColCount",value:function(e,t){return Math.max(this.getMaxRowColCount(e),this.getMaxRowColCount(t))}},{key:"getMaxRowColCount",value:function(e){return Math.max.apply(Math,m(e.map(function(e){return e.children.length})))}},{key:"balanceRows",value:function(e,t,n){var i=this;t.forEach(function(t){new Array(e-t.children.length).fill(0).forEach(function(){var e;(0,c.Z)(t.children.head)&&(e=n.formats(t.children.head.domNode));var r=i.scroll.create(n.blotName,e);t.appendChild(r),r.optimize()})})}},{key:"cells",value:function(e){return this.rows().map(function(t){return t.children.at(e)})}},{key:"deleteColumn",value:function(e){var t=this;[N,B].forEach(function(n){var i=f(t.descendants(n),1)[0];(0,c.Z)(i)&&(0,c.Z)(i.children.head)&&i.children.forEach(function(t){var n=t.children.at(e);(0,c.Z)(n)&&n.remove()})})}},{key:"insertColumn",value:function(e){var t=this;[N,B].forEach(function(n){var i=f(t.descendants(n),1)[0];if((0,c.Z)(i)&&(0,c.Z)(i.children.head)){var r=n===N?T:O;i.children.forEach(function(n){var i=n.children.at(e),o=r.formats(n.children.head.domNode),s=t.scroll.create(r.blotName,o);n.insertBefore(s,i)})}})}},{key:"insertRow",value:function(e){var t=this,n=f(this.descendants(B),1)[0];if((0,c.Z)(n)&&(0,c.Z)(n.children.head)){var i=$(),r=this.scroll.create(P.blotName);n.children.head.children.forEach(function(){var e=t.scroll.create(O.blotName,i);r.appendChild(e)});var o=n.children.at(e);n.insertBefore(r,o)}}},{key:"insertHeaderRow",value:function(){var e=this,t=f(this.descendants(N),1)[0],n=f(this.descendants(B),1)[0];if(!(0,c.Z)(t)&&(0,c.Z)(n)&&(0,c.Z)(n.children.head)){var i=$(),r=this.scroll.create(N.blotName),o=this.scroll.create(M.blotName),s=this.children.at(0);r.appendChild(o),n.children.head.children.forEach(function(){var t=e.scroll.create(T.blotName,i);o.appendChild(t),t.optimize()}),this.insertBefore(r,s)}}},{key:"rows",value:function(){var e=this.children.head;return(0,c.Z)(e)?e.children.map(function(e){return e}):[]}},{key:"formats",value:function(){var e={},t=this.cells()[0].domNode;return Object.keys(u.li).forEach(function(n){var i=t.dataset[n.toLowerCase()];i&&(e[n]=i)}),e}},{key:"format",value:function(e,t){var n=u.li[e];if(n){var i="data-".concat(e.toLowerCase());this.cells().forEach(function(e){(0,h.Z)(e.domNode,i,t)}),n.add(this.domNode,t)}}}],[{key:"create",value:function(e){var t=x(I(n),"create",this).call(this,e);return e&&Object.keys(e).forEach(function(n){var i;null===(i=u.li[n])||void 0===i||i.add(t,e[n])}),t}}]),n}(l.Z);function $(){return"row-".concat((0,d.Z)())}F.blotName="tableContainer",F.tagName="TABLE",F.allowedChildren=[N,B],B.requiredContainer=F,N.requiredContainer=F,B.allowedChildren=[P],P.requiredContainer=B,P.allowedChildren=[O],O.requiredContainer=P,N.allowedChildren=[M],M.requiredContainer=N,M.allowedChildren=[T],T.requiredContainer=M;var H=n(5635),L=n(9466);function V(e){var t=e.quill,n=e.index,i=e.range,s=n-1,a=(new(r())).retain(s).insert("\n");t.updateContents(a,o.ZP.sources.USER),t.setSelection(i.index+1,i.length,o.ZP.sources.SILENT)}var z=n(2480);function j(e,t,n){return null==e.prev&&null==e.next?null==t.prev&&null==t.next?0===n?-1:1:null==t.prev?-1:1:null==e.prev?-1:null==e.next?1:null}var W=n(7896),K=n(1342);function U(e){return U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U(e)}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,r,o,s,a=[],l=!0,c=!1;try{if(o=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;l=!1}else for(;!(l=(i=o.call(n)).done)&&(a.push(i.value),a.length!==t);l=!0);}catch(e){c=!0,r=e}finally{try{if(!l&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(c)throw r}}return a}}(e,t)||function(e,t){if(e){if("string"===typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function Z(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Y(i.key),i)}}function Y(e){var t=function(e,t){if("object"!==U(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==U(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===U(t)?t:String(t)}function Q(e,t){return Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Q(e,t)}function X(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=J(e);if(t){var r=J(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===U(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function J(e){return J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},J(e)}var ee=[null,null,null,-1],te=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q(e,t)}(a,e);var t,n,i,s=X(a);function a(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=s.call.apply(s,[this].concat(n))).tableBlots=[O.blotName,T.blotName],e.tableBlots.forEach(function(t){e.quill.editor.addImmediateFormat(t)}),e.integrateClipboard(),e.addKeyboardHandlers(),e.listenBalanceCells(),e}return t=a,n=[{key:"integrateClipboard",value:function(){var e=this;this.tableBlots.forEach(function(t){return e.quill.clipboard.addTableBlot(t)}),this.quill.clipboard.addMatcher("tr",ne),this.quill.clipboard.addMatcher("table",(0,W.F)(u.Zt)),this.quill.clipboard.addMatcher("td, th",(0,W.a)(K.h6))}},{key:"addKeyboardHandlers",value:function(){var e=this,t=a.keyboardBindings;Object.keys(t).forEach(function(n){t[n]&&e.quill.keyboard.addBinding(t[n])})}},{key:"balanceTables",value:function(){this.quill.scroll.descendants(F).forEach(function(e){e.balanceCells()})}},{key:"deleteColumn",value:function(){var e=q(this.getTable(),3),t=e[0],n=e[2];(0,c.Z)(n)&&(t.deleteColumn(n.cellOffset()),this.quill.update(o.ZP.sources.USER))}},{key:"deleteRow",value:function(){var e=q(this.getTable(),2)[1];(0,c.Z)(e)&&(e.remove(),this.quill.update(o.ZP.sources.USER))}},{key:"deleteTable",value:function(){var e=q(this.getTable(),1)[0];if((0,c.Z)(e)){var t=e.offset();e.remove(),this.quill.update(o.ZP.sources.USER),this.quill.setSelection(t,o.ZP.sources.SILENT)}}},{key:"getTable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(!(0,c.Z)(e))return ee;var t=q(this.quill.getLine(e.index),2),n=t[0],i=t[1];if(!(0,c.Z)(n)||-1===this.tableBlots.indexOf(n.statics.blotName))return ee;var r=n.parent;return[r.parent.parent,r,n,i]}},{key:"insertColumn",value:function(e){var t=this.quill.getSelection(),n=q(this.getTable(t),3),i=n[0],r=n[1],s=n[2];if((0,c.Z)(s)){var a=s.cellOffset();i.insertColumn(a+e),this.quill.update(o.ZP.sources.USER);var l=r.rowOffset();0===e&&(l+=1),this.quill.setSelection(t.index+l,t.length,o.ZP.sources.SILENT)}}},{key:"insertColumnLeft",value:function(){this.insertColumn(0)}},{key:"insertColumnRight",value:function(){this.insertColumn(1)}},{key:"insertRow",value:function(e){var t=this.quill.getSelection(),n=q(this.getTable(t),3),i=n[0],r=n[1],s=n[2];if((0,c.Z)(s)){var a=r.rowOffset();i.insertRow(a+e),this.quill.update(o.ZP.sources.USER),e>0?this.quill.setSelection(t,o.ZP.sources.SILENT):this.quill.setSelection(t.index+r.children.length,t.length,o.ZP.sources.SILENT)}}},{key:"insertRowAbove",value:function(){this.insertRow(0)}},{key:"insertRowBelow",value:function(){this.insertRow(1)}},{key:"insertHeaderRow",value:function(){var e=this.quill.getSelection(),t=q(this.getTable(e),3),n=t[0],i=t[2];(0,c.Z)(i)&&(n.insertHeaderRow(),this.quill.update(o.ZP.sources.USER))}},{key:"insertTable",value:function(e,t){var n=this.quill.getSelection();if((0,c.Z)(n)){var i=new Array(e).fill(0).reduce(function(e){var n=new Array(t).fill("\n").join("");return e.insert(n,{table:$()})},(new(r())).retain(n.index));this.quill.updateContents(i,o.ZP.sources.USER),this.quill.setSelection(n.index,o.ZP.sources.SILENT),this.balanceTables()}}},{key:"tableFormats",value:function(){return this.tableBlots}},{key:"listenBalanceCells",value:function(){var e=this;this.quill.on(o.ZP.events.SCROLL_OPTIMIZE,function(t){t.some(function(t){return-1!==["TD","TH","TR","TBODY","THEAD","TABLE"].indexOf(t.target.tagName)&&(e.quill.once(o.ZP.events.TEXT_CHANGE,function(t,n,i){i===o.ZP.sources.USER&&e.balanceTables()}),!0)})}),this.quill.on(o.ZP.events.CONTENT_SETTED,function(){e.quill.once(o.ZP.events.TEXT_CHANGE,function(){e.balanceTables()})})}}],i=[{key:"register",value:function(){o.ZP.register(T,!0),o.ZP.register(O,!0),o.ZP.register(M,!0),o.ZP.register(P,!0),o.ZP.register(B,!0),o.ZP.register(N,!0),o.ZP.register(F,!0),[u.li,K.Du].forEach(function(e){Object.keys(e).forEach(function(t){var n,i,r;o.ZP.register((n={},i="formats/".concat(t),r=e[t],(i=Y(i))in n?Object.defineProperty(n,i,{value:r,enumerable:!0,configurable:!0,writable:!0}):n[i]=r,n),!0)})})}}],n&&Z(t.prototype,n),i&&Z(t,i),Object.defineProperty(t,"prototype",{writable:!1}),a}(s.Z);function ne(e,t){var n="TABLE"===e.parentNode.tagName?e.parentNode:e.parentNode.parentNode,i="THEAD"===e.parentNode.tagName||null,r=Array.from(n.querySelectorAll("tr")).indexOf(e)+1;return(0,H.HI)(t,i?"tableHeaderCell":"table",r)}te.keyboardBindings={"table backspace":{key:"backspace",format:["table","tableHeaderCell"],collapsed:!0,offset:0,handler:function(){}},"table delete":{key:"del",format:["table","tableHeaderCell"],collapsed:!0,suffix:/^$/,handler:function(){}},"table enter":{key:"enter",shiftKey:null,format:["table"],handler:function(e){var t=this.quill.getModule("table");if(t){var n=this.quill,i=q(t.getTable(e),4),r=i[0],o=j(i[1],i[2],i[3]),s=r.children.length>1&&r.children.head;if(null==o||o<0&&s)return;var a=r.offset();o<0?V({quill:n,index:a,range:e}):(0,z.Z)({quill:n,index:a,table:r})}}},"table header enter":{key:"enter",shiftKey:null,format:["tableHeaderCell"],handler:function(e){var t=this.quill.getModule("table");if(t){var n=this.quill,i=q(t.getTable(e),4),r=i[0],o=j(i[1],i[2],i[3]);if(null==o)return;var s=r.offset(),a=r.children.length>1&&r.children.tail;o<0||o>0&&a?V({quill:n,index:s,range:e}):(0,z.Z)({quill:n,index:s,table:r})}}},"table tab":{key:"tab",shiftKey:null,format:["table","tableHeaderCell"],handler:function(e,t){var n=t.event,i=t.line,r=i.offset(this.quill.scroll);n.shiftKey?this.quill.setSelection(r-1,o.ZP.sources.USER):this.quill.setSelection(r+i.length(),o.ZP.sources.USER)}},"table down":(0,L.Z)(!1,["table","tableHeaderCell"]),"table up":(0,L.Z)(!0,["table","tableHeaderCell"])};const ie=te},2480:(e,t,n)=>{"use strict";n.d(t,{Z:()=>s});var i=n(9098),r=n.n(i),o=n(281);function s(e){var t=e.quill,n=e.index+e.table.length(),i=(new(r())).retain(n).insert("\n");t.updateContents(i,o.ZP.sources.USER),t.setSelection(n,o.ZP.sources.USER)}},9466:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r});var i=n(281);function r(e,t){return{key:e?"upArrow":"downArrow",collapsed:!0,format:t,handler:function(t,n){var r=e?"prev":"next",o=n.line,s=o.statics.blotName.indexOf("Line")>-1?o.parent:o,a=s.parent.parent[r],l=s.parent[r]||(null===a||void 0===a?void 0:a.children.head);if(null!=l){if("tableRow"===l.statics.blotName||"tableHeaderRow"===l.statics.blotName){for(var c=l.children.head,u=s;null!=u.prev;)u=u.prev,c=c.next;var d=c.offset(this.quill.scroll)+Math.min(n.offset,c.length()-1);this.quill.setSelection(d,0,i.ZP.sources.USER)}}else{var h=s.table()[r];null!=h&&(e?this.quill.setSelection(h.offset(this.quill.scroll)+h.length()-1,0,i.ZP.sources.USER):this.quill.setSelection(h.offset(this.quill.scroll),0,i.ZP.sources.USER))}return!1}}}},7896:(e,t,n)=>{"use strict";n.d(t,{F:()=>p,a:()=>f});var i=n(1233),r=n(1674),o=n(4569),s=n(5635);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach(function(t){u(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==a(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===a(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t,n,i){e[t]=!i&&e[t]?e[t]:n}function h(e,t,n,r,o,s){return e.filter(function(e){return!!e}).forEach(function(e){var a=n.query(e,i.Scope.ATTRIBUTE);if(null!==a){var l=a.value(t);if(l)return void d(o,a.attrName,l,s)}var c=r[e];if(null!=c&&(c.attrName===e||c.keyName===e)){var u=c.value(t)||void 0;d(o,c.attrName,u,s)}}),o}function p(e){return function(t,n,i){var a=r.Z.keys(t),l=o.Z.keys(t),u=c(c({},h(a,t,i,e,{},!0)),h(l,t,i,e,{},!0));return Object.keys(u).length>0?(0,s.HI)(n,u):n}}function f(e){return function(t,n,i){var a,l=r.Z.keys(t),u=o.Z.keys(t),d="TR"===(null===(a=t.parentNode)||void 0===a?void 0:a.tagName)?t.parentNode:void 0,p=c(c({},h(l,t,i,e,{},!0)),h(u,t,i,e,{},!0));return d&&(p=h(o.Z.keys(d),d,i,e,p,!1)),Object.keys(p).length>0?(0,s.HI)(n,p):n}}},3859:(e,t,n)=>{"use strict";n.d(t,{Z:()=>m});var i=n(9098),r=n.n(i),o=n(2069),s=n(7094),a=n(8034);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function c(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,u(i.key),i)}}function u(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==l(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===l(t)?t:String(t)}function d(e,t){return d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},d(e,t)}function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=p(e);if(t){var r=p(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===l(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function p(e){return p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},p(e)}var f=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(o,e);var t,n,i,r=h(o);function o(e,t){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(n=r.call(this,e,t)).preventImageUploading(!1),n.addDragOverHandler(),n.addDropHandler(),n}return t=o,(n=[{key:"addDragOverHandler",value:function(){if((0,a.Z)()){var e=window.navigator.userAgent.toLowerCase();(-1!==e.indexOf("msie ")||-1!==e.indexOf("trident/")||-1!==e.indexOf("edge/"))&&this.quill.root.addEventListener("dragover",function(e){e.preventDefault()})}}},{key:"addDropHandler",value:function(){var e=this;this.quill.root.addEventListener("drop",function(t){var n=0===t.dataTransfer.files.length,i=e.options.onDrop;if(i&&"function"===typeof i&&i(t),!n&&!e.preventImageUpload){var r;if(t.preventDefault(),document.caretRangeFromPoint)r=document.caretRangeFromPoint(t.clientX,t.clientY);else{if(!document.caretPositionFromPoint)return;var o=document.caretPositionFromPoint(t.clientX,t.clientY);(r=document.createRange()).setStart(o.offsetNode,o.offset),r.setEnd(o.offsetNode,o.offset)}var s=e.quill.selection.normalizeNative(r),a=e.quill.selection.normalizedToRange(s);e.upload(a,t.dataTransfer.files)}})}},{key:"preventImageUploading",value:function(e){return"undefined"!==typeof e&&(this.preventImageUpload=e),this.preventImageUpload}},{key:"upload",value:function(e,t,n){var i=this;if(!this.preventImageUpload||n){var r=[];Array.from(t).forEach(function(e){e&&-1!==i.options.mimetypes.indexOf(e.type)&&r.push(e)}),r.length>0&&this.options.handler.call(this,e,r,this.options.imageBlot)}}}])&&c(t.prototype,n),i&&c(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(s.Z);f.DEFAULTS={mimetypes:["image/png","image/jpeg","image/pjpeg","image/gif","image/webp","image/bmp","image/svg+xml","image/vnd.microsoft.icon"],imageBlot:"image",handler:function(e,t,n){var i=this,s=t.map(function(e){return new Promise(function(t){var n=new FileReader;n.onload=function(e){t(e.target.result)},n.readAsDataURL(e)})});Promise.all(s).then(function(t){var s=t.reduce(function(e,t){return e.insert((i={},o=t,(r=u(r=n))in i?Object.defineProperty(i,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):i[r]=o,i));var i,r,o},(new(r())).retain(e.index).delete(e.length));i.quill.updateContents(s,o.Z.sources.USER),i.quill.setSelection(e.index+t.length,o.Z.sources.SILENT)})}};const m=f},2141:(e,t,n)=>{"use strict";function i(e){return e?e.substring(0,1).toUpperCase()+e.substring(1):""}n.d(t,{Z:()=>i})},8034:(e,t,n)=>{"use strict";n.d(t,{Z:()=>i});const i=function(){return"undefined"!==typeof window}},5874:(e,t,n)=>{"use strict";function i(e){return null!==e&&void 0!==e}n.d(t,{Z:()=>i})},1233:(e,t,n)=>{"use strict";var i;n.r(t),n.d(t,{Attributor:()=>C,AttributorStore:()=>T,BlockBlot:()=>N,ClassAttributor:()=>E,ContainerBlot:()=>g,EmbedBlot:()=>H,InlineBlot:()=>M,LeafBlot:()=>b,ParentBlot:()=>f,Registry:()=>u,Scope:()=>r,ScrollBlot:()=>j,StyleAttributor:()=>O,TextBlot:()=>K}),function(e){e[e.TYPE=3]="TYPE",e[e.LEVEL=12]="LEVEL",e[e.ATTRIBUTE=13]="ATTRIBUTE",e[e.BLOT=14]="BLOT",e[e.INLINE=7]="INLINE",e[e.BLOCK=11]="BLOCK",e[e.BLOCK_BLOT=10]="BLOCK_BLOT",e[e.INLINE_BLOT=6]="INLINE_BLOT",e[e.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",e[e.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",e[e.ANY=15]="ANY"}(i||(i={}));const r=i;var o=function(){function e(){this.head=null,this.tail=null,this.length=0}return e.prototype.append=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(this.insertBefore(e[0],null),e.length>1){var n=e.slice(1);this.append.apply(this,n)}},e.prototype.at=function(e){for(var t=this.iterator(),n=t();n&&e>0;)e-=1,n=t();return n},e.prototype.contains=function(e){for(var t=this.iterator(),n=t();n;){if(n===e)return!0;n=t()}return!1},e.prototype.indexOf=function(e){for(var t=this.iterator(),n=t(),i=0;n;){if(n===e)return i;i+=1,n=t()}return-1},e.prototype.insertBefore=function(e,t){null!=e&&(this.remove(e),e.next=t,null!=t?(e.prev=t.prev,null!=t.prev&&(t.prev.next=e),t.prev=e,t===this.head&&(this.head=e)):null!=this.tail?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)},e.prototype.offset=function(e){for(var t=0,n=this.head;null!=n;){if(n===e)return t;t+=n.length(),n=n.next}return-1},e.prototype.remove=function(e){this.contains(e)&&(null!=e.prev&&(e.prev.next=e.next),null!=e.next&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)},e.prototype.iterator=function(e){return void 0===e&&(e=this.head),function(){var t=e;return null!=e&&(e=e.next),t}},e.prototype.find=function(e,t){void 0===t&&(t=!1);for(var n=this.iterator(),i=n();i;){var r=i.length();if(e<r||t&&e===r&&(null==i.next||0!==i.next.length()))return[i,e];e-=r,i=n()}return[null,0]},e.prototype.forEach=function(e){for(var t=this.iterator(),n=t();n;)e(n),n=t()},e.prototype.forEachAt=function(e,t,n){if(!(t<=0))for(var i=this.find(e),r=i[0],o=e-i[1],s=this.iterator(r),a=s();a&&o<e+t;){var l=a.length();e>o?n(a,e-o,Math.min(t,o+l-e)):n(a,0,Math.min(l,e+t-o)),o+=l,a=s()}},e.prototype.map=function(e){return this.reduce(function(t,n){return t.push(e(n)),t},[])},e.prototype.reduce=function(e,t){for(var n=this.iterator(),i=n();i;)t=e(t,i),i=n();return t},e}();const s=o;var a=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const l=function(e){function t(t){var n=this;return t="[Parchment] "+t,(n=e.call(this,t)||this).message=t,n.name=n.constructor.name,n}return a(t,e),t}(Error);var c=function(){function e(){this.attributes={},this.classes={},this.tags={},this.types={}}return e.find=function(e,t){if(void 0===t&&(t=!1),null==e)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(t){var n=null;try{n=e.parentNode}catch(i){return null}return this.find(n,t)}return null},e.prototype.create=function(t,n,i){var r=this.query(n);if(null==r)throw new l("Unable to create ".concat(n," blot"));var o=r,s=n instanceof Node||n.nodeType===Node.TEXT_NODE?n:o.create(i),a=new o(t,s,i);return e.blots.set(a.domNode,a),a},e.prototype.find=function(t,n){return void 0===n&&(n=!1),e.find(t,n)},e.prototype.query=function(e,t){var n,i=this;return void 0===t&&(t=r.ANY),"string"===typeof e?n=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?n=this.types.text:"number"===typeof e?e&r.LEVEL&r.BLOCK?n=this.types.block:e&r.LEVEL&r.INLINE&&(n=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(function(e){return!!(n=i.classes[e])}),n=n||this.tags[e.tagName]),null==n?null:t&r.LEVEL&n.scope&&t&r.TYPE&n.scope?n:null},e.prototype.register=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];if(t.length>1)return t.map(function(t){return e.register(t)});var i=t[0];if("string"!==typeof i.blotName&&"string"!==typeof i.attrName)throw new l("Invalid definition");if("abstract"===i.blotName)throw new l("Cannot register abstract class");return this.types[i.blotName||i.attrName]=i,"string"===typeof i.keyName?this.attributes[i.keyName]=i:(null!=i.className&&(this.classes[i.className]=i),null!=i.tagName&&(Array.isArray(i.tagName)?i.tagName=i.tagName.map(function(e){return e.toUpperCase()}):i.tagName=i.tagName.toUpperCase(),(Array.isArray(i.tagName)?i.tagName:[i.tagName]).forEach(function(t){null!=e.tags[t]&&null!=i.className||(e.tags[t]=i)}))),i},e.blots=new WeakMap,e}();const u=c,d=function(){function e(e,t){this.scroll=e,this.domNode=t,u.blots.set(t,this),this.prev=null,this.next=null}return e.create=function(e){if(null==this.tagName)throw new l("Blot definition missing tagName");var t;return Array.isArray(this.tagName)?("string"===typeof e&&(e=e.toUpperCase(),parseInt(e,10).toString()===e&&(e=parseInt(e,10))),t="number"===typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):t=document.createElement(this.tagName),this.className&&t.classList.add(this.className),t},Object.defineProperty(e.prototype,"statics",{get:function(){return this.constructor},enumerable:!1,configurable:!0}),e.prototype.attach=function(){},e.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return this.scroll.create(e)},e.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),u.blots.delete(this.domNode)},e.prototype.deleteAt=function(e,t){this.isolate(e,t).remove()},e.prototype.formatAt=function(e,t,n,i){var o=this.isolate(e,t);if(null!=this.scroll.query(n,r.BLOT)&&i)o.wrap(n,i);else if(null!=this.scroll.query(n,r.ATTRIBUTE)){var s=this.scroll.create(this.statics.scope);o.wrap(s),s.format(n,i)}},e.prototype.insertAt=function(e,t,n){var i=null==n?this.scroll.create("text",t):this.scroll.create(t,n),r=this.split(e);this.parent.insertBefore(i,r||void 0)},e.prototype.isolate=function(e,t){var n=this.split(e);if(null==n)throw new Error("Attempt to isolate at end");return n.split(t),n},e.prototype.length=function(){return 1},e.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this===e?0:this.parent.children.offset(this)+this.parent.offset(e)},e.prototype.optimize=function(e){!this.statics.requiredContainer||this.parent instanceof this.statics.requiredContainer||this.wrap(this.statics.requiredContainer.blotName)},e.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},e.prototype.replaceWith=function(e,t){var n="string"===typeof e?this.scroll.create(e,t):e;return null!=this.parent&&(this.parent.insertBefore(n,this.next||void 0),this.remove()),n},e.prototype.split=function(e,t){return 0===e?this:this.next},e.prototype.update=function(e,t){},e.prototype.wrap=function(e,t){var n="string"===typeof e?this.scroll.create(e,t):e;if(null!=this.parent&&this.parent.insertBefore(n,this.next||void 0),"function"!==typeof n.appendChild)throw new l("Cannot wrap ".concat(e));return n.appendChild(this),n},e.blotName="abstract",e}();var h=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function p(e,t){var n=t.find(e);if(null==n)try{n=t.create(e)}catch(i){n=t.create(r.INLINE),Array.from(e.childNodes).forEach(function(e){n.domNode.appendChild(e)}),e.parentNode&&e.parentNode.replaceChild(n.domNode,e),n.attach()}return n}const f=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.uiNode=null,i.build(),i}return h(t,e),t.prototype.appendChild=function(e){this.insertBefore(e)},t.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach(function(e){e.attach()})},t.prototype.attachUI=function(e){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=e,t.uiClass&&this.uiNode.classList.add(t.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)},t.prototype.build=function(){var e=this;this.children=new s,Array.from(this.domNode.childNodes).filter(function(t){return t!==e.uiNode}).reverse().forEach(function(t){try{var n=p(t,e.scroll);e.insertBefore(n,e.children.head||void 0)}catch(i){if(i instanceof l)return;throw i}})},t.prototype.deleteAt=function(e,t){if(0===e&&t===this.length())return this.remove();this.children.forEachAt(e,t,function(e,t,n){e.deleteAt(t,n)})},t.prototype.descendant=function(e,n){void 0===n&&(n=0);var i=this.children.find(n),r=i[0],o=i[1];return null==e.blotName&&e(r)||null!=e.blotName&&r instanceof e?[r,o]:r instanceof t?r.descendant(e,o):[null,-1]},t.prototype.descendants=function(e,n,i){void 0===n&&(n=0),void 0===i&&(i=Number.MAX_VALUE);var r=[],o=i;return this.children.forEachAt(n,i,function(n,i,s){(null==e.blotName&&e(n)||null!=e.blotName&&n instanceof e)&&r.push(n),n instanceof t&&(r=r.concat(n.descendants(e,i,o))),o-=s}),r},t.prototype.detach=function(){this.children.forEach(function(e){e.detach()}),e.prototype.detach.call(this)},t.prototype.enforceAllowedChildren=function(){var e=this,n=!1;this.children.forEach(function(i){n||e.statics.allowedChildren.some(function(e){return i instanceof e})||(i.statics.scope===r.BLOCK_BLOT?(null!=i.next&&e.splitAfter(i),null!=i.prev&&e.splitAfter(i.prev),i.parent.unwrap(),n=!0):i instanceof t?i.unwrap():i.remove())})},t.prototype.formatAt=function(e,t,n,i){this.children.forEachAt(e,t,function(e,t,r){e.formatAt(t,r,n,i)})},t.prototype.insertAt=function(e,t,n){var i=this.children.find(e),r=i[0],o=i[1];if(r)r.insertAt(o,t,n);else{var s=null==n?this.scroll.create("text",t):this.scroll.create(t,n);this.appendChild(s)}},t.prototype.insertBefore=function(e,t){null!=e.parent&&e.parent.children.remove(e);var n=null;this.children.insertBefore(e,t||null),e.parent=this,null!=t&&(n=t.domNode),this.domNode.parentNode===e.domNode&&this.domNode.nextSibling===n||this.domNode.insertBefore(e.domNode,n),e.attach()},t.prototype.length=function(){return this.children.reduce(function(e,t){return e+t.length()},0)},t.prototype.moveChildren=function(e,t){this.children.forEach(function(n){e.insertBefore(n,t)})},t.prototype.optimize=function(t){if(e.prototype.optimize.call(this,t),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){var n=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(n)}else this.remove()},t.prototype.path=function(e,n){void 0===n&&(n=!1);var i=this.children.find(e,n),r=i[0],o=i[1],s=[[this,e]];return r instanceof t?s.concat(r.path(o,n)):(null!=r&&s.push([r,o]),s)},t.prototype.removeChild=function(e){this.children.remove(e)},t.prototype.replaceWith=function(n,i){var r="string"===typeof n?this.scroll.create(n,i):n;return r instanceof t&&this.moveChildren(r),e.prototype.replaceWith.call(this,r)},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.clone();return this.parent&&this.parent.insertBefore(n,this.next||void 0),this.children.forEachAt(e,this.length(),function(e,i,r){var o=e.split(i,t);null!=o&&n.appendChild(o)}),n},t.prototype.splitAfter=function(e){for(var t=this.clone();null!=e.next;)t.appendChild(e.next);return this.parent&&this.parent.insertBefore(t,this.next||void 0),t},t.prototype.unwrap=function(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()},t.prototype.update=function(e,t){var n=this,i=[],r=[];e.forEach(function(e){e.target===n.domNode&&"childList"===e.type&&(i.push.apply(i,e.addedNodes),r.push.apply(r,e.removedNodes))}),r.forEach(function(e){if(!(null!=e.parentNode&&"IFRAME"!==e.tagName&&document.body.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var t=n.scroll.find(e);null!=t&&(null!=t.domNode.parentNode&&t.domNode.parentNode!==n.domNode||t.detach())}}),i.filter(function(e){return e.parentNode===n.domNode||e===n.uiNode}).sort(function(e,t){return e===t?0:e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(e){var t=null;null!=e.nextSibling&&(t=n.scroll.find(e.nextSibling));var i=p(e,n.scroll);i.next===t&&null!=i.next||(null!=i.parent&&i.parent.removeChild(n),n.insertBefore(i,t||void 0))}),this.enforceAllowedChildren()},t.uiClass="",t}(d);var m=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return m(t,e),t.prototype.checkMerge=function(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName},t.prototype.deleteAt=function(t,n){e.prototype.deleteAt.call(this,t,n),this.enforceAllowedChildren()},t.prototype.formatAt=function(t,n,i,r){e.prototype.formatAt.call(this,t,n,i,r),this.enforceAllowedChildren()},t.prototype.insertAt=function(t,n,i){e.prototype.insertAt.call(this,t,n,i),this.enforceAllowedChildren()},t.prototype.optimize=function(t){e.prototype.optimize.call(this,t),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())},t.blotName="container",t.scope=r.BLOCK_BLOT,t}(f);const g=_;var v=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return v(t,e),t.value=function(e){return!0},t.prototype.index=function(e,t){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},t.prototype.position=function(e,t){var n=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return e>0&&(n+=1),[this.parent.domNode,n]},t.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},t.scope=r.INLINE_BLOT,t}(d);const b=y,C=function(){function e(e,t,n){void 0===n&&(n={}),this.attrName=e,this.keyName=t;var i=r.TYPE&r.ATTRIBUTE;this.scope=null!=n.scope?n.scope&r.LEVEL|i:r.ATTRIBUTE,null!=n.whitelist&&(this.whitelist=n.whitelist)}return e.keys=function(e){return Array.from(e.attributes).map(function(e){return e.name})},e.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.setAttribute(this.keyName,t),!0)},e.prototype.canAdd=function(e,t){return null==this.whitelist||("string"===typeof t?this.whitelist.indexOf(t.replace(/["']/g,""))>-1:this.whitelist.indexOf(t)>-1)},e.prototype.remove=function(e){e.removeAttribute(this.keyName)},e.prototype.value=function(e){var t=e.getAttribute(this.keyName);return this.canAdd(e,t)&&t?t:""},e}();var x=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function S(e,t){return(e.getAttribute("class")||"").split(/\s+/).filter(function(e){return 0===e.indexOf("".concat(t,"-"))})}var w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return x(t,e),t.keys=function(e){return(e.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(this.remove(e),e.classList.add("".concat(this.keyName,"-").concat(t)),!0)},t.prototype.remove=function(e){S(e,this.keyName).forEach(function(t){e.classList.remove(t)}),0===e.classList.length&&e.removeAttribute("class")},t.prototype.value=function(e){var t=(S(e,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(e,t)?t:""},t}(C);const E=w;var I=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();function k(e){var t=e.split("-"),n=t.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return t[0]+n}var D=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return I(t,e),t.keys=function(e){return(e.getAttribute("style")||"").split(";").map(function(e){return e.split(":")[0].trim()})},t.prototype.add=function(e,t){return!!this.canAdd(e,t)&&(e.style[k(this.keyName)]=t,!0)},t.prototype.remove=function(e){e.style[k(this.keyName)]="",e.getAttribute("style")||e.removeAttribute("style")},t.prototype.value=function(e){var t=e.style[k(this.keyName)];return this.canAdd(e,t)?t:""},t}(C);const O=D,T=function(){function e(e){this.attributes={},this.domNode=e,this.build()}return e.prototype.attribute=function(e,t){t?e.add(this.domNode,t)&&(null!=e.value(this.domNode)?this.attributes[e.attrName]=e:delete this.attributes[e.attrName]):(e.remove(this.domNode),delete this.attributes[e.attrName])},e.prototype.build=function(){var e=this;this.attributes={};var t=u.find(this.domNode);if(null!=t){var n=C.keys(this.domNode),i=E.keys(this.domNode),o=O.keys(this.domNode);n.concat(i).concat(o).forEach(function(n){var i=t.scroll.query(n,r.ATTRIBUTE);i instanceof C&&(e.attributes[i.attrName]=i)})}},e.prototype.copy=function(e){var t=this;Object.keys(this.attributes).forEach(function(n){var i=t.attributes[n].value(t.domNode);e.format(n,i)})},e.prototype.move=function(e){var t=this;this.copy(e),Object.keys(this.attributes).forEach(function(e){t.attributes[e].remove(t.domNode)}),this.attributes={}},e.prototype.values=function(){var e=this;return Object.keys(this.attributes).reduce(function(t,n){return t[n]=e.attributes[n].value(e.domNode),t},{})},e}();var A=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),P=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.attributes=new T(i.domNode),i}return A(t,e),t.formats=function(e,n){var i=n.query(t.blotName);if(null==i||e.tagName!==i.tagName)return"string"===typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,n){var i=this;if(e!==this.statics.blotName||n){var o=this.scroll.query(e,r.INLINE);if(null==o)return;o instanceof C?this.attributes.attribute(o,n):!n||e===this.statics.blotName&&this.formats()[e]===n||this.replaceWith(e,n)}else this.children.forEach(function(e){e instanceof t||(e=e.wrap(t.blotName,!0)),i.attributes.copy(e)}),this.unwrap()},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.formatAt=function(t,n,i,o){null!=this.formats()[i]||this.scroll.query(i,r.ATTRIBUTE)?this.isolate(t,n).format(i,o):e.prototype.formatAt.call(this,t,n,i,o)},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var i=this.formats();if(0===Object.keys(i).length)return this.unwrap();var r=this.next;r instanceof t&&r.prev===this&&function(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(e[n]!==t[n])return!1;return!0}(i,r.formats())&&(r.moveChildren(this),r.remove())},t.prototype.replaceWith=function(t,n){var i=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(i),i},t.prototype.update=function(t,n){var i=this;e.prototype.update.call(this,t,n),t.some(function(e){return e.target===i.domNode&&"attributes"===e.type})&&this.attributes.build()},t.prototype.wrap=function(n,i){var r=e.prototype.wrap.call(this,n,i);return r instanceof t&&this.attributes.move(r),r},t.allowedChildren=[t,b],t.blotName="inline",t.scope=r.INLINE_BLOT,t.tagName="SPAN",t}(f);const M=P;var R=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),B=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.attributes=new T(i.domNode),i}return R(t,e),t.formats=function(e,n){var i=n.query(t.blotName);if(null==i||e.tagName!==i.tagName)return"string"===typeof this.tagName||(Array.isArray(this.tagName)?e.tagName.toLowerCase():void 0)},t.prototype.format=function(e,n){var i=this.scroll.query(e,r.BLOCK);null!=i&&(i instanceof C?this.attributes.attribute(i,n):e!==this.statics.blotName||n?!n||e===this.statics.blotName&&this.formats()[e]===n||this.replaceWith(e,n):this.replaceWith(t.blotName))},t.prototype.formats=function(){var e=this.attributes.values(),t=this.statics.formats(this.domNode,this.scroll);return null!=t&&(e[this.statics.blotName]=t),e},t.prototype.formatAt=function(t,n,i,o){null!=this.scroll.query(i,r.BLOCK)?this.format(i,o):e.prototype.formatAt.call(this,t,n,i,o)},t.prototype.insertAt=function(t,n,i){if(null==i||null!=this.scroll.query(n,r.INLINE))e.prototype.insertAt.call(this,t,n,i);else{var o=this.split(t);if(null==o)throw new Error("Attempt to insertAt after block boundaries");var s=this.scroll.create(n,i);o.parent.insertBefore(s,o)}},t.prototype.replaceWith=function(t,n){var i=e.prototype.replaceWith.call(this,t,n);return this.attributes.copy(i),i},t.prototype.update=function(t,n){var i=this;e.prototype.update.call(this,t,n),t.some(function(e){return e.target===i.domNode&&"attributes"===e.type})&&this.attributes.build()},t.blotName="block",t.scope=r.BLOCK_BLOT,t.tagName="P",t.allowedChildren=[M,t,b],t}(f);const N=B;var F=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),$=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return F(t,e),t.formats=function(e,t){},t.prototype.format=function(t,n){e.prototype.formatAt.call(this,0,this.length(),t,n)},t.prototype.formatAt=function(t,n,i,r){0===t&&n===this.length()?this.format(i,r):e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.formats=function(){return this.statics.formats(this.domNode,this.scroll)},t}(b);const H=$;var L=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),V={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},z=function(e){function t(t,n){var i=e.call(this,null,n)||this;return i.registry=t,i.scroll=i,i.build(),i.observer=new MutationObserver(function(e){i.update(e)}),i.observer.observe(i.domNode,V),i.attach(),i}return L(t,e),t.prototype.create=function(e,t){return this.registry.create(this,e,t)},t.prototype.find=function(e,t){void 0===t&&(t=!1);var n=this.registry.find(e,t);return n?n.scroll===this?n:t?this.find(n.scroll.domNode.parentNode,!0):null:null},t.prototype.query=function(e,t){return void 0===t&&(t=r.ANY),this.registry.query(e,t)},t.prototype.register=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return(e=this.registry).register.apply(e,t)},t.prototype.build=function(){null!=this.scroll&&e.prototype.build.call(this)},t.prototype.detach=function(){e.prototype.detach.call(this),this.observer.disconnect()},t.prototype.deleteAt=function(t,n){this.update(),0===t&&n===this.length()?this.children.forEach(function(e){e.remove()}):e.prototype.deleteAt.call(this,t,n)},t.prototype.formatAt=function(t,n,i,r){this.update(),e.prototype.formatAt.call(this,t,n,i,r)},t.prototype.insertAt=function(t,n,i){this.update(),e.prototype.insertAt.call(this,t,n,i)},t.prototype.optimize=function(t,n){var i=this;void 0===t&&(t=[]),void 0===n&&(n={}),e.prototype.optimize.call(this,n);for(var r=n.mutationsMap||new WeakMap,o=Array.from(this.observer.takeRecords());o.length>0;)t.push(o.pop());for(var s=function e(t,n){void 0===n&&(n=!0),null!=t&&t!==i&&null!=t.domNode.parentNode&&(r.has(t.domNode)||r.set(t.domNode,[]),n&&e(t.parent))},a=function e(t){r.has(t.domNode)&&(t instanceof f&&t.children.forEach(e),r.delete(t.domNode),t.optimize(n))},l=t,c=0;l.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(function(e){var t=i.find(e.target,!0);null!=t&&(t.domNode===e.target&&("childList"===e.type?(s(i.find(e.previousSibling,!1)),Array.from(e.addedNodes).forEach(function(e){var t=i.find(e,!1);s(t,!1),t instanceof f&&t.children.forEach(function(e){s(e,!1)})})):"attributes"===e.type&&s(t.prev)),s(t))}),this.children.forEach(a),o=(l=Array.from(this.observer.takeRecords())).slice();o.length>0;)t.push(o.pop())}},t.prototype.update=function(t,n){var i=this;void 0===n&&(n={}),t=t||this.observer.takeRecords();var r=new WeakMap;t.map(function(e){var t=i.find(e.target,!0);return null==t?null:r.has(t.domNode)?(r.get(t.domNode).push(e),null):(r.set(t.domNode,[e]),t)}).forEach(function(e){null!=e&&e!==i&&r.has(e.domNode)&&e.update(r.get(e.domNode)||[],n)}),n.mutationsMap=r,r.has(this.domNode)&&e.prototype.update.call(this,r.get(this.domNode),n),this.optimize(t,n)},t.blotName="scroll",t.defaultChild=N,t.allowedChildren=[N,g],t.scope=r.BLOCK_BLOT,t.tagName="DIV",t}(f);const j=z;var W=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}();const K=function(e){function t(t,n){var i=e.call(this,t,n)||this;return i.text=i.statics.value(i.domNode),i}return W(t,e),t.create=function(e){return document.createTextNode(e)},t.value=function(e){return e.data},t.prototype.deleteAt=function(e,t){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+t)},t.prototype.index=function(e,t){return this.domNode===e?t:-1},t.prototype.insertAt=function(t,n,i){null==i?(this.text=this.text.slice(0,t)+n+this.text.slice(t),this.domNode.data=this.text):e.prototype.insertAt.call(this,t,n,i)},t.prototype.length=function(){return this.text.length},t.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof t&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},t.prototype.position=function(e,t){return void 0===t&&(t=!1),[this.domNode,e]},t.prototype.split=function(e,t){if(void 0===t&&(t=!1),!t){if(0===e)return this;if(e===this.length())return this.next}var n=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(n,this.next||void 0),this.text=this.statics.value(this.domNode),n},t.prototype.update=function(e,t){var n=this;e.some(function(e){return"characterData"===e.type&&e.target===n.domNode})&&(this.text=this.statics.value(this.domNode))},t.prototype.value=function(){return this.text},t.blotName="text",t.scope=r.INLINE_BLOT,t}(b)},3034:function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,i="~";function r(){}function o(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(e,t,n,r,s){if("function"!==typeof n)throw new TypeError("The listener must be a function");var a=new o(n,r||e,s),l=i?i+t:t;return e._events[l]?e._events[l].fn?e._events[l]=[e._events[l],a]:e._events[l].push(a):(e._events[l]=a,e._eventsCount++),e}function a(e,t){0===--e._eventsCount?e._events=new r:delete e._events[t]}function l(){this._events=new r,this._eventsCount=0}Object.create&&(r.prototype=Object.create(null),(new r).__proto__||(i=!1)),l.prototype.eventNames=function(){var e,t,r=[];if(0===this._eventsCount)return r;for(t in e=this._events)n.call(e,t)&&r.push(i?t.slice(1):t);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(e)):r},l.prototype.listeners=function(e){var t=i?i+e:e,n=this._events[t];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,s=new Array(o);r<o;r++)s[r]=n[r].fn;return s},l.prototype.listenerCount=function(e){var t=i?i+e:e,n=this._events[t];return n?n.fn?1:n.length:0},l.prototype.emit=function(e,t,n,r,o,s){var a=i?i+e:e;if(!this._events[a])return!1;var l,c,u=this._events[a],d=arguments.length;if(u.fn){switch(u.once&&this.removeListener(e,u.fn,void 0,!0),d){case 1:return u.fn.call(u.context),!0;case 2:return u.fn.call(u.context,t),!0;case 3:return u.fn.call(u.context,t,n),!0;case 4:return u.fn.call(u.context,t,n,r),!0;case 5:return u.fn.call(u.context,t,n,r,o),!0;case 6:return u.fn.call(u.context,t,n,r,o,s),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];u.fn.apply(u.context,l)}else{var h,p=u.length;for(c=0;c<p;c++)switch(u[c].once&&this.removeListener(e,u[c].fn,void 0,!0),d){case 1:u[c].fn.call(u[c].context);break;case 2:u[c].fn.call(u[c].context,t);break;case 3:u[c].fn.call(u[c].context,t,n);break;case 4:u[c].fn.call(u[c].context,t,n,r);break;default:if(!l)for(h=1,l=new Array(d-1);h<d;h++)l[h-1]=arguments[h];u[c].fn.apply(u[c].context,l)}}return!0},l.prototype.on=function(e,t,n){return s(this,e,t,n,!1)},l.prototype.once=function(e,t,n){return s(this,e,t,n,!0)},l.prototype.removeListener=function(e,t,n,r){var o=i?i+e:e;if(!this._events[o])return this;if(!t)return a(this,o),this;var s=this._events[o];if(s.fn)s.fn!==t||r&&!s.once||n&&s.context!==n||a(this,o);else{for(var l=0,c=[],u=s.length;l<u;l++)(s[l].fn!==t||r&&!s[l].once||n&&s[l].context!==n)&&c.push(s[l]);c.length?this._events[o]=1===c.length?c[0]:c:a(this,o)}return this},l.prototype.removeAllListeners=function(e){var t;return e?(t=i?i+e:e,this._events[t]&&a(this,t)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=i,l.EventEmitter=l,"undefined"!==typeof e&&(e.exports=l)},1456:e=>{var t=-1;function n(e,a,l,c){if(e===a)return e?[[0,e]]:[];if(null!=l){var u=function(e,t,n){var i="number"===typeof n?{index:n,length:0}:n.oldRange,r="number"===typeof n?null:n.newRange,o=e.length,s=t.length;if(0===i.length&&(null===r||0===r.length)){var a=i.index,l=e.slice(0,a),c=e.slice(a),u=r?r.index:null,h=a+s-o;if((null===u||u===h)&&!(h<0||h>s)){var p=t.slice(0,h);if((_=t.slice(h))===c){var f=Math.min(a,h);if((v=l.slice(0,f))===(b=p.slice(0,f)))return d(v,l.slice(f),p.slice(f),c)}}if(null===u||u===a){var m=a,_=(p=t.slice(0,m),t.slice(m));if(p===l){var g=Math.min(o-m,s-m);if((y=c.slice(c.length-g))===(C=_.slice(_.length-g)))return d(l,c.slice(0,c.length-g),_.slice(0,_.length-g),y)}}}if(i.length>0&&r&&0===r.length){var v=e.slice(0,i.index),y=e.slice(i.index+i.length);if(!(s<(f=v.length)+(g=y.length))){var b=t.slice(0,f),C=t.slice(s-g);if(v===b&&y===C)return d(v,e.slice(f,o-g),t.slice(f,s-g),y)}}return null}(e,a,l);if(u)return u}var h=r(e,a),p=e.substring(0,h);h=o(e=e.substring(h),a=a.substring(h));var f=e.substring(e.length-h),m=function(e,s){var a;if(!e)return[[1,s]];if(!s)return[[t,e]];var l=e.length>s.length?e:s,c=e.length>s.length?s:e,u=l.indexOf(c);if(-1!==u)return a=[[1,l.substring(0,u)],[0,c],[1,l.substring(u+c.length)]],e.length>s.length&&(a[0][0]=a[2][0]=t),a;if(1===c.length)return[[t,e],[1,s]];var d=function(e,t){var n=e.length>t.length?e:t,i=e.length>t.length?t:e;if(n.length<4||2*i.length<n.length)return null;function s(e,t,n){for(var i,s,a,l,c=e.substring(n,n+Math.floor(e.length/4)),u=-1,d="";-1!==(u=t.indexOf(c,u+1));){var h=r(e.substring(n),t.substring(u)),p=o(e.substring(0,n),t.substring(0,u));d.length<p+h&&(d=t.substring(u-p,u)+t.substring(u,u+h),i=e.substring(0,n-p),s=e.substring(n+h),a=t.substring(0,u-p),l=t.substring(u+h))}return 2*d.length>=e.length?[i,s,a,l,d]:null}var a,l,c,u,d,h=s(n,i,Math.ceil(n.length/4)),p=s(n,i,Math.ceil(n.length/2));if(!h&&!p)return null;a=p?h&&h[4].length>p[4].length?h:p:h,e.length>t.length?(l=a[0],c=a[1],u=a[2],d=a[3]):(u=a[0],d=a[1],l=a[2],c=a[3]);var f=a[4];return[l,c,u,d,f]}(e,s);if(d){var h=d[0],p=d[1],f=d[2],m=d[3],_=d[4],g=n(h,f),v=n(p,m);return g.concat([[0,_]],v)}return function(e,n){for(var r=e.length,o=n.length,s=Math.ceil((r+o)/2),a=s,l=2*s,c=new Array(l),u=new Array(l),d=0;d<l;d++)c[d]=-1,u[d]=-1;c[a+1]=0,u[a+1]=0;for(var h=r-o,p=h%2!==0,f=0,m=0,_=0,g=0,v=0;v<s;v++){for(var y=-v+f;y<=v-m;y+=2){for(var b=a+y,C=(I=y===-v||y!==v&&c[b-1]<c[b+1]?c[b+1]:c[b-1]+1)-y;I<r&&C<o&&e.charAt(I)===n.charAt(C);)I++,C++;if(c[b]=I,I>r)m+=2;else if(C>o)f+=2;else if(p&&(w=a+h-y)>=0&&w<l&&-1!==u[w]&&I>=(S=r-u[w]))return i(e,n,I,C)}for(var x=-v+_;x<=v-g;x+=2){for(var S,w=a+x,E=(S=x===-v||x!==v&&u[w-1]<u[w+1]?u[w+1]:u[w-1]+1)-x;S<r&&E<o&&e.charAt(r-S-1)===n.charAt(o-E-1);)S++,E++;if(u[w]=S,S>r)g+=2;else if(E>o)_+=2;else if(!p){var I;if((b=a+h-x)>=0&&b<l&&-1!==c[b])if(C=a+(I=c[b])-b,I>=(S=r-S))return i(e,n,I,C)}}}return[[t,e],[1,n]]}(e,s)}(e=e.substring(0,e.length-h),a=a.substring(0,a.length-h));return p&&m.unshift([0,p]),f&&m.push([0,f]),s(m,c),m}function i(e,t,i,r){var o=e.substring(0,i),s=t.substring(0,r),a=e.substring(i),l=t.substring(r),c=n(o,s),u=n(a,l);return c.concat(u)}function r(e,t){if(!e||!t||e.charAt(0)!==t.charAt(0))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(o,r)==t.substring(o,r)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return a(e.charCodeAt(r-1))&&r--,r}function o(e,t){if(!e||!t||e.slice(-1)!==t.slice(-1))return 0;for(var n=0,i=Math.min(e.length,t.length),r=i,o=0;n<r;)e.substring(e.length-r,e.length-o)==t.substring(t.length-r,t.length-o)?o=n=r:i=r,r=Math.floor((i-n)/2+n);return l(e.charCodeAt(e.length-r))&&r--,r}function s(e,n){e.push([0,""]);for(var i,a=0,l=0,d=0,h="",p="";a<e.length;)if(a<e.length-1&&!e[a][1])e.splice(a,1);else switch(e[a][0]){case 1:d++,p+=e[a][1],a++;break;case t:l++,h+=e[a][1],a++;break;case 0:var f=a-d-l-1;if(n){if(f>=0&&u(e[f][1])){var m=e[f][1].slice(-1);if(e[f][1]=e[f][1].slice(0,-1),h=m+h,p=m+p,!e[f][1]){e.splice(f,1),a--;var _=f-1;e[_]&&1===e[_][0]&&(d++,p=e[_][1]+p,_--),e[_]&&e[_][0]===t&&(l++,h=e[_][1]+h,_--),f=_}}c(e[a][1])&&(m=e[a][1].charAt(0),e[a][1]=e[a][1].slice(1),h+=m,p+=m)}if(a<e.length-1&&!e[a][1]){e.splice(a,1);break}if(h.length>0||p.length>0){h.length>0&&p.length>0&&(0!==(i=r(p,h))&&(f>=0?e[f][1]+=p.substring(0,i):(e.splice(0,0,[0,p.substring(0,i)]),a++),p=p.substring(i),h=h.substring(i)),0!==(i=o(p,h))&&(e[a][1]=p.substring(p.length-i)+e[a][1],p=p.substring(0,p.length-i),h=h.substring(0,h.length-i)));var g=d+l;0===h.length&&0===p.length?(e.splice(a-g,g),a-=g):0===h.length?(e.splice(a-g,g,[1,p]),a=a-g+1):0===p.length?(e.splice(a-g,g,[t,h]),a=a-g+1):(e.splice(a-g,g,[t,h],[1,p]),a=a-g+2)}0!==a&&0===e[a-1][0]?(e[a-1][1]+=e[a][1],e.splice(a,1)):a++,d=0,l=0,h="",p=""}""===e[e.length-1][1]&&e.pop();var v=!1;for(a=1;a<e.length-1;)0===e[a-1][0]&&0===e[a+1][0]&&(e[a][1].substring(e[a][1].length-e[a-1][1].length)===e[a-1][1]?(e[a][1]=e[a-1][1]+e[a][1].substring(0,e[a][1].length-e[a-1][1].length),e[a+1][1]=e[a-1][1]+e[a+1][1],e.splice(a-1,1),v=!0):e[a][1].substring(0,e[a+1][1].length)==e[a+1][1]&&(e[a-1][1]+=e[a+1][1],e[a][1]=e[a][1].substring(e[a+1][1].length)+e[a+1][1],e.splice(a+1,1),v=!0)),a++;v&&s(e,n)}function a(e){return e>=55296&&e<=56319}function l(e){return e>=56320&&e<=57343}function c(e){return l(e.charCodeAt(0))}function u(e){return a(e.charCodeAt(e.length-1))}function d(e,n,i,r){return u(e)||c(r)?null:function(e){for(var t=[],n=0;n<e.length;n++)e[n][1].length>0&&t.push(e[n]);return t}([[0,e],[t,n],[1,i],[0,r]])}function h(e,t,i){return n(e,t,i,!0)}h.INSERT=1,h.DELETE=t,h.EQUAL=0,e.exports=h},8805:(e,t,n)=>{e=n.nmd(e);var i="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",s="[object Boolean]",a="[object Date]",l="[object Function]",c="[object GeneratorFunction]",u="[object Map]",d="[object Number]",h="[object Object]",p="[object Promise]",f="[object RegExp]",m="[object Set]",_="[object String]",g="[object Symbol]",v="[object WeakMap]",y="[object ArrayBuffer]",b="[object DataView]",C="[object Float32Array]",x="[object Float64Array]",S="[object Int8Array]",w="[object Int16Array]",E="[object Int32Array]",I="[object Uint8Array]",k="[object Uint8ClampedArray]",D="[object Uint16Array]",O="[object Uint32Array]",T=/\w*$/,A=/^\[object .+?Constructor\]$/,P=/^(?:0|[1-9]\d*)$/,M={};M[o]=M["[object Array]"]=M[y]=M[b]=M[s]=M[a]=M[C]=M[x]=M[S]=M[w]=M[E]=M[u]=M[d]=M[h]=M[f]=M[m]=M[_]=M[g]=M[I]=M[k]=M[D]=M[O]=!0,M["[object Error]"]=M[l]=M[v]=!1;var R="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,B="object"==typeof self&&self&&self.Object===Object&&self,N=R||B||Function("return this")(),F=t&&!t.nodeType&&t,$=F&&e&&!e.nodeType&&e,H=$&&$.exports===F;function L(e,t){return e.set(t[0],t[1]),e}function V(e,t){return e.add(t),e}function z(e,t,n,i){var r=-1,o=e?e.length:0;for(i&&o&&(n=e[++r]);++r<o;)n=t(n,e[r],r,e);return n}function j(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(n){}return t}function W(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function K(e,t){return function(n){return e(t(n))}}function U(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var q=Array.prototype,G=Function.prototype,Z=Object.prototype,Y=N["__core-js_shared__"],Q=function(){var e=/[^.]+$/.exec(Y&&Y.keys&&Y.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),X=G.toString,J=Z.hasOwnProperty,ee=Z.toString,te=RegExp("^"+X.call(J).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=H?N.Buffer:void 0,ie=N.Symbol,re=N.Uint8Array,oe=K(Object.getPrototypeOf,Object),se=Object.create,ae=Z.propertyIsEnumerable,le=q.splice,ce=Object.getOwnPropertySymbols,ue=ne?ne.isBuffer:void 0,de=K(Object.keys,Object),he=Fe(N,"DataView"),pe=Fe(N,"Map"),fe=Fe(N,"Promise"),me=Fe(N,"Set"),_e=Fe(N,"WeakMap"),ge=Fe(Object,"create"),ve=ze(he),ye=ze(pe),be=ze(fe),Ce=ze(me),xe=ze(_e),Se=ie?ie.prototype:void 0,we=Se?Se.valueOf:void 0;function Ee(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Ie(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ke(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function De(e){this.__data__=new Ie(e)}function Oe(e,t){var n=We(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&Ke(e)}(e)&&J.call(e,"callee")&&(!ae.call(e,"callee")||ee.call(e)==o)}(e)?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],i=n.length,r=!!i;for(var s in e)!t&&!J.call(e,s)||r&&("length"==s||Le(s,i))||n.push(s);return n}function Te(e,t,n){var i=e[t];J.call(e,t)&&je(i,n)&&(void 0!==n||t in e)||(e[t]=n)}function Ae(e,t){for(var n=e.length;n--;)if(je(e[n][0],t))return n;return-1}function Pe(e,t,n,i,r,p,v){var A;if(i&&(A=p?i(e,r,p,v):i(e)),void 0!==A)return A;if(!Ge(e))return e;var P=We(e);if(P){if(A=function(e){var t=e.length,n=e.constructor(t);return t&&"string"==typeof e[0]&&J.call(e,"index")&&(n.index=e.index,n.input=e.input),n}(e),!t)return function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}(e,A)}else{var R=He(e),B=R==l||R==c;if(Ue(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(R==h||R==o||B&&!p){if(j(e))return p?e:{};if(A=function(e){return"function"!=typeof e.constructor||Ve(e)?{}:Ge(t=oe(e))?se(t):{};var t}(B?{}:e),!t)return function(e,t){return Be(e,$e(e),t)}(e,function(e,t){return e&&Be(t,Ze(t),e)}(A,e))}else{if(!M[R])return p?e:{};A=function(e,t,n,i){var r,o=e.constructor;switch(t){case y:return Re(e);case s:case a:return new o(+e);case b:return function(e,t){var n=t?Re(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,i);case C:case x:case S:case w:case E:case I:case k:case D:case O:return function(e,t){var n=t?Re(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,i);case u:return function(e,t,n){var i=t?n(W(e),!0):W(e);return z(i,L,new e.constructor)}(e,i,n);case d:case _:return new o(e);case f:return function(e){var t=new e.constructor(e.source,T.exec(e));return t.lastIndex=e.lastIndex,t}(e);case m:return function(e,t,n){var i=t?n(U(e),!0):U(e);return z(i,V,new e.constructor)}(e,i,n);case g:return r=e,we?Object(we.call(r)):{}}}(e,R,Pe,t)}}v||(v=new De);var N=v.get(e);if(N)return N;if(v.set(e,A),!P)var F=n?function(e){return function(e,t,n){var i=t(e);return We(e)?i:function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}(i,n(e))}(e,Ze,$e)}(e):Ze(e);return function(e,t){for(var n=-1,i=e?e.length:0;++n<i&&!1!==t(e[n],n,e););}(F||e,function(r,o){F&&(r=e[o=r]),Te(A,o,Pe(r,t,n,i,o,e,v))}),A}function Me(e){return!(!Ge(e)||(t=e,Q&&Q in t))&&(qe(e)||j(e)?te:A).test(ze(e));var t}function Re(e){var t=new e.constructor(e.byteLength);return new re(t).set(new re(e)),t}function Be(e,t,n,i){n||(n={});for(var r=-1,o=t.length;++r<o;){var s=t[r],a=i?i(n[s],e[s],s,n,e):void 0;Te(n,s,void 0===a?e[s]:a)}return n}function Ne(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Fe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Me(n)?n:void 0}Ee.prototype.clear=function(){this.__data__=ge?ge(null):{}},Ee.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Ee.prototype.get=function(e){var t=this.__data__;if(ge){var n=t[e];return n===i?void 0:n}return J.call(t,e)?t[e]:void 0},Ee.prototype.has=function(e){var t=this.__data__;return ge?void 0!==t[e]:J.call(t,e)},Ee.prototype.set=function(e,t){return this.__data__[e]=ge&&void 0===t?i:t,this},Ie.prototype.clear=function(){this.__data__=[]},Ie.prototype.delete=function(e){var t=this.__data__,n=Ae(t,e);return!(n<0)&&(n==t.length-1?t.pop():le.call(t,n,1),!0)},Ie.prototype.get=function(e){var t=this.__data__,n=Ae(t,e);return n<0?void 0:t[n][1]},Ie.prototype.has=function(e){return Ae(this.__data__,e)>-1},Ie.prototype.set=function(e,t){var n=this.__data__,i=Ae(n,e);return i<0?n.push([e,t]):n[i][1]=t,this},ke.prototype.clear=function(){this.__data__={hash:new Ee,map:new(pe||Ie),string:new Ee}},ke.prototype.delete=function(e){return Ne(this,e).delete(e)},ke.prototype.get=function(e){return Ne(this,e).get(e)},ke.prototype.has=function(e){return Ne(this,e).has(e)},ke.prototype.set=function(e,t){return Ne(this,e).set(e,t),this},De.prototype.clear=function(){this.__data__=new Ie},De.prototype.delete=function(e){return this.__data__.delete(e)},De.prototype.get=function(e){return this.__data__.get(e)},De.prototype.has=function(e){return this.__data__.has(e)},De.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ie){var i=n.__data__;if(!pe||i.length<199)return i.push([e,t]),this;n=this.__data__=new ke(i)}return n.set(e,t),this};var $e=ce?K(ce,Object):function(){return[]},He=function(e){return ee.call(e)};function Le(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||P.test(e))&&e>-1&&e%1==0&&e<t}function Ve(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Z)}function ze(e){if(null!=e){try{return X.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function je(e,t){return e===t||e!==e&&t!==t}(he&&He(new he(new ArrayBuffer(1)))!=b||pe&&He(new pe)!=u||fe&&He(fe.resolve())!=p||me&&He(new me)!=m||_e&&He(new _e)!=v)&&(He=function(e){var t=ee.call(e),n=t==h?e.constructor:void 0,i=n?ze(n):void 0;if(i)switch(i){case ve:return b;case ye:return u;case be:return p;case Ce:return m;case xe:return v}return t});var We=Array.isArray;function Ke(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!qe(e)}var Ue=ue||function(){return!1};function qe(e){var t=Ge(e)?ee.call(e):"";return t==l||t==c}function Ge(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Ze(e){return Ke(e)?Oe(e):function(e){if(!Ve(e))return de(e);var t=[];for(var n in Object(e))J.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return Pe(e,!0,!0)}},2722:(e,t,n)=>{e=n.nmd(e);var i="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",s="[object Array]",a="[object Boolean]",l="[object Date]",c="[object Error]",u="[object Function]",d="[object Map]",h="[object Number]",p="[object Object]",f="[object Promise]",m="[object RegExp]",_="[object Set]",g="[object String]",v="[object Symbol]",y="[object WeakMap]",b="[object ArrayBuffer]",C="[object DataView]",x=/^\[object .+?Constructor\]$/,S=/^(?:0|[1-9]\d*)$/,w={};w["[object Float32Array]"]=w["[object Float64Array]"]=w["[object Int8Array]"]=w["[object Int16Array]"]=w["[object Int32Array]"]=w["[object Uint8Array]"]=w["[object Uint8ClampedArray]"]=w["[object Uint16Array]"]=w["[object Uint32Array]"]=!0,w[o]=w[s]=w[b]=w[a]=w[C]=w[l]=w[c]=w[u]=w[d]=w[h]=w[p]=w[m]=w[_]=w[g]=w[y]=!1;var E="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,I="object"==typeof self&&self&&self.Object===Object&&self,k=E||I||Function("return this")(),D=t&&!t.nodeType&&t,O=D&&e&&!e.nodeType&&e,T=O&&O.exports===D,A=T&&E.process,P=function(){try{return A&&A.binding&&A.binding("util")}catch(e){}}(),M=P&&P.isTypedArray;function R(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}function B(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}function N(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}var F,$,H=Array.prototype,L=Function.prototype,V=Object.prototype,z=k["__core-js_shared__"],j=L.toString,W=V.hasOwnProperty,K=function(){var e=/[^.]+$/.exec(z&&z.keys&&z.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),U=V.toString,q=RegExp("^"+j.call(W).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),G=T?k.Buffer:void 0,Z=k.Symbol,Y=k.Uint8Array,Q=V.propertyIsEnumerable,X=H.splice,J=Z?Z.toStringTag:void 0,ee=Object.getOwnPropertySymbols,te=G?G.isBuffer:void 0,ne=(F=Object.keys,$=Object,function(e){return F($(e))}),ie=Ae(k,"DataView"),re=Ae(k,"Map"),oe=Ae(k,"Promise"),se=Ae(k,"Set"),ae=Ae(k,"WeakMap"),le=Ae(Object,"create"),ce=Be(ie),ue=Be(re),de=Be(oe),he=Be(se),pe=Be(ae),fe=Z?Z.prototype:void 0,me=fe?fe.valueOf:void 0;function _e(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ge(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ve(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ye(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new ve;++t<n;)this.add(e[t])}function be(e){var t=this.__data__=new ge(e);this.size=t.size}function Ce(e,t){var n=$e(e),i=!n&&Fe(e),r=!n&&!i&&He(e),o=!n&&!i&&!r&&We(e),s=n||i||r||o,a=s?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=a.length;for(var c in e)!t&&!W.call(e,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Re(c,l))||a.push(c);return a}function xe(e,t){for(var n=e.length;n--;)if(Ne(e[n][0],t))return n;return-1}function Se(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":J&&J in Object(e)?function(e){var t=W.call(e,J),n=e[J];try{e[J]=void 0;var i=!0}catch(o){}var r=U.call(e);return i&&(t?e[J]=n:delete e[J]),r}(e):function(e){return U.call(e)}(e)}function we(e){return je(e)&&Se(e)==o}function Ee(e,t,n,i,r){return e===t||(null==e||null==t||!je(e)&&!je(t)?e!==e&&t!==t:function(e,t,n,i,r,u){var f=$e(e),y=$e(t),x=f?s:Me(e),S=y?s:Me(t),w=(x=x==o?p:x)==p,E=(S=S==o?p:S)==p,I=x==S;if(I&&He(e)){if(!He(t))return!1;f=!0,w=!1}if(I&&!w)return u||(u=new be),f||We(e)?De(e,t,n,i,r,u):function(e,t,n,i,r,o,s){switch(n){case C:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!o(new Y(e),new Y(t)));case a:case l:case h:return Ne(+e,+t);case c:return e.name==t.name&&e.message==t.message;case m:case g:return e==t+"";case d:var u=B;case _:var p=1&i;if(u||(u=N),e.size!=t.size&&!p)return!1;var f=s.get(e);if(f)return f==t;i|=2,s.set(e,t);var y=De(u(e),u(t),i,r,o,s);return s.delete(e),y;case v:if(me)return me.call(e)==me.call(t)}return!1}(e,t,x,n,i,r,u);if(!(1&n)){var k=w&&W.call(e,"__wrapped__"),D=E&&W.call(t,"__wrapped__");if(k||D){var O=k?e.value():e,T=D?t.value():t;return u||(u=new be),r(O,T,n,i,u)}}return!!I&&(u||(u=new be),function(e,t,n,i,r,o){var s=1&n,a=Oe(e),l=a.length,c=Oe(t),u=c.length;if(l!=u&&!s)return!1;for(var d=l;d--;){var h=a[d];if(!(s?h in t:W.call(t,h)))return!1}var p=o.get(e);if(p&&o.get(t))return p==t;var f=!0;o.set(e,t),o.set(t,e);for(var m=s;++d<l;){var _=e[h=a[d]],g=t[h];if(i)var v=s?i(g,_,h,t,e,o):i(_,g,h,e,t,o);if(!(void 0===v?_===g||r(_,g,n,i,o):v)){f=!1;break}m||(m="constructor"==h)}if(f&&!m){var y=e.constructor,b=t.constructor;y==b||!("constructor"in e)||!("constructor"in t)||"function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b||(f=!1)}return o.delete(e),o.delete(t),f}(e,t,n,i,r,u))}(e,t,n,i,Ee,r))}function Ie(e){return!(!ze(e)||function(e){return!!K&&K in e}(e))&&(Le(e)?q:x).test(Be(e))}function ke(e){if(!function(e){var t=e&&e.constructor,n="function"==typeof t&&t.prototype||V;return e===n}(e))return ne(e);var t=[];for(var n in Object(e))W.call(e,n)&&"constructor"!=n&&t.push(n);return t}function De(e,t,n,i,r,o){var s=1&n,a=e.length,l=t.length;if(a!=l&&!(s&&l>a))return!1;var c=o.get(e);if(c&&o.get(t))return c==t;var u=-1,d=!0,h=2&n?new ye:void 0;for(o.set(e,t),o.set(t,e);++u<a;){var p=e[u],f=t[u];if(i)var m=s?i(f,p,u,t,e,o):i(p,f,u,e,t,o);if(void 0!==m){if(m)continue;d=!1;break}if(h){if(!R(t,function(e,t){if(s=t,!h.has(s)&&(p===e||r(p,e,n,i,o)))return h.push(t);var s})){d=!1;break}}else if(p!==f&&!r(p,f,n,i,o)){d=!1;break}}return o.delete(e),o.delete(t),d}function Oe(e){return function(e,t,n){var i=t(e);return $e(e)?i:function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}(i,n(e))}(e,Ke,Pe)}function Te(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function Ae(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Ie(n)?n:void 0}_e.prototype.clear=function(){this.__data__=le?le(null):{},this.size=0},_e.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},_e.prototype.get=function(e){var t=this.__data__;if(le){var n=t[e];return n===i?void 0:n}return W.call(t,e)?t[e]:void 0},_e.prototype.has=function(e){var t=this.__data__;return le?void 0!==t[e]:W.call(t,e)},_e.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=le&&void 0===t?i:t,this},ge.prototype.clear=function(){this.__data__=[],this.size=0},ge.prototype.delete=function(e){var t=this.__data__,n=xe(t,e);return!(n<0)&&(n==t.length-1?t.pop():X.call(t,n,1),--this.size,!0)},ge.prototype.get=function(e){var t=this.__data__,n=xe(t,e);return n<0?void 0:t[n][1]},ge.prototype.has=function(e){return xe(this.__data__,e)>-1},ge.prototype.set=function(e,t){var n=this.__data__,i=xe(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},ve.prototype.clear=function(){this.size=0,this.__data__={hash:new _e,map:new(re||ge),string:new _e}},ve.prototype.delete=function(e){var t=Te(this,e).delete(e);return this.size-=t?1:0,t},ve.prototype.get=function(e){return Te(this,e).get(e)},ve.prototype.has=function(e){return Te(this,e).has(e)},ve.prototype.set=function(e,t){var n=Te(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},ye.prototype.add=ye.prototype.push=function(e){return this.__data__.set(e,i),this},ye.prototype.has=function(e){return this.__data__.has(e)},be.prototype.clear=function(){this.__data__=new ge,this.size=0},be.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},be.prototype.get=function(e){return this.__data__.get(e)},be.prototype.has=function(e){return this.__data__.has(e)},be.prototype.set=function(e,t){var n=this.__data__;if(n instanceof ge){var i=n.__data__;if(!re||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new ve(i)}return n.set(e,t),this.size=n.size,this};var Pe=ee?function(e){return null==e?[]:(e=Object(e),function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}(ee(e),function(t){return Q.call(e,t)}))}:function(){return[]},Me=Se;function Re(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||S.test(e))&&e>-1&&e%1==0&&e<t}function Be(e){if(null!=e){try{return j.call(e)}catch(t){}try{return e+""}catch(t){}}return""}function Ne(e,t){return e===t||e!==e&&t!==t}(ie&&Me(new ie(new ArrayBuffer(1)))!=C||re&&Me(new re)!=d||oe&&Me(oe.resolve())!=f||se&&Me(new se)!=_||ae&&Me(new ae)!=y)&&(Me=function(e){var t=Se(e),n=t==p?e.constructor:void 0,i=n?Be(n):"";if(i)switch(i){case ce:return C;case ue:return d;case de:return f;case he:return _;case pe:return y}return t});var Fe=we(function(){return arguments}())?we:function(e){return je(e)&&W.call(e,"callee")&&!Q.call(e,"callee")},$e=Array.isArray,He=te||function(){return!1};function Le(e){if(!ze(e))return!1;var t=Se(e);return t==u||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Ve(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function ze(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function je(e){return null!=e&&"object"==typeof e}var We=M?function(e){return function(t){return e(t)}}(M):function(e){return je(e)&&Ve(e.length)&&!!w[Se(e)]};function Ke(e){return null!=(t=e)&&Ve(t.length)&&!Le(t)?Ce(e):ke(e);var t}e.exports=function(e,t){return Ee(e,t)}},732:(e,t,n)=>{e=n.nmd(e);var i="__lodash_hash_undefined__",r=9007199254740991,o="[object Arguments]",s="[object Function]",a="[object Object]",l=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,u={};u["[object Float32Array]"]=u["[object Float64Array]"]=u["[object Int8Array]"]=u["[object Int16Array]"]=u["[object Int32Array]"]=u["[object Uint8Array]"]=u["[object Uint8ClampedArray]"]=u["[object Uint16Array]"]=u["[object Uint32Array]"]=!0,u[o]=u["[object Array]"]=u["[object ArrayBuffer]"]=u["[object Boolean]"]=u["[object DataView]"]=u["[object Date]"]=u["[object Error]"]=u[s]=u["[object Map]"]=u["[object Number]"]=u[a]=u["[object RegExp]"]=u["[object Set]"]=u["[object String]"]=u["[object WeakMap]"]=!1;var d,h,p="object"==typeof n.g&&n.g&&n.g.Object===Object&&n.g,f="object"==typeof self&&self&&self.Object===Object&&self,m=p||f||Function("return this")(),_=t&&!t.nodeType&&t,g=_&&e&&!e.nodeType&&e,v=g&&g.exports===_,y=v&&p.process,b=function(){try{var e=g&&g.require&&g.require("util").types;return e||y&&y.binding&&y.binding("util")}catch(t){}}(),C=b&&b.isTypedArray,x=Array.prototype,S=Function.prototype,w=Object.prototype,E=m["__core-js_shared__"],I=S.toString,k=w.hasOwnProperty,D=function(){var e=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),O=w.toString,T=I.call(Object),A=RegExp("^"+I.call(k).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),P=v?m.Buffer:void 0,M=m.Symbol,R=m.Uint8Array,B=P?P.allocUnsafe:void 0,N=(d=Object.getPrototypeOf,h=Object,function(e){return d(h(e))}),F=Object.create,$=w.propertyIsEnumerable,H=x.splice,L=M?M.toStringTag:void 0,V=function(){try{var e=pe(Object,"defineProperty");return e({},"",{}),e}catch(t){}}(),z=P?P.isBuffer:void 0,j=Math.max,W=Date.now,K=pe(m,"Map"),U=pe(Object,"create"),q=function(){function e(){}return function(t){if(!Ee(t))return{};if(F)return F(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function G(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Z(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Y(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Q(e){var t=this.__data__=new Z(e);this.size=t.size}function X(e,t){var n=be(e),i=!n&&ye(e),r=!n&&!i&&xe(e),o=!n&&!i&&!r&&ke(e),s=n||i||r||o,a=s?function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}(e.length,String):[],l=a.length;for(var c in e)!t&&!k.call(e,c)||s&&("length"==c||r&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||fe(c,l))||a.push(c);return a}function J(e,t,n){(void 0!==n&&!ve(e[t],n)||void 0===n&&!(t in e))&&ne(e,t,n)}function ee(e,t,n){var i=e[t];k.call(e,t)&&ve(i,n)&&(void 0!==n||t in e)||ne(e,t,n)}function te(e,t){for(var n=e.length;n--;)if(ve(e[n][0],t))return n;return-1}function ne(e,t,n){"__proto__"==t&&V?V(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}G.prototype.clear=function(){this.__data__=U?U(null):{},this.size=0},G.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},G.prototype.get=function(e){var t=this.__data__;if(U){var n=t[e];return n===i?void 0:n}return k.call(t,e)?t[e]:void 0},G.prototype.has=function(e){var t=this.__data__;return U?void 0!==t[e]:k.call(t,e)},G.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=U&&void 0===t?i:t,this},Z.prototype.clear=function(){this.__data__=[],this.size=0},Z.prototype.delete=function(e){var t=this.__data__,n=te(t,e);return!(n<0)&&(n==t.length-1?t.pop():H.call(t,n,1),--this.size,!0)},Z.prototype.get=function(e){var t=this.__data__,n=te(t,e);return n<0?void 0:t[n][1]},Z.prototype.has=function(e){return te(this.__data__,e)>-1},Z.prototype.set=function(e,t){var n=this.__data__,i=te(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},Y.prototype.clear=function(){this.size=0,this.__data__={hash:new G,map:new(K||Z),string:new G}},Y.prototype.delete=function(e){var t=he(this,e).delete(e);return this.size-=t?1:0,t},Y.prototype.get=function(e){return he(this,e).get(e)},Y.prototype.has=function(e){return he(this,e).has(e)},Y.prototype.set=function(e,t){var n=he(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},Q.prototype.clear=function(){this.__data__=new Z,this.size=0},Q.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Q.prototype.get=function(e){return this.__data__.get(e)},Q.prototype.has=function(e){return this.__data__.has(e)},Q.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Z){var i=n.__data__;if(!K||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new Y(i)}return n.set(e,t),this.size=n.size,this};var ie,re=function(e,t,n){for(var i=-1,r=Object(e),o=n(e),s=o.length;s--;){var a=o[ie?s:++i];if(!1===t(r[a],a,r))break}return e};function oe(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":L&&L in Object(e)?function(e){var t=k.call(e,L),n=e[L];try{e[L]=void 0;var i=!0}catch(o){}var r=O.call(e);return i&&(t?e[L]=n:delete e[L]),r}(e):function(e){return O.call(e)}(e)}function se(e){return Ie(e)&&oe(e)==o}function ae(e){return!(!Ee(e)||function(e){return!!D&&D in e}(e))&&(Se(e)?A:l).test(function(e){if(null!=e){try{return I.call(e)}catch(t){}try{return e+""}catch(t){}}return""}(e))}function le(e){if(!Ee(e))return function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}(e);var t=me(e),n=[];for(var i in e)("constructor"!=i||!t&&k.call(e,i))&&n.push(i);return n}function ce(e,t,n,i,r){e!==t&&re(t,function(o,s){if(r||(r=new Q),Ee(o))!function(e,t,n,i,r,o,s){var l=_e(e,n),c=_e(t,n),u=s.get(c);if(u)J(e,n,u);else{var d,h=o?o(l,c,n+"",e,t,s):void 0,p=void 0===h;if(p){var f=be(c),m=!f&&xe(c),_=!f&&!m&&ke(c);h=c,f||m||_?be(l)?h=l:Ie(d=l)&&Ce(d)?h=function(e,t){var n=-1,i=e.length;for(t||(t=Array(i));++n<i;)t[n]=e[n];return t}(l):m?(p=!1,h=function(e,t){if(t)return e.slice();var n=e.length,i=B?B(n):new e.constructor(n);return e.copy(i),i}(c,!0)):_?(p=!1,h=function(e,t){var n=t?function(e){var t=new e.constructor(e.byteLength);return new R(t).set(new R(e)),t}(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(c,!0)):h=[]:function(e){if(!Ie(e)||oe(e)!=a)return!1;var t=N(e);if(null===t)return!0;var n=k.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&I.call(n)==T}(c)||ye(c)?(h=l,ye(l)?h=function(e){return function(e,t,n,i){var r=!n;n||(n={});for(var o=-1,s=t.length;++o<s;){var a=t[o],l=i?i(n[a],e[a],a,n,e):void 0;void 0===l&&(l=e[a]),r?ne(n,a,l):ee(n,a,l)}return n}(e,De(e))}(l):Ee(l)&&!Se(l)||(h=function(e){return"function"!=typeof e.constructor||me(e)?{}:q(N(e))}(c))):p=!1}p&&(s.set(c,h),r(h,c,i,o,s),s.delete(c)),J(e,n,h)}}(e,t,s,n,ce,i,r);else{var l=i?i(_e(e,s),o,s+"",e,t,r):void 0;void 0===l&&(l=o),J(e,s,l)}},De)}function ue(e,t){return ge(function(e,t,n){return t=j(void 0===t?e.length-1:t,0),function(){for(var i=arguments,r=-1,o=j(i.length-t,0),s=Array(o);++r<o;)s[r]=i[t+r];r=-1;for(var a=Array(t+1);++r<t;)a[r]=i[r];return a[t]=n(s),function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}(e,this,a)}}(e,t,Ae),e+"")}var de=V?function(e,t){return V(e,"toString",{configurable:!0,enumerable:!1,value:(n=t,function(){return n}),writable:!0});var n}:Ae;function he(e,t){var n=e.__data__;return function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}(t)?n["string"==typeof t?"string":"hash"]:n.map}function pe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return ae(n)?n:void 0}function fe(e,t){var n=typeof e;return!!(t=null==t?r:t)&&("number"==n||"symbol"!=n&&c.test(e))&&e>-1&&e%1==0&&e<t}function me(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||w)}function _e(e,t){if(("constructor"!==t||"function"!==typeof e[t])&&"__proto__"!=t)return e[t]}var ge=function(e){var t=0,n=0;return function(){var i=W(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}(de);function ve(e,t){return e===t||e!==e&&t!==t}var ye=se(function(){return arguments}())?se:function(e){return Ie(e)&&k.call(e,"callee")&&!$.call(e,"callee")},be=Array.isArray;function Ce(e){return null!=e&&we(e.length)&&!Se(e)}var xe=z||function(){return!1};function Se(e){if(!Ee(e))return!1;var t=oe(e);return t==s||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}function we(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}function Ee(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function Ie(e){return null!=e&&"object"==typeof e}var ke=C?function(e){return function(t){return e(t)}}(C):function(e){return Ie(e)&&we(e.length)&&!!u[oe(e)]};function De(e){return Ce(e)?X(e,!0):le(e)}var Oe,Te=(Oe=function(e,t,n){ce(e,t,n)},ue(function(e,t){var n=-1,i=t.length,r=i>1?t[i-1]:void 0,o=i>2?t[2]:void 0;for(r=Oe.length>3&&"function"==typeof r?(i--,r):void 0,o&&function(e,t,n){if(!Ee(n))return!1;var i=typeof t;return!!("number"==i?Ce(n)&&fe(t,n.length):"string"==i&&t in n)&&ve(n[t],e)}(t[0],t[1],o)&&(r=i<3?void 0:r,i=1),e=Object(e);++n<i;){var s=t[n];s&&Oe(e,s,n,r)}return e}));function Ae(e){return e}e.exports=Te},5143:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(8805),r=n(2722);var o;!function(e){e.compose=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});let r=i(t);n||(r=Object.keys(r).reduce((e,t)=>(null!=r[t]&&(e[t]=r[t]),e),{}));for(const i in e)void 0!==e[i]&&void 0===t[i]&&(r[i]=e[i]);return Object.keys(r).length>0?r:void 0},e.diff=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};"object"!==typeof e&&(e={}),"object"!==typeof t&&(t={});const n=Object.keys(e).concat(Object.keys(t)).reduce((n,i)=>(r(e[i],t[i])||(n[i]=void 0===t[i]?null:t[i]),n),{});return Object.keys(n).length>0?n:void 0},e.invert=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e=e||{};const n=Object.keys(t).reduce((n,i)=>(t[i]!==e[i]&&void 0!==e[i]&&(n[i]=t[i]),n),{});return Object.keys(e).reduce((n,i)=>(e[i]!==t[i]&&void 0===t[i]&&(n[i]=null),n),n)},e.transform=function(e,t){if("object"!==typeof e)return t;if("object"!==typeof t)return;if(!(arguments.length>2&&void 0!==arguments[2]&&arguments[2]))return t;const n=Object.keys(t).reduce((n,i)=>(void 0===e[i]&&(n[i]=t[i]),n),{});return Object.keys(n).length>0?n:void 0}}(o||(o={})),t.default=o},9098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttributeMap=t.OpIterator=t.Op=void 0;const i=n(1456),r=n(8805),o=n(2722),s=n(5143);t.AttributeMap=s.default;const a=n(6237);t.Op=a.default;const l=n(2849);t.OpIterator=l.default;const c=String.fromCharCode(0),u=(e,t)=>{if("object"!==typeof e||null===e)throw new Error("cannot retain a "+typeof e);if("object"!==typeof t||null===t)throw new Error("cannot retain a "+typeof t);const n=Object.keys(e)[0];if(!n||n!==Object.keys(t)[0])throw new Error(`embed types not matched: ${n} != ${Object.keys(t)[0]}`);return[n,e[n],t[n]]};class d{constructor(e){Array.isArray(e)?this.ops=e:null!=e&&Array.isArray(e.ops)?this.ops=e.ops:this.ops=[]}static registerEmbed(e,t){this.handlers[e]=t}static unregisterEmbed(e){delete this.handlers[e]}static getHandler(e){const t=this.handlers[e];if(!t)throw new Error(`no handlers for embed type "${e}"`);return t}insert(e,t){const n={};return"string"===typeof e&&0===e.length?this:(n.insert=e,null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n))}delete(e){return e<=0?this:this.push({delete:e})}retain(e,t){if("number"===typeof e&&e<=0)return this;const n={retain:e};return null!=t&&"object"===typeof t&&Object.keys(t).length>0&&(n.attributes=t),this.push(n)}push(e){let t=this.ops.length,n=this.ops[t-1];if(e=r(e),"object"===typeof n){if("number"===typeof e.delete&&"number"===typeof n.delete)return this.ops[t-1]={delete:n.delete+e.delete},this;if("number"===typeof n.delete&&null!=e.insert&&(t-=1,n=this.ops[t-1],"object"!==typeof n))return this.ops.unshift(e),this;if(o(e.attributes,n.attributes)){if("string"===typeof e.insert&&"string"===typeof n.insert)return this.ops[t-1]={insert:n.insert+e.insert},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this;if("number"===typeof e.retain&&"number"===typeof n.retain)return this.ops[t-1]={retain:n.retain+e.retain},"object"===typeof e.attributes&&(this.ops[t-1].attributes=e.attributes),this}}return t===this.ops.length?this.ops.push(e):this.ops.splice(t,0,e),this}chop(){const e=this.ops[this.ops.length-1];return e&&"number"===typeof e.retain&&!e.attributes&&this.ops.pop(),this}filter(e){return this.ops.filter(e)}forEach(e){this.ops.forEach(e)}map(e){return this.ops.map(e)}partition(e){const t=[],n=[];return this.forEach(i=>{(e(i)?t:n).push(i)}),[t,n]}reduce(e,t){return this.ops.reduce(e,t)}changeLength(){return this.reduce((e,t)=>t.insert?e+a.default.length(t):t.delete?e-t.delete:e,0)}length(){return this.reduce((e,t)=>e+a.default.length(t),0)}slice(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1/0;const n=[],i=new l.default(this.ops);let r=0;for(;r<t&&i.hasNext();){let o;r<e?o=i.next(e-r):(o=i.next(t-r),n.push(o)),r+=a.default.length(o)}return new d(n)}compose(e){const t=new l.default(this.ops),n=new l.default(e.ops),i=[],r=n.peek();if(null!=r&&"number"===typeof r.retain&&null==r.attributes){let e=r.retain;for(;"insert"===t.peekType()&&t.peekLength()<=e;)e-=t.peekLength(),i.push(t.next());r.retain-e>0&&n.next(r.retain-e)}const a=new d(i);for(;t.hasNext()||n.hasNext();)if("insert"===n.peekType())a.push(n.next());else if("delete"===t.peekType())a.push(t.next());else{const e=Math.min(t.peekLength(),n.peekLength()),i=t.next(e),r=n.next(e);if(r.retain){const l={};if("number"===typeof i.retain)l.retain="number"===typeof r.retain?e:r.retain;else if("number"===typeof r.retain)null==i.retain?l.insert=i.insert:l.retain=i.retain;else{const e=null==i.retain?"insert":"retain",[t,n,o]=u(i[e],r.retain),s=d.getHandler(t);l[e]={[t]:s.compose(n,o,"retain"===e)}}const c=s.default.compose(i.attributes,r.attributes,"number"===typeof i.retain);if(c&&(l.attributes=c),a.push(l),!n.hasNext()&&o(a.ops[a.ops.length-1],l)){const e=new d(t.rest());return a.concat(e).chop()}}else"number"===typeof r.delete&&("number"===typeof i.retain||"object"===typeof i.retain&&null!==i.retain)&&a.push(r)}return a.chop()}concat(e){const t=new d(this.ops.slice());return e.ops.length>0&&(t.push(e.ops[0]),t.ops=t.ops.concat(e.ops.slice(1))),t}diff(e,t){if(this.ops===e.ops)return new d;const n=[this,e].map(t=>t.map(n=>{if(null!=n.insert)return"string"===typeof n.insert?n.insert:c;throw new Error("diff() called "+(t===e?"on":"with")+" non-document")}).join("")),r=new d,a=i(n[0],n[1],t),u=new l.default(this.ops),h=new l.default(e.ops);return a.forEach(e=>{let t=e[1].length;for(;t>0;){let n=0;switch(e[0]){case i.INSERT:n=Math.min(h.peekLength(),t),r.push(h.next(n));break;case i.DELETE:n=Math.min(t,u.peekLength()),u.next(n),r.delete(n);break;case i.EQUAL:n=Math.min(u.peekLength(),h.peekLength(),t);const e=u.next(n),a=h.next(n);o(e.insert,a.insert)?r.retain(n,s.default.diff(e.attributes,a.attributes)):r.push(a).delete(n)}t-=n}}),r.chop()}eachLine(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"\n";const n=new l.default(this.ops);let i=new d,r=0;for(;n.hasNext();){if("insert"!==n.peekType())return;const o=n.peek(),s=a.default.length(o)-n.peekLength(),l="string"===typeof o.insert?o.insert.indexOf(t,s)-s:-1;if(l<0)i.push(n.next());else if(l>0)i.push(n.next(l));else{if(!1===e(i,n.next(1).attributes||{},r))return;r+=1,i=new d}}i.length()>0&&e(i,{},r)}invert(e){const t=new d;return this.reduce((n,i)=>{if(i.insert)t.delete(a.default.length(i));else{if("number"===typeof i.retain&&null==i.attributes)return t.retain(i.retain),n+i.retain;if(i.delete||"number"===typeof i.retain){const r=i.delete||i.retain;return e.slice(n,n+r).forEach(e=>{i.delete?t.push(e):i.retain&&i.attributes&&t.retain(a.default.length(e),s.default.invert(i.attributes,e.attributes))}),n+r}if("object"===typeof i.retain&&null!==i.retain){const r=e.slice(n,n+1),o=new l.default(r.ops).next(),[a,c,h]=u(i.retain,o.insert),p=d.getHandler(a);return t.retain({[a]:p.invert(c,h)},s.default.invert(i.attributes,o.attributes)),n+1}}return n},0),t.chop()}transform(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(t=!!t,"number"===typeof e)return this.transformPosition(e,t);const n=e,i=new l.default(this.ops),r=new l.default(n.ops),o=new d;for(;i.hasNext()||r.hasNext();)if("insert"!==i.peekType()||!t&&"insert"===r.peekType())if("insert"===r.peekType())o.push(r.next());else{const e=Math.min(i.peekLength(),r.peekLength()),n=i.next(e),a=r.next(e);if(n.delete)continue;if(a.delete)o.push(a);else{const i=n.retain,r=a.retain;let l="object"===typeof r&&null!==r?r:e;if("object"===typeof i&&null!==i&&"object"===typeof r&&null!==r){const e=Object.keys(i)[0];if(e===Object.keys(r)[0]){const n=d.getHandler(e);n&&(l={[e]:n.transform(i[e],r[e],t)})}}o.retain(l,s.default.transform(n.attributes,a.attributes,t))}}else o.retain(a.default.length(i.next()));return o.chop()}transformPosition(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t=!!t;const n=new l.default(this.ops);let i=0;for(;n.hasNext()&&i<=e;){const r=n.peekLength(),o=n.peekType();n.next(),"delete"!==o?("insert"===o&&(i<e||!t)&&(e+=r),i+=r):e-=Math.min(r,e-i)}return e}}d.Op=a.default,d.OpIterator=l.default,d.AttributeMap=s.default,d.handlers={},t.default=d,e.exports=d,e.exports.default=d},6237:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.length=function(e){return"number"===typeof e.delete?e.delete:"number"===typeof e.retain?e.retain:"object"===typeof e.retain&&null!==e.retain?1:"string"===typeof e.insert?e.insert.length:1}}(n||(n={})),t.default=n},2849:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(6237);t.default=class{constructor(e){this.ops=e,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(e){e||(e=1/0);const t=this.ops[this.index];if(t){const n=this.offset,r=i.default.length(t);if(e>=r-n?(e=r-n,this.index+=1,this.offset=0):this.offset+=e,"number"===typeof t.delete)return{delete:e};{const i={};return t.attributes&&(i.attributes=t.attributes),"number"===typeof t.retain?i.retain=e:"object"===typeof t.retain&&null!==t.retain?i.retain=t.retain:"string"===typeof t.insert?i.insert=t.insert.substr(n,e):i.insert=t.insert,i}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?i.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const e=this.ops[this.index];return e?"number"===typeof e.delete?"delete":"number"===typeof e.retain||"object"===typeof e.retain&&null!==e.retain?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);{const e=this.offset,t=this.index,n=this.next(),i=this.ops.slice(this.index);return this.offset=e,this.index=t,[n].concat(i)}}return[]}}},1863:(e,t,n)=>{"use strict";var i=n(9731);e.exports=i},6572:(e,t,n)=>{"use strict";var i=n(4401);e.exports=i},2318:(e,t,n)=>{"use strict";var i=n(3661);e.exports=i},576:(e,t,n)=>{"use strict";var i=n(5606);e.exports=i},2327:(e,t,n)=>{"use strict";n(5445);var i=n(6731);e.exports=i("Array","fill")},3274:(e,t,n)=>{"use strict";n(9477),n(6272);var i=n(577);e.exports=i.Array.from},5339:(e,t,n)=>{"use strict";n(2947);var i=n(577);e.exports=i.Object.values},1189:(e,t,n)=>{"use strict";n(538);var i=n(6731);e.exports=i("String","endsWith")},5142:(e,t,n)=>{"use strict";n(297)},1019:(e,t,n)=>{"use strict";n(4660)},1183:(e,t,n)=>{"use strict";n(5275)},2570:(e,t,n)=>{"use strict";n(2839)},297:(e,t,n)=>{"use strict";var i=n(1863);e.exports=i},4660:(e,t,n)=>{"use strict";var i=n(6572);e.exports=i},5275:(e,t,n)=>{"use strict";var i=n(2318);e.exports=i},2839:(e,t,n)=>{"use strict";var i=n(576);e.exports=i},6324:(e,t,n)=>{"use strict";var i=n(2539),r=n(7471),o=TypeError;e.exports=function(e){if(i(e))return e;throw new o(r(e)+" is not a function")}},2162:(e,t,n)=>{"use strict";var i=n(2539),r=String,o=TypeError;e.exports=function(e){if("object"==typeof e||i(e))return e;throw new o("Can't set "+r(e)+" as a prototype")}},2572:(e,t,n)=>{"use strict";var i=n(5485),r=n(3830),o=n(8503).f,s=i("unscopables"),a=Array.prototype;void 0===a[s]&&o(a,s,{configurable:!0,value:r(null)}),e.exports=function(e){a[s][e]=!0}},8874:(e,t,n)=>{"use strict";var i=n(3988),r=String,o=TypeError;e.exports=function(e){if(i(e))return e;throw new o(r(e)+" is not an object")}},9236:(e,t,n)=>{"use strict";var i=n(6015),r=n(7234),o=n(3235);e.exports=function(e){for(var t=i(this),n=o(t),s=arguments.length,a=r(s>1?arguments[1]:void 0,n),l=s>2?arguments[2]:void 0,c=void 0===l?n:r(l,n);c>a;)t[a++]=e;return t}},8459:(e,t,n)=>{"use strict";var i=n(9794),r=n(2977),o=n(6015),s=n(9154),a=n(7024),l=n(6467),c=n(3235),u=n(3003),d=n(2387),h=n(7874),p=Array;e.exports=function(e){var t=o(e),n=l(this),f=arguments.length,m=f>1?arguments[1]:void 0,_=void 0!==m;_&&(m=i(m,f>2?arguments[2]:void 0));var g,v,y,b,C,x,S=h(t),w=0;if(!S||this===p&&a(S))for(g=c(t),v=n?new this(g):p(g);g>w;w++)x=_?m(t[w],w):t[w],u(v,w,x);else for(C=(b=d(t,S)).next,v=n?new this:[];!(y=r(C,b)).done;w++)x=_?s(b,m,[y.value,w],!0):y.value,u(v,w,x);return v.length=w,v}},5644:(e,t,n)=>{"use strict";var i=n(7625),r=n(7234),o=n(3235),s=function(e){return function(t,n,s){var a,l=i(t),c=o(l),u=r(s,c);if(e&&n!==n){for(;c>u;)if((a=l[u++])!==a)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}};e.exports={includes:s(!0),indexOf:s(!1)}},9154:(e,t,n)=>{"use strict";var i=n(8874),r=n(8880);e.exports=function(e,t,n,o){try{return o?t(i(n)[0],n[1]):t(n)}catch(s){r(e,"throw",s)}}},3346:(e,t,n)=>{"use strict";var i=n(5485)("iterator"),r=!1;try{var o=0,s={next:function(){return{done:!!o++}},return:function(){r=!0}};s[i]=function(){return this},Array.from(s,function(){throw 2})}catch(a){}e.exports=function(e,t){try{if(!t&&!r)return!1}catch(a){return!1}var n=!1;try{var o={};o[i]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(a){}return n}},4545:(e,t,n)=>{"use strict";var i=n(4038),r=i({}.toString),o=i("".slice);e.exports=function(e){return o(r(e),8,-1)}},2702:(e,t,n)=>{"use strict";var i=n(1923),r=n(2539),o=n(4545),s=n(5485)("toStringTag"),a=Object,l="Arguments"===o(function(){return arguments}());e.exports=i?o:function(e){var t,n,i;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(n){}}(t=a(e),s))?n:l?o(t):"Object"===(i=o(t))&&r(t.callee)?"Arguments":i}},1358:(e,t,n)=>{"use strict";var i=n(2623),r=n(3054),o=n(3037),s=n(8503);e.exports=function(e,t,n){for(var a=r(t),l=s.f,c=o.f,u=0;u<a.length;u++){var d=a[u];i(e,d)||n&&i(n,d)||l(e,d,c(t,d))}}},6775:(e,t,n)=>{"use strict";var i=n(5485)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[i]=!1,"/./"[e](t)}catch(r){}}return!1}},6141:(e,t,n)=>{"use strict";var i=n(5202);e.exports=!i(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},3585:e=>{"use strict";e.exports=function(e,t){return{value:e,done:t}}},8868:(e,t,n)=>{"use strict";var i=n(5007),r=n(8503),o=n(4238);e.exports=i?function(e,t,n){return r.f(e,t,o(1,n))}:function(e,t,n){return e[t]=n,e}},4238:e=>{"use strict";e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},3003:(e,t,n)=>{"use strict";var i=n(3164),r=n(8503),o=n(4238);e.exports=function(e,t,n){var s=i(t);s in e?r.f(e,s,o(0,n)):e[s]=n}},916:(e,t,n)=>{"use strict";var i=n(2539),r=n(8503),o=n(6614),s=n(2136);e.exports=function(e,t,n,a){a||(a={});var l=a.enumerable,c=void 0!==a.name?a.name:t;if(i(n)&&o(n,c,a),a.global)l?e[t]=n:s(t,n);else{try{a.unsafe?e[t]&&(l=!0):delete e[t]}catch(u){}l?e[t]=n:r.f(e,t,{value:n,enumerable:!1,configurable:!a.nonConfigurable,writable:!a.nonWritable})}return e}},2136:(e,t,n)=>{"use strict";var i=n(730),r=Object.defineProperty;e.exports=function(e,t){try{r(i,e,{value:t,configurable:!0,writable:!0})}catch(n){i[e]=t}return t}},5007:(e,t,n)=>{"use strict";var i=n(5202);e.exports=!i(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},8629:e=>{"use strict";var t="object"==typeof document&&document.all,n="undefined"==typeof t&&void 0!==t;e.exports={all:t,IS_HTMLDDA:n}},2215:(e,t,n)=>{"use strict";var i=n(730),r=n(3988),o=i.document,s=r(o)&&r(o.createElement);e.exports=function(e){return s?o.createElement(e):{}}},932:e=>{"use strict";e.exports="undefined"!=typeof navigator&&String(navigator.userAgent)||""},7626:(e,t,n)=>{"use strict";var i,r,o=n(730),s=n(932),a=o.process,l=o.Deno,c=a&&a.versions||l&&l.version,u=c&&c.v8;u&&(r=(i=u.split("."))[0]>0&&i[0]<4?1:+(i[0]+i[1])),!r&&s&&(!(i=s.match(/Edge\/(\d+)/))||i[1]>=74)&&(i=s.match(/Chrome\/(\d+)/))&&(r=+i[1]),e.exports=r},6731:(e,t,n)=>{"use strict";var i=n(730),r=n(4038);e.exports=function(e,t){return r(i[e].prototype[t])}},8552:e=>{"use strict";e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2189:(e,t,n)=>{"use strict";var i=n(730),r=n(3037).f,o=n(8868),s=n(916),a=n(2136),l=n(1358),c=n(3455);e.exports=function(e,t){var n,u,d,h,p,f=e.target,m=e.global,_=e.stat;if(n=m?i:_?i[f]||a(f,{}):(i[f]||{}).prototype)for(u in t){if(h=t[u],d=e.dontCallGetSet?(p=r(n,u))&&p.value:n[u],!c(m?u:f+(_?".":"#")+u,e.forced)&&void 0!==d){if(typeof h==typeof d)continue;l(h,d)}(e.sham||d&&d.sham)&&o(h,"sham",!0),s(n,u,h,e)}}},5202:e=>{"use strict";e.exports=function(e){try{return!!e()}catch(t){return!0}}},9794:(e,t,n)=>{"use strict";var i=n(6192),r=n(6324),o=n(2865),s=i(i.bind);e.exports=function(e,t){return r(e),void 0===t?e:o?s(e,t):function(){return e.apply(t,arguments)}}},2865:(e,t,n)=>{"use strict";var i=n(5202);e.exports=!i(function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})},2977:(e,t,n)=>{"use strict";var i=n(2865),r=Function.prototype.call;e.exports=i?r.bind(r):function(){return r.apply(r,arguments)}},9895:(e,t,n)=>{"use strict";var i=n(5007),r=n(2623),o=Function.prototype,s=i&&Object.getOwnPropertyDescriptor,a=r(o,"name"),l=a&&"something"===function(){}.name,c=a&&(!i||i&&s(o,"name").configurable);e.exports={EXISTS:a,PROPER:l,CONFIGURABLE:c}},6589:(e,t,n)=>{"use strict";var i=n(4038),r=n(6324);e.exports=function(e,t,n){try{return i(r(Object.getOwnPropertyDescriptor(e,t)[n]))}catch(o){}}},6192:(e,t,n)=>{"use strict";var i=n(4545),r=n(4038);e.exports=function(e){if("Function"===i(e))return r(e)}},4038:(e,t,n)=>{"use strict";var i=n(2865),r=Function.prototype,o=r.call,s=i&&r.bind.bind(o,o);e.exports=i?s:function(e){return function(){return o.apply(e,arguments)}}},7300:(e,t,n)=>{"use strict";var i=n(730),r=n(2539);e.exports=function(e,t){return arguments.length<2?(n=i[e],r(n)?n:void 0):i[e]&&i[e][t];var n}},7874:(e,t,n)=>{"use strict";var i=n(2702),r=n(3923),o=n(2219),s=n(7817),a=n(5485)("iterator");e.exports=function(e){if(!o(e))return r(e,a)||r(e,"@@iterator")||s[i(e)]}},2387:(e,t,n)=>{"use strict";var i=n(2977),r=n(6324),o=n(8874),s=n(7471),a=n(7874),l=TypeError;e.exports=function(e,t){var n=arguments.length<2?a(e):t;if(r(n))return o(i(n,e));throw new l(s(e)+" is not iterable")}},3923:(e,t,n)=>{"use strict";var i=n(6324),r=n(2219);e.exports=function(e,t){var n=e[t];return r(n)?void 0:i(n)}},730:function(e,t,n){"use strict";var i=function(e){return e&&e.Math===Math&&e};e.exports=i("object"==typeof globalThis&&globalThis)||i("object"==typeof window&&window)||i("object"==typeof self&&self)||i("object"==typeof n.g&&n.g)||i("object"==typeof this&&this)||function(){return this}()||Function("return this")()},2623:(e,t,n)=>{"use strict";var i=n(4038),r=n(6015),o=i({}.hasOwnProperty);e.exports=Object.hasOwn||function(e,t){return o(r(e),t)}},7467:e=>{"use strict";e.exports={}},845:(e,t,n)=>{"use strict";var i=n(7300);e.exports=i("document","documentElement")},2470:(e,t,n)=>{"use strict";var i=n(5007),r=n(5202),o=n(2215);e.exports=!i&&!r(function(){return 7!==Object.defineProperty(o("div"),"a",{get:function(){return 7}}).a})},6854:(e,t,n)=>{"use strict";var i=n(4038),r=n(5202),o=n(4545),s=Object,a=i("".split);e.exports=r(function(){return!s("z").propertyIsEnumerable(0)})?function(e){return"String"===o(e)?a(e,""):s(e)}:s},7821:(e,t,n)=>{"use strict";var i=n(4038),r=n(2539),o=n(6838),s=i(Function.toString);r(o.inspectSource)||(o.inspectSource=function(e){return s(e)}),e.exports=o.inspectSource},5378:(e,t,n)=>{"use strict";var i,r,o,s=n(2543),a=n(730),l=n(3988),c=n(8868),u=n(2623),d=n(6838),h=n(3511),p=n(7467),f="Object already initialized",m=a.TypeError,_=a.WeakMap;if(s||d.state){var g=d.state||(d.state=new _);g.get=g.get,g.has=g.has,g.set=g.set,i=function(e,t){if(g.has(e))throw new m(f);return t.facade=e,g.set(e,t),t},r=function(e){return g.get(e)||{}},o=function(e){return g.has(e)}}else{var v=h("state");p[v]=!0,i=function(e,t){if(u(e,v))throw new m(f);return t.facade=e,c(e,v,t),t},r=function(e){return u(e,v)?e[v]:{}},o=function(e){return u(e,v)}}e.exports={set:i,get:r,has:o,enforce:function(e){return o(e)?r(e):i(e,{})},getterFor:function(e){return function(t){var n;if(!l(t)||(n=r(t)).type!==e)throw new m("Incompatible receiver, "+e+" required");return n}}}},7024:(e,t,n)=>{"use strict";var i=n(5485),r=n(7817),o=i("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||s[o]===e)}},2539:(e,t,n)=>{"use strict";var i=n(8629),r=i.all;e.exports=i.IS_HTMLDDA?function(e){return"function"==typeof e||e===r}:function(e){return"function"==typeof e}},6467:(e,t,n)=>{"use strict";var i=n(4038),r=n(5202),o=n(2539),s=n(2702),a=n(7300),l=n(7821),c=function(){},u=[],d=a("Reflect","construct"),h=/^\s*(?:class|function)\b/,p=i(h.exec),f=!h.test(c),m=function(e){if(!o(e))return!1;try{return d(c,u,e),!0}catch(t){return!1}},_=function(e){if(!o(e))return!1;switch(s(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return f||!!p(h,l(e))}catch(t){return!0}};_.sham=!0,e.exports=!d||r(function(){var e;return m(m.call)||!m(Object)||!m(function(){e=!0})||e})?_:m},3455:(e,t,n)=>{"use strict";var i=n(5202),r=n(2539),o=/#|\.prototype\./,s=function(e,t){var n=l[a(e)];return n===u||n!==c&&(r(t)?i(t):!!t)},a=s.normalize=function(e){return String(e).replace(o,".").toLowerCase()},l=s.data={},c=s.NATIVE="N",u=s.POLYFILL="P";e.exports=s},2219:e=>{"use strict";e.exports=function(e){return null===e||void 0===e}},3988:(e,t,n)=>{"use strict";var i=n(2539),r=n(8629),o=r.all;e.exports=r.IS_HTMLDDA?function(e){return"object"==typeof e?null!==e:i(e)||e===o}:function(e){return"object"==typeof e?null!==e:i(e)}},4708:e=>{"use strict";e.exports=!1},184:(e,t,n)=>{"use strict";var i=n(3988),r=n(4545),o=n(5485)("match");e.exports=function(e){var t;return i(e)&&(void 0!==(t=e[o])?!!t:"RegExp"===r(e))}},8820:(e,t,n)=>{"use strict";var i=n(7300),r=n(2539),o=n(7676),s=n(3713),a=Object;e.exports=s?function(e){return"symbol"==typeof e}:function(e){var t=i("Symbol");return r(t)&&o(t.prototype,a(e))}},8880:(e,t,n)=>{"use strict";var i=n(2977),r=n(8874),o=n(3923);e.exports=function(e,t,n){var s,a;r(e);try{if(!(s=o(e,"return"))){if("throw"===t)throw n;return n}s=i(s,e)}catch(l){a=!0,s=l}if("throw"===t)throw n;if(a)throw s;return r(s),n}},3450:(e,t,n)=>{"use strict";var i=n(344).IteratorPrototype,r=n(3830),o=n(4238),s=n(3506),a=n(7817),l=function(){return this};e.exports=function(e,t,n,c){var u=t+" Iterator";return e.prototype=r(i,{next:o(+!c,n)}),s(e,u,!1,!0),a[u]=l,e}},3174:(e,t,n)=>{"use strict";var i=n(2189),r=n(2977),o=n(4708),s=n(9895),a=n(2539),l=n(3450),c=n(8059),u=n(5502),d=n(3506),h=n(8868),p=n(916),f=n(5485),m=n(7817),_=n(344),g=s.PROPER,v=s.CONFIGURABLE,y=_.IteratorPrototype,b=_.BUGGY_SAFARI_ITERATORS,C=f("iterator"),x="keys",S="values",w="entries",E=function(){return this};e.exports=function(e,t,n,s,f,_,I){l(n,t,s);var k,D,O,T=function(e){if(e===f&&B)return B;if(!b&&e&&e in M)return M[e];switch(e){case x:case S:case w:return function(){return new n(this,e)}}return function(){return new n(this)}},A=t+" Iterator",P=!1,M=e.prototype,R=M[C]||M["@@iterator"]||f&&M[f],B=!b&&R||T(f),N="Array"===t&&M.entries||R;if(N&&(k=c(N.call(new e)))!==Object.prototype&&k.next&&(o||c(k)===y||(u?u(k,y):a(k[C])||p(k,C,E)),d(k,A,!0,!0),o&&(m[A]=E)),g&&f===S&&R&&R.name!==S&&(!o&&v?h(M,"name",S):(P=!0,B=function(){return r(R,this)})),f)if(D={values:T(S),keys:_?B:T(x),entries:T(w)},I)for(O in D)(b||P||!(O in M))&&p(M,O,D[O]);else i({target:t,proto:!0,forced:b||P},D);return o&&!I||M[C]===B||p(M,C,B,{name:f}),m[t]=B,D}},344:(e,t,n)=>{"use strict";var i,r,o,s=n(5202),a=n(2539),l=n(3988),c=n(3830),u=n(8059),d=n(916),h=n(5485),p=n(4708),f=h("iterator"),m=!1;[].keys&&("next"in(o=[].keys())?(r=u(u(o)))!==Object.prototype&&(i=r):m=!0),!l(i)||s(function(){var e={};return i[f].call(e)!==e})?i={}:p&&(i=c(i)),a(i[f])||d(i,f,function(){return this}),e.exports={IteratorPrototype:i,BUGGY_SAFARI_ITERATORS:m}},7817:e=>{"use strict";e.exports={}},3235:(e,t,n)=>{"use strict";var i=n(3627);e.exports=function(e){return i(e.length)}},6614:(e,t,n)=>{"use strict";var i=n(4038),r=n(5202),o=n(2539),s=n(2623),a=n(5007),l=n(9895).CONFIGURABLE,c=n(7821),u=n(5378),d=u.enforce,h=u.get,p=String,f=Object.defineProperty,m=i("".slice),_=i("".replace),g=i([].join),v=a&&!r(function(){return 8!==f(function(){},"length",{value:8}).length}),y=String(String).split("String"),b=e.exports=function(e,t,n){"Symbol("===m(p(t),0,7)&&(t="["+_(p(t),/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!s(e,"name")||l&&e.name!==t)&&(a?f(e,"name",{value:t,configurable:!0}):e.name=t),v&&n&&s(n,"arity")&&e.length!==n.arity&&f(e,"length",{value:n.arity});try{n&&s(n,"constructor")&&n.constructor?a&&f(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(r){}var i=d(e);return s(i,"source")||(i.source=g(y,"string"==typeof t?t:"")),e};Function.prototype.toString=b(function(){return o(this)&&h(this).source||c(this)},"toString")},3041:e=>{"use strict";var t=Math.ceil,n=Math.floor;e.exports=Math.trunc||function(e){var i=+e;return(i>0?n:t)(i)}},50:(e,t,n)=>{"use strict";var i=n(184),r=TypeError;e.exports=function(e){if(i(e))throw new r("The method doesn't accept regular expressions");return e}},3830:(e,t,n)=>{"use strict";var i,r=n(8874),o=n(3944),s=n(8552),a=n(7467),l=n(845),c=n(2215),u=n(3511),d="prototype",h="script",p=u("IE_PROTO"),f=function(){},m=function(e){return"<"+h+">"+e+"</"+h+">"},_=function(e){e.write(m("")),e.close();var t=e.parentWindow.Object;return e=null,t},g=function(){try{i=new ActiveXObject("htmlfile")}catch(t){}g="undefined"!=typeof document?document.domain&&i?_(i):function(){var e,t=c("iframe"),n="java"+h+":";return t.style.display="none",l.appendChild(t),t.src=String(n),(e=t.contentWindow.document).open(),e.write(m("document.F=Object")),e.close(),e.F}():_(i);for(var e=s.length;e--;)delete g[d][s[e]];return g()};a[p]=!0,e.exports=Object.create||function(e,t){var n;return null!==e?(f[d]=r(e),n=new f,f[d]=null,n[p]=e):n=g(),void 0===t?n:o.f(n,t)}},3944:(e,t,n)=>{"use strict";var i=n(5007),r=n(2268),o=n(8503),s=n(8874),a=n(7625),l=n(4254);t.f=i&&!r?Object.defineProperties:function(e,t){s(e);for(var n,i=a(t),r=l(t),c=r.length,u=0;c>u;)o.f(e,n=r[u++],i[n]);return e}},8503:(e,t,n)=>{"use strict";var i=n(5007),r=n(2470),o=n(2268),s=n(8874),a=n(3164),l=TypeError,c=Object.defineProperty,u=Object.getOwnPropertyDescriptor,d="enumerable",h="configurable",p="writable";t.f=i?o?function(e,t,n){if(s(e),t=a(t),s(n),"function"===typeof e&&"prototype"===t&&"value"in n&&p in n&&!n[p]){var i=u(e,t);i&&i[p]&&(e[t]=n.value,n={configurable:h in n?n[h]:i[h],enumerable:d in n?n[d]:i[d],writable:!1})}return c(e,t,n)}:c:function(e,t,n){if(s(e),t=a(t),s(n),r)try{return c(e,t,n)}catch(i){}if("get"in n||"set"in n)throw new l("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},3037:(e,t,n)=>{"use strict";var i=n(5007),r=n(2977),o=n(6251),s=n(4238),a=n(7625),l=n(3164),c=n(2623),u=n(2470),d=Object.getOwnPropertyDescriptor;t.f=i?d:function(e,t){if(e=a(e),t=l(t),u)try{return d(e,t)}catch(n){}if(c(e,t))return s(!r(o.f,e,t),e[t])}},5974:(e,t,n)=>{"use strict";var i=n(7862),r=n(8552).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return i(e,r)}},1526:(e,t)=>{"use strict";t.f=Object.getOwnPropertySymbols},8059:(e,t,n)=>{"use strict";var i=n(2623),r=n(2539),o=n(6015),s=n(3511),a=n(6141),l=s("IE_PROTO"),c=Object,u=c.prototype;e.exports=a?c.getPrototypeOf:function(e){var t=o(e);if(i(t,l))return t[l];var n=t.constructor;return r(n)&&t instanceof n?n.prototype:t instanceof c?u:null}},7676:(e,t,n)=>{"use strict";var i=n(4038);e.exports=i({}.isPrototypeOf)},7862:(e,t,n)=>{"use strict";var i=n(4038),r=n(2623),o=n(7625),s=n(5644).indexOf,a=n(7467),l=i([].push);e.exports=function(e,t){var n,i=o(e),c=0,u=[];for(n in i)!r(a,n)&&r(i,n)&&l(u,n);for(;t.length>c;)r(i,n=t[c++])&&(~s(u,n)||l(u,n));return u}},4254:(e,t,n)=>{"use strict";var i=n(7862),r=n(8552);e.exports=Object.keys||function(e){return i(e,r)}},6251:(e,t)=>{"use strict";var n={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,r=i&&!n.call({1:2},1);t.f=r?function(e){var t=i(this,e);return!!t&&t.enumerable}:n},5502:(e,t,n)=>{"use strict";var i=n(6589),r=n(8874),o=n(2162);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=i(Object.prototype,"__proto__","set"))(n,[]),t=n instanceof Array}catch(s){}return function(n,i){return r(n),o(i),t?e(n,i):n.__proto__=i,n}}():void 0)},7830:(e,t,n)=>{"use strict";var i=n(5007),r=n(5202),o=n(4038),s=n(8059),a=n(4254),l=n(7625),c=o(n(6251).f),u=o([].push),d=i&&r(function(){var e=Object.create(null);return e[2]=2,!c(e,2)}),h=function(e){return function(t){for(var n,r=l(t),o=a(r),h=d&&null===s(r),p=o.length,f=0,m=[];p>f;)n=o[f++],i&&!(h?n in r:c(r,n))||u(m,e?[n,r[n]]:r[n]);return m}};e.exports={entries:h(!0),values:h(!1)}},532:(e,t,n)=>{"use strict";var i=n(2977),r=n(2539),o=n(3988),s=TypeError;e.exports=function(e,t){var n,a;if("string"===t&&r(n=e.toString)&&!o(a=i(n,e)))return a;if(r(n=e.valueOf)&&!o(a=i(n,e)))return a;if("string"!==t&&r(n=e.toString)&&!o(a=i(n,e)))return a;throw new s("Can't convert object to primitive value")}},3054:(e,t,n)=>{"use strict";var i=n(7300),r=n(4038),o=n(5974),s=n(1526),a=n(8874),l=r([].concat);e.exports=i("Reflect","ownKeys")||function(e){var t=o.f(a(e)),n=s.f;return n?l(t,n(e)):t}},577:(e,t,n)=>{"use strict";var i=n(730);e.exports=i},6373:(e,t,n)=>{"use strict";var i=n(2219),r=TypeError;e.exports=function(e){if(i(e))throw new r("Can't call method on "+e);return e}},3506:(e,t,n)=>{"use strict";var i=n(8503).f,r=n(2623),o=n(5485)("toStringTag");e.exports=function(e,t,n){e&&!n&&(e=e.prototype),e&&!r(e,o)&&i(e,o,{configurable:!0,value:t})}},3511:(e,t,n)=>{"use strict";var i=n(6568),r=n(2858),o=i("keys");e.exports=function(e){return o[e]||(o[e]=r(e))}},6838:(e,t,n)=>{"use strict";var i=n(730),r=n(2136),o="__core-js_shared__",s=i[o]||r(o,{});e.exports=s},6568:(e,t,n)=>{"use strict";var i=n(4708),r=n(6838);(e.exports=function(e,t){return r[e]||(r[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.34.0",mode:i?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6365:(e,t,n)=>{"use strict";var i=n(4038),r=n(3550),o=n(2532),s=n(6373),a=i("".charAt),l=i("".charCodeAt),c=i("".slice),u=function(e){return function(t,n){var i,u,d=o(s(t)),h=r(n),p=d.length;return h<0||h>=p?e?"":void 0:(i=l(d,h))<55296||i>56319||h+1===p||(u=l(d,h+1))<56320||u>57343?e?a(d,h):i:e?c(d,h,h+2):u-56320+(i-55296<<10)+65536}};e.exports={codeAt:u(!1),charAt:u(!0)}},3370:(e,t,n)=>{"use strict";var i=n(7626),r=n(5202),o=n(730).String;e.exports=!!Object.getOwnPropertySymbols&&!r(function(){var e=Symbol("symbol detection");return!o(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&i&&i<41})},7234:(e,t,n)=>{"use strict";var i=n(3550),r=Math.max,o=Math.min;e.exports=function(e,t){var n=i(e);return n<0?r(n+t,0):o(n,t)}},7625:(e,t,n)=>{"use strict";var i=n(6854),r=n(6373);e.exports=function(e){return i(r(e))}},3550:(e,t,n)=>{"use strict";var i=n(3041);e.exports=function(e){var t=+e;return t!==t||0===t?0:i(t)}},3627:(e,t,n)=>{"use strict";var i=n(3550),r=Math.min;e.exports=function(e){return e>0?r(i(e),9007199254740991):0}},6015:(e,t,n)=>{"use strict";var i=n(6373),r=Object;e.exports=function(e){return r(i(e))}},634:(e,t,n)=>{"use strict";var i=n(2977),r=n(3988),o=n(8820),s=n(3923),a=n(532),l=n(5485),c=TypeError,u=l("toPrimitive");e.exports=function(e,t){if(!r(e)||o(e))return e;var n,l=s(e,u);if(l){if(void 0===t&&(t="default"),n=i(l,e,t),!r(n)||o(n))return n;throw new c("Can't convert object to primitive value")}return void 0===t&&(t="number"),a(e,t)}},3164:(e,t,n)=>{"use strict";var i=n(634),r=n(8820);e.exports=function(e){var t=i(e,"string");return r(t)?t:t+""}},1923:(e,t,n)=>{"use strict";var i={};i[n(5485)("toStringTag")]="z",e.exports="[object z]"===String(i)},2532:(e,t,n)=>{"use strict";var i=n(2702),r=String;e.exports=function(e){if("Symbol"===i(e))throw new TypeError("Cannot convert a Symbol value to a string");return r(e)}},7471:e=>{"use strict";var t=String;e.exports=function(e){try{return t(e)}catch(n){return"Object"}}},2858:(e,t,n)=>{"use strict";var i=n(4038),r=0,o=Math.random(),s=i(1..toString);e.exports=function(e){return"Symbol("+(void 0===e?"":e)+")_"+s(++r+o,36)}},3713:(e,t,n)=>{"use strict";var i=n(3370);e.exports=i&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},2268:(e,t,n)=>{"use strict";var i=n(5007),r=n(5202);e.exports=i&&r(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},2543:(e,t,n)=>{"use strict";var i=n(730),r=n(2539),o=i.WeakMap;e.exports=r(o)&&/native code/.test(String(o))},5485:(e,t,n)=>{"use strict";var i=n(730),r=n(6568),o=n(2623),s=n(2858),a=n(3370),l=n(3713),c=i.Symbol,u=r("wks"),d=l?c.for||c:c&&c.withoutSetter||s;e.exports=function(e){return o(u,e)||(u[e]=a&&o(c,e)?c[e]:d("Symbol."+e)),u[e]}},5445:(e,t,n)=>{"use strict";var i=n(2189),r=n(9236),o=n(2572);i({target:"Array",proto:!0},{fill:r}),o("fill")},6272:(e,t,n)=>{"use strict";var i=n(2189),r=n(8459);i({target:"Array",stat:!0,forced:!n(3346)(function(e){Array.from(e)})},{from:r})},2947:(e,t,n)=>{"use strict";var i=n(2189),r=n(7830).values;i({target:"Object",stat:!0},{values:function(e){return r(e)}})},538:(e,t,n)=>{"use strict";var i=n(2189),r=n(6192),o=n(3037).f,s=n(3627),a=n(2532),l=n(50),c=n(6373),u=n(6775),d=n(4708),h=r("".endsWith),p=r("".slice),f=Math.min,m=u("endsWith");i({target:"String",proto:!0,forced:!(!d&&!m&&function(){var e=o(String.prototype,"endsWith");return e&&!e.writable}())&&!m},{endsWith:function(e){var t=a(c(this));l(e);var n=arguments.length>1?arguments[1]:void 0,i=t.length,r=void 0===n?i:f(s(n),i),o=a(e);return h?h(t,o,r):p(t,r-o.length,r)===o}})},9477:(e,t,n)=>{"use strict";var i=n(6365).charAt,r=n(2532),o=n(5378),s=n(3174),a=n(3585),l="String Iterator",c=o.set,u=o.getterFor(l);s(String,"String",function(e){c(this,{type:l,string:r(e),index:0})},function(){var e,t=u(this),n=t.string,r=t.index;return r>=n.length?a(void 0,!0):(e=i(n,r),t.index+=e.length,a(e,!1))})},9731:(e,t,n)=>{"use strict";var i=n(2327);e.exports=i},4401:(e,t,n)=>{"use strict";var i=n(3274);e.exports=i},3661:(e,t,n)=>{"use strict";var i=n(5339);e.exports=i},5606:(e,t,n)=>{"use strict";var i=n(1189);e.exports=i}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={id:i,loaded:!1,exports:{}};return e[i].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var i={};return(()=>{"use strict";n.d(i,{default:()=>Lt}),n(1019),n(5142),n(1183),n(2570);var e=n(2432),t=n(715),r=n(4048),o=n(1233);function s(e){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s(e)}function a(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,l(i.key),i)}}function l(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}function c(){return c="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},c.apply(this,arguments)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function d(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=h(e);if(t){var r=h(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===s(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}var p=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(o,e);var t,n,i,r=d(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,n=[{key:"add",value:function(e,t){if("+1"===t||"-1"===t){var n=this.value(e)||0;t="+1"===t?n+1:n-1}return 0===t?(this.remove(e),!0):c(h(o.prototype),"add",this).call(this,e,t)}},{key:"canAdd",value:function(e,t){return c(h(o.prototype),"canAdd",this).call(this,e,t)||c(h(o.prototype),"canAdd",this).call(this,e,parseInt(t,10))}},{key:"value",value:function(e){return parseInt(c(h(o.prototype),"value",this).call(this,e),10)||void 0}}],n&&a(t.prototype,n),i&&a(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(o.ClassAttributor);const f=new p("indent","ql-indent",{scope:o.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});var m=n(6446);function _(e){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_(e)}function g(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,v(i.key),i)}}function v(e){var t=function(e,t){if("object"!==_(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==_(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_(t)?t:String(t)}function y(e,t){return y=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},y(e,t)}function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=C(e);if(t){var r=C(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===_(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function C(e){return C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},C(e)}var x=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&y(e,t)}(o,e);var t,n,i,r=b(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,n&&g(t.prototype,n),i&&g(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(m.ZP);x.blotName="blockquote",x.tagName="blockquote";const S=x;function w(e){return w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w(e)}function E(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,I(i.key),i)}}function I(e){var t=function(e,t){if("object"!==w(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==w(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===w(t)?t:String(t)}function k(e,t){return k=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},k(e,t)}function D(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=O(e);if(t){var r=O(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===w(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var T=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&k(e,t)}(o,e);var t,n,i,r=D(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,i=[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}],(n=null)&&E(t.prototype,n),i&&E(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(m.ZP);T.blotName="header",T.tagName=["H1","H2","H3","H4","H5","H6"];const A=T;var P=n(3553),M=n(281);function R(e){return R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R(e)}function B(){return B="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=j(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},B.apply(this,arguments)}function N(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,$(i.key),i)}}function F(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $(e){var t=function(e,t){if("object"!==R(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==R(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===R(t)?t:String(t)}function H(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function L(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}function V(e,t){return V=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},V(e,t)}function z(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=j(e);if(t){var r=j(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===R(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function j(e){return j=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},j(e)}var W=function(e){L(n,e);var t=z(n);function n(){return H(this,n),t.apply(this,arguments)}return F(n)}(P.Z);W.blotName="list-container",W.tagName="OL";var K=function(e){L(n,e);var t=z(n);function n(e,i){var r;H(this,n),r=t.call(this,e,i);var o=i.ownerDocument.createElement("span"),s=function(t){if(e.isEnabled()){var n=r.statics.formats(i,e);"checked"===n?(r.format("list","unchecked"),t.preventDefault()):"unchecked"===n&&(r.format("list","checked"),t.preventDefault())}};return o.addEventListener("mousedown",s),o.addEventListener("touchstart",s),r.attachUI(o),r}return F(n,[{key:"format",value:function(e,t){e===this.statics.blotName&&t?this.domNode.setAttribute("data-list",t):B(j(n.prototype),"format",this).call(this,e,t)}}],[{key:"create",value:function(e){var t=B(j(n),"create",this).call(this);return t.setAttribute("data-list",e),t}},{key:"formats",value:function(e){return e.getAttribute("data-list")||void 0}},{key:"register",value:function(){M.ZP.register(W)}}]),n}(m.ZP);K.blotName="list",K.tagName="LI",W.allowedChildren=[K],K.requiredContainer=W;var U=n(7898),q=n(6039),G=n(5832),Z=n(1629),Y=n(3991);function Q(e){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Q(e)}function X(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,J(i.key),i)}}function J(e){var t=function(e,t){if("object"!==Q(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Q(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Q(t)?t:String(t)}function ee(e,t){return ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ee(e,t)}function te(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=ne(e);if(t){var r=ne(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Q(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function ne(e){return ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ne(e)}var ie=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ee(e,t)}(o,e);var t,n,i,r=te(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,n&&X(t.prototype,n),i&&X(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Y.Z);ie.blotName="italic",ie.tagName=["EM","I"];const re=ie;var oe=n(7256),se=n(6603);function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function le(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ce(i.key),i)}}function ce(e){var t=function(e,t){if("object"!==ae(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ae(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ae(t)?t:String(t)}function ue(){return ue="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=pe(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},ue.apply(this,arguments)}function de(e,t){return de=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},de(e,t)}function he(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=pe(e);if(t){var r=pe(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===ae(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function pe(e){return pe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},pe(e)}var fe=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&de(e,t)}(o,e);var t,n,i,r=he(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,i=[{key:"create",value:function(e){return"super"===e?document.createElement("sup"):"sub"===e?document.createElement("sub"):ue(pe(o),"create",this).call(this,e)}},{key:"formats",value:function(e){return"SUB"===e.tagName?"sub":"SUP"===e.tagName?"super":void 0}}],(n=null)&&le(t.prototype,n),i&&le(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(se.Z);fe.blotName="script",fe.tagName=["SUB","SUP"];const me=fe;function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function ge(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,ve(i.key),i)}}function ve(e){var t=function(e,t){if("object"!==_e(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==_e(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===_e(t)?t:String(t)}function ye(e,t){return ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ye(e,t)}function be(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=Ce(e);if(t){var r=Ce(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===_e(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Ce(e){return Ce=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ce(e)}var xe=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ye(e,t)}(o,e);var t,n,i,r=be(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,n&&ge(t.prototype,n),i&&ge(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(Y.Z);xe.blotName="strike",xe.tagName=["S","STRIKE"];const Se=xe;function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function Ee(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ie(i.key),i)}}function Ie(e){var t=function(e,t){if("object"!==we(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==we(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===we(t)?t:String(t)}function ke(e,t){return ke=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ke(e,t)}function De(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=Oe(e);if(t){var r=Oe(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===we(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Oe(e){return Oe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Oe(e)}var Te=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ke(e,t)}(o,e);var t,n,i,r=De(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,n&&Ee(t.prototype,n),i&&Ee(t,i),Object.defineProperty(t,"prototype",{writable:!1}),t}(se.Z);Te.blotName="underline",Te.tagName="U";const Ae=Te;var Pe=n(7452),Me=n(8034);function Re(e){return Re="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Re(e)}function Be(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ne(i.key),i)}}function Ne(e){var t=function(e,t){if("object"!==Re(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Re(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Re(t)?t:String(t)}function Fe(){return Fe="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Le(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Fe.apply(this,arguments)}function $e(e,t){return $e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},$e(e,t)}function He(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=Le(e);if(t){var r=Le(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Re(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Le(e){return Le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Le(e)}var Ve=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$e(e,t)}(o,e);var t,n,i,r=He(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,n=[{key:"html",value:function(){var e=this.value().formula;return"<span>".concat(e,"</span>")}}],i=[{key:"create",value:function(e){var t=null;if((0,Me.Z)()&&(t=window.katex),null==t)throw new Error("Formula module requires KaTeX.");var n=Fe(Le(o),"create",this).call(this,e);return"string"===typeof e&&(t.render(e,n,{throwOnError:!1,errorColor:"#f00"}),n.setAttribute("data-value",e)),n}},{key:"value",value:function(e){return e.getAttribute("data-value")}}],n&&Be(t.prototype,n),i&&Be(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(Pe.Z);Ve.blotName="formula",Ve.className="ql-formula",Ve.tagName="SPAN";const ze=Ve;function je(e){return je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},je(e)}function We(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,Ke(i.key),i)}}function Ke(e){var t=function(e,t){if("object"!==je(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==je(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===je(t)?t:String(t)}function Ue(){return Ue="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Ze(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},Ue.apply(this,arguments)}function qe(e,t){return qe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},qe(e,t)}function Ge(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=Ze(e);if(t){var r=Ze(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===je(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Ze(e){return Ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ze(e)}var Ye=["alt","height","width"],Qe=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qe(e,t)}(o,e);var t,n,i,r=Ge(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,i=[{key:"create",value:function(e){var t=Ue(Ze(o),"create",this).call(this,e);return"string"===typeof e&&t.setAttribute("src",this.sanitize(e)),t}},{key:"formats",value:function(e){return Ye.reduce(function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t},{})}},{key:"match",value:function(e){return/\.(jpe?g|gif|png)$/.test(e)||/^data:image\/.+;base64/.test(e)}},{key:"register",value:function(){(0,Me.Z)()&&/Firefox/i.test(navigator.userAgent)&&setTimeout(function(){document.execCommand("enableObjectResizing",!1,!1)},1)}},{key:"sanitize",value:function(e){return(0,oe.N)(e,["http","https","data"])?e:"//:0"}},{key:"value",value:function(e){return e.getAttribute("src")}}],(n=[{key:"format",value:function(e,t){Ye.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):Ue(Ze(o.prototype),"format",this).call(this,e,t)}}])&&We(t.prototype,n),i&&We(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(o.EmbedBlot);Qe.blotName="image",Qe.tagName="IMG";const Xe=Qe;function Je(e){return Je="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Je(e)}function et(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,tt(i.key),i)}}function tt(e){var t=function(e,t){if("object"!==Je(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Je(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Je(t)?t:String(t)}function nt(){return nt="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var i=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ot(e)););return e}(e,t);if(i){var r=Object.getOwnPropertyDescriptor(i,t);return r.get?r.get.call(arguments.length<3?e:n):r.value}},nt.apply(this,arguments)}function it(e,t){return it=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},it(e,t)}function rt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=ot(e);if(t){var r=ot(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===Je(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function ot(e){return ot=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},ot(e)}var st=["height","width"],at=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&it(e,t)}(o,e);var t,n,i,r=rt(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,n=[{key:"format",value:function(e,t){st.indexOf(e)>-1?t?this.domNode.setAttribute(e,t):this.domNode.removeAttribute(e):nt(ot(o.prototype),"format",this).call(this,e,t)}},{key:"html",value:function(){var e=this.value().video;return'<a href="'.concat(e,'">').concat(e,"</a>")}}],i=[{key:"create",value:function(e){var t=nt(ot(o),"create",this).call(this,e);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen",!0),t.setAttribute("src",this.sanitize(e)),t}},{key:"formats",value:function(e){return st.reduce(function(t,n){return e.hasAttribute(n)&&(t[n]=e.getAttribute(n)),t},{})}},{key:"sanitize",value:function(e){return oe.Z.sanitize(e)}},{key:"value",value:function(e){return e.getAttribute("src")}}],n&&et(t.prototype,n),i&&et(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(m.i2);at.blotName="video",at.className="ql-video",at.tagName="IFRAME";const lt=at;var ct=n(7309),ut=n(5657),dt=n(867),ht=n(9098),pt=n.n(ht);function ft(e){return ft="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ft(e)}function mt(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,_t(i.key),i)}}function _t(e){var t=function(e,t){if("object"!==ft(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==ft(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ft(t)?t:String(t)}function gt(e,t){return gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},gt(e,t)}function vt(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=yt(e);if(t){var r=yt(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===ft(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function yt(e){return yt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},yt(e)}var bt=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gt(e,t)}(o,e);var t,n,i,r=vt(o);function o(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),r.apply(this,arguments)}return t=o,i=[{key:"value",value:function(){return"\n"}}],(n=[{key:"length",value:function(){return 1}},{key:"value",value:function(){return"\n"}},{key:"optimize",value:function(){this.prev||this.next||this.remove()}}])&&mt(t.prototype,n),i&&mt(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(o.EmbedBlot);bt.blotName="multilineBreak",bt.tagName="BR";const Ct=bt;function xt(e){return xt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xt(e)}function St(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,wt(i.key),i)}}function wt(e){var t=function(e,t){if("object"!==xt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==xt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===xt(t)?t:String(t)}function Et(e,t){return Et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Et(e,t)}function It(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,i=Dt(e);if(t){var r=Dt(this).constructor;n=Reflect.construct(i,arguments,r)}else n=i.apply(this,arguments);return function(e,t){if(t&&("object"===xt(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return kt(e)}(this,n)}}function kt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dt(e){return Dt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Dt(e)}function Ot(e){return e.nextSibling||e.previousSibling?(new(pt())).insert({multilineBreak:""}):(new(pt())).insert("\n")}var Tt=function(e){!function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Et(e,t)}(o,e);var t,n,i,r=It(o);function o(e,t){var n,i,s,a;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),n=r.call(this,e,t),M.ZP.register((i={},a=Ct,(s=wt(s="blots/multilineBreak"))in i?Object.defineProperty(i,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):i[s]=a,i),!0),e.keyboard.addBinding({key:"enter",shiftKey:!0},n.enterHandler.bind(kt(n))),e.keyboard.bindings.enter.unshift(e.keyboard.bindings.enter.pop()),e.clipboard.addMatcher("BR",Ot),n}return t=o,(n=[{key:"enterHandler",value:function(e){var t=this.quill.getLeaf(e.index)[0],n=this.quill.getLeaf(e.index+1)[0];this.quill.insertEmbed(e.index,"multilineBreak",!0,"user"),null!==n&&t.parent===n.parent||this.quill.insertEmbed(e.index,"multilineBreak",!0,"user"),this.quill.setSelection(e.index+1,M.ZP.sources.SILENT)}}])&&St(t.prototype,n),i&&St(t,i),Object.defineProperty(t,"prototype",{writable:!1}),o}(n(7094).Z);const At=Tt;var Pt=n(6054),Mt=n(1342),Rt=n(319);function Bt(e){return Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bt(e)}function Nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,i)}return n}function Ft(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(n),!0).forEach(function(t){$t(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Nt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function $t(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Bt(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==Bt(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Bt(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ht(e,t){return t.reduce(function(t,n){return t["".concat(e).concat(n.attrName)]=n,t},{})}e.default.register(Ft(Ft(Ft(Ft({"attributors/attribute/direction":r.IF},Ht("attributors/attribute/",Rt.Qu)),Ht("attributors/attribute/",Mt.yA)),{},{"attributors/class/align":t.dk,"attributors/class/background":U.Y,"attributors/class/color":q.Hn,"attributors/class/direction":r.hY,"attributors/class/font":G._,"attributors/class/size":Z.m,"attributors/style/align":t.HE,"attributors/style/background":U.w,"attributors/style/color":q.HQ,"attributors/style/direction":r.H8,"attributors/style/font":G.H,"attributors/style/size":Z.Z},Ht("attributors/style/",Rt.VT)),Ht("attributors/style/",Mt.kk)),!0),e.default.register({"formats/align":t.dk,"formats/direction":r.hY,"formats/indent":f,"formats/background":U.w,"formats/color":q.HQ,"formats/font":G._,"formats/size":Z.m,"formats/blockquote":S,"formats/code-block":ct.ZP,"formats/header":A,"formats/list":K,"formats/bold":Y.Z,"formats/code":ct.EK,"formats/italic":re,"formats/link":oe.Z,"formats/script":me,"formats/strike":Se,"formats/underline":Ae,"formats/formula":ze,"formats/image":Xe,"formats/video":lt,"tableModules/lite":Pt.Z,"tableModules/main":dt.Z,"modules/syntax":ut.ZP,"modules/multiline":At,"modules/table":dt.Z},!0);const Lt=e.default})(),i=i.default})(),e.exports=t()},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),i=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,_={};function g(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||f}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=_,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,m(b,g.prototype),b.isPureReactComponent=!0;var C=Array.isArray,x={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function w(e,t,i,r,o,s){return i=s.ref,{$$typeof:n,type:e,key:t,ref:void 0!==i?i:null,props:s}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var I=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function D(){}function O(e,t,r,o,s){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case i:u=!0;break;case h:return O((u=e._init)(e._payload),t,r,o,s)}}if(u)return s=s(e),u=""===o?"."+k(e,0):o,C(s)?(r="",null!=u&&(r=u.replace(I,"$&/")+"/"),O(s,t,r,"",function(e){return e})):null!=s&&(E(s)&&(l=s,c=r+(null==s.key||e&&e.key===s.key?"":(""+s.key).replace(I,"$&/")+"/")+u,s=w(l.type,c,void 0,0,0,l.props)),t.push(s)),1;u=0;var d,f=""===o?".":o+":";if(C(e))for(var m=0;m<e.length;m++)u+=O(o=e[m],t,r,a=f+k(o,m),s);else if("function"===typeof(m=null===(d=e)||"object"!==typeof d?null:"function"===typeof(d=p&&d[p]||d["@@iterator"])?d:null))for(e=m.call(e),m=0;!(o=e.next()).done;)u+=O(o=o.value,t,r,a=f+k(o,m++),s);else if("object"===a){if("function"===typeof e.then)return O(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(D,D):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,r,o,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function T(e,t,n){if(null==e)return e;var i=[],r=0;return O(e,i,"","",function(e){return t.call(n,e,r++)}),i}function A(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function M(){}t.Children={map:T,forEach:function(e,t,n){T(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return T(e,function(){t++}),t},toArray:function(e){return T(e,function(e){return e})||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=r,t.Profiler=s,t.PureComponent=y,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return x.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var i=m({},e.props),r=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(r=""+t.key),t)!S.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(i[o]=t[o]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var s=Array(o),a=0;a<o;a++)s[a]=arguments[a+2];i.children=s}return w(e.type,r,void 0,0,0,i)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var i,r={},o=null;if(null!=t)for(i in void 0!==t.key&&(o=""+t.key),t)S.call(t,i)&&"key"!==i&&"__self"!==i&&"__source"!==i&&(r[i]=t[i]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var a=Array(s),l=0;l<s;l++)a[l]=arguments[l+2];r.children=a}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===r[i]&&(r[i]=s[i]);return w(e,o,void 0,0,0,r)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:A}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=x.T,n={};x.T=n;try{var i=e(),r=x.S;null!==r&&r(n,i),"object"===typeof i&&null!==i&&"function"===typeof i.then&&i.then(M,P)}catch(o){P(o)}finally{x.T=t}},t.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},t.use=function(e){return x.H.use(e)},t.useActionState=function(e,t,n){return x.H.useActionState(e,t,n)},t.useCallback=function(e,t){return x.H.useCallback(e,t)},t.useContext=function(e){return x.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return x.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var i=x.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return i.useEffect(e,t)},t.useId=function(){return x.H.useId()},t.useImperativeHandle=function(e,t,n){return x.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return x.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return x.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return x.H.useMemo(e,t)},t.useOptimistic=function(e,t){return x.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return x.H.useReducer(e,t,n)},t.useRef=function(e){return x.H.useRef(e)},t.useState=function(e){return x.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return x.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return x.H.useTransition()},t.version="19.1.1"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var i=n(43);function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var s={d:{f:o,r:function(){throw Error(r(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(r(299));return function(e,t,n){var i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==i?null:""+i,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=s.p;try{if(l.T=null,s.p=2,e)return e()}finally{l.T=t,s.p=n,s.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,s.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&s.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,i=c(n,t.crossOrigin),r="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?s.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:i,integrity:r,fetchPriority:o}):"script"===n&&s.d.X(e,{crossOrigin:i,integrity:r,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);s.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&s.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,i=c(n,t.crossOrigin);s.d.L(e,n,{crossOrigin:i,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);s.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else s.d.m(e)},t.requestFormReset=function(e){s.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.1"},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element");function i(e,t,i){var r=null;if(void 0!==i&&(r=""+i),void 0!==t.key&&(r=""+t.key),"key"in t)for(var o in i={},t)"key"!==o&&(i[o]=t[o]);else i=t;return t=i.ref,{$$typeof:n,type:e,key:r,ref:void 0!==t?t:null,props:i}}Symbol.for("react.fragment"),t.jsx=i,t.jsxs=i},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var i=n-1>>>1,r=e[i];if(!(0<o(r,t)))break e;e[i]=t,e[n]=r,n=i}}function i(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var i=0,r=e.length,s=r>>>1;i<s;){var a=2*(i+1)-1,l=e[a],c=a+1,u=e[c];if(0>o(l,n))c<r&&0>o(u,l)?(e[i]=u,e[c]=n,i=c):(e[i]=l,e[a]=n,i=a);else{if(!(c<r&&0>o(u,n)))break e;e[i]=u,e[c]=n,i=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],d=1,h=null,p=3,f=!1,m=!1,_=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function C(e){for(var t=i(u);null!==t;){if(null===t.callback)r(u);else{if(!(t.startTime<=e))break;r(u),t.sortIndex=t.expirationTime,n(c,t)}t=i(u)}}function x(e){if(_=!1,C(e),!m)if(null!==i(c))m=!0,w||(w=!0,S());else{var t=i(u);null!==t&&P(x,t.startTime-e)}}var S,w=!1,E=-1,I=5,k=-1;function D(){return!!g||!(t.unstable_now()-k<I)}function O(){if(g=!1,w){var e=t.unstable_now();k=e;var n=!0;try{e:{m=!1,_&&(_=!1,y(E),E=-1),f=!0;var o=p;try{t:{for(C(e),h=i(c);null!==h&&!(h.expirationTime>e&&D());){var s=h.callback;if("function"===typeof s){h.callback=null,p=h.priorityLevel;var a=s(h.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){h.callback=a,C(e),n=!0;break t}h===i(c)&&r(c),C(e)}else r(c);h=i(c)}if(null!==h)n=!0;else{var l=i(u);null!==l&&P(x,l.startTime-e),n=!1}}break e}finally{h=null,p=o,f=!1}n=void 0}}finally{n?S():w=!1}}}if("function"===typeof b)S=function(){b(O)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,A=T.port2;T.port1.onmessage=O,S=function(){A.postMessage(null)}}else S=function(){v(O,0)};function P(e,n){E=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){g=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,r,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:d++,callback:r,priorityLevel:e,startTime:o,expirationTime:a=o+a,sortIndex:-1},o>s?(e.sortIndex=o,n(u,e),null===i(c)&&e===i(u)&&(_?(y(E),E=-1):_=!0,P(x,o-s))):(e.sortIndex=a,n(c,e),m||f||(m=!0,w||(w=!0,S()))),e},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(i){var r=t[i];if(void 0!==r)return r.exports;var o=t[i]={exports:{}};return e[i].call(o.exports,o,o.exports,n),o.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,i)=>(n.f[i](e,t),t),[])),n.u=e=>"static/js/"+e+".03e71150.chunk.js",n.miniCssF=e=>{},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="intranet:";n.l=(i,r,o,s)=>{if(e[i])e[i].push(r);else{var a,l;if(void 0!==o)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==i||d.getAttribute("data-webpack")==t+o){a=d;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+o),a.src=i),e[i]=[r];var h=(t,n)=>{a.onerror=a.onload=null,clearTimeout(p);var r=e[i];if(delete e[i],a.parentNode&&a.parentNode.removeChild(a),r&&r.forEach(e=>e(n)),t)return t(n)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=h.bind(null,a.onerror),a.onload=h.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/intranet/",(()=>{var e={792:0};n.f.j=(t,i)=>{var r=n.o(e,t)?e[t]:void 0;if(0!==r)if(r)i.push(r[2]);else{var o=new Promise((n,i)=>r=e[t]=[n,i]);i.push(r[2]=o);var s=n.p+n.u(t),a=new Error;n.l(s,i=>{if(n.o(e,t)&&(0!==(r=e[t])&&(e[t]=void 0),r)){var o=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;a.message="Loading chunk "+t+" failed.\n("+o+": "+s+")",a.name="ChunkLoadError",a.type=o,a.request=s,r[1](a)}},"chunk-"+t,t)}};var t=(t,i)=>{var r,o,s=i[0],a=i[1],l=i[2],c=0;if(s.some(t=>0!==e[t])){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)l(n)}for(t&&t(i);c<s.length;c++)o=s[c],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0},i=self.webpackChunkintranet=self.webpackChunkintranet||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})(),(()=>{"use strict";var e=n(43),t=n(391);const i=function(e){this._options=e||{},this._list=[],this._queue=[],this._firing=!1,this._fired=!1,this._firingIndexes=[]};i.prototype._fireCore=function(e,t){const n=this._firingIndexes,i=this._list,{stopOnFalse:r}=this._options,o=n.length;for(n[o]=0;n[o]<i.length;n[o]++){if(!1===i[n[o]].apply(e,t)&&r)break}n.pop()},i.prototype.add=function(e){return"function"!==typeof e||this._options.unique&&this.has(e)||this._list.push(e),this},i.prototype.remove=function(e){const t=this._list,n=this._firingIndexes,i=t.indexOf(e);if(i>-1&&(t.splice(i,1),this._firing&&n.length))for(let r=0;r<n.length;r++)i<=n[r]&&n[r]--;return this},i.prototype.has=function(e){const t=this._list;return e?t.indexOf(e)>-1:!!t.length},i.prototype.empty=function(e){return this._list=[],this},i.prototype.fireWith=function(e,t){const n=this._queue;if(t=(t=t||[]).slice?t.slice():t,this._options.syncStrategy)this._firing=!0,this._fireCore(e,t);else{if(n.push([e,t]),this._firing)return;for(this._firing=!0;n.length;){const e=n.shift();this._fireCore(e[0],e[1])}}return this._firing=!1,this._fired=!0,this},i.prototype.fire=function(){this.fireWith(this,arguments)},i.prototype.fired=function(){return this._fired};const r=function(e){return new i(e)},o=r,s=r,a=(e,t)=>{if(Array.isArray(e))return e.map(t);const n=[];for(const i in e)n.push(t(e[i],i));return n},l=(e,t)=>{if(e){if("length"in e)for(let n=0;n<e.length&&!1!==t.call(e[n],n,e[n]);n++);else for(const n in e)if(!1===t.call(e[n],n,e[n]))break;return e}};const c=class{constructor(){this.memory=[],this.callbacks=s()}add(e){l(this.memory,(t,n)=>e.apply(e,n)),this.callbacks.add(e)}remove(e){this.callbacks.remove(e)}fire(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.memory.push(t),this.callbacks.fire.apply(this.callbacks,t)}},u=new c,d={"[object Array]":"array","[object Date]":"date","[object Object]":"object","[object String]":"string"},h=function(e){if(null===e)return"null";const t=Object.prototype.toString.call(e);return"object"===typeof e?d[t]||"object":typeof e},p=function(e){return"boolean"===typeof e},f=function(e){return y(e)&&-1!==e.toString().indexOf("e")},m=function(e){return"date"===h(e)},_=function(e){return null!==e&&void 0!==e},g=function(e){return"function"===typeof e},v=function(e){return"string"===typeof e},y=function(e){return"number"===typeof e&&isFinite(e)||!isNaN(e-parseFloat(e))},b=function(e){return"object"===h(e)},C=function(e){let t;for(t in e)return!1;return!0},x=function(e){if(!e||"object"!==h(e))return!1;const t=Object.getPrototypeOf(e);if(!t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return"function"===typeof n&&Object.toString.call(n)===Object.toString.call(Object)},S=function(e){return!["object","array","function"].includes(h(e))},w=function(e){return null!=e&&e===e.window},E=function(e){return!!e&&!(!e.jquery&&!e.dxRenderer)},I=function(e){return!!e&&g(e.then)},k=function(e){return!!e&&g(e.done)&&g(e.fail)},D=function(e){return!(!e||!e.preventDefault)},O=g,T=E,A=function(e){let t=1,n=!1;for("boolean"===typeof(e=e||{})&&(n=e,e=arguments[1]||{},t++);t<arguments.length;t++){const i=arguments[t];if(null!=i)for(const t in i){const r=e[t],o=i[t];let s,a=!1;"__proto__"!==t&&"constructor"!==t&&e!==o&&(n&&o&&(x(o)||(a=Array.isArray(o)))?(s=a?r&&Array.isArray(r)?r:[]:r&&x(r)?r:{},e[t]=A(n,s,o)):void 0!==o&&(e[t]=o))}}return e},P=function(){const e=[new RegExp("&","g"),new RegExp('"',"g"),new RegExp("'","g"),new RegExp("<","g"),new RegExp(">","g")];return function(t){return String(t).replace(e[0],"&amp;").replace(e[1],"&quot;").replace(e[2],"&#39;").replace(e[3],"&lt;").replace(e[4],"&gt;")}}();function M(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return g(e)?e(...n):(n.forEach((t,n)=>{v(t)&&(t=t.replace(/\$/g,"$$$$"));const i=new RegExp(`\\{${n}\\}`,"gm");e=e.replace(i,t)}),e)}const R=function(){const e=/\s/g;return function(t){return!t||!t.replace(e,"")}}(),B="24.2.8",N=function(){},F=function(e){return"undefined"!==typeof console&&g(console[e])?console[e].bind(console):N},$={log:F("log"),info:F("info"),warn:F("warn"),error:F("error")},H=function(){function e(e,t){if(!e)throw new Error(t)}return{assert:e,assertParam:function(t,n){e(null!==t&&void 0!==t,n)}}}(),L={logger:$,debug:H},V=`https://js.devexpress.com/error/${"24.2.8".split(".").slice(0,2).join("_")}/`;function z(e,t){const n={ERROR_MESSAGES:A(t,e),Error:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){const t=e[0],n=i(t,e=e.slice(1)),s=o(t),a=r(t,n);return A(new Error(a),{__id:t,__details:n,url:s})}(t)},log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const o=t[0];let s="log";/^E\d+$/.test(o)?s="error":/^W\d+$/.test(o)&&(s="warn"),L.logger[s]("log"===s?o:function(e){const t=e[0];return r(t,i(t,e=e.slice(1)))}(t))}};function i(e,t){return t=[n.ERROR_MESSAGES[e]].concat(t),M.apply(this,t).replace(/\.*\s*?$/,"")}function r(e,t){const n=null!==e&&void 0!==e&&e.startsWith("W")?"warning":"error";return M.apply(this,["{0} - {1}.\n\nFor additional information on this {2} message, see: {3}",e,t,n,o(e)])}function o(e){return V+e}return n}const j=z,W=j({E0001:"Method is not implemented",E0002:"Member name collision: {0}",E0003:"A class must be instantiated using the 'new' keyword",E0004:"The NAME property of the component is not specified",E0005:"Unknown device",E0006:"Unknown endpoint key is requested",E0007:"'Invalidate' method is called outside the update transaction",E0008:"Type of the option name is not appropriate to create an action",E0009:"Component '{0}' has not been initialized for an element",E0010:"Animation configuration with the '{0}' type requires '{1}' configuration as {2}",E0011:"Unknown animation type '{0}'",E0012:"jQuery version is too old. Please upgrade jQuery to 1.10.0 or later",E0013:"KnockoutJS version is too old. Please upgrade KnockoutJS to 2.3.0 or later",E0014:"The 'release' method shouldn't be called for an unlocked Lock object",E0015:"Queued task returned an unexpected result",E0017:"Event namespace is not defined",E0018:"DevExpress.ui.DevExpressPopup widget is required",E0020:"Template engine '{0}' is not supported",E0021:"Unknown theme is set: {0}",E0022:"LINK[rel=DevExpress-theme] tags must go before DevExpress included scripts",E0023:"Template name is not specified",E0024:"DevExtreme bundle already included",E0025:"Unexpected argument type",E0100:"Unknown validation type is detected",E0101:"Misconfigured range validation rule is detected",E0102:"Misconfigured comparison validation rule is detected",E0103:"validationCallback of an asynchronous rule should return a jQuery or a native promise",E0110:"Unknown validation group is detected",E0120:"Adapter for a DevExpressValidator component cannot be configured",E0121:"The 'customItem' parameter of the 'onCustomItemCreating' function is empty or contains invalid data. Assign a custom object or a Promise that is resolved after the item is created.",W0000:"'{0}' is deprecated in {1}. {2}",W0001:"{0} - '{1}' option is deprecated in {2}. {3}",W0002:"{0} - '{1}' method is deprecated in {2}. {3}",W0003:"{0} - '{1}' property is deprecated in {2}. {3}",W0004:"Timeout for theme loading is over: {0}",W0005:"'{0}' event is deprecated in {1}. {2}",W0006:"Invalid recurrence rule: '{0}'",W0007:"'{0}' Globalize culture is not defined",W0008:"Invalid view name: '{0}'",W0009:"Invalid time zone name: '{0}'",W0010:"{0} is deprecated in {1}. {2}",W0011:"Number parsing is invoked while the parser is not defined",W0012:"Date parsing is invoked while the parser is not defined",W0013:"'{0}' file is deprecated in {1}. {2}",W0014:"{0} - '{1}' type is deprecated in {2}. {3}",W0015:"Instead of returning a value from the '{0}' function, write it into the '{1}' field of the function's parameter.",W0016:'The "{0}" option does not accept the "{1}" value since v{2}. {3}.',W0017:'Setting the "{0}" property with a function is deprecated since v21.2',W0018:'Setting the "position" property with a function is deprecated since v21.2',W0019:"DevExtreme: Unable to Locate a Valid License Key.\n\nDetailed license/registration related information and instructions: https://js.devexpress.com/Documentation/Licensing/.\n\nIf you are using a 30-day trial version of DevExtreme, you must uninstall all copies of DevExtreme once your 30-day trial period expires. For terms and conditions that govern use of DevExtreme UI components/libraries, please refer to the DevExtreme End User License Agreement: https://js.devexpress.com/EULAs/DevExtremeComplete.\n\nTo use DevExtreme in a commercial project, you must purchase a license. For pricing/licensing options, please visit: https://js.devexpress.com/Buy.\n\nIf you have licensing-related questions or need help with a purchase, please email clientservices@devexpress.com.\n\n",W0020:"DevExtreme: License Key Has Expired.\n\nDetailed license/registration related information and instructions: https://js.devexpress.com/Documentation/Licensing/.\n\nA mismatch exists between the license key used and the DevExtreme version referenced in this project.\n\nTo proceed, you can:\n\u2022 use a version of DevExtreme linked to your license key: https://www.devexpress.com/ClientCenter/DownloadManager\n\u2022 renew your DevExpress Subscription: https://www.devexpress.com/buy/renew (once you renew your subscription, you will be entitled to product updates and support service as defined in the DevExtreme End User License Agreement)\n\nIf you have licensing-related questions or need help with a renewal, please email clientservices@devexpress.com.\n\n",W0021:"DevExtreme: License Key Verification Has Failed.\n\nDetailed license/registration related information and instructions: https://js.devexpress.com/Documentation/Licensing/.\n\nTo verify your DevExtreme license, make certain to specify a correct key in the GlobalConfig. If you continue to encounter this error, please visit https://www.devexpress.com/ClientCenter/DownloadManager to obtain a valid license key.\n\nIf you have a valid license and this problem persists, please submit a support ticket via the DevExpress Support Center. We will be happy to follow-up: https://supportcenter.devexpress.com/ticket/create.\n\n",W0022:"DevExtreme: Pre-release software. Not suitable for commercial use.\n\nDetailed license/registration related information and instructions: https://js.devexpress.com/Documentation/Licensing/.\n\nPre-release software may contain deficiencies and as such, should not be considered for use or integrated in any mission critical application.\n\n",W0023:"DevExtreme: the following 'devextreme' package version does not match versions of other DevExpress products used in this application:\n\n{0}\n\nInteroperability between different versions of the products listed herein cannot be guaranteed.\n\n"});function K(){return K=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)({}).hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},K.apply(null,arguments)}const U={rtlEnabled:!1,defaultCurrency:"USD",defaultUseCurrencyAccountingStyle:!0,oDataFilterToLower:!0,serverDecimalSeparator:".",decimalSeparator:".",thousandsSeparator:",",forceIsoDateParsing:!0,wrapActionsBeforeExecute:!0,useLegacyStoreResult:!1,useJQuery:void 0,editorStylingMode:void 0,useLegacyVisibleIndex:!1,floatingActionButtonConfig:{icon:"add",closeIcon:"close",label:"",position:{at:"right bottom",my:"right bottom",offset:{x:-16,y:-16}},maxSpeedDialActionCount:5,shading:!1,direction:"auto"},optionsParser:e=>{"{"!==e.trim().charAt(0)&&(e=`{${e}}`);try{return JSON.parse(e)}catch(t){try{return JSON.parse(q(e))}catch(n){throw W.Error("E3018",t,e)}}}},q=e=>e.replace(/'/g,'"').replace(/,\s*([\]}])/g,"$1").replace(/([{,])\s*([^":\s]+)\s*:/g,'$1"$2":'),G=["decimalSeparator","thousandsSeparator"],Z=function(){if(!arguments.length)return U;const e=arguments.length<=0?void 0:arguments[0];G.forEach(t=>{if(e[t]){const e=`Now, the ${t} is selected based on the specified locale.`;W.log("W0003","config",t,"19.2",e)}}),A(U,e)};"undefined"!==typeof DevExpress&&DevExpress.config&&Z(DevExpress.config);const Y=Z,Q=function(e,t,n){return function(){const i=this.callBase;this.callBase=e[t];try{return n.apply(this,arguments)}finally{this.callBase=i}}},X=function(e){const t=this;let n,i,r;if(!e)return t;for(i in e)r=e[i],n="function"===typeof t.prototype[i]&&"function"===typeof r,t.prototype[i]=n?Q(t.parent.prototype,i,r):r;return t},J=function(){const e=this;let t,n,i;const r=Object.prototype.hasOwnProperty.bind(e);!r("_includedCtors")&&!r("_includedPostCtors")&&(e._includedCtors=e._includedCtors.slice(0),e._includedPostCtors=e._includedPostCtors.slice(0));for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];for(i=0;i<s.length;i++)for(n in t=s[i],t.ctor&&e._includedCtors.push(t.ctor),t.postCtor&&e._includedPostCtors.push(t.postCtor),t)"ctor"!==n&&"postCtor"!==n&&"default"!==n&&(e.prototype[n]=t[n]);return e},ee=function(e){if(!Object.prototype.hasOwnProperty.bind(this)("parent")&&this.parent){const t=Object.getPrototypeOf(this);return t===e||t.subclassOf(e)}return this.parent===e||!(!this.parent||!this.parent.subclassOf)&&this.parent.subclassOf(e)},te=function(){throw W.Error("E0001")},ne=function(){};ne.inherit=function(e){const t=function(){if(!this||w(this)||"function"!==typeof this.constructor)throw W.Error("E0003");const e=this,{ctor:t}=e,n=e.constructor._includedCtors,i=e.constructor._includedPostCtors;let r;for(r=0;r<n.length;r++)n[r].call(e);if(t){for(var o=arguments.length,s=new Array(o),a=0;a<o;a++)s[a]=arguments[a];t.apply(e,s)}for(r=0;r<i.length;r++)i[r].call(e)};return t.prototype=function(e){const t=function(){};return t.prototype=e.prototype,new t}(this),Object.setPrototypeOf(t,this),t.inherit=this.inherit,t.abstract=te,t.redefine=X,t.include=J,t.subclassOf=ee,t.parent=this,t._includedCtors=this._includedCtors?this._includedCtors.slice(0):[],t._includedPostCtors=this._includedPostCtors?this._includedPostCtors.slice(0):[],t.prototype.constructor=t,t.redefine(e),t},ne.abstract=te;const ie=ne,re=ie.inherit({ctor:function(e){e&&(e=String(e)),this._value=this._normalize(e||this._generate())},_normalize:function(e){for(e=e.replace(/[^a-f0-9]/gi,"").toLowerCase();e.length<32;)e+="0";return[e.substr(0,8),e.substr(8,4),e.substr(12,4),e.substr(16,4),e.substr(20,12)].join("-")},_generate:function(){let e="";for(let t=0;t<32;t++)e+=Math.round(15*Math.random()).toString(16);return e},toString:function(){return this._value},valueOf:function(){return this._value},toJSON:function(){return this._value}}),oe={};let se;function ae(){return se}const le=Y,ce=re;const ue=function(e){const t=ie.inherit(e);let n=t,i=new n(e);const r={},o=function(t,n){l(t,function(t){g(i[t])?!n&&e[t]||(e[t]=function(){return i[t].apply(e,arguments)}):(n&&(r[t]=e[t]),e[t]=i[t])})};return o(e,!0),e.inject=function(e){n=n.inherit(e),i=new n,o(e)},e.resetInjection=function(){A(e,r),n=t,i=new t},e},de=ue({isWrapped:function(){return!1},isWritableWrapped:function(){return!1},wrap:function(e){return e},unwrap:function(e){return e},assign:function(){$.error("Method 'assign' should not be used for not wrapped variables. Use 'isWrapped' method for ensuring.")}}),he=de,pe=(function(){function e(){}}(),e=>b(e)?Array.isArray(e)?[]:{}:e),fe=function(e,t,n,i,r,o){!r&&he.isWrapped(e[t])?he.assign(e[t],n):e[t]=n},me=function(e,t,n,i,r,o){const s=i?b(e):x(e);!r&&he.isWrapped(e[t])?he.assign(e[t],n):!r&&Array.isArray(n)?e[t]=n.map(e=>_e(pe(e),e,i,r,o)):e[t]=!r&&s?_e(pe(n),n,i,r,o,me):n},_e=function(e,t,n,i,r,o){let s,a;const l=o?me:fe;for(const c in t){if(s=e[c],a=t[c],"__proto__"===c||"constructor"===c||e===a)continue;if(x(a)){const e=n?b(s):x(s);a=_e(e?s:{},a,n,i,r)}(Array.isArray(a)&&!i||((r||void 0!==a)&&s!==a||r&&void 0===s))&&l(e,c,a,n,i,r)}return e},ge=he.unwrap,{isWrapped:ve}=he,{assign:ye}=he,be=function(e){return(t=e,t.replace(/\[/g,".").replace(/\]/g,"")).split(".");var t},Ce=function(e,t,n,i){if("this"===t)throw new W.Error("E4016");const r=e[t];i.unwrapObservables&&ve(r)?ye(r,n):e[t]=n},xe=function(e){return(e=e||{}).unwrapObservables=void 0===e.unwrapObservables||e.unwrapObservables,e};function Se(e,t){return t.unwrapObservables?ge(e):e}const we=function(e){if(arguments.length>1&&(e=[].slice.call(arguments)),!e||"this"===e)return function(e){return e};if("string"===typeof e){const t=be(e);return function(e,n){const i=(n=xe(n)).functionsAsIs,r="defaultValue"in n;let o=Se(e,n);for(let s=0;s<t.length;s++){if(!o){if(null==o&&r)return n.defaultValue;break}const e=t[s];if(r&&b(o)&&!(e in o))return n.defaultValue;let a=Se(o[e],n);!i&&g(a)&&(a=a.call(o)),o=a}return o}}return Array.isArray(e)?function(e){const t={};for(let n=0,i=e.length;n<i;n++){const i=e[n];t[i]=we(i)}return function(e,n){let i;return l(t,function(t){const r=this(e,n);if(void 0===r)return;let o=i||(i={});const s=t.split("."),a=s.length-1;for(let e=0;e<a;e++){const t=s[e];t in o||(o[t]={}),o=o[t]}o[s[a]]=r}),i}}(e):g(e)?e:void 0};function Ee(e,t){return null!==t&&void 0!==t&&t.locale?e.toLocaleLowerCase(t.locale):e.toLowerCase()}function Ie(e,t){return null!==t&&void 0!==t&&t.locale?e.toLocaleUpperCase(t.locale):e.toUpperCase()}const ke=function(e,t,n,i){if(_(n))return n;const r={};return Ce(e,t,r,i),r},De=function(e){const t=(e=be(e||"this")).length-1;return function(n,i,r){let o=Se(n,r=xe(r));e.forEach(function(e,n){let s=function(e,t,n){return n=n||{},Se("this"===t?e:e[t],n)}(o,e,r);const a=!r.functionsAsIs&&g(s)&&!ve(s);n===t?r.merge&&x(i)&&(!_(s)||x(s))?(s=ke(o,e,s,r),_e(s,i,!1,!0)):a?o[e](i):Ce(o,e,i,r):(s=ke(o,e,s,r),a&&(s=s.call(o)),o=s)})}},Oe=function(e,t){var n;let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof Date)return e.getTime();const r=null===i||void 0===i||null===(n=i.collatorOptions)||void 0===n?void 0:n.sensitivity;if(e&&e instanceof ie&&e.valueOf)e=e.valueOf();else if("string"===typeof e&&("base"===r||"case"===r)){const t=/[\u0300-\u036f]/g;"base"===r&&(e=Ee(e,i)),e=e.normalize("NFD").replace(t,"")}if("string"===typeof e&&!(t||"case"===r||"variant"===r)){var o;const t=null===i||void 0===i||null===(o=i.locale)||void 0===o?void 0:o.toLowerCase();return(t&&!!["hy","el"].find(e=>t===e||t.startsWith(`${e}-`))?Ie:Ee)(e,i)}return e},Te=[{method:"resolve",handler:"done",state:"resolved"},{method:"reject",handler:"fail",state:"rejected"},{method:"notify",handler:"progress"}];let Ae=function(){const e=this;this._state="pending",this._promise={},Te.forEach(function(t){const n=t.method;this[`${n}Callbacks`]=s(),this[n]=function(){return this[`${n}With`](this._promise,arguments)}.bind(this),this._promise[t.handler]=function(t){if(!t)return this;const i=e[`${n}Callbacks`];return i.fired()?t.apply(e[`${n}Context`],e[`${n}Args`]):i.add(function(e,n){t.apply(e,n)}),this}}.bind(this)),this._promise.always=function(e){return this.done(e).fail(e)},this._promise.catch=function(e){return this.then(null,e)},this._promise.then=function(e,t){const n=new Ae;return["done","fail"].forEach(function(i){const r="done"===i?e:t;this[i](function(){if(!r)return void n["done"===i?"resolve":"reject"].apply(this,arguments);const e=r&&r.apply(this,arguments);k(e)?e.done(n.resolve).fail(n.reject):I(e)?e.then(n.resolve,n.reject):n.resolve.apply(this,_(e)?[e]:arguments)})}.bind(this)),n.promise()},this._promise.state=function(){return e._state},this._promise.promise=function(t){return t?A(t,e._promise):e._promise},this._promise.promise(this)};function Pe(e,t){if(k(e))return e;if(I(e)){const n=new Ae;return e.then(function(){n.resolveWith.apply(n,[t].concat([[].slice.call(arguments)]))},function(){n.rejectWith.apply(n,[t].concat([[].slice.call(arguments)]))}),n}return(new Ae).resolveWith(t,[e])}Te.forEach(function(e){const t=e.method,{state:n}=e;Ae.prototype[`${t}With`]=function(e,i){const r=this[`${t}Callbacks`];return"pending"===this.state()&&(this[`${t}Args`]=i,this[`${t}Context`]=e,n&&(this._state=n),r.fire(e,i),"pending"!==n&&(this.resolveCallbacks.empty(),this.rejectCallbacks.empty())),this}});let Me=function(){if(1===arguments.length)return Pe(arguments[0]);const e=[].slice.call(arguments),t=[];let n=0;const i=new Ae,r=function(r){return function(o){t[r]=this,e[r]=arguments.length>1?[].slice.call(arguments):o,n++,n===e.length&&i.resolveWith(t,e)}};for(let o=0;o<e.length;o++)k(e[o])?e[o].promise().done(r(o)).fail(i.reject):n++;return n===e.length&&i.resolveWith(t,e),i.promise()};function Re(){return new Ae}function Be(){return Me.apply(this,arguments)}const Ne=new Re,Fe=function(e,t){return _(e)?e:t},$e=function(e,t){const n=new Re,i=t||this,r={promise:n.promise(),abort(){clearTimeout(o),n.rejectWith(i)}},o=(arguments[2]||setTimeout)(function(){const t=e.call(i);t&&t.done&&g(t.done)?t.done(function(){n.resolveWith(i)}):n.resolveWith(i)},"number"===typeof t?t:0);return r},He=[],Le=[],Ve=[];let ze;const je=function(e,t,n){if(ze&&ze!==e)return He.push(t),Le.push(e),n=n||new Re,Ve.push(n),n;const i=ze,r=Ve.length;ze=e;let o=t();return o||(Ve.length>r?o=Be.apply(this,Ve.slice(r)):n&&n.resolve()),ze=i,n&&o&&o.done&&o.done(n.resolve).fail(n.reject),!ze&&He.length&&("render"===Le.shift()?We:Ke)(He.shift(),Ve.shift()),o||Be()},We=function(e,t){return je("render",e,t)},Ke=function(e,t){return je("update",e,t)},Ue=function(e){return function(){const t=this;return je("render",function(){return e.call(t)})}},qe=function(e){return function(){const t=this;return je("update",function(){return e.call(t)})}},Ge=(e,t,n)=>{const i=[];let r=0;return l(t,(t,o)=>{let s=0;const a=n?n(o):o;l(e,(e,t)=>{const n=a[e];if(void 0!==n){if(!Ze(n,t))return s=-1,!1;s++}}),s<r||(s>r&&(i.length=0,r=s),i.push(o))}),i},Ze=function(e,t){if(Array.isArray(e)&&Array.isArray(t)){let n=!1;return l(e,(e,i)=>{if(i!==t[e])return n=!0,!1}),!n}return e===t},Ye=function(e){switch(h(e)){case"string":return e.split(/\s+/,2);case"object":return[e.x??e.h,e.y??e.v];case"number":return[e];case"array":return e;default:return null}},Qe=function(e,t){const n=Ye(e);let i=t?parseFloat(n&&n[0]):parseInt(n&&n[0],10),r=t?parseFloat(n&&n[1]):parseInt(n&&n[1],10);return isFinite(i)||(i=0),isFinite(r)||(r=i),{h:i,v:r}},Xe=function(e){if(e instanceof ce)return e.toString();if(b(e)||Array.isArray(e))try{const t=JSON.stringify(e);return"{}"===t?e:t}catch(t){return e}return e},Je=function(e){return e.replace(/[[\]{}\-()*+?.\\^$|\s]/g,"\\$&")},et=function(e){const t=le().serverDecimalSeparator;return _(e)&&(e=e.toString().replace(".",t)),e},tt=function(){},nt=function(){return(new Re).resolve().promise()},it=function(e,t,n){const i=[];let r;const o=!n;for(let s=0;s<e.length;s++)r=!!t(e[s],s),r===o&&i.push(e[s]);return i},rt={maxDepth:3,strict:!0},ot=(e,t,n,i)=>{const{strict:r,maxDepth:o}=i,s=Oe(e,!0),a=Oe(t,!0);switch(!0){case r?s===a:s==a:case n>=o:return!0;case b(s)&&b(a):return((e,t,n,i)=>{const r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;const s=new Set(o);return!r.some(r=>!s.has(r)||!ot(e[r],t[r],n+1,i))})(s,a,n,i);case Array.isArray(s)&&Array.isArray(a):return((e,t,n,i)=>e.length===t.length&&!e.some((e,r)=>!ot(e,t[r],n+1,K({},i,{strict:!0}))))(s,a,n,i);default:return!1}},st=function(e,t){const n=K({},rt,arguments.length>2&&void 0!==arguments[2]?arguments[2]:rt);return ot(e,t,0,n)},at={ensureDefined:Fe,executeAsync:$e,deferRender:We,deferUpdate:Ke,deferRenderer:Ue,deferUpdater:qe,findBestMatches:Ge,splitPair:Ye,normalizeKey:function(e){let t=v(e)?e:e.toString();const n=t.match(/[^a-zA-Z0-9_]/g);return n&&l(n,(e,n)=>{t=t.replace(n,`__${n.charCodeAt()}__`)}),t},denormalizeKey:function(e){const t=e.match(/__\d+__/g);return t&&t.forEach(t=>{const n=parseInt(t.replace("__",""));e=e.replace(t,String.fromCharCode(n))}),e},pairToObject:Qe,getKeyHash:Xe,escapeRegExp:Je,applyServerDecimalSeparator:et,noop:tt,asyncNoop:nt,grep:it,equalByValue:st};let lt=null;function ct(e){try{return new CSSStyleSheet}catch(t){const n=e.ownerDocument.createElement("style");return e.appendChild(n),n.sheet}}function ut(e,t,n){for(let r=0;r<t.length;r++){const o=t[r];try{for(let t=0;t<o.cssRules.length;t++)dt(e,o.cssRules[t],n)}catch(i){}}}function dt(e,t,n){var i,r,o,s;(n||(null===(i=t.selectorText)||void 0===i?void 0:i.includes("dx-"))||(null===(r=t.cssRules)||void 0===r||null===(r=r[0])||void 0===r||null===(r=r.selectorText)||void 0===r?void 0:r.includes("dx-"))||(null===(o=t.name)||void 0===o?void 0:o.startsWith("dx-"))||"DXIcons"===(null===(s=t.style)||void 0===s?void 0:s.fontFamily))&&e.insertRule(t.cssText,e.cssRules.length)}function ht(e,t,n){var i;const r=null===(i=e.getBoundingClientRect)||void 0===i?void 0:i.call(e);return r&&t>=r.left&&t<r.right&&n>=r.top&&n<r.bottom}const pt={querySelectorAll:(e,t)=>e.querySelectorAll(t),elementMatches(e,t){const n=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||(t=>{const n=e.document||e.ownerDocument;if(!n)return!1;const i=this.querySelectorAll(n,t);for(let r=0;r<i.length;r++)if(i[r]===e)return!0});return n.call(e,t)},createElement(e,t){return(t=t??this._document).createElement(e)},createElementNS(e,t,n){return(n=n||this._document).createElementNS(e,t)},createTextNode(e,t){return(t=t||this._document).createTextNode(e)},createAttribute(e,t){return(t=t||this._document).createAttribute(e)},isNode:e=>!!e&&"object"===typeof e&&"nodeType"in e&&"nodeName"in e,isElementNode:e=>!!e&&1===e.nodeType,isTextNode:e=>e&&3===e.nodeType,isDocument:e=>e&&9===e.nodeType,isDocumentFragment:e=>e&&11===e.nodeType,removeElement(e){const t=e&&e.parentNode;t&&t.removeChild(e)},insertElement(e,t,n){e&&t&&e!==t&&(n?e.insertBefore(t,n):e.appendChild(t))},getAttribute:(e,t)=>e.getAttribute(t),setAttribute(e,t,n){"style"===t?e.style.cssText=n:e.setAttribute(t,n)},removeAttribute(e,t){e.removeAttribute(t)},setProperty(e,t,n){e[t]=n},setText(e,t){e&&(e.textContent=t)},setClass(e,t,n){1===e.nodeType&&t&&(n?e.classList.add(t):e.classList.remove(t))},setStyle(e,t,n){e.style[t]=n||""},_document:"undefined"===typeof document?void 0:document,getDocument(){return this._document},getActiveElement(e){return this.getRootNode(e).activeElement},getRootNode(e){var t;return(null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e))??this._document},getBody(){return this._document.body},createDocumentFragment(){return this._document.createDocumentFragment()},getDocumentElement(){return this._document.documentElement},getLocation(){return this._document.location},getSelection(){return this._document.selection},getReadyState(){return this._document.readyState},getHead(){return this._document.head},hasDocumentProperty(e){return e in this._document},listen:(e,t,n,i)=>e&&"addEventListener"in e?(e.addEventListener(t,n,i),()=>{e.removeEventListener(t,n)}):tt,elementsFromPoint(e,t,n){const i=this.getRootNode(n);return i.host?function(e,t,n){const i=function(){let e=0;const t=[];return{push(e){return t.push(e),this},shift:()=>(e++,t[e-1]),get length(){return t.length-e},get items(){return t}}}().push(n);for(;i.length;){const n=i.shift();for(let r=0;r<n.childNodes.length;r++){const o=n.childNodes[r];o.nodeType===Node.ELEMENT_NODE&&ht(o,e,t)&&"none"!==getComputedStyle(o).pointerEvents&&i.push(o)}}const r=i.items.reverse();return r.pop(),r}(e,t,i):i.elementsFromPoint(e,t)}},ft=ue(pt),mt=ft,_t=new c,gt=["pageX","pageY","screenX","screenY","clientX","clientY"];const vt=e=>{var t,n;const{originalEvent:i}=e;if(!i)return e.target;if(!Boolean(null===(t=i.target)||void 0===t?void 0:t.shadowRoot))return i.target;const r=i.path??(null===(n=i.composedPath)||void 0===n?void 0:n.call(i));return(null===r||void 0===r?void 0:r[0])??e.target},yt=function(e){let t,n=function(){return t=e.apply(this,arguments),n=function(){return t},t};return function(){return n.apply(this,arguments)}};let bt="undefined"!==typeof window;const Ct=()=>bt;let xt=Ct()?window:void 0;xt||(xt={},xt.window=xt);const St=()=>xt,wt=e=>Ct()&&e in xt,Et=e=>e<768?"xs":e<992?"sm":e<1200?"md":"lg",It=e=>(e||Et)(mt.getDocumentElement().clientWidth),kt=()=>{var e;return Ct()?null===(e=xt)||void 0===e?void 0:e.navigator:{userAgent:""}},Dt=St,Ot=Ct,Tt=St(),At="dxEmptyEventType",Pt={mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},Mt={focusin:"focus",focusout:"blur"},Rt=["blur","focus","load"],Bt=["touchmove","wheel","mousewheel","touchstart"];function Nt(e,t){return!w(e)&&"#document"!==e.nodeName&&mt.elementMatches(e,t)}const Ft=new WeakMap;let $t,Ht=0;const Lt=function(){const e={};return _t.add((t,n)=>{e[t]=n}),{getField:(t,n)=>e[t]&&e[t][n],callMethod:(t,n,i,r)=>e[t]&&e[t][n]&&e[t][n].apply(i,r)}}(),Vt=ue({on:Wt(Zt(Qt((e,t,n,i,r)=>{qt(e,t).addHandler(r,n,i)}))),one:Wt(Zt((e,t,n,i,r)=>{const o=function(){Vt.off(e,t,n,o),r.apply(this,arguments)};Vt.on(e,t,n,i,o)})),off:Wt((zt=Qt((e,t,n,i)=>{qt(e,t).removeHandler(i,n)}),function(e,t,n,i){"function"===typeof n&&(i=n,n=void 0),zt(e,t,n,i)})),trigger:Wt(Yt((e,t,n)=>{const i=t.type,r=qt(e,t.type);Lt.callMethod(i,"trigger",e,[t,n]),r.callHandlers(t,n);if(!(Lt.getField(i,"noBubble")||t.isPropagationStopped()||Rt.includes(i))){const i=[],r=function(e){const t=e.parentNode??(b(e.host)?e.host:null);t&&(i.push(t),r(t))};r(e),i.push(Tt);let o=0;for(;i[o]&&!t.isPropagationStopped();){qt(i[o],t.type).callHandlers(A(t,{currentTarget:i[o]}),n),o++}}(e.nodeType||w(e))&&(Lt.callMethod(i,"_default",e,[t,n]),function(e,t){const n=Mt[e]||e;if(function(e,t){return"click"===e&&"a"===t.localName}(e,t))return;g(t[n])&&($t=e,t[n](),$t=void 0)}(i,e))})),triggerHandler:Wt(Yt((e,t,n)=>{qt(e,t.type).callHandlers(t,n)}))});var zt;function jt(e,t){const n=e[0];if(n)if(mt.isNode(n)||w(n))t.apply(Vt,e);else{if(v(n)||!("length"in n))throw W.Error("E0025");{const i=Array.prototype.slice.call(e,0);Array.prototype.forEach.call(n,e=>{i[0]=e,jt(i,t)})}}}function Wt(e){return function(){jt(arguments,e)}}const Kt=yt(function(){let e=!1;try{const t=Object.defineProperty({},"passive",{get:()=>(e=!0,!0)});Tt.addEventListener("test",null,t)}catch(t){}return e}),Ut=(e,t)=>w(e)?Ut(e.document,t):e.contains?e.contains(t):!!(t.compareDocumentPosition(e)&t.DOCUMENT_POSITION_CONTAINS);function qt(e,t){let n=Ft.get(e);const i=(t=t||"").split("."),r=i.slice(1),o=!!i[0];t=i[0]||At,n||(n={},Ft.set(e,n)),n[t]||(n[t]={handleObjects:[],nativeHandler:null});const s=n[t];return{addHandler(n,i,a){const l=function(i,r){const o=[i],s=i.currentTarget,{relatedTarget:l}=i;let c,u;t in Pt&&(c=l&&s&&(l===s||Ut(s,l))),void 0!==r&&o.push(r),Lt.callMethod(t,"handle",e,[i,a]),c||(u=n.apply(s,o)),!1===u&&(i.preventDefault(),i.stopPropagation())},c={handler:n,wrappedHandler:function(t,n){if(!$t||t.type!==$t)if(t.data=a,t.delegateTarget=e,i){let r=t.target;for(;r&&r!==e;)Nt(r,i)&&(t.currentTarget=r,l(t,n)),r=r.parentNode}else{var r;t.currentTarget=t.delegateTarget||t.target;if(Boolean(null===(r=t.target)||void 0===r?void 0:r.shadowRoot)){const e=vt(t);t.target=e}l(t,n)}},selector:i,type:t,data:a,namespace:r.join("."),namespaces:r,guid:++Ht};s.handleObjects.push(c);let u,d=1===s.handleObjects.length&&o;var h;d&&(d=!Lt.callMethod(t,"setup",e,[a,r,n])),d&&(s.nativeHandler=(h=t,function(e,t){const n=qt(this,h);e=Vt.Event(e),n.callHandlers(e,t)}),Kt()&&Bt.includes(t)&&(u={passive:!1}),s.removeListener=mt.listen(e,Pt[t]||t,s.nativeHandler,u)),Lt.callMethod(t,"add",e,[c])},removeHandler(i,s){const a=function(t){const o=n[t];if(!o.handleObjects.length)return void delete n[t];let a;o.handleObjects=o.handleObjects.filter(n=>{const o=r.length&&!Gt(n.namespaces,r)||i&&n.handler!==i||s&&n.selector!==s;return o||(a=n.handler,Lt.callMethod(t,"remove",e,[n])),o});!o.handleObjects.length&&t!==At&&(Lt.callMethod(t,"teardown",e,[r,a]),o.nativeHandler&&o.removeListener(),delete n[t])};if(o)a(t);else for(const e in n)a(e);0===Object.keys(n).length&&Ft.delete(e)},callHandlers(e,t){let i=!1;const o=function(n){i||r.length&&!Gt(n.namespaces,r)||(n.wrappedHandler(e,t),i=e.isImmediatePropagationStopped())};s.handleObjects.forEach(o),r.length&&n[At]&&n[At].handleObjects.forEach(o)}}}function Gt(e,t){for(let n=0;n<t.length;n++)if(e.indexOf(t[n])<0)return!1;return!0}function Zt(e){return function(t,n,i,r,o){o||(o=r,r=void 0),"string"!==typeof i&&(r=i,i=void 0),o||"string"!==typeof n||(o=r||i,i=void 0,r=void 0),e(t,n,i,r,o)}}function Yt(e){return function(t,n,i){"string"===typeof n&&(n={type:n}),n.target||(n.target=t),n.currentTarget=t,n.delegateTarget||(n.delegateTarget=t),!n.type&&n.originalEvent&&(n.type=n.originalEvent.type),e(t,n instanceof Vt.Event?n:Vt.Event(n),i)}}function Qt(e){const t=function(t,n){if(n&&n.indexOf(" ")>-1){const t=Array.prototype.slice.call(arguments,0);n.split(" ").forEach(function(n){t[1]=n,e.apply(this,t)})}else e.apply(this,arguments)};return function(e,n){if("object"===typeof n){const e=Array.prototype.slice.call(arguments,0);for(const i in n)e[1]=i,e[e.length-1]=n[i],t.apply(this,e)}else t.apply(this,arguments)}}function Xt(e){if(function(e){return null==e.which&&0===e.type.indexOf("key")}(e))return null!=e.charCode?e.charCode:e.keyCode;if(function(e){return!e.which&&void 0!==e.button&&/^(?:mouse|pointer|contextmenu|drag|drop)|click/.test(e.type)}(e)){return{1:1,2:3,3:1,4:2}[e.button]}return e.which}function Jt(e){e&&(Vt.Event=e,Vt.Event.prototype=e.prototype)}function en(e,t,n){Object.defineProperty(n||Vt.Event.prototype,e,{enumerable:!0,configurable:!0,get(){return this.originalEvent&&t(this.originalEvent)},set(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})}Jt(function(e){return Vt.Event=function(t,n){if(!(this instanceof Vt.Event))return new Vt.Event(t,n);t||(t={}),"string"===typeof t&&(t={type:t}),n||(n={}),e.call(this,t,n)},Object.assign(Vt.Event.prototype,{_propagationStopped:!1,_immediatePropagationStopped:!1,_defaultPrevented:!1,isPropagationStopped(){return!!(this._propagationStopped||this.originalEvent&&this.originalEvent.propagationStopped)},stopPropagation(){this._propagationStopped=!0,this.originalEvent&&this.originalEvent.stopPropagation()},isImmediatePropagationStopped(){return this._immediatePropagationStopped},stopImmediatePropagation(){this.stopPropagation(),this._immediatePropagationStopped=!0,this.originalEvent&&this.originalEvent.stopImmediatePropagation()},isDefaultPrevented(){return!!(this._defaultPrevented||this.originalEvent&&this.originalEvent.defaultPrevented)},preventDefault(){this._defaultPrevented=!0,this.originalEvent&&this.originalEvent.preventDefault()}}),Vt.Event}(function(e,t){var n;e instanceof Vt.Event||Ct()&&e instanceof Tt.Event||(null===(n=e.view)||void 0===n?void 0:n.Event)&&e instanceof e.view.Event?(this.originalEvent=e,this.type=e.type,this.currentTarget=void 0,Object.prototype.hasOwnProperty.call(e,"isTrusted")&&(this.isTrusted=e.isTrusted),this.timeStamp=e.timeStamp||Date.now()):Object.assign(this,e),en("which",Xt,this),0===e.type.indexOf("touch")&&(delete t.pageX,delete t.pageY),Object.assign(this,t),this.guid=++Ht})),["target","relatedTarget","delegateTarget","altKey","bubbles","cancelable","changedTouches","ctrlKey","detail","eventPhase","metaKey","shiftKey","view","char","code","charCode","key","keyCode","button","buttons","offsetX","offsetY","pointerId","pointerType","targetTouches","toElement","touches"].forEach(e=>en(e,t=>t[e])),function(e){gt.forEach(t=>{e(t,e=>function(e,t){if(t[e]&&!t.touches||!t.touches)return t[e];const n=t.touches.length?t.touches:t.changedTouches;return n.length?n[0][e]:void 0}(t,e))},this)}(en);const tn=s(),nn=s();Vt.set=function(e){tn.fire(),Vt.inject(e),Jt(e.Event),nn.fire()},Vt.subscribeGlobal=function(){jt(arguments,Zt(function(){const e=arguments;Vt.on.apply(this,e),tn.add(function(){const t=Array.prototype.slice.call(e,0);t.splice(3,1),Vt.off.apply(this,t)}),nn.add(function(){Vt.on.apply(this,e)})}))},Vt.forcePassiveFalseEventNames=Bt,Vt.passiveEventHandlersSupported=Kt;const rn=Vt,on=new WeakMap;let sn;const an=new c;let ln=function(){},cn=function(){};function un(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return sn.data.apply(this,t)}function dn(e,t){return sn.removeData.call(this,e,t)}function hn(e,t){if(!mt.isElementNode(e))return;const n=e.getElementsByTagName("*");sn.cleanData(n),t&&sn.cleanData([e])}!function(e){an.fire(e),sn=e;const{cleanData:t}=sn;sn.cleanData=function(e){ln(e);const n=t.call(this,e);return cn(e),n}}({data:function(){const e=arguments.length<=0?void 0:arguments[0],t=arguments.length<=1?void 0:arguments[1],n=arguments.length<=2?void 0:arguments[2];if(!e)return;let i=on.get(e);return i||(i={},on.set(e,i)),void 0===t?i:2===arguments.length?i[t]:(i[t]=n,n)},removeData:function(e,t){if(e)if(void 0===t)on.delete(e);else{const n=on.get(e);n&&delete n[t]}},cleanData:function(e){for(let t=0;t<e.length;t++)rn.off(e[t]),on.delete(e[t])}});const pn=/<([a-z][^/\0>\x20\t\r\n\f]+)/i,fn={default:{tagsCount:0,startTags:"",endTags:""},thead:{tagsCount:1,startTags:"<table>",endTags:"</table>"},td:{tagsCount:3,startTags:"<table><tbody><tr>",endTags:"</tr></tbody></table>"},col:{tagsCount:2,startTags:"<table><colgroup>",endTags:"</colgroup></table>"},tr:{tagsCount:2,startTags:"<table><tbody>",endTags:"</tbody></table>"}};fn.tbody=fn.colgroup=fn.caption=fn.tfoot=fn.thead,fn.th=fn.td;const mn=function(e){if("string"!==typeof e)return null;let t=mt.createDocumentFragment().appendChild(mt.createElement("div"));const n=pn.exec(e),i=null===n||void 0===n?void 0:n[1].toLowerCase(),r=fn[i]||fn.default;t.innerHTML=r.startTags+e+r.endTags;for(let o=0;o<r.tagsCount;o++)t=t.lastChild;return[...t.childNodes]},_n=St(),gn=["auto","none","inherit","initial"],vn=function(e,t){let n=0;return t.forEach(function(t){n+=parseFloat(e[t])||0}),n},yn=function(e,t){const n="width"===e?"Left":"Top",i="width"===e?"Right":"Bottom";return{padding:vn(t,[`padding${n}`,`padding${i}`]),border:vn(t,[`border${n}Width`,`border${i}Width`]),margin:vn(t,[`margin${n}`,`margin${i}`])}},bn=function(e){var t;const n=(null===e||void 0===e||null===(t=e.ownerDocument)||void 0===t?void 0:t.defaultView)||_n;return n.getComputedStyle&&n.getComputedStyle(e)},Cn=function(e,t,n,i){var r;return(null===t||void 0===t?void 0:t[n])||(null===(r=e.style)||void 0===r?void 0:r[n])||i},xn={content:0,padding:1,border:2,margin:3,"content-box":0,"border-box":2},Sn={width:["left","right"],height:["top","bottom"]};function wn(e,t,n,i){const r=(e,t,n)=>parseFloat(Cn(e,t,n,"0"))||0,o="border"===n?"-width":"";return r(e,i,`${n}-${Sn[t][0]}${o}`)+r(e,i,`${n}-${Sn[t][1]}${o}`)}const En=function(e,t,n){return e.indexOf("px")>0?e=parseInt(e.replace("px","")):e.indexOf("%")>0?e=parseInt(e.replace("%",""))*function(e){return w(e)?e.innerHeight:e.offsetHeight}(t)/100:isNaN(e)?e.indexOf("vh")>0?e=_n.innerHeight/100*parseInt(e.replace("vh","")):n&&e.indexOf("em")>0&&(e=parseFloat(e.replace("em",""))*parseFloat(_n.getComputedStyle(n).fontSize)):e=parseInt(e),e},In=function(e,t,n){if(!e)return null;if(gn.includes(e))return t?null:e;if(v(e)&&(e=En(e,n)),y(e))return Math.max(0,e+t);return`calc(${e}${t<0?" - ":" "}${Math.abs(t)}px)`},kn=function(e,t){if(!e)return 0;const n=yn("height",_n.getComputedStyle(e));return n.padding+n.border+(t?n.margin:0)},Dn=function(e){if(e){var t;const n=null===(t=e.getBoundingClientRect)||void 0===t?void 0:t.call(e);if(null!==n&&void 0!==n&&n.height)return n.height}return 0},On=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fn("width",...t)},Tn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fn("width",...t)},An=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fn("height",...t)},Pn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fn("height",...t)},Mn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fn("outerWidth",...t)},Rn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fn("outerHeight",...t)},Bn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fn("innerWidth",...t)},Nn=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Fn("innerHeight",...t)};function Fn(e,t,n){return 2===arguments.length?Un(t,e):Un(t,e,n)}const $n=e=>On(e),Hn=(e,t)=>Tn(e,t),Ln=e=>An(e),Vn=(e,t)=>Pn(e,t),zn=(e,t)=>Mn(e,t||!1),jn=(e,t)=>Rn(e,t||!1),Wn=e=>Bn(e),Kn=e=>Nn(e),Un=function(e,t,n){const i=t.toLowerCase().indexOf("width")>=0?"Width":"Height",r=i.toLowerCase(),o=0===t.indexOf("outer"),s=0===t.indexOf("inner"),a=2===arguments.length||"boolean"===typeof n;if(E(e)){if(e.length>1&&!a){for(let i=0;i<e.length;i++)Un(e[i],t,n);return}e=e[0]}if(e){if(w(e))return o?e[`inner${i}`]:mt.getDocumentElement()[`client${i}`];if(mt.isDocument(e)){const e=mt.getDocumentElement(),t=mt.getBody();return Math.max(t[`scroll${i}`],t[`offset${i}`],e[`scroll${i}`],e[`offset${i}`],e[`client${i}`])}if(a){let t="content";return o&&(t=n?"margin":"border"),s&&(t="padding"),function(e,t,n){const i="width"===t?"offsetWidth":"offsetHeight",r=bn(e);let o=Cn(e,r,t);""!==o&&"auto"!==o||(o=e[i]),o=parseFloat(o)||0;const s=Cn(e,r,"boxSizing","content-box");let a=xn[n||s],l=xn[s];if(void 0===a||void 0===l)throw new Error;if(l===a)return o;const c=Math.sign(a-l);let u=!1,d=!1,h=!1,p=!1;1===c&&(a+=1,l+=1);for(let f=l;f!==a;f+=c)switch(f){case xn.content:break;case xn.padding:u=c*wn(e,t,"padding",r);break;case xn.border:d=c*wn(e,t,"border",r);break;case xn.margin:h=c*wn(e,t,"margin",r)}if(u||d){const n=(!1===u?c*wn(e,t,"padding",r):u)+(!1===d?c*wn(e,t,"border",r):d);p=c*Math.max(0,Math.floor(e[i]-o-c*n))||0}return o+h+u+d+p}(e,r,t)}if(y(n)){const t=bn(e),i=yn(r,t),a="border-box"===t.boxSizing;n=Number(n),o?n-=a?0:i.border+i.padding:s?n+=a?i.border:-i.padding:a&&(n+=i.border+i.padding)}return n+=y(n)?"px":"",mt.setStyle(e,r,n),null}},qn=e=>w(e)?e:e.defaultView,Gn=e=>{if(!e.getClientRects().length)return{top:0,left:0};const t=e.getBoundingClientRect(),n=qn(e.ownerDocument),i=e.ownerDocument.documentElement;return{top:t.top+n.pageYOffset-i.clientTop,left:t.left+n.pageXOffset-i.clientLeft}},Zn=function(e){return void 0===e||null===e?"":String(e)},Yn=function(e){return Zn(e).charAt(0).toUpperCase()+e.substr(1)},Qn=function(e){return Zn(e).replace(/([a-z\d])([A-Z])/g,"$1 $2").split(/[\s_-]+/)},Xn=function(e){return a(Qn(e),function(e){return e.toLowerCase()}).join("-")},Jn=function(e,t){return a(Qn(e),function(e,n){return e=e.toLowerCase(),(t||n>0)&&(e=Yn(e)),e}).join("")},ei=function(e){return Yn(Xn(e).replace(/-/g," "))},ti=function(e){return a(Qn(e),function(e){return Yn(e.toLowerCase())}).join(" ")},ni=["0","1","2","3","4","5","6","7","8","9"],ii=function(e){const t=[];let n,i,r=!1,o=!1;for(n=0;n<e.length;n++)i=e.charAt(n),o=i===i.toUpperCase()&&"-"!==i&&")"!==i&&"/"!==i||i in ni,"_"===i||"."===i?(i=" ",o=!0):0===n?(i=i.toUpperCase(),o=!0):!r&&o&&t.length>0&&t.push(" "),t.push(i),r=o;return t.join("")},ri=["","Webkit","Moz","O","Ms"],oi={"":"",Webkit:"-webkit-",Moz:"-moz-",O:"-o-",ms:"-ms-"},si=yt(function(){return mt.createElement("dx").style}),ai=function(e){if(e in si())return e;const t=e;e=e.charAt(0).toUpperCase()+e.substr(1);for(let n=1;n<ri.length;n++){const t=ri[n].toLowerCase()+e;if(t in si())return t}return t},li=function(e){return function(e,t){let n;e=Jn(e,!0);for(let i=0,r=ri.length;i<r;i++){const r=ri[i],o=r+e;if(n=t(Jn(o),r),void 0===n&&(n=t(o,r)),void 0!==n)break}return n||""}(e,function(e,t){if(e in si())return oi[t]})},ci=["fillOpacity","columnCount","flexGrow","flexShrink","fontWeight","lineHeight","opacity","zIndex","zoom"],ui=function(e,t){return y(t)&&!ci.includes(e)&&(t+="px"),t},di=function(e,t){if(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]){[].slice.call(e.style).forEach(t=>{e.style.removeProperty(t)})}t.split(";").forEach(t=>{const n=t.split(":").map(e=>e.trim());if(2===n.length){const[t,i]=n;e.style[t]=i}})},hi=St();let pi;const fi=function(e,t){return e?"string"===typeof e?"body"===e?(this[0]=t?t.body:mt.getBody(),this.length=1,this):(t=t||mt.getDocument(),e.startsWith("<")?(this[0]=mt.createElement(e.slice(1,-1),t),this.length=1,this):([].push.apply(this,mt.querySelectorAll(t,e)),this)):mt.isNode(e)||w(e)?(this[0]=e,this.length=1,this):Array.isArray(e)?([].push.apply(this,e),this):pi(e.toArray?e.toArray():[e]):(this.length=0,this)};pi=function(e,t){return new fi(e,t)},pi.fn={dxRenderer:!0},fi.prototype=pi.fn;const mi=function(e,t){for(let n=0;n<this.length;n++){const i=pi(this[n]);i[e].apply(i,t)}return this},_i=function(e,t,n){void 0!==n&&null!==n&&!1!==n?mt.setAttribute(e,t,n):mt.removeAttribute(e,t)};fi.prototype.show=function(){return this.toggle(!0)},fi.prototype.hide=function(){return this.toggle(!1)},fi.prototype.toggle=function(e){return this[0]&&this.toggleClass("dx-state-invisible",!e),this},fi.prototype.attr=function(e,t){if(this.length>1&&arguments.length>1)return mi.call(this,"attr",arguments);if(!this[0])return b(e)||void 0!==t?this:void 0;if(!this[0].getAttribute)return this.prop(e,t);if("string"===typeof e&&1===arguments.length){const t=this[0].getAttribute(e);return null==t?void 0:t}if(x(e))for(const n in e)this.attr(n,e[n]);else _i(this[0],e,t);return this},fi.prototype.removeAttr=function(e){return this.each(function(t,n){mt.removeAttribute(n,e)}),this},fi.prototype.prop=function(e,t){if(!this[0])return this;if("string"===typeof e&&1===arguments.length)return this[0][e];if(x(e))for(const n in e)this.prop(n,e[n]);else mt.setProperty(this[0],e,t);return this},fi.prototype.addClass=function(e){return this.toggleClass(e,!0)},fi.prototype.removeClass=function(e){return this.toggleClass(e,!1)},fi.prototype.hasClass=function(e){if(!this[0]||void 0===this[0].className)return!1;const t=e.split(" ");for(let n=0;n<t.length;n++)if(this[0].classList){if(this[0].classList.contains(t[n]))return!0}else{if(((v(this[0].className)?this[0].className:mt.getAttribute(this[0],"class"))||"").split(" ").indexOf(t[n])>=0)return!0}return!1},fi.prototype.toggleClass=function(e,t){if(this.length>1)return mi.call(this,"toggleClass",arguments);if(!this[0]||!e)return this;t=void 0===t?!this.hasClass(e):t;const n=e.split(" ");for(let i=0;i<n.length;i++)mt.setClass(this[0],n[i],t);return this},fi.prototype.html=function(e){return arguments.length?(this.empty(),"string"===typeof e&&!function(e){const t=pn.exec(e);return t&&t[1]in fn}(e)||"number"===typeof e?(this[0].innerHTML=e,this):this.append(mn(e))):this[0].innerHTML};const gi=function(e,t){if(this[0]&&e){"string"===typeof e?e=mn(e):e.nodeType?e=[e]:y(e)&&(e=[mt.createTextNode(e)]);for(let n=0;n<e.length;n++){const i=e[n];let r=this[0];"TABLE"===r.tagName&&"TR"===i.tagName&&r.tBodies&&r.tBodies.length&&(r=r.tBodies[0]),mt.insertElement(r,i.nodeType?i:i[0],t)}}},vi=function(e,t){if(this[0]&&this[0].style&&!(null===t||"number"===typeof t&&isNaN(t))){e=ai(e);for(let n=0;n<this.length;n++)this[n].style[e]=ui(e,t)}};fi.prototype.css=function(e,t){if(v(e)){if(2!==arguments.length){if(!this[0])return;e=ai(e);const t=hi.getComputedStyle(this[0])[e]||this[0].style[e];return y(t)?t.toString():t}vi.call(this,e,t)}else if(x(e))for(const n in e)vi.call(this,n,e[n]);return this},fi.prototype.prepend=function(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.prepend(arguments[e]);return this}return gi.apply(this,[e,this[0].firstChild]),this},fi.prototype.append=function(e){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.append(arguments[e]);return this}return gi.apply(this,[e]),this},fi.prototype.prependTo=function(e){if(this.length>1){for(let t=this.length-1;t>=0;t--)pi(this[t]).prependTo(e);return this}return(e=pi(e))[0]&&mt.insertElement(e[0],this[0],e[0].firstChild),this},fi.prototype.appendTo=function(e){return this.length>1?mi.call(this,"appendTo",arguments):(mt.insertElement(pi(e)[0],this[0]),this)},fi.prototype.insertBefore=function(e){return e&&e[0]&&mt.insertElement(e[0].parentNode,this[0],e[0]),this},fi.prototype.insertAfter=function(e){return e&&e[0]&&mt.insertElement(e[0].parentNode,this[0],e[0].nextSibling),this},fi.prototype.before=function(e){return this[0]&&mt.insertElement(this[0].parentNode,e[0],this[0]),this},fi.prototype.after=function(e){return this[0]&&mt.insertElement(this[0].parentNode,e[0],this[0].nextSibling),this},fi.prototype.wrap=function(e){if(this[0]){const t=pi(e);t.insertBefore(this),t.append(this)}return this},fi.prototype.wrapInner=function(e){const t=this.contents();return t.length?t.wrap(e):this.append(e),this},fi.prototype.replaceWith=function(e){if(e&&e[0])return e.is(this)?this:(e.insertBefore(this),this.remove(),e)},fi.prototype.remove=function(){return this.length>1?mi.call(this,"remove",arguments):(hn(this[0],!0),mt.removeElement(this[0]),this)},fi.prototype.detach=function(){return this.length>1?mi.call(this,"detach",arguments):(mt.removeElement(this[0]),this)},fi.prototype.empty=function(){return this.length>1?mi.call(this,"empty",arguments):(hn(this[0]),mt.setText(this[0],""),this)},fi.prototype.clone=function(){const e=[];for(let t=0;t<this.length;t++)e.push(this[t].cloneNode(!0));return pi(e)},fi.prototype.text=function(e){if(!arguments.length){let e="";for(let t=0;t<this.length;t++)e+=this[t]&&this[t].textContent||"";return e}const t=g(e)?e():e;return hn(this[0],!1),mt.setText(this[0],_(t)?t:""),this},fi.prototype.val=function(e){return 1===arguments.length?this.prop("value",_(e)?e:""):this.prop("value")},fi.prototype.contents=function(){if(!this[0])return pi();const e=[];return e.push.apply(e,this[0].childNodes),pi(e)},fi.prototype.find=function(e){const t=pi();if(!e)return t;const n=[];let i;if("string"===typeof e)for(e=e.trim(),i=0;i<this.length;i++){const t=this[i];if(mt.isElementNode(t)){const i=t.getAttribute("id");let r=i||"dx-query-children";i||_i(t,"id",r),r=`[id='${r}'] `;const o=r+e.replace(/([^\\])(,)/g,`$1, ${r}`);n.push.apply(n,mt.querySelectorAll(t,o)),_i(t,"id",i)}else(mt.isDocument(t)||mt.isDocumentFragment(t))&&n.push.apply(n,mt.querySelectorAll(t,e))}else for(i=0;i<this.length;i++)e=mt.isNode(e)?e:e[0],this[i]!==e&&this[i].contains(e)&&n.push(e);return t.add(n)};const yi=function(e,t){var n,i;return!(t=t.host??t).nodeType||!!(t.offsetWidth||t.offsetHeight||null!==(n=(i=t).getClientRects)&&void 0!==n&&n.call(i).length)};fi.prototype.filter=function(e){if(!e)return pi();if(":visible"===e)return this.filter(yi);if(":hidden"===e)return this.filter(function(e,t){return!yi(0,t)});const t=[];for(let n=0;n<this.length;n++){const i=this[n];if(mt.isElementNode(i)&&"string"===h(e))mt.elementMatches(i,e)&&t.push(i);else if(mt.isNode(e)||w(e))e===i&&t.push(i);else if(g(e))e.call(i,n,i)&&t.push(i);else for(let n=0;n<e.length;n++)e[n]===i&&t.push(i)}return pi(t)},fi.prototype.not=function(e){const t=[],n=this.filter(e).toArray();for(let i=0;i<this.length;i++)-1===n.indexOf(this[i])&&t.push(this[i]);return pi(t)},fi.prototype.is=function(e){return!!this.filter(e).length},fi.prototype.children=function(e){let t=[];for(let n=0;n<this.length;n++){const e=this[n]?this[n].childNodes:[];for(let n=0;n<e.length;n++)mt.isElementNode(e[n])&&t.push(e[n])}return t=pi(t),e?t.filter(e):t},fi.prototype.siblings=function(){const e=this[0];if(!e||!e.parentNode)return pi();const t=[],n=e.parentNode.childNodes||[];for(let i=0;i<n.length;i++){const r=n[i];mt.isElementNode(r)&&r!==e&&t.push(r)}return pi(t)},fi.prototype.each=function(e){for(let t=0;t<this.length&&!1!==e.call(this[t],t,this[t]);t++);},fi.prototype.index=function(e){return e?(e=pi(e),this.toArray().indexOf(e[0])):this.parent().children().index(this)},fi.prototype.get=function(e){return this[e<0?this.length+e:e]},fi.prototype.eq=function(e){return e=e<0?this.length+e:e,pi(this[e])},fi.prototype.first=function(){return this.eq(0)},fi.prototype.last=function(){return this.eq(-1)},fi.prototype.select=function(){for(let e=0;e<this.length;e+=1)this[e].select&&this[e].select();return this},fi.prototype.parent=function(e){if(!this[0])return pi();const t=pi(this[0].parentNode);return!e||t.is(e)?t:pi()},fi.prototype.parents=function(e){const t=[];let n=this.parent();for(;n&&n[0]&&!mt.isDocument(n[0]);)mt.isElementNode(n[0])&&(e&&!n.is(e)||t.push(n.get(0))),n=n.parent();return pi(t)},fi.prototype.closest=function(e){if(this.is(e))return this;let t=this.parent();for(;t&&t.length;){if(t.is(e))return t;t=t.parent()}return pi()},fi.prototype.next=function(e){if(!this[0])return pi();let t=pi(this[0].nextSibling);if(!arguments.length)return t;for(;t&&t.length;){if(t.is(e))return t;t=t.next()}return pi()},fi.prototype.prev=function(){return this[0]?pi(this[0].previousSibling):pi()},fi.prototype.add=function(e){const t=pi(e),n=this.toArray();for(let i=0;i<t.length;i++){const e=t[i];-1===n.indexOf(e)&&n.push(e)}return pi(n)};const bi=[];fi.prototype.splice=function(){return pi(bi.splice.apply(this,arguments))},fi.prototype.slice=function(){return pi(bi.slice.apply(this,arguments))},fi.prototype.toArray=function(){return bi.slice.call(this)},fi.prototype.offset=function(){if(this[0])return Gn(this[0])},fi.prototype.offsetParent=function(){if(!this[0])return pi();let e=pi(this[0].offsetParent);for(;e[0]&&"static"===e.css("position");)e=pi(e[0].offsetParent);return e=e[0]?e:pi(mt.getDocumentElement()),e},fi.prototype.position=function(){if(!this[0])return;let e;const t=parseFloat(this.css("marginTop")),n=parseFloat(this.css("marginLeft"));if("fixed"===this.css("position"))return e=this[0].getBoundingClientRect(),{top:e.top-t,left:e.left-n};e=this.offset();const i=this.offsetParent();let r={top:0,left:0};return"HTML"!==i[0].nodeName&&(r=i.offset()),r={top:r.top+parseFloat(i.css("borderTopWidth")),left:r.left+parseFloat(i.css("borderLeftWidth"))},{top:e.top-r.top-t,left:e.left-r.left-n}},[{name:"scrollLeft",offsetProp:"pageXOffset",scrollWindow:function(e,t){e.scrollTo(t,e.pageYOffset)}},{name:"scrollTop",offsetProp:"pageYOffset",scrollWindow:function(e,t){e.scrollTo(e.pageXOffset,t)}}].forEach(function(e){const t=e.name;fi.prototype[t]=function(n){if(!this[0])return;const i=qn(this[0]);return void 0===n?i?i[e.offsetProp]:this[0][t]:(i?e.scrollWindow(i,n):this[0][t]=n,this)}}),fi.prototype.data=function(e,t){if(this[0])return arguments.length<2?un.call(pi,this[0],e):(un.call(pi,this[0],e,t),this)},fi.prototype.removeData=function(e){return this[0]&&dn(this[0],e),this};const Ci=function(){return pi.apply(this,arguments)};Object.defineProperty(Ci,"fn",{enumerable:!0,configurable:!0,get:function(){return pi.fn},set:function(e){pi.fn=e}});const xi=function(){return Ci}(),Si=xi,wi=function(e,t){const n={};"noBubble"in t&&(n.noBubble=t.noBubble),"bindType"in t&&(n.bindType=t.bindType),"delegateType"in t&&(n.delegateType=t.delegateType),l(["setup","teardown","add","remove","trigger","handle","_default","dispose"],(e,i)=>{t[i]&&(n[i]=function(){const e=[].slice.call(arguments);return e.unshift(this),t[i].apply(t,e)})}),_t.fire(e,n)};wi.callbacks=_t;const Ei=wi,Ii="dxremove",ki="dxRemoveEvent";!function(e){ln=e}(e=>{e=[].slice.call(e);for(let t=0;t<e.length;t++){const n=Si(e[t]);n.prop(ki)&&(n[0][ki]=null,rn.triggerHandler(n,"dxremove"))}}),Ei("dxremove",{noBubble:!0,setup(e){Si(e).prop(ki,!0)}});const Di=new WeakMap;let Oi=0;const Ti=function(e,t){if(!_(t)){if(!Di.has(e)){const t="dxPrivateComponent"+Oi++;return Di.set(e,t),t}return Di.get(e)}Di.set(e,t)};function Ai(e,t,n){const i=un(e.get(0)),r=Ti(t.constructor);i[r]=t,n&&rn.one(e,Ii,function(){n.call(t)}),i.dxComponents||(i.dxComponents=[]),i.dxComponents.push(r)}function Pi(e,t){const n=Ti(t);return un(e.get(0),n)}u.add(function(e,t){Si.fn[e]=function(n){let i;if("string"===typeof n){const r=n,o=[].slice.call(arguments).slice(1);this.each(function(){const n=t.getInstance(this);if(!n)throw W.Error("E0009",e);const s=n[r].apply(n,o);void 0===i&&(i=s)})}else this.each(function(){const e=t.getInstance(this);e?e.option(n):new t(this,n)}),i=this;return i}});const Mi=function(e,t,n){n?t[e]=n:n=t,Ti(n,e),u.fire(e,n)},Ri=function(e,t){if(!function(e){const t=Si(e);return t.is(":visible")&&"hidden"!==t.css("visibility")&&"hidden"!==t.parents().css("visibility")}(e))return!1;const n=e.nodeName.toLowerCase(),i=!isNaN(t),r=e.disabled,o=/^(input|select|textarea|button|object|iframe)$/.test(n),s="a"===n;let a;const l=e.isContentEditable;return a=o||l?!r:s&&e.href||i,a};const Bi=function(e,t){return Ri(t,Si(t).attr("tabIndex"))},Ni=function(e,t){const n=Si(t).attr("tabIndex");return(isNaN(n)||n>=0)&&Ri(t,n)},Fi=function(e){const t=Si(e).get(0);return mt.getActiveElement(t)===t},$i=(e,t)=>{if(!t)throw W.Error("E0017");return Array.isArray(e)?e.map(e=>$i(e,t)).join(" "):-1!==e.indexOf(" ")?$i(e.split(/\s+/g),t):`${e}.${t}`},Hi={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space",f:"F",a:"A","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift"},Li={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",70:"F",65:"A",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},Vi={dx:/^dx/i,mouse:/(mouse|wheel)/i,touch:/^touch/i,keyboard:/^key/i,pointer:/^(ms)?pointer/i},zi=e=>{let{type:t}=e,n="other";return l(Vi,function(e){if(this.test(t))return n=e,!1}),n};let ji=e=>e;const Wi=e=>ji((e=>rn.Event(e,e))(e),e),Ki=e=>"dx"===zi(e),Ui=e=>"touch"===zi(e),qi=e=>"pointer"===zi(e),Gi=e=>(e=>"mouse"===zi(e))(e)||(qi(e)||Ki(e))&&"mouse"===e.pointerType,Zi=e=>e&&"dxmousewheel"===e.type,Yi=e=>Ui(e)||(qi(e)||Ki(e))&&"touch"===e.pointerType,Qi=e=>{let{pageX:t,pageY:n,timeStamp:i}=e;return{x:t,y:n,time:i}},Xi=(e,t)=>({x:t.x-e.x,y:t.y-e.y,time:t.time-e.time||1});let Ji=!1;const er=e=>{if(Ji)return!0;const{target:t}=e,n=Si(t),i=(null===t||void 0===t?void 0:t.isContentEditable)||(null===t||void 0===t?void 0:t.hasAttribute("contenteditable")),r=n.is("input, textarea, select")||i;if(Zi(e)){if(n.is("textarea")&&n.hasClass("dx-texteditor-input")||i)return!1;return n.is("input[type='number'], textarea, select")&&n.is(":focus")}return Gi(e)?r||e.which>1:Yi(e)?r&&Fi(n):void 0},tr=(e,t)=>{const n=Wi(e);return t&&A(n,t),n},nr=e=>{const{originalEvent:t,delegateTarget:n}=e,i=tr(t,e);return rn.trigger(n||i.target,i),i},ir=e=>{let{key:t,which:n}=e;const i=Hi[null===t||void 0===t?void 0:t.toLowerCase()]||t,r=Li[n];return r&&i===t?r:!i&&n?String.fromCharCode(n):i},rr=e=>{let{key:t,which:n}=e;return t||String.fromCharCode(n)},or=$i,sr=e=>{let{ctrlKey:t,metaKey:n}=e;return t||n},ar="dxmousewheel",lr={setup(e){const t=Si(e);rn.on(t,or("wheel","dxWheel"),lr._wheelHandler.bind(lr))},teardown(e){rn.off(e,".dxWheel")},_wheelHandler(e){const{deltaMode:t,deltaY:n,deltaX:i,deltaZ:r}=e.originalEvent;nr({type:ar,originalEvent:e,delta:this._normalizeDelta(n,t),deltaX:i,deltaY:n,deltaZ:r,deltaMode:t,pointerType:"mouse"}),e.stopPropagation()},_normalizeDelta(e){return 0===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)?-e:-30*e}};Ei(ar,lr);const cr={"en-150":"en-001","en-AG":"en-001","en-AI":"en-001","en-AU":"en-001","en-BB":"en-001","en-BM":"en-001","en-BS":"en-001","en-BW":"en-001","en-BZ":"en-001","en-CC":"en-001","en-CK":"en-001","en-CM":"en-001","en-CX":"en-001","en-CY":"en-001","en-DG":"en-001","en-DM":"en-001","en-ER":"en-001","en-FJ":"en-001","en-FK":"en-001","en-FM":"en-001","en-GB":"en-001","en-GD":"en-001","en-GG":"en-001","en-GH":"en-001","en-GI":"en-001","en-GM":"en-001","en-GY":"en-001","en-HK":"en-001","en-IE":"en-001","en-IL":"en-001","en-IM":"en-001","en-IN":"en-001","en-IO":"en-001","en-JE":"en-001","en-JM":"en-001","en-KE":"en-001","en-KI":"en-001","en-KN":"en-001","en-KY":"en-001","en-LC":"en-001","en-LR":"en-001","en-LS":"en-001","en-MG":"en-001","en-MO":"en-001","en-MS":"en-001","en-MT":"en-001","en-MU":"en-001","en-MV":"en-001","en-MW":"en-001","en-MY":"en-001","en-NA":"en-001","en-NF":"en-001","en-NG":"en-001","en-NR":"en-001","en-NU":"en-001","en-NZ":"en-001","en-PG":"en-001","en-PK":"en-001","en-PN":"en-001","en-PW":"en-001","en-RW":"en-001","en-SB":"en-001","en-SC":"en-001","en-SD":"en-001","en-SG":"en-001","en-SH":"en-001","en-SL":"en-001","en-SS":"en-001","en-SX":"en-001","en-SZ":"en-001","en-TC":"en-001","en-TK":"en-001","en-TO":"en-001","en-TT":"en-001","en-TV":"en-001","en-TZ":"en-001","en-UG":"en-001","en-VC":"en-001","en-VG":"en-001","en-VU":"en-001","en-WS":"en-001","en-ZA":"en-001","en-ZM":"en-001","en-ZW":"en-001","en-AT":"en-150","en-BE":"en-150","en-CH":"en-150","en-DE":"en-150","en-DK":"en-150","en-FI":"en-150","en-NL":"en-150","en-SE":"en-150","en-SI":"en-150","hi-Latn":"en-IN","es-AR":"es-419","es-BO":"es-419","es-BR":"es-419","es-BZ":"es-419","es-CL":"es-419","es-CO":"es-419","es-CR":"es-419","es-CU":"es-419","es-DO":"es-419","es-EC":"es-419","es-GT":"es-419","es-HN":"es-419","es-MX":"es-419","es-NI":"es-419","es-PA":"es-419","es-PE":"es-419","es-PR":"es-419","es-PY":"es-419","es-SV":"es-419","es-US":"es-419","es-UY":"es-419","es-VE":"es-419",nb:"no",nn:"no","pt-AO":"pt-PT","pt-CH":"pt-PT","pt-CV":"pt-PT","pt-FR":"pt-PT","pt-GQ":"pt-PT","pt-GW":"pt-PT","pt-LU":"pt-PT","pt-MO":"pt-PT","pt-MZ":"pt-PT","pt-ST":"pt-PT","pt-TL":"pt-PT","az-Arab":"und","az-Cyrl":"und","bal-Latn":"und","blt-Latn":"und","bm-Nkoo":"und","bs-Cyrl":"und","byn-Latn":"und","cu-Glag":"und","dje-Arab":"und","dyo-Arab":"und","en-Dsrt":"und","en-Shaw":"und","ff-Adlm":"und","ff-Arab":"und","ha-Arab":"und","iu-Latn":"und","kk-Arab":"und","ks-Deva":"und","ku-Arab":"und","ky-Arab":"und","ky-Latn":"und","ml-Arab":"und","mn-Mong":"und","mni-Mtei":"und","ms-Arab":"und","pa-Arab":"und","sat-Deva":"und","sd-Deva":"und","sd-Khoj":"und","sd-Sind":"und","shi-Latn":"und","so-Arab":"und","sr-Latn":"und","sw-Arab":"und","tg-Arab":"und","ug-Cyrl":"und","uz-Arab":"und","uz-Cyrl":"und","vai-Latn":"und","wo-Arab":"und","yo-Arab":"und","yue-Hans":"und","zh-Hant":"und","zh-Hant-MO":"zh-Hant-HK"},ur=(e,t)=>{const n=e[t];return n?"root"!==n&&n:t.substr(0,t.lastIndexOf("-"))},dr=ue({locale:(()=>{let e="en";return t=>{if(!t)return e;e=t}})(),getValueByClosestLocale:function(e){let t,n=this.locale(),i=e(n);for(;!i&&!t;)n=ur(cr,n),n?i=e(n):t=!0;return void 0===i&&"en"!==n?e("en"):i}}),hr=A(!0,{},{en:{Yes:"Yes",No:"No",Cancel:"Cancel",CheckState:"Check state",Close:"Close",Clear:"Clear",Done:"Done",Loading:"Loading...",Select:"Select...",Search:"Search",Back:"Back",OK:"OK",Today:"Today",Yesterday:"Yesterday","dxCollectionWidget-noDataText":"No data to display","dxDropDownEditor-selectLabel":"Select","validation-required":"Required","validation-required-formatted":"{0} is required","validation-numeric":"Value must be a number","validation-numeric-formatted":"{0} must be a number","validation-range":"Value is out of range","validation-range-formatted":"{0} is out of range","validation-stringLength":"The length of the value is not correct","validation-stringLength-formatted":"The length of {0} is not correct","validation-custom":"Value is invalid","validation-custom-formatted":"{0} is invalid","validation-async":"Value is invalid","validation-async-formatted":"{0} is invalid","validation-compare":"Values do not match","validation-compare-formatted":"{0} does not match","validation-pattern":"Value does not match pattern","validation-pattern-formatted":"{0} does not match pattern","validation-email":"Email is invalid","validation-email-formatted":"{0} is invalid","validation-mask":"Value is invalid","dxLookup-searchPlaceholder":"Minimum character number: {0}","dxList-pullingDownText":"Pull down to refresh...","dxList-pulledDownText":"Release to refresh...","dxList-refreshingText":"Refreshing...","dxList-pageLoadingText":"Loading...","dxList-nextButtonText":"More","dxList-selectAll":"Select All","dxList-listAriaLabel":"Items","dxList-listAriaLabel-deletable":"Deletable items","dxListEditDecorator-delete":"Delete","dxListEditDecorator-more":"More","dxList-selectAll-indeterminate":"Half-checked","dxList-selectAll-checked":"Checked","dxList-selectAll-notChecked":"Not checked","dxList-ariaRoleDescription":"List","dxList-listAriaLabel-itemContent":"List item content","dxScrollView-pullingDownText":"Pull down to refresh...","dxScrollView-pulledDownText":"Release to refresh...","dxScrollView-refreshingText":"Refreshing...","dxScrollView-reachBottomText":"Loading...","dxDateBox-simulatedDataPickerTitleTime":"Select time","dxDateBox-simulatedDataPickerTitleDate":"Select date","dxDateBox-simulatedDataPickerTitleDateTime":"Select date and time","dxDateBox-validation-datetime":"Value must be a date or time","dxDateRangeBox-invalidStartDateMessage":"Start value must be a date","dxDateRangeBox-invalidEndDateMessage":"End value must be a date","dxDateRangeBox-startDateOutOfRangeMessage":"Start date is out of range","dxDateRangeBox-endDateOutOfRangeMessage":"End date is out of range","dxDateRangeBox-startDateLabel":"Start Date","dxDateRangeBox-endDateLabel":"End Date","dxFileUploader-selectFile":"Select a file","dxFileUploader-dropFile":"or Drop a file here","dxFileUploader-bytes":"bytes","dxFileUploader-kb":"KB","dxFileUploader-Mb":"MB","dxFileUploader-Gb":"GB","dxFileUploader-upload":"Upload","dxFileUploader-uploaded":"Uploaded","dxFileUploader-readyToUpload":"Ready to upload","dxFileUploader-uploadAbortedMessage":"Upload cancelled","dxFileUploader-uploadFailedMessage":"Upload failed","dxFileUploader-invalidFileExtension":"File type is not allowed","dxFileUploader-invalidMaxFileSize":"File is too large","dxFileUploader-invalidMinFileSize":"File is too small","dxRangeSlider-ariaFrom":"From","dxRangeSlider-ariaTill":"Till","dxSwitch-switchedOnText":"ON","dxSwitch-switchedOffText":"OFF","dxForm-optionalMark":"optional","dxForm-requiredMessage":"{0} is required","dxNumberBox-invalidValueMessage":"Value must be a number","dxNumberBox-noDataText":"No data","dxDataGrid-emptyHeaderWithColumnChooserText":"Use {0} to display columns","dxDataGrid-emptyHeaderWithGroupPanelText":"Drag a column from the group panel here","dxDataGrid-emptyHeaderWithColumnChooserAndGroupPanelText":"Use {0} or drag a column from the group panel","dxDataGrid-emptyHeaderColumnChooserText":"column chooser","dxDataGrid-columnChooserTitle":"Column Chooser","dxDataGrid-columnChooserEmptyText":"Drag a column here to hide it","dxDataGrid-groupContinuesMessage":"Continues on the next page","dxDataGrid-groupContinuedMessage":"Continued from the previous page","dxDataGrid-groupHeaderText":"Group by This Column","dxDataGrid-ungroupHeaderText":"Ungroup","dxDataGrid-ungroupAllText":"Ungroup All","dxDataGrid-editingEditRow":"Edit","dxDataGrid-editingSaveRowChanges":"Save","dxDataGrid-editingCancelRowChanges":"Cancel","dxDataGrid-editingDeleteRow":"Delete","dxDataGrid-editingUndeleteRow":"Undelete","dxDataGrid-editingConfirmDeleteMessage":"Are you sure you want to delete this record?","dxDataGrid-validationCancelChanges":"Cancel changes","dxDataGrid-groupPanelEmptyText":"Drag a column header here to group by that column","dxDataGrid-noDataText":"No data","dxDataGrid-searchPanelPlaceholder":"Search...","dxDataGrid-filterRowShowAllText":"(All)","dxDataGrid-filterRowResetOperationText":"Reset","dxDataGrid-filterRowOperationEquals":"Equals","dxDataGrid-filterRowOperationNotEquals":"Does not equal","dxDataGrid-filterRowOperationLess":"Less than","dxDataGrid-filterRowOperationLessOrEquals":"Less than or equal to","dxDataGrid-filterRowOperationGreater":"Greater than","dxDataGrid-filterRowOperationGreaterOrEquals":"Greater than or equal to","dxDataGrid-filterRowOperationStartsWith":"Starts with","dxDataGrid-filterRowOperationContains":"Contains","dxDataGrid-filterRowOperationNotContains":"Does not contain","dxDataGrid-filterRowOperationEndsWith":"Ends with","dxDataGrid-filterRowOperationBetween":"Between","dxDataGrid-filterRowOperationBetweenStartText":"Start","dxDataGrid-filterRowOperationBetweenEndText":"End","dxDataGrid-ariaSearchBox":"Search box","dxDataGrid-applyFilterText":"Apply filter","dxDataGrid-trueText":"true","dxDataGrid-falseText":"false","dxDataGrid-sortingAscendingText":"Sort Ascending","dxDataGrid-sortingDescendingText":"Sort Descending","dxDataGrid-sortingClearText":"Clear Sorting","dxDataGrid-ariaNotSortedColumn":"Not sorted column","dxDataGrid-ariaSortedAscendingColumn":"Column sorted in ascending order","dxDataGrid-ariaSortedDescendingColumn":"Column sorted in descending order","dxDataGrid-ariaSortIndex":"Sort index {0}","dxDataGrid-editingSaveAllChanges":"Save changes","dxDataGrid-editingCancelAllChanges":"Discard changes","dxDataGrid-editingAddRow":"Add a row","dxDataGrid-summaryMin":"Min: {0}","dxDataGrid-summaryMinOtherColumn":"Min of {1} is {0}","dxDataGrid-summaryMax":"Max: {0}","dxDataGrid-summaryMaxOtherColumn":"Max of {1} is {0}","dxDataGrid-summaryAvg":"Avg: {0}","dxDataGrid-summaryAvgOtherColumn":"Avg of {1} is {0}","dxDataGrid-summarySum":"Sum: {0}","dxDataGrid-summarySumOtherColumn":"Sum of {1} is {0}","dxDataGrid-summaryCount":"Count: {0}","dxDataGrid-columnFixingFix":"Set Fixed Position","dxDataGrid-columnFixingUnfix":"Unfix","dxDataGrid-columnFixingLeftPosition":"Left","dxDataGrid-columnFixingRightPosition":"Right","dxDataGrid-columnFixingStickyPosition":"Sticky","dxDataGrid-exportTo":"Export","dxDataGrid-exportToExcel":"Export to Excel file","dxDataGrid-exporting":"Exporting...","dxDataGrid-excelFormat":"Excel file","dxDataGrid-selectedRows":"Selected rows","dxDataGrid-exportSelectedRows":"Export selected rows to {0}","dxDataGrid-exportAll":"Export all data to {0}","dxDataGrid-headerFilterLabel":"Filter options","dxDataGrid-headerFilterIndicatorLabel":"Show filter options for column '{0}'","dxDataGrid-headerFilterEmptyValue":"(Blanks)","dxDataGrid-headerFilterOK":"OK","dxDataGrid-headerFilterCancel":"Cancel","dxDataGrid-ariaAdaptiveCollapse":"Hide additional data","dxDataGrid-ariaAdaptiveExpand":"Display additional data","dxDataGrid-ariaColumn":"Column","dxDataGrid-ariaColumnHeader":"Column header","dxDataGrid-ariaValue":"Value","dxDataGrid-ariaError":"Error","dxDataGrid-ariaRevertButton":"Press Escape to discard the changes","dxDataGrid-ariaFilterCell":"Filter cell","dxDataGrid-ariaCollapse":"Collapse","dxDataGrid-ariaModifiedCell":"Modified","dxDataGrid-ariaDeletedCell":"Deleted","dxDataGrid-ariaEditableCell":"Editable","dxDataGrid-ariaExpand":"Expand","dxDataGrid-ariaCollapsedRow":"Collapsed row","dxDataGrid-ariaExpandedRow":"Expanded row","dxDataGrid-ariaDataGrid":"Data grid with {0} rows and {1} columns","dxDataGrid-ariaSearchInGrid":"Search in the data grid","dxDataGrid-ariaSelectAll":"Select all","dxDataGrid-ariaSelectRow":"Select row","dxDataGrid-ariaToolbar":"Data grid toolbar","dxDataGrid-ariaEditForm":"Edit form","dxDataGrid-filterBuilderPopupTitle":"Filter Builder","dxDataGrid-filterPanelCreateFilter":"Create Filter","dxDataGrid-filterPanelClearFilter":"Clear","dxDataGrid-filterPanelFilterEnabledHint":"Enable the filter","dxDataGrid-masterDetail":"Cell with details","dxTreeList-ariaTreeList":"Tree list with {0} rows and {1} columns","dxTreeList-ariaExpandableInstruction":"Press Ctrl + right arrow to expand the focused node and Ctrl + left arrow to collapse it","dxTreeList-ariaSearchInGrid":"Search in the tree list","dxTreeList-ariaToolbar":"Tree list toolbar","dxTreeList-editingAddRowToNode":"Add","dxPager-infoText":"Page {0} of {1} ({2} items)","dxPager-pagesCountText":"of","dxPager-pageSize":"Items per page: {0}","dxPager-pageSizesAllText":"All","dxPager-page":"Page {0}","dxPager-prevPage":"Previous page","dxPager-nextPage":"Next page","dxPager-ariaLabel":"Page navigation","dxPager-ariaPageSize":"Page size","dxPager-ariaPageNumber":"Page number","dxPagination-infoText":"Page {0} of {1} ({2} items)","dxPagination-pagesCountText":"of","dxPagination-pageSize":"Items per page: {0}","dxPagination-pageSizesAllText":"All","dxPagination-page":"Page {0}","dxPagination-prevPage":"Previous page","dxPagination-nextPage":"Next page","dxPagination-ariaLabel":"Page navigation","dxPagination-ariaPageSize":"Page size","dxPagination-ariaPageNumber":"Page number","dxPivotGrid-grandTotal":"Grand Total","dxPivotGrid-total":"{0} Total","dxPivotGrid-fieldChooserTitle":"Field Chooser","dxPivotGrid-showFieldChooser":"Show Field Chooser","dxPivotGrid-expandAll":"Expand All","dxPivotGrid-collapseAll":"Collapse All","dxPivotGrid-sortColumnBySummary":'Sort "{0}" by This Column',"dxPivotGrid-sortRowBySummary":'Sort "{0}" by This Row',"dxPivotGrid-removeAllSorting":"Remove All Sorting","dxPivotGrid-dataNotAvailable":"N/A","dxPivotGrid-rowFields":"Row Fields","dxPivotGrid-columnFields":"Column Fields","dxPivotGrid-dataFields":"Data Fields","dxPivotGrid-filterFields":"Filter Fields","dxPivotGrid-allFields":"All Fields","dxPivotGrid-columnFieldArea":"Drop Column Fields Here","dxPivotGrid-dataFieldArea":"Drop Data Fields Here","dxPivotGrid-rowFieldArea":"Drop Row Fields Here","dxPivotGrid-filterFieldArea":"Drop Filter Fields Here","dxScheduler-ariaLabel":"Scheduler. {0} view","dxScheduler-appointmentAriaLabel-group":"Group: {0}","dxScheduler-appointmentAriaLabel-recurring":"Recurring appointment","dxScheduler-appointmentListAriaLabel":"Appointment list","dxScheduler-editorLabelTitle":"Subject","dxScheduler-editorLabelStartDate":"Start Date","dxScheduler-editorLabelEndDate":"End Date","dxScheduler-editorLabelDescription":"Description","dxScheduler-editorLabelRecurrence":"Repeat","dxScheduler-navigationPrevious":"Previous page","dxScheduler-navigationNext":"Next page","dxScheduler-openAppointment":"Open appointment","dxScheduler-recurrenceNever":"Never","dxScheduler-recurrenceMinutely":"Every minute","dxScheduler-recurrenceHourly":"Hourly","dxScheduler-recurrenceDaily":"Daily","dxScheduler-recurrenceWeekly":"Weekly","dxScheduler-recurrenceMonthly":"Monthly","dxScheduler-recurrenceYearly":"Yearly","dxScheduler-recurrenceRepeatEvery":"Repeat Every","dxScheduler-recurrenceRepeatOn":"Repeat On","dxScheduler-recurrenceEnd":"End repeat","dxScheduler-recurrenceAfter":"After","dxScheduler-recurrenceOn":"On","dxScheduler-recurrenceRepeatMinutely":"minute(s)","dxScheduler-recurrenceRepeatHourly":"hour(s)","dxScheduler-recurrenceRepeatDaily":"day(s)","dxScheduler-recurrenceRepeatWeekly":"week(s)","dxScheduler-recurrenceRepeatMonthly":"month(s)","dxScheduler-recurrenceRepeatYearly":"year(s)","dxScheduler-switcherDay":"Day","dxScheduler-switcherWeek":"Week","dxScheduler-switcherWorkWeek":"Work Week","dxScheduler-switcherMonth":"Month","dxScheduler-switcherAgenda":"Agenda","dxScheduler-switcherTimelineDay":"Timeline Day","dxScheduler-switcherTimelineWeek":"Timeline Week","dxScheduler-switcherTimelineWorkWeek":"Timeline Work Week","dxScheduler-switcherTimelineMonth":"Timeline Month","dxScheduler-recurrenceRepeatOnDate":"on date","dxScheduler-recurrenceRepeatCount":"occurrence(s)","dxScheduler-allDay":"All day","dxScheduler-ariaEditForm":"Edit form","dxScheduler-confirmRecurrenceEditTitle":"Edit Recurring Appointment","dxScheduler-confirmRecurrenceDeleteTitle":"Delete Recurring Appointment","dxScheduler-confirmRecurrenceEditMessage":"Do you want to edit only this appointment or the whole series?","dxScheduler-confirmRecurrenceDeleteMessage":"Do you want to delete only this appointment or the whole series?","dxScheduler-confirmRecurrenceEditSeries":"Edit series","dxScheduler-confirmRecurrenceDeleteSeries":"Delete series","dxScheduler-confirmRecurrenceEditOccurrence":"Edit appointment","dxScheduler-confirmRecurrenceDeleteOccurrence":"Delete appointment","dxScheduler-noTimezoneTitle":"No timezone","dxScheduler-moreAppointments":"{0} more","dxCalendar-currentDay":"Today","dxCalendar-currentMonth":"Current month","dxCalendar-currentYear":"Current year","dxCalendar-currentYearRange":"Current year range","dxCalendar-todayButtonText":"Today","dxCalendar-ariaWidgetName":"Calendar","dxCalendar-previousMonthButtonLabel":"Previous month","dxCalendar-previousYearButtonLabel":"Previous year","dxCalendar-previousDecadeButtonLabel":"Previous decade","dxCalendar-previousCenturyButtonLabel":"Previous century","dxCalendar-nextMonthButtonLabel":"Next month","dxCalendar-nextYearButtonLabel":"Next year","dxCalendar-nextDecadeButtonLabel":"Next decade","dxCalendar-nextCenturyButtonLabel":"Next century","dxCalendar-captionMonthLabel":"Month selection","dxCalendar-captionYearLabel":"Year selection","dxCalendar-captionDecadeLabel":"Decade selection","dxCalendar-captionCenturyLabel":"Century selection","dxCalendar-selectedDate":"The selected date is {0}","dxCalendar-selectedDates":"The selected dates","dxCalendar-selectedDateRange":"The selected date range is from {0} to {1}","dxCalendar-selectedMultipleDateRange":"from {0} to {1}","dxCalendar-selectedDateRangeCount":"There are {0} selected date ranges","dxCalendar-readOnlyLabel":"Read-only calendar","dxAvatar-defaultImageAlt":"Avatar","dxChat-elementAriaLabel":"Chat","dxChat-textareaPlaceholder":"Type a message","dxChat-sendButtonAriaLabel":"Send","dxChat-defaultUserName":"Unknown User","dxChat-messageListAriaLabel":"Message list","dxChat-alertListAriaLabel":"Error list","dxChat-emptyListMessage":"There are no messages in this chat","dxChat-emptyListPrompt":"Write your first message","dxChat-typingMessageSingleUser":"{0} is typing...","dxChat-typingMessageTwoUsers":"{0} and {1} are typing...","dxChat-typingMessageThreeUsers":"{0}, {1} and {2} are typing...","dxChat-typingMessageMultipleUsers":"{0} and others are typing...","dxColorView-ariaRed":"Red","dxColorView-ariaGreen":"Green","dxColorView-ariaBlue":"Blue","dxColorView-ariaAlpha":"Transparency","dxColorView-ariaHex":"Color code","dxTagBox-selected":"{0} selected","dxTagBox-allSelected":"All selected ({0})","dxTagBox-moreSelected":"{0} more","dxTagBox-tagRoleDescription":"Tag. Press the delete button to remove this tag","dxTagBox-ariaRoleDescription":"Tag box","vizExport-printingButtonText":"Print","vizExport-titleMenuText":"Exporting/Printing","vizExport-exportButtonText":"{0} file","dxFilterBuilder-and":"And","dxFilterBuilder-or":"Or","dxFilterBuilder-notAnd":"Not And","dxFilterBuilder-notOr":"Not Or","dxFilterBuilder-addCondition":"Add Condition","dxFilterBuilder-addGroup":"Add Group","dxFilterBuilder-enterValueText":"<enter a value>","dxFilterBuilder-filterOperationEquals":"Equals","dxFilterBuilder-filterOperationNotEquals":"Does not equal","dxFilterBuilder-filterOperationLess":"Is less than","dxFilterBuilder-filterOperationLessOrEquals":"Is less than or equal to","dxFilterBuilder-filterOperationGreater":"Is greater than","dxFilterBuilder-filterOperationGreaterOrEquals":"Is greater than or equal to","dxFilterBuilder-filterOperationStartsWith":"Starts with","dxFilterBuilder-filterOperationContains":"Contains","dxFilterBuilder-filterOperationNotContains":"Does not contain","dxFilterBuilder-filterOperationEndsWith":"Ends with","dxFilterBuilder-filterOperationIsBlank":"Is blank","dxFilterBuilder-filterOperationIsNotBlank":"Is not blank","dxFilterBuilder-filterOperationBetween":"Is between","dxFilterBuilder-filterOperationAnyOf":"Is any of","dxFilterBuilder-filterOperationNoneOf":"Is none of","dxFilterBuilder-filterAriaRootElement":"Filter builder","dxFilterBuilder-filterAriaGroupLevel":"Level {0}","dxFilterBuilder-filterAriaGroupItem":"Group item","dxFilterBuilder-filterAriaOperationButton":"Operation","dxFilterBuilder-filterAriaAddButton":"Add","dxFilterBuilder-filterAriaRemoveButton":"Remove {0}","dxFilterBuilder-filterAriaItemField":"Item field","dxFilterBuilder-filterAriaItemOperation":"Item operation","dxFilterBuilder-filterAriaItemValue":"Item value","dxHtmlEditor-dialogColorCaption":"Change Font Color","dxHtmlEditor-dialogBackgroundCaption":"Change Background Color","dxHtmlEditor-dialogLinkCaption":"Add Link","dxHtmlEditor-dialogLinkUrlField":"URL","dxHtmlEditor-dialogLinkTextField":"Text","dxHtmlEditor-dialogLinkTargetField":"Open link in new window","dxHtmlEditor-dialogImageCaption":"Add Image","dxHtmlEditor-dialogImageUrlField":"URL","dxHtmlEditor-dialogImageAltField":"Alternate text","dxHtmlEditor-dialogImageWidthField":"Width (px)","dxHtmlEditor-dialogImageHeightField":"Height (px)","dxHtmlEditor-dialogInsertTableRowsField":"Rows","dxHtmlEditor-dialogInsertTableColumnsField":"Columns","dxHtmlEditor-dialogInsertTableCaption":"Insert Table","dxHtmlEditor-dialogUpdateImageCaption":"Update Image","dxHtmlEditor-dialogImageUpdateButton":"Update","dxHtmlEditor-dialogImageAddButton":"Add","dxHtmlEditor-dialogImageSpecifyUrl":"From the Web","dxHtmlEditor-dialogImageSelectFile":"From This Device","dxHtmlEditor-dialogImageKeepAspectRatio":"Keep Aspect Ratio","dxHtmlEditor-dialogImageEncodeToBase64":"Encode to Base64","dxHtmlEditor-heading":"Heading","dxHtmlEditor-normalText":"Normal text","dxHtmlEditor-background":"Background Color","dxHtmlEditor-bold":"Bold","dxHtmlEditor-color":"Font Color","dxHtmlEditor-font":"Font","dxHtmlEditor-italic":"Italic","dxHtmlEditor-link":"Add Link","dxHtmlEditor-image":"Add Image","dxHtmlEditor-size":"Size","dxHtmlEditor-strike":"Strikethrough","dxHtmlEditor-subscript":"Subscript","dxHtmlEditor-superscript":"Superscript","dxHtmlEditor-underline":"Underline","dxHtmlEditor-blockquote":"Blockquote","dxHtmlEditor-header":"Header","dxHtmlEditor-increaseIndent":"Increase Indent","dxHtmlEditor-decreaseIndent":"Decrease Indent","dxHtmlEditor-orderedList":"Ordered List","dxHtmlEditor-bulletList":"Bullet List","dxHtmlEditor-alignLeft":"Align Left","dxHtmlEditor-alignCenter":"Align Center","dxHtmlEditor-alignRight":"Align Right","dxHtmlEditor-alignJustify":"Align Justify","dxHtmlEditor-codeBlock":"Code Block","dxHtmlEditor-variable":"Add Variable","dxHtmlEditor-undo":"Undo","dxHtmlEditor-redo":"Redo","dxHtmlEditor-clear":"Clear Formatting","dxHtmlEditor-insertTable":"Insert Table","dxHtmlEditor-insertHeaderRow":"Insert Header Row","dxHtmlEditor-insertRowAbove":"Insert Row Above","dxHtmlEditor-insertRowBelow":"Insert Row Below","dxHtmlEditor-insertColumnLeft":"Insert Column Left","dxHtmlEditor-insertColumnRight":"Insert Column Right","dxHtmlEditor-deleteColumn":"Delete Column","dxHtmlEditor-deleteRow":"Delete Row","dxHtmlEditor-deleteTable":"Delete Table","dxHtmlEditor-cellProperties":"Cell Properties","dxHtmlEditor-tableProperties":"Table Properties","dxHtmlEditor-insert":"Insert","dxHtmlEditor-delete":"Delete","dxHtmlEditor-border":"Border","dxHtmlEditor-style":"Style","dxHtmlEditor-width":"Width","dxHtmlEditor-height":"Height","dxHtmlEditor-borderColor":"Color","dxHtmlEditor-borderWidth":"Border Width","dxHtmlEditor-tableBackground":"Background","dxHtmlEditor-dimensions":"Dimensions","dxHtmlEditor-alignment":"Alignment","dxHtmlEditor-horizontal":"Horizontal","dxHtmlEditor-vertical":"Vertical","dxHtmlEditor-paddingVertical":"Vertical Padding","dxHtmlEditor-paddingHorizontal":"Horizontal Padding","dxHtmlEditor-pixels":"Pixels","dxHtmlEditor-list":"List","dxHtmlEditor-ordered":"Ordered","dxHtmlEditor-bullet":"Bullet","dxHtmlEditor-align":"Align","dxHtmlEditor-center":"Center","dxHtmlEditor-left":"Left","dxHtmlEditor-right":"Right","dxHtmlEditor-indent":"Indent","dxHtmlEditor-justify":"Justify","dxHtmlEditor-borderStyleNone":"none","dxHtmlEditor-borderStyleHidden":"hidden","dxHtmlEditor-borderStyleDotted":"dotted","dxHtmlEditor-borderStyleDashed":"dashed","dxHtmlEditor-borderStyleSolid":"solid","dxHtmlEditor-borderStyleDouble":"double","dxHtmlEditor-borderStyleGroove":"groove","dxHtmlEditor-borderStyleRidge":"ridge","dxHtmlEditor-borderStyleInset":"inset","dxHtmlEditor-borderStyleOutset":"outset","dxFileManager-newDirectoryName":"Untitled directory","dxFileManager-rootDirectoryName":"Files","dxFileManager-errorNoAccess":"Access Denied. Operation could not be completed.","dxFileManager-errorDirectoryExistsFormat":"Directory '{0}' already exists.","dxFileManager-errorFileExistsFormat":"File '{0}' already exists.","dxFileManager-errorFileNotFoundFormat":"File '{0}' not found.","dxFileManager-errorDirectoryNotFoundFormat":"Directory '{0}' not found.","dxFileManager-errorWrongFileExtension":"File extension is not allowed.","dxFileManager-errorMaxFileSizeExceeded":"File size exceeds the maximum allowed size.","dxFileManager-errorInvalidSymbols":"This name contains invalid characters.","dxFileManager-errorDefault":"Unspecified error.","dxFileManager-errorDirectoryOpenFailed":"The directory cannot be opened","dxFileManager-commandCreate":"New directory","dxFileManager-commandRename":"Rename","dxFileManager-commandMove":"Move to","dxFileManager-commandCopy":"Copy to","dxFileManager-commandDelete":"Delete","dxFileManager-commandDownload":"Download","dxFileManager-commandUpload":"Upload files","dxFileManager-commandRefresh":"Refresh","dxFileManager-commandThumbnails":"Thumbnails View","dxFileManager-commandDetails":"Details View","dxFileManager-commandClearSelection":"Clear selection","dxFileManager-commandShowNavPane":"Toggle navigation pane","dxFileManager-dialogDirectoryChooserMoveTitle":"Move to","dxFileManager-dialogDirectoryChooserMoveButtonText":"Move","dxFileManager-dialogDirectoryChooserCopyTitle":"Copy to","dxFileManager-dialogDirectoryChooserCopyButtonText":"Copy","dxFileManager-dialogRenameItemTitle":"Rename","dxFileManager-dialogRenameItemButtonText":"Save","dxFileManager-dialogCreateDirectoryTitle":"New directory","dxFileManager-dialogCreateDirectoryButtonText":"Create","dxFileManager-dialogDeleteItemTitle":"Delete","dxFileManager-dialogDeleteItemButtonText":"Delete","dxFileManager-dialogDeleteItemSingleItemConfirmation":"Are you sure you want to delete {0}?","dxFileManager-dialogDeleteItemMultipleItemsConfirmation":"Are you sure you want to delete {0} items?","dxFileManager-dialogButtonCancel":"Cancel","dxFileManager-editingCreateSingleItemProcessingMessage":"Creating a directory inside {0}","dxFileManager-editingCreateSingleItemSuccessMessage":"Created a directory inside {0}","dxFileManager-editingCreateSingleItemErrorMessage":"Directory was not created","dxFileManager-editingCreateCommonErrorMessage":"Directory was not created","dxFileManager-editingRenameSingleItemProcessingMessage":"Renaming an item inside {0}","dxFileManager-editingRenameSingleItemSuccessMessage":"Renamed an item inside {0}","dxFileManager-editingRenameSingleItemErrorMessage":"Item was not renamed","dxFileManager-editingRenameCommonErrorMessage":"Item was not renamed","dxFileManager-editingDeleteSingleItemProcessingMessage":"Deleting an item from {0}","dxFileManager-editingDeleteMultipleItemsProcessingMessage":"Deleting {0} items from {1}","dxFileManager-editingDeleteSingleItemSuccessMessage":"Deleted an item from {0}","dxFileManager-editingDeleteMultipleItemsSuccessMessage":"Deleted {0} items from {1}","dxFileManager-editingDeleteSingleItemErrorMessage":"Item was not deleted","dxFileManager-editingDeleteMultipleItemsErrorMessage":"{0} items were not deleted","dxFileManager-editingDeleteCommonErrorMessage":"Some items were not deleted","dxFileManager-editingMoveSingleItemProcessingMessage":"Moving an item to {0}","dxFileManager-editingMoveMultipleItemsProcessingMessage":"Moving {0} items to {1}","dxFileManager-editingMoveSingleItemSuccessMessage":"Moved an item to {0}","dxFileManager-editingMoveMultipleItemsSuccessMessage":"Moved {0} items to {1}","dxFileManager-editingMoveSingleItemErrorMessage":"Item was not moved","dxFileManager-editingMoveMultipleItemsErrorMessage":"{0} items were not moved","dxFileManager-editingMoveCommonErrorMessage":"Some items were not moved","dxFileManager-editingCopySingleItemProcessingMessage":"Copying an item to {0}","dxFileManager-editingCopyMultipleItemsProcessingMessage":"Copying {0} items to {1}","dxFileManager-editingCopySingleItemSuccessMessage":"Copied an item to {0}","dxFileManager-editingCopyMultipleItemsSuccessMessage":"Copied {0} items to {1}","dxFileManager-editingCopySingleItemErrorMessage":"Item was not copied","dxFileManager-editingCopyMultipleItemsErrorMessage":"{0} items were not copied","dxFileManager-editingCopyCommonErrorMessage":"Some items were not copied","dxFileManager-editingUploadSingleItemProcessingMessage":"Uploading an item to {0}","dxFileManager-editingUploadMultipleItemsProcessingMessage":"Uploading {0} items to {1}","dxFileManager-editingUploadSingleItemSuccessMessage":"Uploaded an item to {0}","dxFileManager-editingUploadMultipleItemsSuccessMessage":"Uploaded {0} items to {1}","dxFileManager-editingUploadSingleItemErrorMessage":"Item was not uploaded","dxFileManager-editingUploadMultipleItemsErrorMessage":"{0} items were not uploaded","dxFileManager-editingUploadCanceledMessage":"Canceled","dxFileManager-editingDownloadSingleItemErrorMessage":"Item was not downloaded","dxFileManager-editingDownloadMultipleItemsErrorMessage":"{0} items were not downloaded","dxFileManager-listDetailsColumnCaptionName":"Name","dxFileManager-listDetailsColumnCaptionDateModified":"Date Modified","dxFileManager-listDetailsColumnCaptionFileSize":"File Size","dxFileManager-listThumbnailsTooltipTextSize":"Size","dxFileManager-listThumbnailsTooltipTextDateModified":"Date Modified","dxFileManager-notificationProgressPanelTitle":"Progress","dxFileManager-notificationProgressPanelEmptyListText":"No operations","dxFileManager-notificationProgressPanelOperationCanceled":"Canceled","dxDiagram-categoryGeneral":"General","dxDiagram-categoryFlowchart":"Flowchart","dxDiagram-categoryOrgChart":"Org Chart","dxDiagram-categoryContainers":"Containers","dxDiagram-categoryCustom":"Custom","dxDiagram-commandExportToSvg":"Export to SVG","dxDiagram-commandExportToPng":"Export to PNG","dxDiagram-commandExportToJpg":"Export to JPEG","dxDiagram-commandUndo":"Undo","dxDiagram-commandRedo":"Redo","dxDiagram-commandFontName":"Font Name","dxDiagram-commandFontSize":"Font Size","dxDiagram-commandBold":"Bold","dxDiagram-commandItalic":"Italic","dxDiagram-commandUnderline":"Underline","dxDiagram-commandTextColor":"Font Color","dxDiagram-commandLineColor":"Line Color","dxDiagram-commandLineWidth":"Line Width","dxDiagram-commandLineStyle":"Line Style","dxDiagram-commandLineStyleSolid":"Solid","dxDiagram-commandLineStyleDotted":"Dotted","dxDiagram-commandLineStyleDashed":"Dashed","dxDiagram-commandFillColor":"Fill Color","dxDiagram-commandAlignLeft":"Align Left","dxDiagram-commandAlignCenter":"Align Center","dxDiagram-commandAlignRight":"Align Right","dxDiagram-commandConnectorLineType":"Connector Line Type","dxDiagram-commandConnectorLineStraight":"Straight","dxDiagram-commandConnectorLineOrthogonal":"Orthogonal","dxDiagram-commandConnectorLineStart":"Connector Line Start","dxDiagram-commandConnectorLineEnd":"Connector Line End","dxDiagram-commandConnectorLineNone":"None","dxDiagram-commandConnectorLineArrow":"Arrow","dxDiagram-commandFullscreen":"Full Screen","dxDiagram-commandUnits":"Units","dxDiagram-commandPageSize":"Page Size","dxDiagram-commandPageOrientation":"Page Orientation","dxDiagram-commandPageOrientationLandscape":"Landscape","dxDiagram-commandPageOrientationPortrait":"Portrait","dxDiagram-commandPageColor":"Page Color","dxDiagram-commandShowGrid":"Show Grid","dxDiagram-commandSnapToGrid":"Snap to Grid","dxDiagram-commandGridSize":"Grid Size","dxDiagram-commandZoomLevel":"Zoom Level","dxDiagram-commandAutoZoom":"Auto Zoom","dxDiagram-commandFitToContent":"Fit to Content","dxDiagram-commandFitToWidth":"Fit to Width","dxDiagram-commandAutoZoomByContent":"Auto Zoom by Content","dxDiagram-commandAutoZoomByWidth":"Auto Zoom by Width","dxDiagram-commandSimpleView":"Simple View","dxDiagram-commandCut":"Cut","dxDiagram-commandCopy":"Copy","dxDiagram-commandPaste":"Paste","dxDiagram-commandSelectAll":"Select All","dxDiagram-commandDelete":"Delete","dxDiagram-commandBringToFront":"Bring to Front","dxDiagram-commandSendToBack":"Send to Back","dxDiagram-commandLock":"Lock","dxDiagram-commandUnlock":"Unlock","dxDiagram-commandInsertShapeImage":"Insert Image...","dxDiagram-commandEditShapeImage":"Change Image...","dxDiagram-commandDeleteShapeImage":"Delete Image","dxDiagram-commandLayoutLeftToRight":"Left-to-right","dxDiagram-commandLayoutRightToLeft":"Right-to-left","dxDiagram-commandLayoutTopToBottom":"Top-to-bottom","dxDiagram-commandLayoutBottomToTop":"Bottom-to-top","dxDiagram-unitIn":"in","dxDiagram-unitCm":"cm","dxDiagram-unitPx":"px","dxDiagram-dialogButtonOK":"OK","dxDiagram-dialogButtonCancel":"Cancel","dxDiagram-dialogInsertShapeImageTitle":"Insert Image","dxDiagram-dialogEditShapeImageTitle":"Change Image","dxDiagram-dialogEditShapeImageSelectButton":"Select image","dxDiagram-dialogEditShapeImageLabelText":"or drop a file here","dxDiagram-uiExport":"Export","dxDiagram-uiProperties":"Properties","dxDiagram-uiSettings":"Settings","dxDiagram-uiShowToolbox":"Show Toolbox","dxDiagram-uiSearch":"Search","dxDiagram-uiStyle":"Style","dxDiagram-uiLayout":"Layout","dxDiagram-uiLayoutTree":"Tree","dxDiagram-uiLayoutLayered":"Layered","dxDiagram-uiDiagram":"Diagram","dxDiagram-uiText":"Text","dxDiagram-uiObject":"Object","dxDiagram-uiConnector":"Connector","dxDiagram-uiPage":"Page","dxDiagram-shapeText":"Text","dxDiagram-shapeRectangle":"Rectangle","dxDiagram-shapeEllipse":"Ellipse","dxDiagram-shapeCross":"Cross","dxDiagram-shapeTriangle":"Triangle","dxDiagram-shapeDiamond":"Diamond","dxDiagram-shapeHeart":"Heart","dxDiagram-shapePentagon":"Pentagon","dxDiagram-shapeHexagon":"Hexagon","dxDiagram-shapeOctagon":"Octagon","dxDiagram-shapeStar":"Star","dxDiagram-shapeArrowLeft":"Left Arrow","dxDiagram-shapeArrowUp":"Up Arrow","dxDiagram-shapeArrowRight":"Right Arrow","dxDiagram-shapeArrowDown":"Down Arrow","dxDiagram-shapeArrowUpDown":"Up Down Arrow","dxDiagram-shapeArrowLeftRight":"Left Right Arrow","dxDiagram-shapeProcess":"Process","dxDiagram-shapeDecision":"Decision","dxDiagram-shapeTerminator":"Terminator","dxDiagram-shapePredefinedProcess":"Predefined Process","dxDiagram-shapeDocument":"Document","dxDiagram-shapeMultipleDocuments":"Multiple Documents","dxDiagram-shapeManualInput":"Manual Input","dxDiagram-shapePreparation":"Preparation","dxDiagram-shapeData":"Data","dxDiagram-shapeDatabase":"Database","dxDiagram-shapeHardDisk":"Hard Disk","dxDiagram-shapeInternalStorage":"Internal Storage","dxDiagram-shapePaperTape":"Paper Tape","dxDiagram-shapeManualOperation":"Manual Operation","dxDiagram-shapeDelay":"Delay","dxDiagram-shapeStoredData":"Stored Data","dxDiagram-shapeDisplay":"Display","dxDiagram-shapeMerge":"Merge","dxDiagram-shapeConnector":"Connector","dxDiagram-shapeOr":"Or","dxDiagram-shapeSummingJunction":"Summing Junction","dxDiagram-shapeContainerDefaultText":"Container","dxDiagram-shapeVerticalContainer":"Vertical Container","dxDiagram-shapeHorizontalContainer":"Horizontal Container","dxDiagram-shapeCardDefaultText":"Person's Name","dxDiagram-shapeCardWithImageOnLeft":"Card with Image on the Left","dxDiagram-shapeCardWithImageOnTop":"Card with Image on the Top","dxDiagram-shapeCardWithImageOnRight":"Card with Image on the Right","dxGantt-dialogTitle":"Title","dxGantt-dialogStartTitle":"Start","dxGantt-dialogEndTitle":"End","dxGantt-dialogProgressTitle":"Progress","dxGantt-dialogResourcesTitle":"Resources","dxGantt-dialogResourceManagerTitle":"Resource Manager","dxGantt-dialogTaskDetailsTitle":"Task Details","dxGantt-dialogEditResourceListHint":"Edit Resource List","dxGantt-dialogEditNoResources":"No resources","dxGantt-dialogButtonAdd":"Add","dxGantt-contextMenuNewTask":"New Task","dxGantt-contextMenuNewSubtask":"New Subtask","dxGantt-contextMenuDeleteTask":"Delete Task","dxGantt-contextMenuDeleteDependency":"Delete Dependency","dxGantt-dialogTaskDeleteConfirmation":"Deleting a task also deletes all its dependencies and subtasks. Are you sure you want to delete this task?","dxGantt-dialogDependencyDeleteConfirmation":"Are you sure you want to delete the dependency from the task?","dxGantt-dialogResourcesDeleteConfirmation":"Deleting a resource also deletes it from tasks to which this resource is assigned. Are you sure you want to delete these resources? Resources: {0}","dxGantt-dialogConstraintCriticalViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationMessage":"The task you are attempting to move is linked to a second task by a dependency relation. How would you like to proceed?","dxGantt-dialogCancelOperationMessage":"Cancel the operation","dxGantt-dialogDeleteDependencyMessage":"Delete the dependency","dxGantt-dialogMoveTaskAndKeepDependencyMessage":"Move the task and keep the dependency","dxGantt-dialogConstraintCriticalViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. This change would conflict with dependency rules. How would you like to proceed?","dxGantt-dialogConstraintViolationSeveralTasksMessage":"The task you are attempting to move is linked to another tasks by dependency relations. How would you like to proceed?","dxGantt-dialogDeleteDependenciesMessage":"Delete the dependency relations","dxGantt-dialogMoveTaskAndKeepDependenciesMessage":"Move the task and keep the dependencies","dxGantt-undo":"Undo","dxGantt-redo":"Redo","dxGantt-expandAll":"Expand All","dxGantt-collapseAll":"Collapse All","dxGantt-addNewTask":"Add New Task","dxGantt-deleteSelectedTask":"Delete Selected Task","dxGantt-zoomIn":"Zoom In","dxGantt-zoomOut":"Zoom Out","dxGantt-fullScreen":"Full Screen","dxGantt-quarter":"Q{0}","dxGantt-sortingAscendingText":"Sort Ascending","dxGantt-sortingDescendingText":"Sort Descending","dxGantt-sortingClearText":"Clear Sorting","dxGantt-showResources":"Show Resources","dxGantt-showDependencies":"Show Dependencies","dxGantt-dialogStartDateValidation":"Start date must be after {0}","dxGantt-dialogEndDateValidation":"End date must be after {0}","dxGallery-itemName":"Gallery item","dxMultiView-elementAriaRoleDescription":"MultiView","dxMultiView-elementAriaLabel":"Use the arrow keys or swipe to navigate between views","dxMultiView-itemAriaRoleDescription":"View","dxMultiView-itemAriaLabel":"{0} of {1}","dxSplitter-resizeHandleAriaLabel":"Split bar","dxSplitter-resizeHandleAriaRoleDescription":"Separator"}}),pr={},fr=ue({engine:function(){return"base"},_dictionary:hr,load:function(e){A(!0,this._dictionary,e)},_localizablePrefix:"@",setup:function(e){this._localizablePrefix=e},localizeString:function(e){const t=this,n=new RegExp("(^|[^a-zA-Z_0-9"+t._localizablePrefix+"-]+)("+t._localizablePrefix+"{1,2})([a-zA-Z_0-9-]+)","g"),i=t._localizablePrefix+t._localizablePrefix;return e.replace(n,(e,n,r,o)=>{const s=t._localizablePrefix+o;let a;return r!==i&&(a=t.format(o)),a||(pr[o]=ei(o)),n+(a||s)})},getMessagesByLocales:function(){return this._dictionary},getDictionary:function(e){return e?pr:A({},pr,this.getMessagesByLocales()[dr.locale()])},getFormatter:function(e){return this._getFormatterBase(e)||this._getFormatterBase(e,"en")},_getFormatterBase:function(e,t){const n=dr.getValueByClosestLocale(t=>((e,t)=>{var n;return e[t]||(null===t||void 0===t?void 0:t.toLowerCase)&&(null===(n=Object.entries(e).find(e=>{let[n]=e;return n.toLowerCase()===t.toLowerCase()}))||void 0===n?void 0:n[1])||{}})(this._dictionary,t)[e]);if(n)return function(){const e=1===arguments.length&&Array.isArray(arguments[0])?arguments[0].slice(0):Array.prototype.slice.call(arguments,0);return e.unshift(n),M.apply(this,e)}},format:function(e){const t=this.getFormatter(e),n=Array.prototype.slice.call(arguments,1);return t&&t.apply(this,n)||""}}),mr=fr,_r=kt(),gr=/(webkit)[ /]([\w.]+)/,vr=/(mozilla)(?:.*? rv:([\w.]+))/,yr=e=>{e=e.toLowerCase();const t={},n=gr.exec(e)||e.indexOf("compatible")<0&&vr.exec(e)||[];let i=n[1],r=n[2];return"webkit"===i&&(t.webkit=!0,e.indexOf("chrome")>=0||e.indexOf("crios")>=0?(i="chrome",r=/(?:chrome|crios)\/(\d+\.\d+)/.exec(e),r=r&&r[1]):e.indexOf("fxios")>=0?(i="mozilla",r=/fxios\/(\d+\.\d+)/.exec(e),r=r&&r[1]):e.indexOf("safari")>=0&&/version|phantomjs/.test(e)?(i="safari",r=/(?:version|phantomjs)\/([0-9.]+)/.exec(e),r=r&&r[1]):(i="unknown",r=/applewebkit\/([0-9.]+)/.exec(e),r=r&&r[1])),i&&(t[i]=!0,t.version=r),t},br=A({_fromUA:yr},yr(_r.userAgent)),Cr=ie.inherit({ctor(e,t){this._eventName=e,this._originalEvents=or(t,"dxPointerEvents"),this._handlerCount=0,this.noBubble=this._isNoBubble()},_isNoBubble(){const e=this._eventName;return"dxpointerenter"===e||"dxpointerleave"===e},_handler(e){const t=this._getDelegateTarget(e),n={type:this._eventName,pointerType:e.pointerType||zi(e),originalEvent:e,delegateTarget:t,timeStamp:br.mozilla?(new Date).getTime():e.timeStamp},i=vt(e);return n.target=i,this._fireEvent(n)},_getDelegateTarget(e){let t;return this.noBubble&&(t=e.delegateTarget),t},_fireEvent:e=>nr(e),_setSelector(e){this._selector=this.noBubble&&e?e.selector:null},_getSelector(){return this._selector},setup:()=>!0,add(e,t){if(this._handlerCount<=0||this.noBubble){e=this.noBubble?e:mt.getDocument(),this._setSelector(t);const n=this;rn.on(e,this._originalEvents,this._getSelector(),e=>{n._handler(e)})}this.noBubble||this._handlerCount++},remove(e){this._setSelector(e),this.noBubble||this._handlerCount--},teardown(e){this._handlerCount&&!this.noBubble||(e=this.noBubble?e:mt.getDocument(),".dxPointerEvents"!==this._originalEvents&&rn.off(e,this._originalEvents,this._getSelector()))},dispose(e){e=this.noBubble?e:mt.getDocument(),rn.off(e,this._originalEvents)}});let xr=[];const Sr=yt(()=>{const e=mt.listen(mt.getDocument(),"DOMContentLoaded",()=>{wr.fire(),e()})}),wr={add:e=>{const t=Ct();t&&"loading"!==mt.getReadyState()?e():(xr.push(e),t&&Sr())},fire:()=>{xr.forEach(e=>e()),xr=[]}},Er=ue(wr),Ir=Er,kr=Er,Dr=function(e,t){kr.add(()=>{e.split(" ").forEach(e=>{mt.listen(mt.getDocument(),e,t,!0)})})},Or=function(e,t,n){n=n||function(){};let i=[];const r=function(e){let n=-1;return l(i,(i,r)=>!t(e,r)||(n=i,!1)),n},o=function(e){const t=r(e);t>-1&&i.splice(t,1)};Dr(e.dxpointerdown,function(e){-1===r(e)&&(n(e),i.push(e))}),Dr(e.dxpointermove,function(e){i[r(e)]=e}),Dr(e.dxpointerup,o),Dr(e.dxpointercancel,o),this.pointers=function(){return i},this.reset=function(){i=[]}},Tr={dxpointerdown:"mousedown",dxpointermove:"mousemove",dxpointerup:"mouseup",dxpointercancel:"pointercancel",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"};br.safari&&(Tr.dxpointercancel+=" dragstart");const Ar=function(e){return e.pointerId=1,{pointers:Pr.pointers(),pointerId:1}};let Pr,Mr=!1;const Rr=function(){Mr||(Pr=new Or(Tr,()=>!0),Mr=!0)},Br=Cr.inherit({ctor(){this.callBase.apply(this,arguments),Rr()},_fireEvent(e){return this.callBase(A(Ar(e.originalEvent),e))}});Br.map=Tr,Br.normalize=Ar,Br.activate=Rr,Br.resetObserver=function(){Pr.reset()};const Nr=Br;class Fr{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._events={},this._owner=e,this._options=t}static create(e,t){return t?g(t)?t(e):t:new Fr(e)}hasEvent(e){const t=this._events[e];return!!t&&t.has()}fireEvent(e,t){const n=this._events[e];return n&&n.fireWith(this._owner,t),this._owner}on(e,t){if(x(e))l(e,(e,t)=>{this.on(e,t)});else{let n=this._events[e];n||(n=s({syncStrategy:this._options.syncStrategy}),this._events[e]=n);(n.originalAdd||n.add).call(n,t)}}off(e,t){const n=this._events[e];n&&(g(t)?n.remove(t):n.empty())}dispose(){l(this._events,(e,t)=>{t.empty()})}}const $r=function(){let e;const t=o(),n=t.add,i=t.remove;if(!Ot())return t;const r=function(){const e=Dt();return{width:e.innerWidth,height:e.innerHeight}},s=function(){const n=r();if(n.width===e.width&&n.height===e.height)return;let i;n.width===e.width&&(i="height"),n.height===e.height&&(i="width"),e=n,t.fire(i)},a=yt(function(){e=r()});let l;return t.add=function(){const e=n.apply(t,arguments);return a(),Ir.add(function(){!l&&t.has()&&(l=mt.listen(Dt(),"resize",s))}),e},t.remove=function(){const e=i.apply(t,arguments);return!t.has()&&l&&(l(),l=void 0),e},t}(),Hr=$r,Lr=St(),Vr=kr.add,zr=s();let jr=Si();const Wr=function(){let e;return function(t){if(!arguments.length)return e;const n=Si(t);jr=n;const i=!!n.length,r=Wr();e=i?n:Si("body"),zr.fire(i?Wr():Si(),r)}}();function Kr(){return jr}Vr(function(){Wr(".dx-viewport")});const Ur=St(),qr={iPhone:"iPhone",iPhone5:"iPhone",iPhone6:"iPhone",iPhone6plus:"iPhone",iPad:"iPad",iPadMini:"iPad Mini",androidPhone:"Android Mobile",androidTablet:"Android",msSurface:"Windows ARM Tablet PC",desktop:"desktop"},Gr={deviceType:"desktop",platform:"generic",version:[],phone:!1,tablet:!1,android:!1,ios:!1,generic:!0,grade:"A",mac:!1},Zr={generic(e){const t=/windows phone/i.test(e)||e.match(/WPDesktop/),n=!t&&/Windows(.*)arm(.*)Tablet PC/i.test(e),i=!t&&!n&&/msapphost/i.test(e),r=/((intel|ppc) mac os x)/.test(e.toLowerCase());return t||n||i||r?{deviceType:t?"phone":n?"tablet":"desktop",platform:"generic",version:[],grade:"A",mac:r}:null},appleTouchDevice(e){const t=kt(),n=/Macintosh/i.test(e)&&(null===t||void 0===t?void 0:t.maxTouchPoints)>2;if(!/ip(hone|od|ad)/i.test(e)&&!n)return null;const i=/ip(hone|od)/i.test(e),r=e.match(/os\s{0,}X? (\d+)_(\d+)_?(\d+)?/i);return{deviceType:i?"phone":"tablet",platform:"ios",version:r?[parseInt(r[1],10),parseInt(r[2],10),parseInt(r[3]||0,10)]:[],grade:480===Ur.screen.height?"B":"A"}},android(e){const t=/android|htc_|silk/i.test(e),n=/windows phone/i.test(e);if(!t||n)return null;const i=/mobile/i.test(e),r=e.match(/android (\d+)\.?(\d+)?\.?(\d+)?/i),o=r?[parseInt(r[1],10),parseInt(r[2]||0,10),parseInt(r[3]||0,10)]:[];return{deviceType:i?"phone":"tablet",platform:"android",version:o,grade:o.length>1&&(o[0]<4||4===o[0]&&o[1]<4)?"B":"A"}}},Yr=[Zr.appleTouchDevice,Zr.android,Zr.generic];const Qr=new class{constructor(e){this._window=(null===e||void 0===e?void 0:e.window)??Ur,this._realDevice=this._getDevice(),this._currentDevice=void 0,this._currentOrientation=void 0,this._eventsStrategy=new Fr(this),this.changed=s(),Ct()&&(kr.add(this._recalculateOrientation.bind(this)),Hr.add(this._recalculateOrientation.bind(this)))}current(e){if(e)return this._currentDevice=this._getDevice(e),this._forced=!0,void this.changed.fire();if(!this._currentDevice){e=void 0;try{e=this._getDeviceOrNameFromWindowScope()}catch(t){e=this._getDeviceNameFromSessionStorage()}finally{e||(e=this._getDeviceNameFromSessionStorage()),e&&(this._forced=!0)}this._currentDevice=this._getDevice(e)}return this._currentDevice}real(e){return A({},this._realDevice)}orientation(){return this._currentOrientation}isForced(){return this._forced}isRippleEmulator(){return!!this._window.tinyHippos}_getCssClasses(e){const t=[],n=this._realDevice;return(e=e||this.current()).deviceType&&(t.push(`dx-device-${e.deviceType}`),"desktop"!==e.deviceType&&t.push("dx-device-mobile")),t.push(`dx-device-${n.platform}`),n.version&&n.version.length&&t.push(`dx-device-${n.platform}-${n.version[0]}`),this.isSimulator()&&t.push("dx-simulator"),le().rtlEnabled&&t.push("dx-rtl"),t}attachCssClasses(e,t){this._deviceClasses=this._getCssClasses(t).join(" "),Si(e).addClass(this._deviceClasses)}detachCssClasses(e){Si(e).removeClass(this._deviceClasses)}isSimulator(){try{var e;return this._isSimulator||Ct()&&this._window.top!==this._window.self&&(null===(e=this._window.top)||void 0===e?void 0:e["dx-force-device"])||this.isRippleEmulator()}catch(t){return!1}}forceSimulator(){this._isSimulator=!0}_getDevice(e){if("genericPhone"===e&&(e={deviceType:"phone",platform:"generic",generic:!0}),x(e))return this._fromConfig(e);let t;if(e){if(t=qr[e],!t)throw W.Error("E0005")}else{t=kt().userAgent}return this._fromUA(t)}_getDeviceOrNameFromWindowScope(){var e,t;let n;var i,r;Ct()&&(null!==(e=this._window.top)&&void 0!==e&&e["dx-force-device-object"]||null!==(t=this._window.top)&&void 0!==t&&t["dx-force-device"])&&(n=(null===(i=this._window.top)||void 0===i?void 0:i["dx-force-device-object"])||(null===(r=this._window.top)||void 0===r?void 0:r["dx-force-device"]));return n}_getDeviceNameFromSessionStorage(){const e=function(){let e;try{e=Lr.sessionStorage}catch(t){}return e}();if(!e)return;const t=e.getItem("dx-force-device");try{return JSON.parse(t)}catch(n){return t}}_fromConfig(e){const t=A({},Gr,this._currentDevice,e),n={phone:"phone"===t.deviceType,tablet:"tablet"===t.deviceType,android:"android"===t.platform,ios:"ios"===t.platform,generic:"generic"===t.platform};return A(t,n)}_fromUA(e){for(let t=0;t<Yr.length;t+=1){const n=(0,Yr[t])(e);if(n)return this._fromConfig(n)}return Gr}_changeOrientation(){const e=Si(this._window),t=Ln(e)>$n(e)?"portrait":"landscape";this._currentOrientation!==t&&(this._currentOrientation=t,this._eventsStrategy.fireEvent("orientationChanged",[{orientation:t}]))}_recalculateOrientation(){const e=$n(this._window);this._currentWidth!==e&&(this._currentWidth=e,this._changeOrientation())}on(e,t){return this._eventsStrategy.on(e,t),this}off(e,t){return this._eventsStrategy.off(e,t),this}};Be(Ne).done(()=>{const e=Wr();e&&Qr.attachCssClasses(e),zr.add((e,t)=>{Qr.detachCssClasses(t),Qr.attachCssClasses(e)})});const Xr=Qr,Jr=function(e){const t=[];return l(e.touches,(e,n)=>{t.push(A({pointerId:n.identifier},n))}),{pointers:t,pointerId:e.changedTouches[0].identifier}},eo=Cr.inherit({ctor(){this.callBase.apply(this,arguments),this._pointerId=0},_handler(e){if(t=this._eventName,"ios"===Xr.real().platform&&("dxpointerdown"===t||"dxpointerup"===t)){const t=e.changedTouches[0];if(this._pointerId===t.identifier&&0!==this._pointerId)return;this._pointerId=t.identifier}var t;return this.callBase.apply(this,arguments)},_fireEvent(e){return this.callBase(A(Jr(e.originalEvent),e))}});eo.map={dxpointerdown:"touchstart",dxpointermove:"touchmove",dxpointerup:"touchend",dxpointercancel:"touchcancel",dxpointerover:"",dxpointerout:"",dxpointerenter:"",dxpointerleave:""},eo.normalize=Jr;const to=eo;let no=!1;const io=Cr.inherit({EVENT_LOCK_TIMEOUT:100,ctor(){this.callBase.apply(this,arguments),no||(Nr.activate(),no=!0)},_handler(e){const t=Gi(e);if(t||(this._skipNextEvents=!0),!t||!this._mouseLocked){if(t&&this._skipNextEvents){this._skipNextEvents=!1,this._mouseLocked=!0,clearTimeout(this._unlockMouseTimer);const e=this;return void(this._unlockMouseTimer=setTimeout(()=>{e._mouseLocked=!1},this.EVENT_LOCK_TIMEOUT))}return this.callBase(e)}},_fireEvent(e){const t=Gi(e.originalEvent)?Nr.normalize:to.normalize;return this.callBase(A(t(e.originalEvent),e))},dispose(){this.callBase(),this._skipNextEvents=!1,this._mouseLocked=!1,clearTimeout(this._unlockMouseTimer)}});io.map={dxpointerdown:"touchstart mousedown",dxpointermove:"touchmove mousemove",dxpointerup:"touchend mouseup",dxpointercancel:"touchcancel",dxpointerover:"mouseover",dxpointerout:"mouseout",dxpointerenter:"mouseenter",dxpointerleave:"mouseleave"},io.resetObserver=Nr.resetObserver;const ro=io,{maxTouchPoints:oo}=kt(),so={webkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},ao=function(e){return!!ai(e)},lo=function(e){if("text"===e)return!0;const t=mt.createElement("input");try{return t.setAttribute("type",e),t.value="wrongValue",!t.value}catch(n){return!1}},co=function(e,t){return(e("ontouchstart")||!!t)&&!e("callPhantom")}(wt,oo),uo=wt("PointerEvent");const ho=co||uo&&!!oo,po=yt(function(){return ao("transition")}),fo=yt(function(){return so[ai("transition")]}),mo=yt(function(){return ao("animation")}),_o=function(){const{platform:e,mac:t}=Xr.real();return"ios"===e||"android"===e||t}(),go={animation:mo,inputType:lo,nativeScrolling:_o,pointerEvents:uo,styleProp:ai,stylePropPrefix:li,supportProp:ao,touch:ho,touchEvents:co,transition:po,transitionEndEventName:fo},vo=((e,t)=>{let{tablet:n,phone:i}=t;const r=function(){const e=le().pointerEventStrategy;return{"mouse-and-touch":ro,touch:to,mouse:Nr}[e]}();return r||(!e.touch||n||i?e.touch?to:Nr:ro)})(go,Xr.real());l(vo.map,(e,t)=>{Ei(e,new vo(e,t))});const yo={down:"dxpointerdown",up:"dxpointerup",move:"dxpointermove",cancel:"dxpointercancel",enter:"dxpointerenter",leave:"dxpointerleave",over:"dxpointerover",out:"dxpointerout"},bo=function(){let e=[];return{add:function(t){e.includes(t)||e.push(t)},remove:function(t){const n=e.indexOf(t);-1!==n&&e.splice(n,1)},fire:function(){const t=e.pop(),n=!!t;return n&&t(),n},hasCallback:function(){return e.length>0}}}();St();const Co=["January","February","March","April","May","June","July","August","September","October","November","December"],xo=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],So=["AM","PM"],wo=["Q1","Q2","Q3","Q4"],Eo=(e,t)=>{const n={abbreviated:3,short:2,narrow:1};return a(e,e=>e.substr(0,n[t]))},Io={getMonthNames:function(e){return Eo(Co,e)},getDayNames:function(e){return Eo(xo,e)},getQuarterNames:function(e){return wo},getPeriodNames:function(e){return So}};function ko(e,t){for(;e.length<t;)e="0"+e;return e}const Do={3:"abbreviated",4:"wide",5:"narrow"},Oo={y:function(e,t,n){let i=e[n?"getUTCFullYear":"getFullYear"]();return 2===t&&(i%=100),ko(i.toString(),t)},M:function(e,t,n,i){const r=e[n?"getUTCMonth":"getMonth"](),o=Do[t];return o?i.getMonthNames(o,"format")[r]:ko((r+1).toString(),Math.min(t,2))},L:function(e,t,n,i){const r=e[n?"getUTCMonth":"getMonth"](),o=Do[t];return o?i.getMonthNames(o,"standalone")[r]:ko((r+1).toString(),Math.min(t,2))},Q:function(e,t,n,i){const r=e[n?"getUTCMonth":"getMonth"](),o=Math.floor(r/3),s=Do[t];return s?i.getQuarterNames(s)[o]:ko((o+1).toString(),Math.min(t,2))},E:function(e,t,n,i){const r=e[n?"getUTCDay":"getDay"](),o=Do[t<3?3:t];return i.getDayNames(o)[r]},a:function(e,t,n,i){const r=e[n?"getUTCHours":"getHours"]()<12?0:1,o=Do[t];return i.getPeriodNames(o)[r]},d:function(e,t,n){return ko(e[n?"getUTCDate":"getDate"]().toString(),Math.min(t,2))},H:function(e,t,n){return ko(e[n?"getUTCHours":"getHours"]().toString(),Math.min(t,2))},h:function(e,t,n){return ko((e[n?"getUTCHours":"getHours"]()%12||12).toString(),Math.min(t,2))},m:function(e,t,n){return ko(e[n?"getUTCMinutes":"getMinutes"]().toString(),Math.min(t,2))},s:function(e,t,n){return ko(e[n?"getUTCSeconds":"getSeconds"]().toString(),Math.min(t,2))},S:function(e,t,n){return ko(e[n?"getUTCMilliseconds":"getMilliseconds"]().toString(),3).substr(0,t)},x:function(e,t,n){const i=n?0:e.getTimezoneOffset(),r=i>0?"-":"+",o=Math.abs(i),s=o%60,a=ko(Math.floor(o/60).toString(),2),l=ko(s.toString(),2);return r+a+(t>=3?":":"")+(t>1||s?l:"")},X:function(e,t,n){return n||!e.getTimezoneOffset()?"Z":Oo.x(e,t,n)},Z:function(e,t,n){return Oo.X(e,t>=5?3:2,n)}},To=function(e,t){return function(n){let i,r,o,s,a=0,l=!1,c="";if(!n)return null;if(!e)return n;const u="Z"===e[e.length-1]||"'Z'"===e.slice(-3);for(i=0;i<e.length;i++)o=e[i],r=Oo[o],s=o===e[i+1],a++,s||(r&&!l&&(c+=r(n,a,u,t)),a=0),"'"!==o||s?!l&&r||(c+=o):l=!l,"'"===o&&s&&i++;return c}},Ao=/^(\d{4,})(-)?(\d{2})(-)?(\d{2})(?:T(\d{2})(:)?(\d{2})?(:)?(\d{2}(?:\.(\d{1,3})\d*)?)?)?(Z|([+-])(\d{2})(:)?(\d{2})?)?$/,Po=/^(\d{2}):(\d{2})(:(\d{2}))?$/,Mo=["","yyyy","","MM","","dd","THH","","mm","","ss",".SSS"],Ro=/^(\d{4})\/(\d{2})\/(\d{2})$/,Bo=function(e,t){let n;return v(e)&&!t&&(n=function(e){let t=e.match(Ao);if(!t)return t=e.match(Po),t?new Date(0,0,0,No(t[1]),No(t[2]),No(t[4])):void 0;const n=No(t[1]),i=--t[3],r=t[5];let o=0,s=0;const a=e=>(n<100&&e.setFullYear(n),e);o=No(t[14]),s=No(t[16]),"-"===t[13]&&(o=-o,s=-s);const l=No(t[6])-o,c=No(t[8])-s,u=No(t[10]),d=(h=t[11],No(h=h||"")*10**(3-h.length));var h;if(t[12])return a(new Date(Date.UTC(n,i,r,l,c,u,d)));return a(new Date(n,i,r,l,c,u,d))}(e)),n||function(e){const t="yyyy/MM/dd"===Fo(e),n=!m(e)&&Date.parse(e);if(!n&&t){const t=e.match(Ro);if(t){const e=new Date(No(t[1]),No(t[2]),No(t[3]));return e.setFullYear(No(t[1])),e.setMonth(No(t[2])-1),e.setDate(No(t[3])),e}}return y(n)?new Date(n):e}(e)};function No(e){return+e||0}const Fo=function(e){if("number"===typeof e)return"number";if(v(e)){let t;return le().forceIsoDateParsing&&(t=function(e){let t=e.match(Ao),n="";if(!t)return t=e.match(Po),t?t[3]?"HH:mm:ss":"HH:mm":void 0;for(let i=1;i<Mo.length;i++)t[i]&&(n+=Mo[i]||t[i]);return"Z"===t[12]&&(n+="'Z'"),t[14]&&(t[15]?n+="xxx":t[16]?n+="xx":n+="x"),n}(e)),t||(e.includes(":")?"yyyy/MM/dd HH:mm:ss":"yyyy/MM/dd")}return e?null:void 0},$o={dateParser:Bo,deserializeDate:function(e){return"number"===typeof e?new Date(e):Bo(e,!le().forceIsoDateParsing)},serializeDate:function(e,t){return t?m(e)?"number"===t?e&&e.valueOf?e.valueOf():null:To(t,Io)(e):null:e},getDateSerializationFormat:Fo},Ho=$o;new Set;const Lo=function(e){return 0===e?0:e/Math.abs(e)},Vo=function(e,t,n){const i=!t&&0!==t,r=!n&&0!==n;return i&&(t=r?e:Math.min(e,n)),r&&(n=i?e:Math.max(e,t)),Math.min(Math.max(e,t),n)},zo=function(e,t,n){return e>=t&&e<=n};function jo(e){return Math.abs(parseInt(e.toExponential().split("e")[1],10))}function Wo(e,t){const n=function(e){const t=e.toExponential().split("e"),n=parseFloat(t[0]);return{exponent:parseInt(t[1],10),mantissa:n}}(e);return parseFloat(`${n.mantissa}e${n.exponent+t}`)}function Ko(e,t){let n=function(e){const t=e.toString();if(t.indexOf(".")<0)return 0;const n=t.split("."),i=n[1].indexOf("e");return i>=0?i:n[1].length}(t||0)+2;const i=e.toString().split("."),r=e,o=Math.abs(e);let s;const a=f(e),l=o>1?10:0;return 1===i.length?e:(a||(f(t)&&(n=i[0].length+jo(t)),e=(e=o)-Math.floor(e)+l),n="0.000300"!==3e-4.toPrecision(3)&&jo(e)>6||n>7?15:7,a||(s=parseFloat(e.toPrecision(n)).toString().split("."),s[0]!==l.toString())?parseFloat(r.toPrecision(n)):parseFloat(`${i[0]}.${s[1]}`))}const Uo={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5,month:2592e6,quarter:7776e6,year:31536e6};function qo(e){return Uo[e]}const Go=["millisecond","second","minute","hour","day","week","month","quarter","year"],Zo=function(e){let t,n,i;const r=["millisecond","second","minute","hour","day","month","year"],o={};for(t=r.length-1;t>=0;t--)i=r[t],n=Math.floor(e/qo(i)),n>0&&(o[`${i}s`]=n,e-=Yo(i,n));return o};function Yo(e,t){return qo(e)*t}function Qo(e){let t,n=-1;return v(e)?e:b(e)?(l(e,function(e,i){for(t=0;t<Go.length;t++)i&&(e===`${Go[t]}s`||e===Go[t])&&n<t&&(n=t)}),Go[n]):""}const Xo={millisecond:"millisecond",second:"longtime",minute:"shorttime",hour:"shorttime",day:"day",week:"day",month:"month",quarter:"quarter",year:"year"};const Jo=function(e){return Math.floor(e/3)},es=function(e){return 3*Jo(e)};function ts(e,t,n,i){e=new Date(e.getTime());const r=new Date(e.getTime());let o,s;const a=Qo(t);switch(a){case"second":e=new Date(1e3*Math.floor(r.getTime()/1e3));break;case"minute":e=new Date(6e4*Math.floor(r.getTime()/6e4));break;case"hour":e=new Date(36e5*Math.floor(r.getTime()/36e5));break;case"year":e.setMonth(0);case"month":e.setDate(1);case"day":e.setHours(0,0,0,0);break;case"week":(e=hs(e,i||0)).setHours(0,0,0,0);break;case"quarter":o=es(e.getMonth()),s=e.getMonth(),e.setDate(1),e.setHours(0,0,0,0),s!==o&&e.setMonth(o)}return n&&"hour"!==a&&"minute"!==a&&"second"!==a&&vs(r,e),e}function ns(e){return ts(e,"day")}function is(e,t,n){const i=new Date(e.getTime()),r=v(t)?ss(t.toLowerCase()):y(t)?Zo(t):t;return r.years&&i.setFullYear(i.getFullYear()+r.years*n),r.quarters&&i.setMonth(i.getMonth()+3*r.quarters*n),r.months&&i.setMonth(i.getMonth()+r.months*n),r.weeks&&i.setDate(i.getDate()+7*r.weeks*n),r.days&&i.setDate(i.getDate()+r.days*n),r.hours&&i.setTime(i.getTime()+36e5*r.hours*n),r.minutes&&i.setTime(i.getTime()+6e4*r.minutes*n),r.seconds&&i.setTime(i.getTime()+1e3*r.seconds*n),r.milliseconds&&i.setTime(i.getTime()+r.milliseconds*n),i}const rs=function(e,t,n){const i=n?-1:1;return m(e)?is(e,t,i):Ko(e+t*i,t)};function os(e){return bs(e.getFullYear(),e.getMonth()+1,0).getDate()}function ss(e){const t={};switch(e){case"year":t.years=1;break;case"month":t.months=1;break;case"quarter":t.months=3;break;case"week":t.weeks=1;break;case"day":t.days=1;break;case"hour":t.hours=1;break;case"minute":t.minutes=1;break;case"second":t.seconds=1;break;case"millisecond":t.milliseconds=1}return t}function as(e,t){return ls(e,t)&&e.getDate()===t.getDate()}function ls(e,t){return cs(e,t)&&e.getMonth()===t.getMonth()}function cs(e,t){return e&&t&&e.getFullYear()===t.getFullYear()}function us(e){return e&&e.getFullYear()-e.getFullYear()%100}function ds(e){return e&&e.getFullYear()-e.getFullYear()%10}function hs(e,t){const n=(e.getDay()-t+7)%7,i=new Date(e);return i.setDate(e.getDate()-n),i}function ps(e){return Date.UTC(e.getFullYear(),e.getMonth(),e.getDate())}function fs(e){return new Date(e,0,1)}function ms(e){return new Date(e,11,31)}function _s(e,t){let n=e.getDay()-t+1;return n<=0&&(n+=7),n}function gs(e,t,n){let i=e;return _(e)?(_(t)&&e<t&&(i=t),_(n)&&e>n&&(i=n),i):e}function vs(e,t){if(!_(e))return;const n=t.getHours()-e.getHours();if(0===n)return;const i=1===n||-23===n?-1:1,r=new Date(t.getTime()+36e5*i);(i>0||r.getDate()===t.getDate())&&t.setTime(r.getTime())}function ys(e,t){return 60*(t.getTimezoneOffset()-e.getTimezoneOffset())*1e3}const bs=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];const r=new Date(e,...n);return r.setFullYear(e),r},Cs={dateUnitIntervals:Go,convertMillisecondsToDateUnits:Zo,dateToMilliseconds:function(e){let t=0;return b(e)&&l(e,function(e,n){t+=Yo(e.substr(0,e.length-1),n)}),v(e)&&(t=Yo(e,1)),t},getNextDateUnit:function(e,t){switch(Qo(e)){case"millisecond":return"second";case"second":return"minute";case"minute":return"hour";case"hour":return"day";case"day":return t?"week":"month";case"week":return"month";case"month":return"quarter";case"quarter":case"year":return"year";default:return 0}},convertDateUnitToMilliseconds:Yo,getDateUnitInterval:Qo,getDateFormatByTickInterval:function(e){return Xo[Qo(e)]||""},getDatesDifferences:function(e,t){let n=0;const i={year:e.getFullYear()!==t.getFullYear(),month:e.getMonth()!==t.getMonth(),day:e.getDate()!==t.getDate(),hour:e.getHours()!==t.getHours(),minute:e.getMinutes()!==t.getMinutes(),second:e.getSeconds()!==t.getSeconds(),millisecond:e.getMilliseconds()!==t.getMilliseconds()};return l(i,function(e,t){t&&n++}),0===n&&0!==ys(e,t)&&(i.hour=!0,n++),i.count=n,i},correctDateWithUnitBeginning:ts,trimTime:ns,setToDayEnd:function(e){const t=ns(e);return t.setDate(t.getDate()+1),new Date(t.getTime()-1)},roundDateByStartDayHour:function(e,t){const n=this.dateTimeFromDecimal(t),i=new Date(e);return(e.getHours()===n.hours&&e.getMinutes()<n.minutes||e.getHours()<n.hours)&&i.setHours(n.hours,n.minutes,0,0),i},dateTimeFromDecimal:function(e){return{hours:Math.floor(e),minutes:e%1*60}},addDateInterval:is,addInterval:rs,getSequenceByInterval:function(e,t,n){const i=[];let r;for(i.push(m(e)?new Date(e.getTime()):e),r=e;r<t;)r=rs(r,n),i.push(r);return i},getDateIntervalByString:ss,sameHoursAndMinutes:function(e,t){return e&&t&&e.getHours()===t.getHours()&&e.getMinutes()===t.getMinutes()},sameDate:as,sameMonthAndYear:ls,sameMonth:ls,sameYear:cs,sameDecade:function(e,t){if(!_(e)||!_(t))return;const n=e.getFullYear()-e.getFullYear()%10,i=t.getFullYear()-t.getFullYear()%10;return e&&t&&n===i},sameCentury:function(e,t){if(!_(e)||!_(t))return;const n=e.getFullYear()-e.getFullYear()%100,i=t.getFullYear()-t.getFullYear()%100;return e&&t&&n===i},sameView:function(e,t,n){return Cs[Jn(`same ${e}`)](t,n)},sameDatesArrays:(e,t)=>!(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)&&e.every((e,n)=>{const i=t[n];return![e,i].some(e=>null!==e&&!(e instanceof Date))&&(e instanceof Date&&i instanceof Date?as(e,i):e===i)}),getDifferenceInMonth:function(e){let t=1;return"year"===e&&(t=12),"decade"===e&&(t=120),"century"===e&&(t=1200),t},getDifferenceInMonthForCells:function(e){let t=1;return"decade"===e&&(t=12),"century"===e&&(t=120),t},getFirstYearInDecade:ds,getFirstDecadeInCentury:us,getShortDateFormat:function(){return"yyyy/MM/dd"},getViewFirstCellDate:function(e,t){return"month"===e?bs(t.getFullYear(),t.getMonth(),1):"year"===e?bs(t.getFullYear(),0,t.getDate()):"decade"===e?bs(ds(t),t.getMonth(),t.getDate()):"century"===e?bs(us(t),t.getMonth(),t.getDate()):void 0},getViewLastCellDate:function(e,t){return"month"===e?bs(t.getFullYear(),t.getMonth(),os(t)):"year"===e?bs(t.getFullYear(),11,t.getDate()):"decade"===e?bs(ds(t)+9,t.getMonth(),t.getDate()):"century"===e?bs(us(t)+90,t.getMonth(),t.getDate()):void 0},getViewDown:function(e){switch(e){case"century":return"decade";case"decade":return"year";case"year":return"month"}},getViewUp:function(e){switch(e){case"month":return"year";case"year":return"decade";case"decade":return"century"}},getLastMonthDay:os,getLastMonthDate:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!_(e))return;const n=new Date(e.getTime()),i=n.getMonth()+t;return n.setMonth(i),bs(n.getFullYear(),i+1,0)},getFirstMonthDate:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!_(e))return;const n=new Date(e.getTime()),i=n.getMonth()+t;return n.setMonth(i),bs(n.getFullYear(),i,1)},getFirstWeekDate:hs,getWeekNumber:function e(t,n,i){const r=_s(fs(t.getFullYear()),n),o=_s(ms(t.getFullYear()),n),s=7-r+1;let a=Math.ceil((function(e){const t=ps(e)-ps(fs(e.getFullYear()));return 1+Math.floor(t/qo("day"))}(t)-s)/7);switch(i){case"fullWeek":if(7===s&&a++,0===a){return e(ms(t.getFullYear()-1),n,i)}return a;case"firstDay":s>0&&a++;return(a>52&&!(7===r||7===o)||54===a)&&(a=1),a;case"firstFourDays":s>3&&a++;if(a>52&&!(4===r||4===o)&&(a=1),0===a){return e(ms(t.getFullYear()-1),n,i)}return a}},normalizeDateByWeek:function(e,t){const n=Cs.getDatesInterval(e,t,"day");let i=new Date(e);return n>=6&&(i=new Date(i.setDate(i.getDate()+7))),i},getQuarter:Jo,getFirstQuarterMonth:es,dateInRange:function(e,t,n,i){return"date"===i&&(t=t&&Cs.correctDateWithUnitBeginning(t,"day"),n=n&&Cs.correctDateWithUnitBeginning(n,"day"),e=e&&Cs.correctDateWithUnitBeginning(e,"day")),gs(e,t,n)===e},intervalsOverlap:function(e){const{firstMin:t,firstMax:n,secondMin:i,secondMax:r}=e;return t<=i&&i<=n||t>i&&t<r||t<r&&n>r},roundToHour:function(e){const t=new Date(e.getTime());return t.setHours(t.getHours()+1),t.setMinutes(0),t},normalizeDate:gs,getViewMinBoundaryDate:function(e,t){const n=bs(t.getFullYear(),t.getMonth(),1);return"month"===e?n:(n.setMonth(0),"year"===e||("decade"===e&&n.setFullYear(ds(t)),"century"===e&&n.setFullYear(us(t))),n)},getViewMaxBoundaryDate:function(e,t){const n=new Date(t);return n.setDate(os(t)),"month"===e?n:(n.setMonth(11),n.setDate(os(n)),"year"===e||("decade"===e&&n.setFullYear(ds(t)+9),"century"===e&&n.setFullYear(us(t)+99)),n)},fixTimezoneGap:vs,getTimezonesDifference:ys,makeDate:function(e){return new Date(e)},getDatesInterval:function(e,t,n){const i=t.getTime()-e.getTime(),r=qo(n)||1;return Math.floor(i/r)},getDatesOfInterval:function(e,t,n){const i=[];let r=new Date(e.getTime());for(;r<t;)i.push(new Date(r.getTime())),r=this.addInterval(r,n);return i},createDateWithFullYear:bs,getMachineTimezoneName:()=>"undefined"!==typeof Intl?Intl.DateTimeFormat().resolvedOptions().timeZone:null,getRangesByDates:e=>{const t=e.map(e=>ts(e,"day").getTime()),n=t.sort((e,t)=>e-t),i=qo("day"),r=[];let o=n[0];for(let s=1;s<=n.length;++s){const e=n[s];if(e-n[s-1]>i||s===n.length){const t=(o===n[s-1]?[o]:[o,n[s-1]]).map(e=>Ho.deserializeDate(e));r.push(t),o=e}}return r}},xs=Cs;xs.dateToMilliseconds;const Ss=e=>{const{offsets:t}=e,{offsetIndices:n}=e,{untils:i}=e,r=t.split("|").map(e=>parseInt(e)),o=n.split("").map(e=>parseInt(e)),s=(e=>e.split("|").map(e=>"Infinity"===e?null:1e3*parseInt(e,36)))(i).map((a=0,e=>a+=e));var a;return{offsetList:r,offsetIndexList:o,dateList:s}};const ws=new class{constructor(){this.map=new Map}tryGet(e){if(!this.map.get(e)){const t=Es.getTimezoneById(e);if(!t)return!1;const n=Ss(t);this.map.set(e,n)}return this.map.get(e)}},Es={_tzCache:ws,getTimeZonesOld:()=>le().timezones??[],formatOffset(e){const t=Math.floor(e),n=e-t;return(Lo(e)>=0?"+":"-")+`0${Math.abs(t)}`.slice(-2)+(n>0?":"+60*n:":00")},formatId:e=>e.split("/").join(" - ").split("_").join(" "),getTimezoneById(e){if(!e)return;const t=this.getTimeZonesOld();for(let n=0;n<t.length;n++){if(t[n].id===e)return t[n]}},getTimeZoneOffsetById(e,t){const n=ws.tryGet(e);return n?this.getUtcOffset(n,t):void 0},getTimeZoneDeclarationTuple(e,t){const n=ws.tryGet(e);return n?this.getTimeZoneDeclarationTupleCore(n,t):[]},getTimeZoneDeclarationTupleCore(e,t){const{offsetList:n}=e,{offsetIndexList:i}=e,{dateList:r}=e,o=[];for(let s=0;s<r.length;s++){const e=r[s],a=new Date(e).getFullYear();if(a===t){const t=n[i[s+1]];o.push({date:e,offset:-t/60})}if(a>t)break}return o},getUtcOffset(e,t){const{offsetList:n}=e,{offsetIndexList:i}=e,{dateList:r}=e;let o=r.length-1-1;for(;o>=0&&t<r[o];)o--;const s=n[i[o+1]];return-s/60||s}},Is=(xs.dateToMilliseconds,Xr),ks=Dt(),Ds={observe:tt,unobserve:tt,disconnect:tt};const Os=new class{constructor(){if(!Ot()||!ks.ResizeObserver)return Ds;this._callbacksMap=new Map,this._observer=new ks.ResizeObserver(e=>{e.forEach(e=>{var t;null===(t=this._callbacksMap.get(e.target))||void 0===t||t(e)})})}observe(e,t){this._callbacksMap.set(e,t),this._observer.observe(e)}unobserve(e){this._callbacksMap.delete(e),this._observer.unobserve(e)}disconnect(){this._callbacksMap.clear(),this._observer.disconnect()}},Ts=Os,As=s(),Ps=j(W.ERROR_MESSAGES,{E1001:"Module '{0}'. Controller '{1}' is already registered",E1002:"Module '{0}'. Controller '{1}' does not inherit from DevExpress.ui.dxDataGrid.Controller",E1003:"Module '{0}'. View '{1}' is already registered",E1004:"Module '{0}'. View '{1}' does not inherit from DevExpress.ui.dxDataGrid.View",E1005:"Public method '{0}' is already registered",E1006:"Public method '{0}.{1}' does not exist",E1007:"State storing cannot be provided due to the restrictions of the browser",E1010:"The template does not contain the TextBox widget",E1011:'Items cannot be deleted from the List. Implement the "remove" function in the data store',E1012:"Editing type '{0}' with the name '{1}' is unsupported",E1016:"Unexpected type of data source is provided for a lookup column",E1018:"The 'collapseAll' method cannot be called if you use a remote data source",E1019:"Search mode '{0}' is unavailable",E1020:"The type cannot be changed after initialization",E1021:"{0} '{1}' you are trying to remove does not exist",E1022:'The "markers" option is given an invalid value. Assign an array instead',E1023:'The "routes" option is given an invalid value. Assign an array instead',E1025:"This layout is too complex to render",E1026:'The "calculateCustomSummary" function is missing from a field whose "summaryType" option is set to "custom"',E1031:"Unknown subscription in the Scheduler widget: '{0}'",E1032:"Unknown start date in an appointment: '{0}'",E1033:"Unknown step in the date navigator: '{0}'",E1034:"The browser does not implement an API for saving files",E1035:"The editor cannot be created: {0}",E1037:"Invalid structure of grouped data",E1038:"The browser does not support local storages for local web pages",E1039:"A cell's position cannot be calculated",E1040:"The '{0}' key value is not unique within the data array",E1041:"The '{0}' script is referenced after the DevExtreme scripts or not referenced at all",E1042:"{0} requires the key field to be specified",E1043:"Changes cannot be processed due to the incorrectly set key",E1044:"The key field specified by the keyExpr option does not match the key field specified in the data store",E1045:"Editing requires the key field to be specified in the data store",E1046:"The '{0}' key field is not found in data objects",E1047:'The "{0}" field is not found in the fields array',E1048:'The "{0}" operation is not found in the filterOperations array',E1049:"Column '{0}': filtering is allowed but the 'dataField' or 'name' option is not specified",E1050:"The validationRules option does not apply to third-party editors defined in the editCellTemplate",E1052:'{0} should have the "dataSource" option specified',E1053:'The "buttons" option accepts an array that contains only objects or string values',E1054:"All text editor buttons must have names",E1055:'One or several text editor buttons have invalid or non-unique "name" values',E1056:'The {0} widget does not support buttons of the "{1}" type',E1058:'The "startDayHour" and "endDayHour" options must be integers in the [0, 24] range, with "endDayHour" being greater than "startDayHour".',E1059:"The following column names are not unique: {0}",E1060:"All editable columns must have names",E1061:'The "offset" option must be an integer in the [-1440, 1440] range, divisible by 5 without a remainder.',E1062:'The "cellDuration" must be a positive integer, evenly dividing the ("endDayHour" - "startDayHour") interval into minutes.',W1001:'The "key" option cannot be modified after initialization',W1002:"An item with the key '{0}' does not exist",W1003:"A group with the key '{0}' in which you are trying to select items does not exist",W1004:"The item '{0}' you are trying to select in the group '{1}' does not exist",W1005:"Due to column data types being unspecified, data has been loaded twice in order to apply initial filter settings. To resolve this issue, specify data types for all grid columns.",W1006:"The map service returned the following error: '{0}'",W1007:"No item with key {0} was found in the data source, but this key was used as the parent key for item {1}",W1008:"Cannot scroll to the '{0}' date because it does not exist on the current view",W1009:"Searching works only if data is specified using the dataSource option",W1010:"The capability to select all items works with source data of plain structure only",W1011:'The "keyExpr" option is not applied when dataSource is not an array',W1012:"The '{0}' key field is not found in data objects",W1013:'The "message" field in the dialog component was renamed to "messageHtml". Change your code correspondingly. In addition, if you used HTML code in the message, make sure that it is secure',W1014:"The Floating Action Button exceeds the recommended speed dial action count. If you need to display more speed dial actions, increase the maxSpeedDialActionCount option value in the global config.",W1016:"The '{0}' field in the HTML Editor toolbar item configuration was renamed to '{1}'. Please make a corresponding change in your code.",W1017:"The 'key' property is not specified for a lookup data source. Please specify it to prevent requests for the entire dataset when users filter data.",W1018:"Infinite scrolling may not work properly with multiple selection. To use these features together, set 'selection.deferred' to true or set 'selection.selectAllMode' to 'page'.",W1019:"Filter query string exceeds maximum length limit of {0} characters.",W1020:"hideEvent is ignored when the shading property is true",W1021:"The '{0}' is not rendered because none of the DOM elements match the value of the \"container\" property.",W1022:"{0} JSON parsing error: '{1}'",W1023:"Appointments require unique keys. Otherwise, the agenda view may not work correctly.",W1024:"The client-side export is enabled. Implement the 'onExporting' function.",W1025:"'scrolling.mode' is set to 'virtual' or 'infinite'. Specify the height of the component."}),Ms=St(),Rs=kr.add,Bs=Wr,Ns=zr;let Fs=new Re;const $s="link[rel=dx-theme]";let Hs,Ls,Vs,zs,js,Ws=15e3;function Ks(){if(!Ct())return null;const e=Si("<div>",Hs).addClass("dx-theme-marker").appendTo(Hs.documentElement);let t;try{return t=Ms.getComputedStyle(e.get(0)).fontFamily,t?(t=t.replace(/["']/g,""),"dx."!==t.substr(0,3)?null:t.substr(3)):null}finally{e.remove()}}function Us(e){let t,n,i=!0;function r(){js=null,clearInterval(n),i=!0,As.fire(),As.empty(),Fs.resolve()}if(js=e,qs()||!Ws)r();else{if(!i)return void(js&&(js=e));t=Date.now(),i=!1,n=setInterval(function(){const e=qs(),n=!e&&Date.now()-t>Ws;n&&Ps.log("W0004",js),(e||n)&&r()},10)}}function qs(){if(!js)return!0;const e="any"===js;if("resolved"===Fs.state()&&e)return!0;const t=Ks();return!(!t||!e)||t===js}function Gs(e){(function(e){try{e!==Hs&&(Vs=null)}catch(t){Vs=null}Hs=e})((e=e||{}).context||mt.getDocument()),Hs&&(!function(){const e=Si($s,Hs);e.length&&(Vs={},Ls=Si(mn("<link rel=stylesheet>"),Hs),e.each(function(){const e=Si(this,Hs),t=e.attr("data-theme"),n=e.attr("href"),i="true"===e.attr("data-active");Vs[t]={url:n,isActive:i}}),e.last().after(Ls),e.remove())}(),zs=void 0,Zs(e))}function Zs(e){if(!arguments.length)return zs=zs||Ks(),zs;Js(Bs()),"string"===typeof(e=e||{})&&(e={theme:e});const t=e._autoInit,n=e.loadCallback;let i;if(zs=function(e){const t=e?e.split("."):[];let n=null;if(Vs){if(e in Vs)return e;l(Vs,function(e,i){const r=e.split(".");if((!t[0]||r[0]===t[0])&&(!t[1]||t[1]===r[1])&&(!t[2]||t[2]===r[2]))return n&&!i.isActive||(n=e),!i.isActive&&void 0})}return n}(e.theme||zs),zs&&(i=Vs[zs]),n&&As.add(n),i)Ls.attr("href",Vs[zs].url),(As.has()||"resolved"!==Fs.state()||e._forceTimeout)&&Us(zs);else{if(!t)throw Ps.Error("E0021",zs);Ct()&&Us("any"),As.fire(),As.empty()}Fs.done(()=>Xs(Kr(),zs))}let Ys;function Qs(e,t){Ys=function(e){const t=[],n=(e=e||Zs())&&e.split(".");return n&&(t.push("dx-theme-"+n[0],"dx-theme-"+n[0]+"-typography"),n.length>1&&t.push("dx-color-scheme-"+n[1]+(ta(e)?"-"+n[2]:""))),t}(t).join(" "),Si(e).addClass(Ys),function(){const t=Ct()&&Ms.devicePixelRatio;if(!t||t<2)return;const n=Si("<div>");n.css("border",".5px solid transparent"),Si("body").append(n),1===jn(n)&&(Si(e).addClass("dx-hairlines"),Ys+=" dx-hairlines"),n.remove()}()}function Xs(e,t){Be(Ne).done(()=>{Qs(e,t)})}function Js(e){Be(Ne).done(()=>{Si(e).removeClass(Ys)})}function ea(e,t){return t||(t=zs||Ks()),new RegExp(e).test(t)}function ta(e){return na(e)||ia(e)}function na(e){return ea("material",e)}function ia(e){return ea("fluent",e)}function ra(e){return ea("generic",e)}function oa(e,t){const n=mt.getDocument(),i=n.createElement("span");i.style.position="absolute",i.style.top="-9999px",i.style.left="-9999px",i.style.visibility="hidden",i.style.fontFamily="Arial",i.style.fontSize="250px",i.style.fontWeight=t,i.innerHTML=e,n.body.appendChild(i);const r=i.offsetWidth;i.style.fontFamily="Roboto, RobotoFallback, Arial";const o=i.offsetWidth;return i.parentNode.removeChild(i),r!==o}function sa(e,t){return new Promise(n=>{const i=()=>{clearInterval(r),clearTimeout(o),n()},r=setInterval(()=>{oa(e,t)&&i()},15),o=setTimeout(i,2e3)})}function aa(){if(Gs({_autoInit:!0,_forceTimeout:!0}),Si($s,Hs).length)throw Ps.Error("E0022")}Ct()?aa():Rs(aa),Ns.add(function(e,t){Fs.done(function(){Js(t),Xs(e)})}),Is.changed.add(function(){Gs({_autoInit:!0})});const la=Ct()?St():{};let ca=function(e){return setTimeout(e,16.666666666666668)},ua=function(e){clearTimeout(e)};const da=yt(function(){const e=la.requestAnimationFrame||la.webkitRequestAnimationFrame||la.mozRequestAnimationFrame||la.oRequestAnimationFrame||la.msRequestAnimationFrame,t=la.cancelAnimationFrame||la.webkitCancelAnimationFrame||la.mozCancelAnimationFrame||la.oCancelAnimationFrame||la.msCancelAnimationFrame;e&&t&&(ca=e,ua=t)});function ha(){return da(),ca.apply(la,arguments)}function pa(){da(),ua.apply(la,arguments)}let fa=function(e){return e&&e.get?e.get(0):e};function ma(e){return fa(e)}const _a=/matrix(3d)?\((.+?)\)/,ga=/translate(?:3d)?\((.+?)\)/,va=function(e){e=Si(e);const t=Sa(e);return{left:t.x,top:t.y}};function ya(e){return"string"===h(e)&&"%"===e[e.length-1]}function ba(e,t){e.length&&un(e.get(0),"dxTranslator",t)}const Ca=function(e){e.length&&dn(e.get(0),"dxTranslator")},xa=function(e){e.x=e.x||0,e.y=e.y||0;return"translate("+(ya(e.x)?e.x:e.x+"px")+", "+(ya(e.y)?e.y:e.y+"px")+")"},Sa=function(e){let t=e.length?un(e.get(0),"dxTranslator"):null;if(!t){let n=(e.css("transform")||xa({x:0,y:0})).match(_a);const i=n&&n[1];n?(n=n[2].split(","),"3d"===i?n=n.slice(12,15):(n.push(0),n=n.slice(4,7))):n=[0,0,0],t={x:parseFloat(n[0]),y:parseFloat(n[1]),z:parseFloat(n[2])},ba(e,t)}return t},wa=function(e,t){e=Si(e);const n=t.left,i=t.top;let r;void 0===n?(r=Sa(e),r.y=i||0):void 0===i?(r=Sa(e),r.x=n||0):(r={x:n||0,y:i||0,z:0},ba(e,r)),e.css({transform:xa(r)}),(ya(n)||ya(i))&&Ca(e)},Ea=function(e,t){let n;e=Si(e);const i={left:0,top:0,transform:"none"};t&&(n=e.css("transition"),i.transition="none"),e.css(i),Ca(e),t&&(e.get(0).offsetHeight,e.css("transition",n))},Ia=/cubic-bezier\((\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\)/,ka={linear:"cubic-bezier(0, 0, 1, 1)",swing:"cubic-bezier(0.445, 0.05, 0.55, 0.95)",ease:"cubic-bezier(0.25, 0.1, 0.25, 1)","ease-in":"cubic-bezier(0.42, 0, 1, 1)","ease-out":"cubic-bezier(0, 0, 0.58, 1)","ease-in-out":"cubic-bezier(0.42, 0, 0.58, 1)"};let Da={};const Oa=function(e){let t,n=(e=ka[e]||e).match(Ia);n||(t="linear",n=ka[t].match(Ia)),n=n.slice(1,5);for(let r=0;r<n.length;r++)n[r]=parseFloat(n[r]);const i=t||"cubicbezier_"+n.join("_").replace(/\./g,"p");return g(Da[i])||(Da[i]=function(e,t,i,r,o){return r*function(e,t,n,i){const r=3*e,o=3*(n-e)-r,s=1-r-o,a=3*t,l=3*(i-t)-a,c=1-a-l,u=function(e){return e*(r+e*(o+e*s))},d=function(e){return r+e*(2*o+3*e*s)};return function(e){return function(e){return e*(a+e*(l+e*c))}(function(e){let t,n=e,i=0;for(;i<14&&(t=u(n)-e,!(Math.abs(t)<.001));)n-=t/d(n),i++;return n}(e))}}(n[0],n[1],n[2],n[3])(t/o)+i}),i};const Ta=e=>e??le().rtlEnabled?"right":"left",Aa=e=>{var t;return w(e)?{width:e.outerWidth,height:e.outerHeight}:null===(t=e.getBoundingClientRect)||void 0===t?void 0:t.call(e)},Pa=St(),Ma=/left|right/,Ra=/top|bottom/,Ba=/fit|flip|none/,Na=/scale\(.+?\)/,Fa=br.safari,$a=function(e){const t={h:"center",v:"center"},n=Ye(e);return n&&l(n,function(){const e=String(this).toLowerCase();Ma.test(e)?t.h=e:Ra.test(e)&&(t.v=e)}),t},Ha=function(e,t){return Qe(e,t)},La=function(e){switch(e){case"center":return.5;case"right":case"bottom":return 1;default:return 0}},Va=function(e){switch(e){case"left":return"right";case"right":return"left";case"top":return"bottom";case"bottom":return"top";default:return e}},za=function(e,t){let n=0;return e.myLocation<t.min&&(n+=t.min-e.myLocation),e.myLocation>t.max&&(n+=e.myLocation-t.max),n},ja=function(e,t,n){return t.myLocation<n.min?"h"===e?"left":"top":t.myLocation>n.max?"h"===e?"right":"bottom":"none"},Wa=function(e){e.myLocation=e.atLocation+La(e.atAlign)*e.atSize-La(e.myAlign)*e.mySize+e.offset},Ka={fit:function(e,t){let n=!1;e.myLocation>t.max&&(e.myLocation=t.max,n=!0),e.myLocation<t.min&&(e.myLocation=t.min,n=!0),e.fit=n},flip:function(e,t){if(e.flip=!1,("center"!==e.myAlign||"center"!==e.atAlign)&&(e.myLocation<t.min||e.myLocation>t.max)){const n=A({},e,{myAlign:Va(e.myAlign),atAlign:Va(e.atAlign),offset:-e.offset});Wa(n),n.oversize=za(n,t),(n.myLocation>=t.min&&n.myLocation<=t.max||e.oversize>n.oversize)&&(e.myLocation=n.myLocation,e.oversize=n.oversize,e.flip=!0)}},flipfit:function(e,t){this.flip(e,t),this.fit(e,t)},none:function(e){e.oversize=0}};let Ua;const qa=function(){const e=Si("<div>").css({width:100,height:100,overflow:"scroll",position:"absolute",top:-9999}).appendTo(Si("body")),t=e.get(0).offsetWidth-e.get(0).clientWidth;e.remove(),Ua=t},Ga={h:{location:0,flip:!1,fit:!1,oversize:0},v:{location:0,flip:!1,fit:!1,oversize:0}},Za=function(e,t){const n=Si(e),i=n.offset(),r=A(!0,{},Ga,{h:{location:i.left},v:{location:i.top}});if(!t)return r;const o=$a(t.my),s=$a(t.at);let a=Si(t.of).length&&t.of||Pa;const l=Ha(t.offset,t.precise),c=function(e){const t=Ye(e);let n=String(t&&t[0]).toLowerCase(),i=String(t&&t[1]).toLowerCase();return Ba.test(n)||(n="none"),Ba.test(i)||(i=n),{h:n,v:i}}(t.collision),u=t.boundary,d=Ha(t.boundaryOffset,t.precise),h={mySize:zn(n),myAlign:o.h,atAlign:s.h,offset:l.h,collision:c.h,boundaryOffset:d.h},p={mySize:jn(n),myAlign:o.v,atAlign:s.v,offset:l.v,collision:c.v,boundaryOffset:d.v};if(a.preventDefault)h.atLocation=a.pageX,p.atLocation=a.pageY,h.atSize=0,p.atSize=0;else if(a=Si(a),w(a[0]))h.atLocation=a.scrollLeft(),p.atLocation=a.scrollTop(),"phone"===Is.real().deviceType&&a[0].visualViewport?(h.atLocation=Math.max(h.atLocation,a[0].visualViewport.offsetLeft),p.atLocation=Math.max(p.atLocation,a[0].visualViewport.offsetTop),h.atSize=a[0].visualViewport.width,p.atSize=a[0].visualViewport.height):(h.atSize=a[0].innerWidth>a[0].outerWidth?a[0].innerWidth:$n(a),p.atSize=a[0].innerHeight>a[0].outerHeight||Fa?a[0].innerHeight:Ln(a));else if(9===a[0].nodeType)h.atLocation=0,p.atLocation=0,h.atSize=$n(a),p.atSize=Ln(a);else{const e=Aa(a.get(0)),t=Qa(a);h.atLocation=t.left,p.atLocation=t.top,h.atSize=Math.max(e.width,zn(a)),p.atSize=Math.max(e.height,jn(a))}Wa(h),Wa(p);const f=function(){const e=Si(Pa),t=$n(e),n=Ln(e);let i=e.scrollLeft(),r=e.scrollTop();const o=mt.getDocumentElement(),s=ho?o.clientWidth/t:1,a=ho?o.clientHeight/n:1;void 0===Ua&&qa();let l=t,c=n;if(u&&!w(u)){const e=Si(u),t=e.offset();i=t.left,r=t.top,l=$n(e),c=Ln(e)}return{h:{min:i+h.boundaryOffset,max:i+l/s-h.mySize-h.boundaryOffset},v:{min:r+p.boundaryOffset,max:r+c/a-p.mySize-p.boundaryOffset}}}();h.oversize=za(h,f.h),p.oversize=za(p,f.v),h.collisionSide=ja("h",h,f.h),p.collisionSide=ja("v",p,f.v),Ka[h.collision]&&Ka[h.collision](h,f.h),Ka[p.collision]&&Ka[p.collision](p,f.v);const m=function(e){return t.precise?e:Math.round(e)};return A(!0,r,{h:{location:m(h.myLocation),oversize:m(h.oversize),fit:h.fit,flip:h.flip,collisionSide:h.collisionSide},v:{location:m(p.myLocation),oversize:m(p.oversize),fit:p.fit,flip:p.flip,collisionSide:p.collisionSide},precise:t.precise}),r},Ya=function(e,t,n,i){const r=_(e.style)&&!mt.isNode(e.style),o=i?n.replace(t,""):n;if(r)di(e,o,!1);else{const t=mt.createAttribute("style");t.value=o,e.setAttributeNode(t)}},Qa=function(e){var t,n;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e;const r=i.get(0);if(!r)return e.offset();const o=(null===(t=r.getAttribute)||void 0===t?void 0:t.call(r,"style"))||"",s=null===(n=o.match(Na))||void 0===n?void 0:n[0];let a;return s?(Ya(r,s,o,!0),a=Qa(e,i.parent()),Ya(r,s,o,!1)):a=Qa(e,i.parent()),a},Xa=function(e,t){const n=Si(e);if(!t)return n.offset();Ea(n,!0);const i=Qa(n),r=t.h&&t.v?t:Za(n,t),o=function(e){return t.precise?e:Math.round(e)};return wa(n,{left:r.h.location-o(i.left),top:r.v.location-o(i.top)}),r};Xa.inverseAlign||(Xa.inverseAlign=Va),Xa.normalizeAlign||(Xa.normalizeAlign=$a);const Ja={calculateScrollbarWidth:qa,calculate:Za,setup:Xa,offset:function(e){return e=Si(e).get(0),w(e)?null:e&&"pageY"in e&&"pageX"in e?{top:e.pageY,left:e.pageX}:Si(e).offset()}},el=St(),tl=or(Ii,"dxFX"),nl=/^([+-])=(.*)/i,il={initAnimation:function(e,t){e.css({transitionProperty:"none"}),"string"===typeof t.from?e.addClass(t.from):Il(e,t.from);const n=this,i=new Re,r=t.cleanupWhen;t.transitionAnimation={deferred:i,finish:function(){n._finishTransition(e),r?Be(i,r).always(function(){n._cleanup(e,t)}):n._cleanup(e,t),i.resolveWith(e,[t,e])}},this._completeAnimationCallback(e,t).done(function(){t.transitionAnimation.finish()}).fail(function(){i.rejectWith(e,[t,e])}),t.duration||t.transitionAnimation.finish(),e.css("transform")},animate:function(e,t){return this._startAnimation(e,t),t.transitionAnimation.deferred.promise()},_completeAnimationCallback:function(e,t){const n=this,i=Date.now()+t.delay,r=new Re,o=new Re,s=new Re;let a;const l=go.transitionEndEventName()+".dxFX";t.transitionAnimation.cleanup=function(){clearTimeout(a),clearTimeout(c),rn.off(e,l),rn.off(e,tl)},rn.one(e,l,function(){Date.now()-i>=t.duration&&o.reject()}),rn.off(e,tl),rn.on(e,tl,function(){n.stop(e,t),r.reject()});const c=setTimeout(function(){a=setTimeout(function(){s.reject()},t.duration+t.delay+kl._simulatedTransitionEndDelay),Be(o,s).fail(function(){r.resolve()}.bind(this))});return r.promise()},_startAnimation:function(e,t){e.css({transitionProperty:"all",transitionDelay:t.delay+"ms",transitionDuration:t.duration+"ms",transitionTimingFunction:t.easing}),"string"===typeof t.to?e[0].className+=" "+t.to:t.to&&Il(e,t.to)},_finishTransition:function(e){e.css("transition","none")},_cleanup:function(e,t){t.transitionAnimation.cleanup(),"string"===typeof t.from&&(e.removeClass(t.from),e.removeClass(t.to))},stop:function(e,t,n){t&&(n?t.transitionAnimation.finish():(x(t.to)&&l(t.to,function(t){e.css(t,e.css(t))}),this._finishTransition(e),this._cleanup(e,t)))}},rl={initAnimation:function(e,t){Il(e,t.from)},animate:function(e,t){const n=new Re,i=this;return t?(l(t.to,function(n){void 0===t.from[n]&&(t.from[n]=i._normalizeValue(e.css(n)))}),t.to.transform&&(t.from.transform=i._parseTransform(t.from.transform),t.to.transform=i._parseTransform(t.to.transform)),t.frameAnimation={to:t.to,from:t.from,currentValue:t.from,easing:Oa(t.easing),duration:t.duration,startTime:(new Date).valueOf(),finish:function(){this.currentValue=this.to,this.draw(),pa(t.frameAnimation.animationFrameId),n.resolve()},draw:function(){if(t.draw)return void t.draw(this.currentValue);const n=A({},this.currentValue);n.transform&&(n.transform=a(n.transform,function(e,t){return"translate"===t?xa(e):"scale"===t?"scale("+e+")":"rotate"===t.substr(0,t.length-1)?t+"("+e+"deg)":void 0}).join(" ")),e.css(n)}},t.delay?(t.frameAnimation.startTime+=t.delay,t.frameAnimation.delayTimeout=setTimeout(function(){i._startAnimation(e,t)},t.delay)):i._startAnimation(e,t),n.promise()):n.reject().promise()},_startAnimation:function(e,t){rn.off(e,tl),rn.on(e,tl,function(){t.frameAnimation&&pa(t.frameAnimation.animationFrameId)}),this._animationStep(e,t)},_parseTransform:function(e){const t={};return l(e.match(/\w+\d*\w*\([^)]*\)\s*/g),function(e,n){const i=function(e){let t=e.match(ga);if(t&&t[1])return t=t[1].split(","),t={x:parseFloat(t[0]),y:parseFloat(t[1]),z:parseFloat(t[2])},t}(n),r=n.match(/scale\((.+?)\)/),o=n.match(/(rotate.)\((.+)deg\)/);i&&(t.translate=i),r&&r[1]&&(t.scale=parseFloat(r[1])),o&&o[1]&&(t[o[1]]=parseFloat(o[2]))}),t},stop:function(e,t,n){const i=t&&t.frameAnimation;i&&(pa(i.animationFrameId),clearTimeout(i.delayTimeout),n&&i.finish(),delete t.frameAnimation)},_animationStep:function(e,t){const n=t&&t.frameAnimation;if(!n)return;const i=(new Date).valueOf();if(i>=n.startTime+n.duration)return void n.finish();n.currentValue=this._calcStepValue(n,i-n.startTime),n.draw();const r=this;n.animationFrameId=ha(function(){r._animationStep(e,t)})},_calcStepValue:function(e,t){const n=function(i,r){const o=Array.isArray(r)?[]:{};return l(r,function(s,a){if("string"===typeof a&&!1===parseFloat(a))return!0;o[s]="object"===typeof a?n(i[s],a):function(n){const o=t/e.duration,s=t,a=1*i[n],l=r[n]-i[n],c=e.duration;return(u=e.easing,Da[u])(o,s,a,l,c);var u}(s)}),o};return n(e.from,e.to)},_normalizeValue:function(e){const t=parseFloat(e);return!1===t?e:t}},ol={initAnimation:function(){},animate:function(){return(new Re).resolve().promise()},stop:tt,isSynchronous:!0},sl=function(e,t,n,i){l(["from","to"],function(){if(!n(e[this]))throw W.Error("E0010",t,this,i)})},al=function(e,t){return sl(e,t,function(e){return x(e)},"a plain object")},ll={validateConfig:function(e){!function(e,t){sl(e,t,function(e){return"string"===typeof e},"a string")}(e,"css")},setup:function(){}},cl={top:{my:"bottom center",at:"top center"},bottom:{my:"top center",at:"bottom center"},right:{my:"left center",at:"right center"},left:{my:"right center",at:"left center"}},ul={validateConfig:function(e){al(e,"slide")},setup:function(e,t){const n=va(e);if("slide"!==t.type){const n="slideIn"===t.type?t.from:t.to;n.position=A({of:el},cl[t.direction]),El(e,n)}this._setUpConfig(n,t.from),this._setUpConfig(n,t.to),Ca(e)},_setUpConfig:function(e,t){t.left="left"in t?t.left:"+=0",t.top="top"in t?t.top:"+=0",this._initNewPosition(e,t)},_initNewPosition:function(e,t){const n={left:t.left,top:t.top};delete t.left,delete t.top;let i=this._getRelativeValue(n.left);void 0!==i?n.left=i+e.left:t.left=0,i=this._getRelativeValue(n.top),void 0!==i?n.top=i+e.top:t.top=0,t.transform=xa({x:n.left,y:n.top})},_getRelativeValue:function(e){let t;if("string"===typeof e&&(t=nl.exec(e)))return parseInt(t[1]+"1")*t[2]}},dl={setup:function(e,t){const n=t.from,i=t.to,r="fadeOut"===t.type?1:0,o="fadeOut"===t.type?0:1;let s=x(n)?String(n.opacity??r):String(n),a=x(i)?String(i.opacity??o):String(i);switch(t.skipElementInitialStyles||(s=e.css("opacity")),t.type){case"fadeIn":a=1;break;case"fadeOut":a=0}t.from={visibility:"visible",opacity:s},t.to={opacity:a}}},hl={validateConfig:function(e){al(e,"pop")},setup:function(e,t){const n=t.from,i=t.to,r="opacity"in n?n.opacity:e.css("opacity"),o="opacity"in i?i.opacity:1,s="scale"in n?n.scale:0,a="scale"in i?i.scale:1;t.from={opacity:r};const l=Sa(e);t.from.transform=this._getCssTransform(l,s),t.to={opacity:o},t.to.transform=this._getCssTransform(l,a)},_getCssTransform:function(e,t){return xa(e)+"scale("+t+")"}},pl={custom:{setup:function(){}},slide:ul,slideIn:ul,slideOut:ul,fade:dl,fadeIn:dl,fadeOut:dl,pop:hl,css:ll},fl={type:"custom",from:{},to:{},duration:400,start:tt,complete:tt,easing:"ease",delay:0},ml={duration:400,easing:"ease",delay:0};function _l(){const e=this.element,t=this.config;if(El(e,t.from),El(e,t.to),this.configurator.setup(e,t),e.data("dxAnimData",this),kl.off&&(t.duration=0,t.delay=0),this.strategy.initAnimation(e,t),t.start){const n=ma(e);t.start.apply(this,[n,t])}}const gl=function(){const e=this,t=e.element,n=e.config;return e.isStarted=!0,e.strategy.animate(t,n).done(function(){!function(e){const t=e.element,n=e.config;if(t.removeData("dxAnimData"),n.complete){const e=ma(t);n.complete.apply(this,[e,n])}e.deferred.resolveWith(this,[t,n])}(e)}).fail(function(){e.deferred.rejectWith(this,[t,n])})},vl=function(e){const t=this,n=t.element,i=t.config;clearTimeout(t.startTimeout),t.isStarted||t.start(),t.strategy.stop(n,i,e)},yl=or(Ii,"dxFXStartAnimation"),bl=function(e,t){const n="css"===t.type?ml:fl,i=A(!0,{},n,t),r=function(e){const t=pl[e.type];if(!t)throw W.Error("E0011",e.type);return t}(i),o=function(e){e=e||{};const t={transition:go.transition()?il:rl,frame:rl,noAnimation:ol};let n=e.strategy||"transition";return"css"!==e.type||go.transition()||(n="noAnimation"),t[n]}(i),s={element:Si(e),config:i,configurator:r,strategy:o,isSynchronous:o.isSynchronous,setup:_l,start:gl,stop:vl,deferred:new Re};return g(r.validateConfig)&&r.validateConfig(i),function(e){rn.off(e.element,yl),rn.on(e.element,yl,function(){kl.stop(e.element)}),e.deferred.always(function(){rn.off(e.element,yl)})}(s),s};function Cl(e){return e.data("dxAnimQueue")||[]}const xl=function(e){e.removeData("dxAnimQueue")};function Sl(e){return!!e.data("dxAnimData")}function wl(e,t){if(!(t=Cl(e)).length)return;const n=t.shift();0===t.length&&xl(e),function(e){e.setup(),kl.off||e.isSynchronous?e.start():e.startTimeout=setTimeout(function(){e.start()});return e.deferred.promise()}(n).done(function(){Sl(e)||wl(e)})}function El(e,t){if(!t||!t.position)return;const n=Si(el);let i=0,r=0;const o=Ja.calculate(e,t.position),s=e.offset(),a=e.position();a.top>s.top&&(r=n.scrollTop()),a.left>s.left&&(i=n.scrollLeft()),A(t,{left:o.h.location-s.left+a.left-i,top:o.v.location-s.top+a.top-r}),delete t.position}function Il(e,t){l(t,function(t,n){try{e.css(t,g(n)?n():n)}catch(i){}})}const kl={off:!1,animationTypes:pl,animate:function(e,t){const n=Si(e);if(!n.length)return(new Re).resolve().promise();const i=bl(n,t);return function(e,t){const n=Cl(e);(function(e,t){e.data("dxAnimQueue",t)})(e,n),n.push(t),Sl(e)||wl(e,n)}(n,i),i.deferred.promise()},createAnimation:bl,isAnimating:Sl,stop:function(e,t){const n=Si(e),i=Cl(n);l(i,function(e,t){t.config.delay=0,t.config.duration=0,t.isSynchronous=!0}),Sl(n)||wl(n,i);const r=n.data("dxAnimData");r&&r.stop(t),n.removeData("dxAnimData"),xl(n)},_simulatedTransitionEndDelay:100},Dl=kl;class Ol{constructor(e,t){t=t||{},this._action=e,this._context=t.context||St(),this._beforeExecute=t.beforeExecute,this._afterExecute=t.afterExecute,this._component=t.component,this._validatingTargetName=t.validatingTargetName;const n=this._excludeValidators={};if(t.excludeValidators)for(let i=0;i<t.excludeValidators.length;i++)n[t.excludeValidators[i]]=!0}execute(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i={action:this._action,args:Array.prototype.slice.call(t),context:this._context,component:this._component,validatingTargetName:this._validatingTargetName,cancel:!1,handled:!1},r=this._beforeExecute,o=this._afterExecute,s=i.args[0]||{};if(!this._validateAction(i))return;if(null===r||void 0===r||r.call(this._context,i),i.cancel)return;const a=this._executeAction(i);return s.cancel?void 0:(null===o||void 0===o||o.call(this._context,i),a)}_validateAction(e){const t=this._excludeValidators,{executors:n}=Ol;for(const r in n)if(!t[r]){var i;const t=n[r];if(null===(i=t.validate)||void 0===i||i.call(t,e),e.cancel)return!1}return!0}_executeAction(e){let t;const{executors:n}=Ol;for(const r in n){var i;const o=n[r];if(null===(i=o.execute)||void 0===i||i.call(o,e),e.handled){t=e.result;break}}return t}static registerExecutor(e,t){x(e)?l(e,Ol.registerExecutor):Ol.executors[e]=t}static unregisterExecutor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];l(t,function(){delete Ol.executors[this]})}}Ol.executors={};const Tl=e=>t=>{if(!t.args.length)return;const n=t.args[0],i=n[t.validatingTargetName]||n.element;i&&e(Si(i))&&(t.cancel=!0)};Ol.registerExecutor({disabled:{validate:Tl(e=>e.is(".dx-state-disabled, .dx-state-disabled *"))},readOnly:{validate:Tl(e=>e.is(".dx-state-readonly, .dx-state-readonly *:not(.dx-state-independent)"))},undefined:{execute:e=>{e.action||(e.result=void 0,e.handled=!0)}},func:{execute:e=>{g(e.action)&&(e.result=e.action.call(e.context,e.args[0]),e.handled=!0)}}});const Al=Ol,Pl={},Ml=e=>{const t=Is.current();return e.reduce((e,n)=>{let{device:i,options:r}=n;const o=i||{};return(g(o)?o(t):Rl(t,o))&&A(!0,e,r),e},{})},Rl=(e,t)=>C(t)||Ge(e,[t]).length>0,Bl=e=>e.substr(e.lastIndexOf(".")+1),Nl=e=>e.substr(0,e.lastIndexOf(".")),Fl={},$l={};class Hl{constructor(e,t){this._options=e,this._optionsByReference=t,this._changingCallback,this._changedCallback,this._namePreparedCallbacks,this._validateOptionsCallback}_setByReference(e,t){A(!0,e,t);for(const n in this._optionsByReference)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}_setPreparedValue(e,t,n,i){const r=this.get(this._options,e,!1);if(s=t,o=Oe(o=r,!0),s=Oe(s,!0),!(o&&s&&E(o)&&E(s)?s.is(o):o!==o&&s!==s||(0===o&&0===s?function(e,t){return 1/e===1/t}(o,s):(null===o||"object"!==typeof o||mt.isElementNode(o))&&o===s))){const o=be(e);!i&&this._changingCallback(e,r,t),$l[e]=$l[e]||De(e),$l[e](this._options,t,{functionsAsIs:!0,merge:_(n)?n:!this._optionsByReference[e],unwrapObservables:o.length>1&&!!this._optionsByReference[o[0]]}),!i&&this._changedCallback(e,t,r)}var o,s}_prepareRelevantNames(e,t,n,i){if(x(n))for(const r in n)this._prepareRelevantNames(e,`${t}.${r}`,n[r]);this._namePreparedCallbacks(e,t,n,i)}get(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._options,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return Fl[t]=Fl[t]||we(t),Fl[t](e,{functionsAsIs:!0,unwrapObservables:n})}set(e,t,n,i){e=((e,t)=>"string"!==typeof e?e:{[e]:t})(e,t);for(const r in e)this._prepareRelevantNames(e,r,e[r],i);this._validateOptionsCallback&&(e=this._validateOptionsCallback(e));for(const r in e)this._setPreparedValue(r,e[r],n,i)}onRelevantNamesPrepared(e){this._namePreparedCallbacks=e}onChanging(e){this._changingCallback=e}onChanged(e){this._changedCallback=e}onValidateOptions(e){this._validateOptionsCallback=e}dispose(){this._changingCallback=tt,this._changedCallback=tt}}class Ll{constructor(e,t,n,i){this._deprecatedCallback,this._startChangeCallback,this._endChangeCallback,this._validateOptionsCallback,this._default=t,this._deprecated=i,this._deprecatedNames=[],this._initDeprecatedNames(),this._optionManager=new Hl(e,n),this._optionManager.onRelevantNamesPrepared((e,t,n,i)=>this._setRelevantNames(e,t,n,i)),this._cachedOptions={},this._rules=[]}set _initial(e){this._initialOptions=e}get _initial(){if(!this._initialOptions){const e=this._getByRules(this.silent("defaultOptionsRules"));this._initialOptions=this._default,this._optionManager._setByReference(this._initialOptions,e)}return this._initialOptions}_initDeprecatedNames(){for(const e in this._deprecated)this._deprecatedNames.push(e)}_getByRules(e){return e=Array.isArray(e)?this._rules.concat(e):this._rules,Ml(e)}_notifyDeprecated(e){const t=this._deprecated[e];t&&this._deprecatedCallback(e,t)}_setRelevantNames(e,t,n,i){if(t){const r=this._normalizeName(t,i);r&&r!==t&&(this._setField(e,r,n),this._clearField(e,t))}}_setField(e,t,n){let i="",r=null;do{i=i?`.${i}`:"",i=Bl(t)+i,r=(t=Nl(t))?this._optionManager.get(e,t,!1):e}while(!r);r[i]=n}_clearField(e,t){delete e[t];const n=Nl(t),i=n?this._optionManager.get(e,n,!1):e;i&&delete i[Bl(t)]}_normalizeName(e,t){if(this._deprecatedNames.length&&e)for(let n=0;n<this._deprecatedNames.length;n++)if(this._deprecatedNames[n]===e){const n=this._deprecated[e];if(n)return!t&&this._notifyDeprecated(e),n.alias||e}return e}addRules(e){this._rules=e.concat(this._rules)}applyRules(e){const t=this._getByRules(e);this.silent(t)}dispose(){this._deprecatedCallback=tt,this._startChangeCallback=tt,this._endChangeCallback=tt,this._optionManager.dispose()}onChanging(e){this._optionManager.onChanging(e)}onChanged(e){this._optionManager.onChanged(e)}validateOptions(e){this._optionManager.onValidateOptions(e)}onDeprecated(e){this._deprecatedCallback=e}onStartChange(e){this._startChangeCallback=e}onEndChange(e){this._endChangeCallback=e}isInitial(e){const t=this.silent(e),n=this.initial(e);return g(t)&&g(n)?t.toString()===n.toString():st(t,n)}initial(e){return function(e,t){return Pl[t]=Pl[t]||we(t),Pl[t](e,{functionsAsIs:!0})}(this._initial,e)}option(e,t){if(arguments.length<2&&"object"!==h(e))return this._optionManager.get(void 0,this._normalizeName(e));this._startChangeCallback();try{this._optionManager.set(e,t)}finally{this._endChangeCallback()}}silent(e,t){if(arguments.length<2&&"object"!==h(e))return this._optionManager.get(void 0,e,void 0,!0);this._optionManager.set(e,t,void 0,!0)}reset(e){if(e){const t=be(e).reduce((e,t)=>e?e[t]:this.initial(t),null),n=b(t)?K({},t):t;this._optionManager.set(e,n,!1)}}getAliasesByName(e){return Object.keys(this._deprecated).filter(t=>e===this._deprecated[t].alias)}isDeprecated(e){return Object.prototype.hasOwnProperty.call(this._deprecated,e)}cache(e,t){if(arguments.length<2)return this._cachedOptions[e];this._cachedOptions[e]=A(this._cachedOptions[e],t)}}class Vl{constructor(){this._postponedOperations={}}add(e,t,n){if(e in this._postponedOperations)n&&this._postponedOperations[e].promises.push(n);else{const i=new Re;this._postponedOperations[e]={fn:t,completePromise:i,promises:n?[n]:[]}}return this._postponedOperations[e].completePromise.promise()}callPostponedOperations(){for(const e in this._postponedOperations){const t=this._postponedOperations[e];_(t)&&(t.promises&&t.promises.length?Be(...t.promises).done(t.fn).then(t.completePromise.resolve):t.fn().done(t.completePromise.resolve))}this._postponedOperations={}}}const zl=e=>e.charAt(2).toLowerCase()+e.substr(3),jl=e=>0===e.indexOf("_",0);class Wl extends(ie.inherit({})){_setDeprecatedOptions(){this._deprecatedOptions={}}_getDeprecatedOptions(){return this._deprecatedOptions}_getDefaultOptions(){return{onInitialized:null,onOptionChanged:null,onDisposing:null,defaultOptionsRules:null}}_defaultOptionsRules(){return[]}_setOptionsByDevice(e){this._options.applyRules(e)}_convertRulesToOptions(e){return Ml(e)}_isInitialOptionValue(e){return this._options.isInitial(e)}_setOptionsByReference(){this._optionsByReference={}}_getOptionsByReference(){return this._optionsByReference}ctor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{_optionChangedCallbacks:t,_disposingCallbacks:n}=e;this.NAME=Ti(this.constructor),this._eventsStrategy=Fr.create(this,e.eventsStrategy),this._updateLockCount=0,this._optionChangedCallbacks=t||s(),this._disposingCallbacks=n||s(),this.postponedOperations=new Vl,this._createOptions(e)}_createOptions(e){this.beginUpdate();try{this._setOptionsByReference(),this._setDeprecatedOptions(),this._options=new Ll(this._getDefaultOptions(),this._getDefaultOptions(),this._getOptionsByReference(),this._getDeprecatedOptions()),this._options.onChanging((e,t,n)=>this._initialized&&this._optionChanging(e,t,n)),this._options.onDeprecated((e,t)=>this._logDeprecatedOptionWarning(e,t)),this._options.onChanged((e,t,n)=>this._notifyOptionChanged(e,t,n)),this._options.onStartChange(()=>this.beginUpdate()),this._options.onEndChange(()=>this.endUpdate()),this._options.addRules(this._defaultOptionsRules()),this._options.validateOptions(e=>this._validateOptions(e)),e&&e.onInitializing&&e.onInitializing.apply(this,[e]),this._setOptionsByDevice(e.defaultOptionsRules),this._initOptions(e)}finally{this.endUpdate()}}_initOptions(e){this.option(e)}_init(){this._createOptionChangedAction(),this.on("disposing",e=>{this._disposingCallbacks.fireWith(this,[e])})}_logDeprecatedOptionWarning(e,t){const n=t.message||`Use the '${t.alias}' option instead`;W.log("W0001",this.NAME,e,t.since,n)}_logDeprecatedComponentWarning(e,t){W.log("W0000",this.NAME,e,`Use the '${t}' widget instead`)}_createOptionChangedAction(){this._optionChangedAction=this._createActionByOption("onOptionChanged",{excludeValidators:["disabled","readOnly"]})}_createDisposingAction(){this._disposingAction=this._createActionByOption("onDisposing",{excludeValidators:["disabled","readOnly"]})}_optionChanged(e){const{name:t}=e;switch(t){case"onDisposing":case"onInitialized":case"defaultOptionsRules":default:break;case"onOptionChanged":this._createOptionChangedAction()}}_dispose(){var e;this._optionChangedCallbacks.empty(),this._createDisposingAction(),null===(e=this._disposingAction)||void 0===e||e.call(this),this._eventsStrategy.dispose(),this._options.dispose(),this._disposed=!0}_lockUpdate(){this._updateLockCount++}_unlockUpdate(){this._updateLockCount=Math.max(this._updateLockCount-1,0)}_isUpdateAllowed(){return 0===this._updateLockCount}_isInitializingRequired(){return!this._initializing&&!this._initialized}isInitialized(){return this._initialized}_commitUpdate(){this.postponedOperations.callPostponedOperations(),this._isInitializingRequired()&&this._initializeComponent()}_initializeComponent(){this._initializing=!0;try{this._init()}finally{this._initializing=!1,this._lockUpdate(),this._createActionByOption("onInitialized",{excludeValidators:["disabled","readOnly"]})(),this._unlockUpdate(),this._initialized=!0}}instance(){return this}beginUpdate(){this._lockUpdate()}endUpdate(){this._unlockUpdate(),this._isUpdateAllowed()&&this._commitUpdate()}_optionChanging(){}_notifyOptionChanged(e,t,n){if(this._initialized){const r=[e].concat(this._options.getAliasesByName(e));for(let e=0;e<r.length;e++){const o=r[e],s={name:be(o)[0],fullName:o,value:t,previousValue:n};var i;if(!jl(o))this._optionChangedCallbacks.fireWith(this,[A(this._defaultActionArgs(),s)]),null===(i=this._optionChangedAction)||void 0===i||i.call(this,A({},s));this._disposed||this._cancelOptionChange===o||this._optionChanged(s)}}}initialOption(e){return this._options.initial(e)}_defaultActionConfig(){return{context:this,component:this}}_defaultActionArgs(){return{component:this}}_createAction(e,t){let n;return i=>(_(i)||(i={}),x(i)||(i={actionValue:i}),n=n||new Al(e,A({},t,this._defaultActionConfig())),n.execute.call(n,A(i,this._defaultActionArgs())))}_createActionByOption(e,t){var n=this;let i,r,o;t=A({},t);const s=function(){var s,a;if(!r){if(t=t||{},"string"!==typeof e)throw W.Error("E0008");e.startsWith("on")&&(r=zl(e)),o=n.option(e)}if(i||o||null!==(s=t)&&void 0!==s&&s.beforeExecute||null!==(a=t)&&void 0!==a&&a.afterExecute||n._eventsStrategy.hasEvent(r)){if(!i){const{beforeExecute:e}=t;t.beforeExecute=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];e&&e.apply(n,i),n._eventsStrategy.fireEvent(r,i[0].args)},i=n._createAction(o,t)}for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];if(le().wrapActionsBeforeExecute){return((n.option("beforeActionExecute")||tt)(n,i,t)||i).apply(n,c)}return i.apply(n,c)}};if(le().wrapActionsBeforeExecute)return s;return(this.option("onActionCreated")||tt)(this,s,t)||s}on(e,t){return this._eventsStrategy.on(e,t),this}off(e,t){return this._eventsStrategy.off(e,t),this}hasActionSubscription(e){return!!this._options.silent(e)||this._eventsStrategy.hasEvent(zl(e))}isOptionDeprecated(e){return this._options.isDeprecated(e)}_setOptionWithoutOptionChange(e,t){this._cancelOptionChange=e,this.option(e,t),this._cancelOptionChange=!1}_getOptionValue(e,t){const n=this.option(e);return g(n)?n.bind(t)():n}option(){return this._options.option(...arguments)}resetOption(e){this.beginUpdate(),this._options.reset(e),this.endUpdate()}_validateOptions(e){return e}}const Kl={forward:" dx-forward",backward:" dx-backward",none:" dx-no-direction",undefined:" dx-no-direction"},Ul=Wl.inherit({ctor:function(){this.callBase.apply(this,arguments),this._registeredPresets=[],this.resetToDefaults()},_getDefaultOptions:function(){return A(this.callBase(),{defaultAnimationDuration:400,defaultAnimationDelay:0,defaultStaggerAnimationDuration:300,defaultStaggerAnimationDelay:40,defaultStaggerAnimationStartDelay:500})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(e){return e.phone},options:{defaultStaggerAnimationDuration:350,defaultStaggerAnimationDelay:50,defaultStaggerAnimationStartDelay:0}},{device:function(){return Xr.current().android||Xr.real.android},options:{defaultAnimationDelay:100}}])},_getPresetOptionName:function(e){return"preset_"+e},_createAndroidSlideAnimationConfig:function(e,t){const n=this,i=function(e){return{type:"slide",delay:void 0===e.delay?n.option("defaultAnimationDelay"):e.delay,duration:void 0===e.duration?n.option("defaultAnimationDuration"):e.duration}};return{enter:function(n,r){const o=$n(n.parent())*t,s=r.direction,a=i(r);return a.to={left:0,opacity:1},a.from="forward"===s?{left:o,opacity:e}:"backward"===s?{left:-o,opacity:e}:{left:0,opacity:0},Dl.createAnimation(n,a)},leave:function(n,r){const o=$n(n.parent())*t,s=r.direction,a=i(r);return a.from={left:0,opacity:1},a.to="forward"===s?{left:-o,opacity:e}:"backward"===s?{left:o,opacity:e}:{left:0,opacity:0},Dl.createAnimation(n,a)}}},_createOpenDoorConfig:function(){const e=this,t=function(t){return{type:"css",extraCssClasses:"dx-opendoor-animation",delay:void 0===t.delay?e.option("defaultAnimationDelay"):t.delay,duration:void 0===t.duration?e.option("defaultAnimationDuration"):t.duration}};return{enter:function(e,n){const i=n.direction,r=t(n);return r.delay="none"===i?r.delay:r.duration,r.from="dx-enter dx-opendoor-animation"+Kl[i],r.to="dx-enter-active",Dl.createAnimation(e,r)},leave:function(e,n){const i=n.direction,r=t(n);return r.from="dx-leave dx-opendoor-animation"+Kl[i],r.to="dx-leave-active",Dl.createAnimation(e,r)}}},_createWinPopConfig:function(){const e=this,t={type:"css",extraCssClasses:"dx-win-pop-animation",duration:e.option("defaultAnimationDuration")};return{enter:function(n,i){const r=t,o=i.direction;return r.delay="none"===o?e.option("defaultAnimationDelay"):e.option("defaultAnimationDuration")/2,r.from="dx-enter dx-win-pop-animation"+Kl[o],r.to="dx-enter-active",Dl.createAnimation(n,r)},leave:function(n,i){const r=t,o=i.direction;return r.delay=e.option("defaultAnimationDelay"),r.from="dx-leave dx-win-pop-animation"+Kl[o],r.to="dx-leave-active",Dl.createAnimation(n,r)}}},resetToDefaults:function(){this.clear(),this.registerDefaultPresets(),this.applyChanges()},clear:function(e){const t=this,n=[];l(this._registeredPresets,function(i,r){e&&e!==r.name?n.push(r):t.option(t._getPresetOptionName(r.name),void 0)}),this._registeredPresets=n,this.applyChanges()},registerPreset:function(e,t){this._registeredPresets.push({name:e,config:t})},applyChanges:function(){const e=this,t=[];l(this._registeredPresets,function(n,i){const r={device:i.config.device,options:{}};r.options[e._getPresetOptionName(i.name)]=i.config.animation,t.push(r)}),this._setOptionsByDevice(t)},getPreset:function(e){let t=e;for(;"string"===typeof t;)t=this.option(this._getPresetOptionName(t));return t},registerDefaultPresets:function(){this.registerPreset("pop",{animation:{extraCssClasses:"dx-android-pop-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("openDoor",{animation:this._createOpenDoorConfig()}),this.registerPreset("win-pop",{animation:this._createWinPopConfig()}),this.registerPreset("fade",{animation:{extraCssClasses:"dx-fade-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("slide",{device:function(){return Xr.current().android||Xr.real.android},animation:this._createAndroidSlideAnimationConfig(1,1)}),this.registerPreset("slide",{device:function(){return!Xr.current().android&&!Xr.real.android},animation:{extraCssClasses:"dx-slide-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("ios7-slide",{animation:{extraCssClasses:"dx-ios7-slide-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("overflow",{animation:{extraCssClasses:"dx-overflow-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("ios7-toolbar",{device:function(){return!Xr.current().android&&!Xr.real.android},animation:{extraCssClasses:"dx-ios7-toolbar-animation",delay:this.option("defaultAnimationDelay"),duration:this.option("defaultAnimationDuration")}}),this.registerPreset("ios7-toolbar",{device:function(){return Xr.current().android||Xr.real.android},animation:this._createAndroidSlideAnimationConfig(0,.4)}),this.registerPreset("stagger-fade",{animation:{extraCssClasses:"dx-fade-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-slide",{animation:{extraCssClasses:"dx-slide-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-fade-slide",{animation:{extraCssClasses:"dx-fade-slide-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-drop",{animation:{extraCssClasses:"dx-drop-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-fade-drop",{animation:{extraCssClasses:"dx-fade-drop-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-fade-rise",{animation:{extraCssClasses:"dx-fade-rise-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-3d-drop",{animation:{extraCssClasses:"dx-3d-drop-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}}),this.registerPreset("stagger-fade-zoom",{animation:{extraCssClasses:"dx-fade-zoom-animation",staggerDelay:this.option("defaultStaggerAnimationDelay"),duration:this.option("defaultStaggerAnimationDuration"),delay:this.option("defaultStaggerAnimationStartDelay")}})}}),ql=new Ul,Gl={forward:" dx-forward",backward:" dx-backward",none:" dx-no-direction",undefined:" dx-no-direction"},Zl=(ie.inherit({ctor:function(){this._accumulatedDelays={enter:0,leave:0},this._animations=[],this.reset()},_createAnimations:function(e,t,n,i){e=Si(e);const r=this,o=[];n=n||{};const s=this._prepareElementAnimationConfig(t,n,i);return s&&e.each(function(){const e=r._createAnimation(Si(this),s,n);e&&(e.element.addClass("dx-animating"),e.setup(),o.push(e))}),o},_prepareElementAnimationConfig:function(e,t,n){let i;if("string"===typeof e){const t=e;e=ql.getPreset(t)}if(e)if(g(e[n]))i=e[n];else{if(i=A({skipElementInitialStyles:!0,cleanupWhen:this._completePromise},e,t),!i.type||"css"===i.type){const e="dx-"+n,t=(i.extraCssClasses?" "+i.extraCssClasses:"")+Gl[i.direction];i.type="css",i.from=(i.from||e)+t,i.to=i.to||e+"-active"}i.staggerDelay=i.staggerDelay||0,i.delay=i.delay||0,i.staggerDelay&&(i.delay+=this._accumulatedDelays[n],this._accumulatedDelays[n]+=i.staggerDelay)}else i=void 0;return i},_createAnimation:function(e,t,n){let i;return x(t)?i=Dl.createAnimation(e,t):g(t)&&(i=t(e,n)),i},_startAnimations:function(){const e=this._animations;for(let t=0;t<e.length;t++)e[t].start()},_stopAnimations:function(e){const t=this._animations;for(let n=0;n<t.length;n++)t[n].stop(e)},_clearAnimations:function(){const e=this._animations;for(let t=0;t<e.length;t++)e[t].element.removeClass("dx-animating");this._animations.length=0},reset:function(){this._accumulatedDelays.enter=0,this._accumulatedDelays.leave=0,this._clearAnimations(),this._completeDeferred=new Re,this._completePromise=this._completeDeferred.promise()},enter:function(e,t,n){const i=this._createAnimations(e,t,n,"enter");this._animations.push.apply(this._animations,i)},leave:function(e,t,n){const i=this._createAnimations(e,t,n,"leave");this._animations.push.apply(this._animations,i)},start:function(){const e=this;let t;if(this._animations.length){const n=a(this._animations,function(e){const t=new Re;return e.deferred.always(function(){t.resolve()}),t.promise()});t=Be.apply(Si,n).always(function(){e._completeDeferred.resolve(),e.reset()}),at.executeAsync(function(){e._startAnimations()})}else e.reset(),t=(new Re).resolve().promise();return t},stop:function(e){this._stopAnimations(e)}}),ie.inherit({ctor(e){this._$element=Si(e),this._cancelCallback=s(),this._acceptCallback=s()},getElement(){return this._$element},validate:e=>!Zi(e),validatePointers:e=>1===(e=>{const{originalEvent:t,pointers:n}=e;return Ui(e)?(t.touches||[]).length:Ki(e)?(n||[]).length:0})(e),allowInterruptionByMouseWheel:()=>!0,configure(e){A(this,e)},addCancelCallback(e){this._cancelCallback.add(e)},removeCancelCallback(){this._cancelCallback.empty()},_cancel(e){this._cancelCallback.fire(this,e)},addAcceptCallback(e){this._acceptCallback.add(e)},removeAcceptCallback(){this._acceptCallback.empty()},_accept(e){this._acceptCallback.fire(this,e)},_requestAccept(e){this._acceptRequestEvent=e},_forgetAccept(){this._accept(this._acceptRequestEvent),this._acceptRequestEvent=null},start:tt,move:tt,end:tt,cancel:tt,reset(){this._acceptRequestEvent&&this._accept(this._acceptRequestEvent)},_fireEvent(e,t,n){const i=A({type:e,originalEvent:t,target:this._getEmitterTarget(t),delegateTarget:this.getElement().get(0)},n);return(t=nr(i)).cancel&&this._cancel(t),t},_getEmitterTarget(e){return(this.delegateSelector?Si(e.target).closest(this.delegateSelector):this.getElement()).get(0)},dispose:tt})),Yl=Zl,Ql="dxEventManager",Xl=ie.inherit({ctor(){this._attachHandlers(),this.reset(),this._proxiedCancelHandler=this._cancelHandler.bind(this),this._proxiedAcceptHandler=this._acceptHandler.bind(this)},_attachHandlers(){kr.add(()=>{const e=mt.getDocument();rn.subscribeGlobal(e,or(yo.down,Ql),this._pointerDownHandler.bind(this)),rn.subscribeGlobal(e,or(yo.move,Ql),this._pointerMoveHandler.bind(this)),rn.subscribeGlobal(e,or([yo.up,yo.cancel].join(" "),Ql),this._pointerUpHandler.bind(this)),rn.subscribeGlobal(e,or(ar,Ql),this._mouseWheelHandler.bind(this))})},_eachEmitter(e){const t=this._activeEmitters||[];let n=0;for(;t.length>n;){const i=t[n];if(!1===e(i))break;t[n]===i&&n++}},_applyToEmitters(e,t){this._eachEmitter(n=>{n[e].call(n,t)})},reset(){this._eachEmitter(this._proxiedCancelHandler),this._activeEmitters=[]},resetEmitter(e){this._proxiedCancelHandler(e)},_pointerDownHandler(e){Gi(e)&&e.which>1||this._updateEmitters(e)},_updateEmitters(e){this._isSetChanged(e)&&(this._cleanEmitters(e),this._fetchEmitters(e))},_isSetChanged(e){const t=this._closestEmitter(e),n=this._emittersSet||[];let i=t.length!==n.length;return l(t,(e,t)=>(i=i||n[e]!==t,!i)),this._emittersSet=t,i},_closestEmitter(e){const t=this,n=[];let i=Si(e.target);function r(i,r){r&&r.validatePointers(e)&&r.validate(e)&&(r.addCancelCallback(t._proxiedCancelHandler),r.addAcceptCallback(t._proxiedAcceptHandler),n.push(r))}for(;i.length;){const e=un(i.get(0),"dxEmitter")||[];l(e,r),i=i.parent()}return n},_acceptHandler(e,t){this._eachEmitter(n=>{n!==e&&this._cancelEmitter(n,t)})},_cancelHandler(e,t){this._cancelEmitter(e,t)},_cancelEmitter(e,t){const n=this._activeEmitters;t?e.cancel(t):e.reset(),e.removeCancelCallback(),e.removeAcceptCallback();const i=n.indexOf(e);i>-1&&n.splice(i,1)},_cleanEmitters(e){this._applyToEmitters("end",e),this.reset(e)},_fetchEmitters(e){this._activeEmitters=this._emittersSet.slice(),this._applyToEmitters("start",e)},_pointerMoveHandler(e){this._applyToEmitters("move",e)},_pointerUpHandler(e){this._updateEmitters(e)},_mouseWheelHandler(e){this._allowInterruptionByMouseWheel()&&(e.pointers=[null],this._pointerDownHandler(e),this._adjustWheelEvent(e),this._pointerMoveHandler(e),e.pointers=[],this._pointerUpHandler(e))},_allowInterruptionByMouseWheel(){let e=!0;return this._eachEmitter(t=>(e=t.allowInterruptionByMouseWheel()&&e,e)),e},_adjustWheelEvent(e){let t=null;if(this._eachEmitter(n=>{if(!n.gesture)return;const i=n.getDirection(e);return"horizontal"!==i&&!e.shiftKey||"vertical"!==i&&e.shiftKey?(t=n,!1):void 0}),!t)return;const n=t.getDirection(e),i="both"===n&&!e.shiftKey||"vertical"===n;e[i?"pageY":"pageX"]+=e.delta},isActive(e){let t=!1;return this._eachEmitter(n=>{t=t||n.getElement().is(e)}),t}}),Jl=new Xl,ec=function(e){const t=e.emitter,n=e.events[0],i=e.events;l(i,(r,o)=>{Ei(o,{noBubble:!e.bubble,setup(e){const i=un(e,"dxEmitterSubscription")||{},r=un(e,"dxEmitter")||{},s=r[n]||new t(e);i[o]=!0,r[n]=s,un(e,"dxEmitter",r),un(e,"dxEmitterSubscription",i)},add(e,t){un(e,"dxEmitter")[n].configure(A({delegateSelector:t.selector},t.data),t.type)},teardown(e){const t=un(e,"dxEmitterSubscription"),r=un(e,"dxEmitter"),s=r[n];delete t[o];let a=!0;l(i,(e,n)=>(a=a&&!t[n],a)),a&&(Jl.isActive(e)&&Jl.resetEmitter(s),s&&s.dispose(),delete r[n])}})})};function tc(e){return e&&[e.target,e.delegateTarget,e.relatedTarget,e.currentTarget].filter(e=>!!e)}const nc=St(),ic=(e,t)=>{const n=Si(e),i=Si(t);if(n[0]===i[0])return n[0];const r=n.parents(),o=i.parents();for(let s=-Math.min(r.length,o.length);s<0;s++)if(r.get(s)===o.get(s))return r.get(s)},rc=e=>{let t=Si();return _(e)&&(e.nodeType||E(e))?t=Si(e):"object"!==typeof e&&(t=Si("<div>").html(e).contents()),1===t.length&&(t.is("script")?t=rc(t.html().trim()):t.is("table")&&(t=t.children("tbody").contents())),t},oc=(e,t)=>{const n=e.originalEvent&&e.originalEvent.clipboardData||nc.clipboardData;if(!t)return n&&n.getData("Text");n&&n.setData("Text",t)},sc=(e,t)=>!!t&&(w(e)?sc(e.document,t):e.contains(t)||sc(e,(e=>{if(!e.getRootNode)return;const{host:t}=e.getRootNode();return v(t)?void 0:t})(t))),ac=(e,t,n)=>{const i=nc.getComputedStyle(Si(e).get(0)),r=n&&n.includePaddings;return Si("<div>").text(t).css({fontStyle:i.fontStyle,fontVariant:i.fontVariant,fontWeight:i.fontWeight,fontSize:i.fontSize,fontFamily:i.fontFamily,letterSpacing:i.letterSpacing,border:i.border,paddingTop:r?i.paddingTop:"",paddingRight:r?i.paddingRight:"",paddingBottom:r?i.paddingBottom:"",paddingLeft:r?i.paddingLeft:"",visibility:"hidden",whiteSpace:"pre",position:"absolute",float:"left"})},lc=(e,t)=>(t&&mt.insertElement(e.parentNode,t,e),e),cc=(e,t)=>{if(t&&t[0])return t.is(e)?e:(l(t,(t,n)=>{lc(e[0],n)}),e.remove(),t)},uc={resetActiveElement:()=>{const e=mt.getActiveElement();var t;e&&e!==mt.getBody()&&(null===(t=e.blur)||void 0===t||t.call(e))},clearSelection:()=>{const e=nc.getSelection();if(e&&"Caret"!==e.type)if(e.empty)e.empty();else if(e.removeAllRanges)try{e.removeAllRanges()}catch(t){}},closestCommonParent:ic,extractTemplateMarkup:e=>{const t=(e=Si(e)).length&&e.filter(function(){const e=Si(this);return e.is("script[type]")&&!e.attr("type").includes("script")});return t.length?t.eq(0).html():(e=Si("<div>").append(e)).html()},normalizeTemplateElement:rc,clipboardText:oc,contains:sc,createTextElementHiddenCopy:ac,insertBefore:lc,replaceWith:cc,isElementInDom:e=>{const t=null===e||void 0===e?void 0:e.get(0),n=null===t||void 0===t?void 0:t.getRootNode().host;return!!Si(n||t).closest(St().document).length}},dc="dxclick";let hc=null,pc=null;const fc=()=>{pc=null},mc=function(e){const{originalEvent:t}=e,n=pc===t||t&&t.DXCLICK_FIRED;!(!e.which||1===e.which)||hc||n||(t&&(t.DXCLICK_FIRED=!0),((e,t)=>{rn.off(tc(e),Ii,t)})(pc,fc),pc=t,((e,t)=>{rn.one(tc(e),Ii,t)})(pc,fc),nr({type:"dxclick",originalEvent:e}))},_c=Yl.inherit({ctor(e){this.callBase(e),rn.on(this.getElement(),"click",mc)},start(){hc=null},cancel(){hc=!0},dispose(){rn.off(this.getElement(),"click",mc)}});!function(){if(!Xr.real().generic){let e=null,t=!1;const n=function(e){return Si(e).is("input, textarea, select, button ,:focus, :focus *")},i=function(n){e=n.target,t=n.isDefaultPrevented()},r=function(e){const t=vt(e);return Si(t)},o=function(i){const o=r(i);t||!e||o.is(e)||Si(e).is("label")||!n(o)||uc.resetActiveElement(),e=null,t=!1},s="NATIVE_CLICK_FIXER",a=mt.getDocument();rn.subscribeGlobal(a,or(yo.down,s),i),rn.subscribeGlobal(a,or("click",s),o)}}(),ec({emitter:_c,bubble:!0,events:["dxclick"]});const gc="dxactive",vc=ie.inherit({ctor(e,t){this._timeout=e,this._fire=t},start(){const e=this;this._schedule(()=>{e.force()})},_schedule(e){this.stop(),this._timer=setTimeout(e,this._timeout)},stop(){clearTimeout(this._timer)},force(){this._fired||(this.stop(),this._fire(),this._fired=!0)},fired(){return this._fired}});let yc;const bc=Yl.inherit({ctor(){this.callBase.apply(this,arguments),this._active=new vc(0,tt),this._inactive=new vc(0,tt)},configure(e,t){switch(t){case"dxactive":e.activeTimeout=e.timeout;break;case"dxinactive":e.inactiveTimeout=e.timeout}this.callBase(e)},start(e){if(yc){const e=sc(this.getElement().get(0),yc.getElement().get(0)),t=!yc._active.fired();if(e&&t)return void this._cancel();yc._inactive.force()}yc=this,this._initEvents(e),this._active.start()},_initEvents(e){const t=this,n=this._getEmitterTarget(e),i=Gi(e),r=Xr.isSimulator()||!i,o=Fe(this.activeTimeout,30),s=Fe(this.inactiveTimeout,400);this._active=new vc(r?o:0,()=>{t._fireEvent("dxactive",e,{target:n})}),this._inactive=new vc(r?s:0,()=>{t._fireEvent("dxinactive",e,{target:n}),yc=null})},cancel(e){this.end(e)},end(e){const t=e.type!==yo.up;t?this._active.stop():this._active.force(),this._inactive.start(),t&&this._inactive.force()},dispose(){this._active.stop(),this._inactive.stop(),yc===this&&(yc=null),this.callBase()},lockInactive(){return this._active.force(),this._inactive.stop(),yc=null,this._cancel(),this._inactive.force.bind(this._inactive)}});bc.lock=function(e){const t=yc?yc.lockInactive():tt;e.done(t)},ec({emitter:bc,events:["dxactive","dxinactive"]});const{lock:Cc}=bc,xc="dxhoverstart",Sc=or(yo.enter,"dxHoverStart"),wc="dxhoverend",Ec=or(yo.leave,"dxHoverEnd"),Ic=ie.inherit({noBubble:!0,ctor(){this._handlerArrayKeyPath=`${this._eventNamespace}_HandlerStore`},setup(e){un(e,this._handlerArrayKeyPath,{})},add(e,t){const n=this,i=function(e){n._handler(e)};rn.on(e,this._originalEventName,t.selector,i),un(e,this._handlerArrayKeyPath)[t.guid]=i},_handler(e){Yi(e)||Xr.isSimulator()||nr({type:this._eventName,originalEvent:e,delegateTarget:e.delegateTarget})},remove(e,t){const n=un(e,this._handlerArrayKeyPath)[t.guid];rn.off(e,this._originalEventName,t.selector,n)},teardown(e){dn(e,this._handlerArrayKeyPath)}}),kc=Ic.inherit({ctor(){this._eventNamespace="dxHoverStart",this._eventName=xc,this._originalEventName=Sc,this.callBase()},_handler(e){(e.pointers||[]).length||this.callBase(e)}}),Dc=Ic.inherit({ctor(){this._eventNamespace="dxHoverEnd",this._eventName=wc,this._originalEventName=Ec,this.callBase()}});Ei(xc,new kc),Ei(wc,new Dc);const Oc="KeyboardProcessor",Tc=e=>({keyName:ir(e),key:e.key,code:e.code,ctrl:e.ctrlKey,location:e.location,metaKey:e.metaKey,shift:e.shiftKey,alt:e.altKey,which:e.which,originalEvent:e}),Ac=ie.inherit({_keydown:or("keydown",Oc),_compositionStart:or("compositionstart",Oc),_compositionEnd:or("compositionend",Oc),ctor(e){(e=e||{}).element&&(this._element=Si(e.element)),e.focusTarget&&(this._focusTarget=e.focusTarget),this._handler=e.handler,this._element&&(this._processFunction=e=>{const t=Si(this._focusTarget).toArray(),n=this._focusTarget&&this._focusTarget!==e.target&&!t.includes(e.target),i=this._isComposingJustFinished&&229===e.which||this._isComposing||n;this._isComposingJustFinished=!1,i||this.process(e)},this._toggleProcessingWithContext=this.toggleProcessing.bind(this),rn.on(this._element,this._keydown,this._processFunction),rn.on(this._element,this._compositionStart,this._toggleProcessingWithContext),rn.on(this._element,this._compositionEnd,this._toggleProcessingWithContext))},dispose(){this._element&&(rn.off(this._element,this._keydown,this._processFunction),rn.off(this._element,this._compositionStart,this._toggleProcessingWithContext),rn.off(this._element,this._compositionEnd,this._toggleProcessingWithContext)),this._element=void 0,this._handler=void 0},process(e){this._handler(Tc(e))},toggleProcessing(e){let{type:t}=e;this._isComposing="compositionstart"===t,this._isComposingJustFinished=!this._isComposing}});Ac.createKeyDownOptions=Tc;const Pc=Ac;function Mc(e,t){return t?or(e,t):e}function Rc(e,t){return"function"===typeof e?e(t):e.execute(t)}const Bc=(e,t,n,i)=>{const{selector:r,showTimeout:o,hideTimeout:s,namespace:a}=i;rn.on(e,Mc("dxactive",a),r,{timeout:o},e=>Rc(t,{event:e,element:e.currentTarget})),rn.on(e,Mc("dxinactive",a),r,{timeout:s},e=>Rc(n,{event:e,element:e.currentTarget}))},Nc=(e,t)=>{let{namespace:n,selector:i}=t;rn.off(e,Mc("dxactive",n),i),rn.off(e,Mc("dxinactive",n),i)},Fc=function(e,t){let{namespace:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};rn.on(e,Mc("dxresize",n),t)},$c=function(e){let{namespace:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};rn.off(e,Mc("dxresize",t))},Hc=(e,t,n,i)=>{let{selector:r,namespace:o}=i;rn.on(e,Mc("dxhoverend",o),r,e=>n(e)),rn.on(e,Mc("dxhoverstart",o),r,e=>Rc(t,{element:e.target,event:e}))},Lc=(e,t)=>{let{selector:n,namespace:i}=t;rn.off(e,Mc("dxhoverstart",i),n),rn.off(e,Mc("dxhoverend",i),n)},Vc=(e,t,n,i)=>{let{namespace:r}=i;rn.on(e,Mc("dxhiding",r),n),rn.on(e,Mc("dxshown",r),t)},zc=(e,t)=>{let{namespace:n}=t;rn.off(e,Mc("dxhiding",n)),rn.off(e,Mc("dxshown",n))},jc=(e,t,n,i)=>{let{namespace:r}=i;rn.on(e,Mc("focusin",r),t),rn.on(e,Mc("focusout",r),n)},Wc=(e,t)=>{let{namespace:n}=t;rn.off(e,Mc("focusin",n)),rn.off(e,Mc("focusout",n))},Kc=e=>rn.trigger(e,"focus"),Uc=function(e,t){let{namespace:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};rn.on(e,Mc("dxclick",n),t)},qc=function(e){let{namespace:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};rn.off(e,Mc("dxclick",t))},Gc=function(e,t){let{namespace:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};rn.on(e,Mc("click",n),t)},Zc=function(e){let{namespace:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};rn.off(e,Mc("click",t))};let Yc=0;const Qc={},Xc=(e,t,n)=>{const i="keyboardProcessorId"+Yc++;return Qc[i]=new Pc({element:e,focusTarget:t,handler:n}),i},Jc=e=>{e&&Qc[e]&&(Qc[e].dispose(),delete Qc[e])};function eu(e,t,n){function i(e){return"string"===typeof e?e.split("."):"number"===typeof e?[e]:e}e=i(e),t=i(t);let r=Math.max(e.length,t.length);isFinite(n)&&(r=Math.min(r,n));for(let o=0;o<r;o++){const n=parseInt(e[o]||0,10),i=parseInt(t[o]||0,10);if(n<i)return-1;if(n>i)return 1}return 0}function tu(e,t){if(null==e)return{};var n={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(-1!==t.indexOf(i))continue;n[i]=e[i]}return n}const nu=[];function iu(e){const{major:t,minor:n,patch:i}=e;return[t,n,i].join(".")}function ru(e){const[t,n,i]=e.split(".").map(Number);return{major:t,minor:n,patch:i}}function ou(e,t){return(e<<t|e>>>32-t)>>>0}function su(e,t){const n=new Uint8Array(e.length+t.length);return n.set(e,0),n.set(t,e.length),n}const au={e:65537,n:new Uint8Array([200,219,153,203,140,7,228,253,193,243,62,137,139,60,68,242,48,142,113,88,185,235,253,105,80,74,32,170,96,74,111,250,7,205,154,3,146,115,153,53,45,132,123,56,61,208,184,201,63,24,109,223,0,179,169,102,139,224,73,233,45,173,138,66,98,88,69,76,177,111,113,218,192,33,101,152,25,134,34,173,32,82,230,44,247,200,253,170,192,246,30,12,96,205,100,249,181,93,0,231])};function lu(e){const t=(8*au.n.length+6)/8,n=su(function(e){var t;return new Uint8Array((null===(t=e.match(/.{1,2}/g))||void 0===t?void 0:t.map(e=>parseInt(e,16)))??[])}("3021300906052b0e03021a05000414"),e);if(n.length+10>t)throw Error("Key is too short for SHA1 signing algorithm");const i=new Uint8Array(t-n.length);return i.fill(255,0,i.length-1),i[0]=0,i[1]=1,i[i.length-1]=0,su(i,n)}function cu(e){const t=new Uint8Array(e.length+1);t.set(function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n+=1)t[n]=255&e.charCodeAt(n);return t}(e)),t[t.length-1]=128;const n=function(e){const t=new Uint32Array(1+(e.length-1>>2));for(let n=0;n<e.length;n+=1)t[n>>2]|=e[n]<<8*(3-n%4);return t}(new Uint8Array(t)),i=new Uint32Array(16*Math.ceil((n.length+2)/16));return i.set(n,0),i[i.length-1]=8*(t.length-1),i}function uu(e){const t=cu(e),n=new Uint32Array([1732584193,4023233417,2562383102,271733878,3285377520]);for(let i=0;i<t.length;i+=16){const e=new Uint32Array(80);for(let n=0;n<16;n+=1)e[n]=t[i+n];for(let t=16;t<80;t+=1){const n=e[t-3]^e[t-8]^e[t-14]^e[t-16];e[t]=n<<1|n>>>31}let r=n[0],o=n[1],s=n[2],a=n[3],l=n[4];for(let t=0;t<80;t+=1){const[n,i]=t<20?[o&s|~o&a,1518500249]:t<40?[o^s^a,1859775393]:t<60?[o&s|o&a|s&a,2400959708]:[o^s^a,3395469782],c=ou(r,5)+n+l+i+e[t];l=a,a=s,s=ou(o,30),o=r,r=c}n[0]+=r,n[1]+=o,n[2]+=s,n[3]+=a,n[4]+=l}return function(e){const t=new Uint8Array(4*e.length);for(let n=0;n<t.length;n+=1)t[n]=e[n>>2]>>>8*(3-n%4);return t}(n)}const du=()=>"undefined"!==typeof HTMLElement&&"undefined"!==typeof customElements,hu=du()?HTMLElement:class{},pu="dx-license-trigger",fu="dx-license",mu="buy-now",_u="licensing-doc",gu="version",vu={opacity:"1",visibility:"visible","clip-path":"none",filter:"none"},yu=K({},vu,{width:"100%",height:"auto","line-height":"normal",display:"block","z-index":"1500",position:"static",transform:"translate(0px, 0px)","background-color":"#FF7200",border:"none",margin:"auto","box-sizing":"border-box","text-align":"center"}),bu=K({},yu,{display:"flex","align-items":"center","flex-direction":"row",position:"relative",top:"0px",left:"0px",padding:"0.5rem"}),Cu={width:"1rem",cursor:"pointer",height:"1rem"},xu=K({},vu,{display:"inline",position:"static",padding:"0px",margin:"0px",color:"white","font-family":"'Segoe UI','Open Sans Condensed',-apple-system,BlinkMacSystemFont,avenir next,avenir,helvetica neue,helvetica,Cantarell,Ubuntu,roboto,noto,arial,sans-serif","font-size":"0.875rem","font-wight":"600"});function Su(e,t){const n=t?K({},e,t):e;return Object.keys(n).reduce((e,t)=>`${e}${[t,`${n[t]} !important;`].join(": ")}`,"")}class wu extends hu{constructor(){var e,t,n,i,r;super(),this._observer=null,this._inReassign=!1,this._hidden=!1,this._spanStyles=Su(xu,null===(e=wu.customStyles)||void 0===e?void 0:e.textStyles),this._linkStyles=Su(xu,null===(t=wu.customStyles)||void 0===t?void 0:t.linkStyles),this._containerStyles=Su(bu,null===(n=wu.customStyles)||void 0===n?void 0:n.containerStyles),this._contentStyles=Su(yu,null===(i=wu.customStyles)||void 0===i?void 0:i.contentStyles),this._buttonStyles=Su(Cu,null===(r=wu.customStyles)||void 0===r?void 0:r.contentStyles)}_createSpan(e){const t=document.createElement("span");return t.innerText=e,t.style.cssText=this._spanStyles,t}_createLink(e,t){const n=document.createElement("a");return n.innerText=e,n.style.cssText=this._linkStyles,n.href=t,n.target="_blank",n}_createButton(){const e=document.createElement("div");e.style.cssText=this._buttonStyles;const t=document.createElementNS("http://www.w3.org/2000/svg","polygon"),n=document.createElementNS("http://www.w3.org/2000/svg","svg");return t.setAttribute("points","13.4 12.7 8.7 8 13.4 3.4 12.6 2.6 8 7.3 3.4 2.6 2.6 3.4 7.3 8 2.6 12.6 3.4 13.4 8 8.7 12.7 13.4 13.4 12.7"),t.style.cssText=Su({fill:"#fff",opacity:".5","stroke-width":"0px"}),n.setAttribute("id","Layer_1"),n.setAttribute("data-name","Layer 1"),n.setAttribute("version","1.1"),n.setAttribute("viewBox","0 0 16 16"),n.style.cssText=Su({"vertical-align":"baseline"}),n.appendChild(t),e.appendChild(n),e.onclick=()=>{this._hidden=!0,this.style.cssText=Su({display:"none"})},e}_createContentContainer(){const e=document.createElement("div");return e.style.cssText=this._contentStyles,e.append(this._createSpan("For evaluation purposes only. Redistribution prohibited. Please "),this._createLink("register",this.getAttribute(_u)),this._createSpan(" an existing license or "),this._createLink("purchase a new license",this.getAttribute(mu)),this._createSpan(` to continue use of DevExpress product libraries (v${this.getAttribute(gu)}).`)),e}_reassignComponent(){this.innerHTML="",this.style.cssText=this._containerStyles,this.append(this._createContentContainer(),this._createButton())}connectedCallback(){this._reassignComponent(),this._observer||(this._observer=new MutationObserver(()=>{var e;this._hidden?null===(e=this._observer)||void 0===e||e.disconnect():this._inReassign?this._inReassign=!1:(this._inReassign=!0,this._reassignComponent())}),this._observer.observe(this,{childList:!0,attributes:!0,subtree:!0}))}disconnectedCallback(){setTimeout(()=>{document.getElementsByTagName(fu).length||document.body.prepend(this)},100)}}wu.customStyles=void 0;class Eu extends hu{connectedCallback(){this.style.cssText=Su({display:"none"});if(!document.getElementsByTagName(fu).length){const e=document.createElement(fu);e.setAttribute(gu,this.getAttribute(gu)),e.setAttribute(mu,this.getAttribute(mu)),e.setAttribute(_u,this.getAttribute(_u)),e.setAttribute("data-permanent","true"),document.body.prepend(e)}}}function Iu(e,t,n,i){!function(e){customElements.get(pu)||(wu.customStyles=e,customElements.define(pu,Eu),customElements.define(fu,wu))}(i);const r=document.createElement(pu);r.setAttribute(mu,e),r.setAttribute(_u,t),r.setAttribute(gu,n),document.body.appendChild(r)}var ku;!function(e){e.corrupted="corrupted",e.verified="verified",e.internal="internal"}(ku||(ku={}));const Du=["customerId","maxVersionAllowed","format","internalUsageId"],Ou={kind:ku.corrupted,error:"general"},Tu={kind:ku.corrupted,error:"verification"},Au={kind:ku.corrupted,error:"decoding"},Pu={kind:ku.corrupted,error:"deserialization"},Mu={kind:ku.corrupted,error:"payload"},Ru={kind:ku.corrupted,error:"version"};let Bu=!1;function Nu(e){let{text:t,signature:n}=e;return function(e){try{const t=BigInt(0),n=BigInt(1),i=BigInt(8),r=(e,t,i)=>{let r=n,o=e,s=t;for(;s;)s&n&&(r=r*o%i),o=o*o%i,s>>=n;return r},o=e=>e.reduce((e,t)=>(e<<i)+BigInt(t),t),s=o(e.actual),a=o(e.signature),l=BigInt(e.key.e);return r(a,l,o(e.key.n))===s}catch{return!0}}({key:au,signature:(i=n,new Uint8Array(atob(i).split("").map(e=>e.charCodeAt(0)))),actual:lu(uu(t))});var i}function Fu(e){return isNaN(e)||e<3}function $u(e){let{licenseKey:t,version:n}=e,i=!1;try{i=Fu(n.patch);const{major:e,minor:r}=i?function(e){let{major:t,minor:n,patch:i}=e;return 1===n?{major:t-1,minor:2,patch:i}:{major:t,minor:n-1,patch:i}}(n):n;if(!t)return{preview:i,error:"W0019"};const o=function(e){if(void 0===e)return Ou;const t=e.split(".");if(2!==t.length||0===t[0].length||0===t[1].length)return Ou;if(!Nu({text:t[0],signature:t[1]}))return Tu;let n="";try{n=atob(t[0])}catch{return Au}let i={};try{i=JSON.parse(n)}catch{return Pu}const{customerId:r,maxVersionAllowed:o,format:s,internalUsageId:a}=i,l=tu(i,Du);return void 0!==a?{kind:ku.internal,internalUsageId:a}:void 0===r||void 0===o||void 0===s?Mu:1!==s?Ru:{kind:ku.verified,payload:K({customerId:r,maxVersionAllowed:o},l)}}(t);return o.kind===ku.corrupted?{preview:i,error:"W0021"}:o.kind===ku.internal?{preview:i,internal:!0,error:"QCheG22rZy7fcRvyUFqC3U"===o.internalUsageId?void 0:"W0020"}:e&&r?10*e+r>o.payload.maxVersionAllowed?{preview:i,error:"W0020"}:{preview:i,error:void 0}:{preview:i,error:"W0021"}}catch{return{preview:i,error:"W0021"}}}function Hu(){return Bu}const Lu={validateLicense:function(e){if(Bu)return;Bu=!0;const t=ru(arguments.length>1&&void 0!==arguments[1]?arguments[1]:B),n=function(e){const t=nu.filter(t=>{return n=ru(t.version),i=e,!(n.major===i.major&&n.minor===i.minor&&n.patch===i.patch);var n,i});return!t.length||(W.log("W0023",[{packageName:"devextreme",version:iu(e)},...t].map(e=>`${e.packageName}: ${e.version}`).join("\n")),!1)}(t),{internal:i,error:r}=$u({licenseKey:e,version:t});if(!n&&i)return;if(r&&!i){!function(e,t,n,i){du()&&Iu(e,t,n,i)}(le().buyNowLink??"https://go.devexpress.com/Licensing_Installer_Watermark_DevExtremeJQuery.aspx",le().licensingDocLink??"https://go.devexpress.com/Licensing_Documentation_DevExtremeJQuery.aspx",B)}const o=Fu(t.patch);r?W.log(o?"W0022":r):o&&!i&&W.log("W0022")}},Vu=function(e){return function(t){const n=Si(t||"body"),i=n.filter(".dx-visibility-change-handler").add(n.find(".dx-visibility-change-handler"));for(let r=0;r<i.length;r++)rn.triggerHandler(i[r],e)}},zu=Vu("dxshown"),ju={triggerHidingEvent:Vu("dxhiding"),triggerResizeEvent:Vu("dxresize"),triggerShownEvent:zu},Wu=ju.triggerShownEvent,Ku=ju.triggerHidingEvent,Uu=ju.triggerResizeEvent,qu=s({syncStrategy:!0});class Gu{render(e){e=e||{};const{onRendered:t}=e;let n;return delete e.onRendered,n=e.renovated&&e.transclude&&this._element?Si("<div>").append(this._element).contents():this._renderCore(e),this._ensureResultInContainer(n,e.container),qu.fire(n,e.container),t&&t(),n}_ensureResultInContainer(e,t){if(!t)return;const n=Si(t),i=sc(n.get(0),e.get(0));if(n.append(e),i)return;sc(mt.getBody(),n.get(0))&&Wu(e)}_renderCore(){throw W.Error("E0001")}}class Zu extends Gu{_renderCore(){return Si()}}class Yu extends Gu{constructor(e){super(),this._render=e}_renderCore(e){return rc(this._render(e))}}class Qu extends Gu{constructor(e){super(),this.name=e}}var Xu;Xu={compile:e=>rc(e),render:(e,t,n)=>e.clone()},oe["default"]=Xu,function(e){if(v(e)){if(se=oe[e],!se)throw W.Error("E0020",e)}else se=e}("default");class Ju extends Gu{constructor(e){super(),this._element=e}_renderCore(e){const{transclude:t}=e;return t||this._compiledTemplate||(this._compiledTemplate=ae().compile(this._element)),Si("<div>").append(t?this._element:ae().render(this._compiledTemplate,e.model,e.index)).contents()}source(){return Si(this._element).clone()}}function ed(e){return e.reduce((e,t)=>{const n=(e.get(t)??0)+1;return e.set(t,n),e},new Map)}const td=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const t=ed(arguments.length>1&&void 0!==arguments[1]?arguments[1]:[]);return e.filter(e=>{const n=t.get(e);return n&&t.set(e,n-1),!n})},nd=function(e,t,n,i){const r={},{useLegacyVisibleIndex:o}=le();let s=0;const a=e=>!_(e[t])&&(!i||i(e));e.forEach(e=>{const i=e[t];i>=0?(r[i]=r[i]||[],e===n?r[i].unshift(e):r[i].push(e)):e[t]=void 0}),o||e.forEach(e=>{if(a(e)){for(;r[s];)s++;r[s]=[e],s++}}),s=0,function(e,t){const n=[];let i,r;for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.push(i);for(n.sort(function(e,t){const n=y(e),i=y(t);return n&&i?e-t:n&&!i?-1:!n&&i?1:e<t?-1:e>t?1:0}),r=0;r<n.length;r++)i=n[r],t(i,e[i])}(r,function(e,n){n.forEach(n=>{e>=0&&(n[t]=s++)})}),o&&e.forEach(e=>{a(e)&&(e[t]=s++)})},id=(e,t)=>{const n=Si(e).contents().filter(`[data-options*="${t}"]`);return[].slice.call(n).map(e=>{const n=Si(e).attr("data-options")||"";return{element:e,options:le().optionsParser(n)[t]}}).filter(e=>!!e.options)},rd=e=>{const t=(n=e=>e.options.name,e.reduce((e,t)=>{const i=n(t);return e[i]=e[i]??[],e[i].push(t),e},{}));var n;if(t.undefined)throw W.Error("E0023");const i={};return Object.keys(t).forEach(e=>{var n;const r=null===(n=Ge(Is.current(),t[e],e=>e.options)[0])||void 0===n?void 0:n.element;r&&(i[e]=r)}),i},od=e=>{const t=e.render.bind(e);return A({},e,{render(e){const n=t(e);return e&&e.onRendered&&e.onRendered(),n}})},sd=e=>{const t=e.render.bind(e);return A({},e,{render(e){const n=Si(e.container);return t(K({},e,{container:ma(n)}))}})},ad=e=>{const t=[];return"model"in e&&t.push(e.model),"index"in e&&t.push(e.index),t.push(e.container),t},ld=e=>"string"===typeof e?uc.normalizeTemplateElement(e):e,cd=e=>T(e)&&e[0]||e,ud=e=>new Ju(e),dd=(e,t,n,i)=>{let r=null;return i&&-1!==i.indexOf(e)||(r=t[e],!r||r instanceof Gu||(O(r.render)&&(r=sd(r)),n||(r=od(r)))),r},hd=(e,t,n,i,r,o)=>null==e?new Zu:e instanceof Qu?o[e.name]:e instanceof Gu?e:O(e.render)&&!T(e)?i?e:od(e):e.nodeType||T(e)?t(Si(e)):dd(e,n,i,r)||o[e]||t(e),pd=new Yu(e=>{let{model:t,parent:n}=e;const i=t.widget;if(!i)return Si();const r=Si("<div>"),o=t.options||{};return n?n._createComponent(r,i,o):r[i](o),r});const fd={TemplateManager:class{constructor(e,t){this._tempTemplates=[],this._defaultTemplates={},this._anonymousTemplateName=t||"template",this._createElement=e||ud,this._createTemplateIfNeeded=this._createTemplateIfNeeded.bind(this)}static createDefaultOptions(){return{integrationOptions:{watchMethod:function(e,t){return(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipImmediate||t(e()),tt},templates:{"dx-polymorph-widget":pd},useDeferUpdateForTemplates:!0}}}get anonymousTemplateName(){return this._anonymousTemplateName}addDefaultTemplates(e){this._defaultTemplates=A({},this._defaultTemplates,e)}dispose(){this._tempTemplates.forEach(e=>{e.template.dispose&&e.template.dispose()}),this._tempTemplates=[]}extractTemplates(e){return{templates:this._extractTemplates(e),anonymousTemplateMeta:this._extractAnonymousTemplate(e)}}_extractTemplates(e){const t=id(e,"dxTemplate"),n=rd(t);return t.forEach(e=>{let{element:t,options:{name:i}}=e;t===n[i]?Si(t).addClass("dx-template-wrapper").detach():Si(t).remove()}),Object.keys(n).map(e=>({name:e,template:this._createTemplate(n[e])}))}_extractAnonymousTemplate(e){const t=e.contents().detach();return t.filter((e,t)=>{const n=3===t.nodeType,i=Si(t).text().trim().length<1;return!(n&&i)}).length>0?{template:this._createTemplate(t),name:this._anonymousTemplateName}:{}}_createTemplateIfNeeded(e){const t=this._tempTemplates.filter(t=>t.source===cd(e))[0];if(t)return t.template;const n=this._createTemplate(e);return this._tempTemplates.push({template:n,source:cd(e)}),n}_createTemplate(e){return this._createElement(ld(e))}getTemplate(e,t,n,i){let{isAsyncTemplate:r,skipTemplates:o}=n;return g(e)?new Yu(n=>{const s=e.apply(i,ad(n));if(!_(s))return new Zu;let a=!1;const l=hd(s,e=>e.nodeType||E(e)&&!Si(e).is("script")?new Yu(()=>e):(a=!0,this._createTemplate(e)),t,r,o,this._defaultTemplates),c=l.render(n);return a&&l.dispose&&l.dispose(),c}):hd(e,this._createTemplateIfNeeded,t,r,o,this._defaultTemplates)}}};class md extends Wl{static getInstance(e){return Pi(Si(e),this)}static defaultOptions(e){this._classCustomRules=Object.hasOwnProperty.bind(this)("_classCustomRules")&&this._classCustomRules?this._classCustomRules:[],this._classCustomRules.push(e)}_getDefaultOptions(){return A(super._getDefaultOptions(),{width:void 0,height:void 0,rtlEnabled:le().rtlEnabled,elementAttr:{},disabled:!1,integrationOptions:{}},this._useTemplates()?fd.TemplateManager.createDefaultOptions():{})}ctor(e,t){this._customClass=null,this._createElement(e),Ai(this._$element,this,this._dispose),super.ctor(t);const n=Hu();Lu.validateLicense(le().licenseKey),!n&&Hu()&&le({licenseKey:""}),Ne.resolve()}_createElement(e){this._$element=Si(e)}_getSynchronizableOptionsForCreateComponent(){return["rtlEnabled","disabled","templatesRenderAsynchronously"]}_checkFunctionValueDeprecation(e){this.option("_ignoreFunctionValueDeprecation")||e.forEach(e=>{g(this.option(e))&&W.log("W0017",e)})}_visibilityChanged(e){}_dimensionChanged(){}_init(){super._init(),this._checkFunctionValueDeprecation(["width","height","maxHeight","maxWidth","minHeight","minWidth","popupHeight","popupWidth"]),this._attachWindowResizeCallback(),this._initTemplateManager()}_setOptionsByDevice(e){const t=this.constructor,n=Object.prototype.hasOwnProperty.call(t,"_classCustomRules"),i=Object.prototype.hasOwnProperty.call(t,"defaultOptions"),r=n||i?t._classCustomRules:[];super._setOptionsByDevice([].concat(r||[],e||[]))}_isInitialOptionValue(e){return!(this.constructor._classCustomRules&&Object.prototype.hasOwnProperty.call(this._convertRulesToOptions(this.constructor._classCustomRules),e))&&super._isInitialOptionValue(e)}_attachWindowResizeCallback(){if(this._isDimensionChangeSupported()){const e=this._windowResizeCallBack=this._dimensionChanged.bind(this);Hr.add(e)}}_isDimensionChangeSupported(){return this._dimensionChanged!==md.prototype._dimensionChanged}_renderComponent(){!function(e){var t;const n=e.get(0),i=null===(t=n.getRootNode)||void 0===t?void 0:t.call(n);if(null===i||void 0===i||!i.host)return;lt||(lt=ct(i),ut(lt,n.ownerDocument.styleSheets,!1));const r=ct(i);ut(r,i.styleSheets,!0),i.adoptedStyleSheets=[lt,r]}(this.$element()),this._initMarkup(),Ct()&&this._render()}_initMarkup(){const{rtlEnabled:e}=this.option()||{};this._renderElementAttributes(),this._toggleRTLDirection(e),this._renderVisibilityChange(),this._renderDimensions()}_render(){this._attachVisibilityChangeHandlers()}_renderElementAttributes(){const{elementAttr:e}=this.option()||{},t=A({},e),n=t.class;delete t.class,this.$element().attr(t).removeClass(this._customClass).addClass(n),this._customClass=n}_renderVisibilityChange(){if(this._isDimensionChangeSupported()&&this._attachDimensionChangeHandlers(),this._isVisibilityChangeSupported()){this.$element().addClass("dx-visibility-change-handler")}}_renderDimensions(){const e=this.$element(),t=e.get(0),n=this._getOptionValue("width",t),i=this._getOptionValue("height",t);this._isCssUpdateRequired(t,i,n)&&e.css({width:null===n?"":n,height:null===i?"":i})}_isCssUpdateRequired(e,t,n){return!!(_(n)||_(t)||e.style.width||e.style.height)}_attachDimensionChangeHandlers(){const e=this.$element(),t=`${this.NAME}VisibilityChange`;$c(e,{namespace:t}),Fc(e,()=>this._dimensionChanged(),{namespace:t})}_attachVisibilityChangeHandlers(){if(this._isVisibilityChangeSupported()){const e=this.$element(),t=`${this.NAME}VisibilityChange`;this._isHidden=!this._isVisible(),zc(e,{namespace:t}),Vc(e,()=>this._checkVisibilityChanged("shown"),()=>this._checkVisibilityChanged("hiding"),{namespace:t})}}_isVisible(){return this.$element().is(":visible")}_checkVisibilityChanged(e){this._isVisible()&&("hiding"!==e||this._isHidden?"shown"===e&&this._isHidden&&(this._isHidden=!1,this._visibilityChanged(!0)):(this._visibilityChanged(!1),this._isHidden=!0))}_isVisibilityChangeSupported(){return this._visibilityChanged!==md.prototype._visibilityChanged&&Ct()}_clean(){}_modelByElement(e){const{modelByElement:t}=this.option(),n=this.$element();return t?t(n):void 0}_invalidate(){if(this._isUpdateAllowed())throw W.Error("E0007");this._requireRefresh=!0}_refresh(){this._clean(),this._renderComponent()}_dispose(){this._templateManager&&this._templateManager.dispose(),super._dispose(),this._clean(),this._detachWindowResizeCallback()}_detachWindowResizeCallback(){this._isDimensionChangeSupported()&&Hr.remove(this._windowResizeCallBack)}_toggleRTLDirection(e){this.$element().toggleClass("dx-rtl",e)}_createComponent(e,t,n){const i=n??{},r=it(this._getSynchronizableOptionsForCreateComponent(),e=>!(e in i)),{integrationOptions:o}=this.option();let{nestedComponentOptions:s}=this.option();s=s??tt;const a=A({integrationOptions:o},s(this));let l;if(r.forEach(e=>a[e]=this.option(e)),this._extendConfig(i,a),v(t)){const n=Si(e)[t](i);l=n[t]("instance")}else e&&(l=t.getInstance(e),l?l.option(i):l=new t(e,i));if(l){const e=e=>{let{name:t,value:n}=e;r.includes(t)&&l.option(t,n)};this.on("optionChanged",e),l.on("disposing",()=>this.off("optionChanged",e))}return l}_extendConfig(e,t){l(t,(t,n)=>{!Object.prototype.hasOwnProperty.call(e,t)&&(e[t]=n)})}_defaultActionConfig(){const e=this.$element(),t=this._modelByElement(e);return A(super._defaultActionConfig(),{context:t})}_defaultActionArgs(){const e=this.$element(),t=this._modelByElement(e),n=this.element();return A(super._defaultActionArgs(),{element:n,model:t})}_optionChanged(e){const{name:t}=e;switch(t){case"width":case"height":this._renderDimensions();break;case"rtlEnabled":this._invalidate();break;case"elementAttr":this._renderElementAttributes();break;case"disabled":case"integrationOptions":break;default:super._optionChanged(e)}}_removeAttributes(e){const t=e.attributes;for(let n=t.length-1;n>=0;n--){const i=t[n];if(i){const{name:t}=i;t.indexOf("aria-")&&-1===t.indexOf("dx-")&&"role"!==t&&"style"!==t&&"tabindex"!==t||e.removeAttribute(t)}}}_removeClasses(e){e.className=e.className.split(" ").filter(e=>0!==e.lastIndexOf("dx-",0)).join(" ")}_updateDOMComponent(e){e?this._renderComponent():this._requireRefresh&&(this._requireRefresh=!1,this._refresh())}endUpdate(){const e=this._isInitializingRequired();super.endUpdate(),this._isUpdateAllowed()&&this._updateDOMComponent(e)}$element(){return this._$element}element(){return ma(this.$element())}dispose(){const e=this.$element().get(0);hn(e,!0),e.textContent="",this._removeAttributes(e),this._removeClasses(e)}resetOption(e){if(super.resetOption(e),"width"===e||"height"===e){const t=this.initialOption(e);!_(t)&&this.$element().css(e,"")}}_getAnonymousTemplateName(){}_initTemplateManager(){if(this._templateManager||!this._useTemplates())return;const{integrationOptions:e={}}=this.option(),{createTemplate:t}=e;this._templateManager=new fd.TemplateManager(t,this._getAnonymousTemplateName()),this._initTemplates()}_initTemplates(){const{templates:e,anonymousTemplateMeta:t}=this._templateManager.extractTemplates(this.$element()),n=this.option(`integrationOptions.templates.${t.name}`);e.forEach(e=>{let{name:t,template:n}=e;this._options.silent(`integrationOptions.templates.${t}`,n)}),t.name&&!n&&(this._options.silent(`integrationOptions.templates.${t.name}`,t.template),this._options.silent("_hasAnonymousTemplateContent",!0))}_getTemplateByOption(e){return this._getTemplate(this.option(e))}_getTemplate(e){const t=this.option("integrationOptions.templates"),n=this.option("templatesRenderAsynchronously"),i=this.option("integrationOptions.skipTemplates");return this._templateManager.getTemplate(e,t,{isAsyncTemplate:n,skipTemplates:i},this)}_saveTemplate(e,t){this._setOptionWithoutOptionChange(`integrationOptions.templates.${e}`,this._templateManager._createTemplate(t))}_useTemplates(){return!0}}const _d=md;function gd(e,t,n){e="role"===e||"id"===e?e:`aria-${e}`,t=_(t)?t.toString():null,n.attr(e,t)}class vd extends _d{constructor(){super(...arguments),this._feedbackHideTimeout=400,this._feedbackShowTimeout=30}static getOptionsFromContainer(e){let{name:t,fullName:n,value:i}=e,r={};if(t===n)r=i;else{r[n.split(".").pop()]=i}return r}_supportedKeys(){return{}}_getDefaultOptions(){return A(super._getDefaultOptions(),{hoveredElement:null,isActive:!1,disabled:!1,visible:!0,hint:void 0,activeStateEnabled:!1,onContentReady:null,hoverStateEnabled:!1,focusStateEnabled:!1,tabIndex:0,accessKey:void 0,onFocusIn:null,onFocusOut:null,onKeyboardHandled:null,ignoreParentReadOnly:!1,useResizeObserver:!0})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device(){const e=Is.real(),{platform:t}=e,{version:n}=e;return"ios"===t&&eu(n,"13.3")<=0},options:{useResizeObserver:!1}}])}_init(){super._init(),this._initContentReadyAction()}_innerWidgetOptionChanged(e,t){const n=vd.getOptionsFromContainer(t);e&&e.option(n),this._options.cache(t.name,n)}_bindInnerWidgetOptions(e,t){const n=()=>this._options.silent(t,A({},e.option()));n(),e.on("optionChanged",n)}_getAriaTarget(){return this._focusTarget()}_initContentReadyAction(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})}_initMarkup(){const{disabled:e,visible:t}=this.option();this.$element().addClass("dx-widget"),this._toggleDisabledState(e),this._toggleVisibility(t),this._renderHint(),this._isFocusable()&&this._renderFocusTarget(),super._initMarkup()}_render(){super._render(),this._renderContent(),this._renderFocusState(),this._attachFeedbackEvents(),this._attachHoverEvents(),this._toggleIndependentState()}_renderHint(){const{hint:e}=this.option();this.$element().attr("title",e||null)}_renderContent(){We(()=>this._disposed?void 0:this._renderContentImpl()).done(()=>this._disposed?void 0:this._fireContentReadyAction())}_renderContentImpl(){}_fireContentReadyAction(){return We(()=>{var e;return null===(e=this._contentReadyAction)||void 0===e?void 0:e.call(this)})}_dispose(){this._contentReadyAction=null,this._detachKeyboardEvents(),super._dispose()}_resetActiveState(){this._toggleActiveState(this._eventBindingTarget(),!1)}_clean(){this._cleanFocusState(),this._resetActiveState(),super._clean(),this.$element().empty()}_toggleVisibility(e){this.$element().toggleClass("dx-state-invisible",!e)}_renderFocusState(){this._attachKeyboardEvents(),this._isFocusable()&&(this._renderFocusTarget(),this._attachFocusEvents(),this._renderAccessKey())}_renderAccessKey(){const e=this._focusTarget(),{accessKey:t}=this.option();e.attr("accesskey",t)}_isFocusable(){const{focusStateEnabled:e,disabled:t}=this.option();return e&&!t}_eventBindingTarget(){return this.$element()}_focusTarget(){return this._getActiveElement()}_isFocusTarget(e){return Si(this._focusTarget()).toArray().includes(e)}_findActiveTarget(e){return e.find(this._activeStateUnit).not(".dx-state-disabled")}_getActiveElement(){const e=this._eventBindingTarget();return this._activeStateUnit?this._findActiveTarget(e):e}_renderFocusTarget(){const{tabIndex:e}=this.option();this._focusTarget().attr("tabIndex",e)}_keyboardEventBindingTarget(){return this._eventBindingTarget()}_refreshFocusEvent(){this._detachFocusEvents(),this._attachFocusEvents()}_focusEventTarget(){return this._focusTarget()}_focusInHandler(e){e.isDefaultPrevented()||this._createActionByOption("onFocusIn",{beforeExecute:()=>this._updateFocusState(e,!0),excludeValidators:["readOnly"]})({event:e})}_focusOutHandler(e){e.isDefaultPrevented()||this._createActionByOption("onFocusOut",{beforeExecute:()=>this._updateFocusState(e,!1),excludeValidators:["readOnly","disabled"]})({event:e})}_updateFocusState(e,t){let{target:n}=e;this._isFocusTarget(n)&&this._toggleFocusClass(t,Si(n))}_toggleFocusClass(e,t){(t&&t.length?t:this._focusTarget()).toggleClass("dx-state-focused",e)}_hasFocusClass(e){return Si(e??this._focusTarget()).hasClass("dx-state-focused")}_isFocused(){return this._hasFocusClass()}_getKeyboardListeners(){return[]}_attachKeyboardEvents(){this._detachKeyboardEvents();const{focusStateEnabled:e,onKeyboardHandled:t}=this.option(),n=this._getKeyboardListeners().length;(e||n||!!t)&&(this._keyboardListenerId=Xc(this._keyboardEventBindingTarget(),this._focusTarget(),e=>this._keyboardHandler(e)))}_keyboardHandler(e,t){if(!t){const{originalEvent:t,keyName:n,which:i}=e,r=this._supportedKeys(t),o=r[n]||r[i];if(void 0!==o){if(!o.bind(this)(t,e))return!1}}const n=this._getKeyboardListeners(),{onKeyboardHandled:i}=this.option();return n.forEach(t=>t&&t._keyboardHandler(e)),i&&i(e),!0}_refreshFocusState(){this._cleanFocusState(),this._renderFocusState()}_cleanFocusState(){this._focusTarget().removeAttr("tabIndex"),this._toggleFocusClass(!1),this._detachFocusEvents(),this._detachKeyboardEvents()}_detachKeyboardEvents(){Jc(this._keyboardListenerId),this._keyboardListenerId=null}_attachHoverEvents(){const{hoverStateEnabled:e}=this.option(),t=this._activeStateUnit,n=this._eventBindingTarget();Lc(n,{selector:t,namespace:"UIFeedback"}),e&&Hc(n,new Al(e=>{let{event:t,element:n}=e;this._hoverStartHandler(t),this.option("hoveredElement",Si(n))},{excludeValidators:["readOnly"]}),e=>{this.option("hoveredElement",null),this._hoverEndHandler(e)},{selector:t,namespace:"UIFeedback"})}_attachFeedbackEvents(){const{activeStateEnabled:e}=this.option(),t=this._activeStateUnit,n=this._eventBindingTarget();Nc(n,{namespace:"UIFeedback",selector:t}),e&&Bc(n,new Al(e=>{let{event:t,element:n}=e;return this._toggleActiveState(Si(n),!0,t)}),new Al(e=>{let{event:t,element:n}=e;return this._toggleActiveState(Si(n),!1,t)},{excludeValidators:["disabled","readOnly"]}),{showTimeout:this._feedbackShowTimeout,hideTimeout:this._feedbackHideTimeout,selector:t,namespace:"UIFeedback"})}_detachFocusEvents(){const e=this._focusEventTarget();Wc(e,{namespace:`${this.NAME}Focus`})}_attachFocusEvents(){const e=this._focusEventTarget();jc(e,e=>this._focusInHandler(e),e=>this._focusOutHandler(e),{namespace:`${this.NAME}Focus`,isFocusable:(e,t)=>Si(t).is(Bi)})}_hoverStartHandler(e){}_hoverEndHandler(e){}_toggleActiveState(e,t,n){this.option("isActive",t),e.toggleClass("dx-state-active",t)}_updatedHover(){const e=this._options.silent("hoveredElement");this._hover(e,e)}_findHoverTarget(e){return e&&e.closest(this._activeStateUnit||this._eventBindingTarget())}_hover(e,t){const{hoverStateEnabled:n,disabled:i,isActive:r}=this.option();if((t=this._findHoverTarget(t))&&t.toggleClass("dx-state-hover",!1),e&&n&&!i&&!r){const t=this._findHoverTarget(e);t&&t.toggleClass("dx-state-hover",!0)}}_toggleDisabledState(e){this.$element().toggleClass("dx-state-disabled",Boolean(e)),this.setAria("disabled",e||void 0)}_toggleIndependentState(){const{ignoreParentReadOnly:e}=this.option();this.$element().toggleClass("dx-state-independent",e)}_setWidgetOption(e,t){if(!this[e])return;if(x(t[0]))return void l(t[0],(t,n)=>this._setWidgetOption(e,[t,n]));const n=t[0];let i=t[1];1===t.length&&(i=this.option(n));const r=this[`${e}OptionMap`];this[e].option(r?r(n):n,i)}_optionChanged(e){const{name:t,value:n,previousValue:i}=e;switch(t){case"disabled":this._toggleDisabledState(n),this._updatedHover(),this._refreshFocusState();break;case"hint":this._renderHint();break;case"ignoreParentReadOnly":this._toggleIndependentState();break;case"activeStateEnabled":this._attachFeedbackEvents();break;case"hoverStateEnabled":this._attachHoverEvents(),this._updatedHover();break;case"tabIndex":case"focusStateEnabled":this._refreshFocusState();break;case"onFocusIn":case"onFocusOut":case"useResizeObserver":break;case"accessKey":this._renderAccessKey();break;case"hoveredElement":this._hover(n,i);break;case"isActive":this._updatedHover();break;case"visible":this._toggleVisibility(n),this._isVisibilityChangeSupported()&&this._checkVisibilityChanged(n?"shown":"hiding");break;case"onKeyboardHandled":this._attachKeyboardEvents();break;case"onContentReady":this._initContentReadyAction();break;default:super._optionChanged(e)}}_isVisible(){const{visible:e}=this.option();return super._isVisible()&&e}beginUpdate(){this._ready(!1),super.beginUpdate()}endUpdate(){super.endUpdate(),this._initialized&&this._ready(!0)}_ready(e){return 0===arguments.length?!!this._isReady:(this._isReady=!!e,this._isReady)}setAria(){if(x(arguments.length<=0?void 0:arguments[0])){const e=(arguments.length<=1?void 0:arguments[1])||this._getAriaTarget();l(arguments.length<=0?void 0:arguments[0],(t,n)=>gd(t,n,e))}else gd(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],(arguments.length<=2?void 0:arguments[2])||this._getAriaTarget())}isReady(){return this._ready()}repaint(){this._refresh()}focus(){Kc(this._focusTarget())}registerKeyHandler(e,t){const n=this._supportedKeys();this._supportedKeys=()=>A(n,{[e]:t})}}const yd=vd,bd=kt();class Cd extends yd{_getDefaultOptions(){return K({},super._getDefaultOptions(),{indicatorSrc:"",activeStateEnabled:!1,hoverStateEnabled:!1,_animatingSegmentCount:1,_animatingSegmentInner:!1})}_defaultOptionsRules(){const e=Zs();return super._defaultOptionsRules().concat([{device:()=>"android"===Is.real().platform&&!/chrome/i.test(bd.userAgent),options:{viaImage:!0}},{device:()=>ta(e),options:{_animatingSegmentCount:2,_animatingSegmentInner:!0}},{device:()=>ra(e),options:{_animatingSegmentCount:7}}])}_useTemplates(){return!1}_init(){super._init(),this.$element().addClass("dx-loadindicator");const e={role:"alert",label:mr.format("Loading")};this.setAria(e)}_initMarkup(){super._initMarkup(),this._renderWrapper(),this._renderIndicatorContent(),this._renderMarkup()}_renderWrapper(){this._$wrapper=Si("<div>").addClass("dx-loadindicator-wrapper"),this.$element().append(this._$wrapper)}_renderIndicatorContent(){this._$content=Si("<div>").addClass("dx-loadindicator-content"),this._$wrapper.append(this._$content)}_renderMarkup(){const{viaImage:e,indicatorSrc:t}=this.option();!go.animation()||e||t?this._renderMarkupForImage():this._renderMarkupForAnimation()}_renderMarkupForAnimation(){const e=this.option("_animatingSegmentInner");this._$indicator=Si("<div>").addClass("dx-loadindicator-icon"),this._$content.append(this._$indicator);for(let t=this.option("_animatingSegmentCount");t>=0;--t){const n=Si("<div>").addClass("dx-loadindicator-segment").addClass("dx-loadindicator-segment"+t);e&&n.append(Si("<div>").addClass("dx-loadindicator-segment-inner")),this._$indicator.append(n)}}_renderMarkupForImage(){const{indicatorSrc:e}=this.option();e?(this._$wrapper.addClass("dx-loadindicator-image"),this._$wrapper.css("backgroundImage",`url(${e})`)):go.animation()&&this._renderMarkupForAnimation()}_renderDimensions(){super._renderDimensions(),this._updateContentSizeForAnimation()}_updateContentSizeForAnimation(){if(!this._$indicator)return;let e=this.option("width"),t=this.option("height");if(e||t){e=$n(this.$element()),t=Ln(this.$element());const n=Math.min(t,e);this._$wrapper.css({height:n,width:n,fontSize:n})}}_clean(){super._clean(),this._removeMarkupForAnimation(),this._removeMarkupForImage()}_removeMarkupForAnimation(){this._$indicator&&(this._$indicator.remove(),delete this._$indicator)}_removeMarkupForImage(){this._$wrapper.css("backgroundImage","none")}_optionChanged(e){switch(e.name){case"_animatingSegmentCount":case"_animatingSegmentInner":case"indicatorSrc":this._invalidate();break;default:super._optionChanged(e)}}}Mi("dxLoadIndicator",Cd);const xd=Cd;function Sd(e,t){const n=Math.pow(10,t);return function(e){return Lo(e)*Math.round(Math.abs(e))}(Wo(e,t))/n}function wd(e,t){const n=t||0;return(n>0?Sd(...arguments):e).toFixed(n)}const Ed={thousandsSeparator:",",decimalSeparator:"."};function Id(e){return e.toString().split("").reverse().join("")}function kd(e){return e.replace(/'[^']*'/g,"")}function Dd(e){if(!e)return 0;const t=kd(e);return t.length-t.replace(/[#]/g,"").length}function Od(e){if(!e)return 0;const t=kd(e);return t.length-t.replace(/[0]/g,"").length}function Td(e,t,n){if(!e)return"";for(e.length>n&&(e=e.substr(0,n));e.length>t&&"0"===e.slice(-1);)e=e.substr(0,e.length-1);for(;e.length<t;)e+="0";return e}function Ad(e,t){return e.split("'").map(function(e,n){const i=n%2;return!e&&i?"'":i?e:e.replace(/[,#0]+/,t)}).join("")}function Pd(e,t,n){const i=(t?.01:1)*parseFloat(e)||0;return n?-i:i}function Md(e,t,n,i){let r,o,s,a=e;do{s&&(r=o.length===s.length?"0":"1",e=i?r+e:e+r),o=s||t(Pd(a,n)),a=i?"1"+a:a+"1",s=t(Pd(a,n))}while(o!==s&&(i?o.length===s.length:o.length<=s.length));if(i&&s.length>o.length){const i=-1===t(12345).indexOf("12345");do{e="1"+e}while(i&&Pd(e,n)<1e5)}return e}function Rd(e,t,n,i){let r=t(Pd(e,n,i));const o=e.split("."),s=t(Pd(o[0]+".3"+o[1].slice(1),n,i)).indexOf("3")-1;return r=r.replace(/(\d)\D(\d)/g,"$1,$2"),s>=0&&(r=r.slice(0,s)+"."+r.slice(s+1)),r=r.replace(/1+/,"1").replace(/1/g,"#"),n||(r=r.replace(/%/g,"'%'")),r}const Bd={_formatNumberCore:function(e,t,n){if("currency"===t){n.precision=n.precision||0;let t=this.format(e,A({},n,{type:"fixedpoint"}));const i=this.getCurrencySymbol().symbol.replace(/\$/g,"$$$$");return t=t.replace(/^(\D*)(\d.*)/,"$1"+i+"$2"),t}return this.callBase.apply(this,arguments)},getCurrencySymbol:function(){return{symbol:"$"}},getOpenXmlCurrencyFormat:function(){return"$#,##0{0}_);\\($#,##0{0}\\)"}},Nd={af:"\xa4#,##0.00;(\xa4#,##0.00)","af-NA":"\xa4#,##0.00;(\xa4#,##0.00)",agq:"#,##0.00\xa4",ak:"\xa4#,##0.00",am:"\xa4#,##0.00;(\xa4#,##0.00)",ar:"\xa4#,##0.00;(\xa4#,##0.00)","ar-AE":"\xa4#,##0.00;(\xa4#,##0.00)","ar-BH":"\xa4#,##0.00;(\xa4#,##0.00)","ar-DJ":"\xa4#,##0.00;(\xa4#,##0.00)","ar-DZ":"\xa4#,##0.00;(\xa4#,##0.00)","ar-EG":"\xa4#,##0.00;(\xa4#,##0.00)","ar-EH":"\xa4#,##0.00;(\xa4#,##0.00)","ar-ER":"\xa4#,##0.00;(\xa4#,##0.00)","ar-IL":"\xa4#,##0.00;(\xa4#,##0.00)","ar-IQ":"\xa4#,##0.00;(\xa4#,##0.00)","ar-JO":"\xa4#,##0.00;(\xa4#,##0.00)","ar-KM":"\xa4#,##0.00;(\xa4#,##0.00)","ar-KW":"\xa4#,##0.00;(\xa4#,##0.00)","ar-LB":"\xa4#,##0.00;(\xa4#,##0.00)","ar-LY":"\xa4#,##0.00;(\xa4#,##0.00)","ar-MA":"\xa4#,##0.00;(\xa4#,##0.00)","ar-MR":"\xa4#,##0.00;(\xa4#,##0.00)","ar-OM":"\xa4#,##0.00;(\xa4#,##0.00)","ar-PS":"\xa4#,##0.00;(\xa4#,##0.00)","ar-QA":"\xa4#,##0.00;(\xa4#,##0.00)","ar-SA":"\xa4#,##0.00;(\xa4#,##0.00)","ar-SD":"\xa4#,##0.00;(\xa4#,##0.00)","ar-SO":"\xa4#,##0.00;(\xa4#,##0.00)","ar-SS":"\xa4#,##0.00;(\xa4#,##0.00)","ar-SY":"\xa4#,##0.00;(\xa4#,##0.00)","ar-TD":"\xa4#,##0.00;(\xa4#,##0.00)","ar-TN":"\xa4#,##0.00;(\xa4#,##0.00)","ar-YE":"\xa4#,##0.00;(\xa4#,##0.00)",as:"\xa4\xa0#,##,##0.00",asa:"#,##0.00\xa0\xa4",ast:"#,##0.00\xa0\xa4",az:"#,##0.00\xa0\xa4","az-Cyrl":"#,##0.00\xa0\xa4","az-Latn":"#,##0.00\xa0\xa4",bas:"#,##0.00\xa0\xa4",be:"#,##0.00\xa0\xa4","be-tarask":"#,##0.00\xa0\xa4",bem:"\xa4#,##0.00;(\xa4#,##0.00)",bez:"#,##0.00\xa4",bg:"0.00\xa0\xa4;(0.00\xa0\xa4)",bm:"\xa4#,##0.00;(\xa4#,##0.00)",bn:"#,##,##0.00\xa4;(#,##,##0.00\xa4)","bn-IN":"#,##,##0.00\xa4;(#,##,##0.00\xa4)",bo:"\xa4\xa0#,##0.00","bo-IN":"\xa4\xa0#,##0.00",br:"#,##0.00\xa0\xa4",brx:"\xa4\xa0#,##,##0.00",bs:"#,##0.00\xa0\xa4","bs-Cyrl":"#,##0.00\xa0\xa4","bs-Latn":"#,##0.00\xa0\xa4",ca:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","ca-AD":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","ca-ES-valencia":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","ca-FR":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","ca-IT":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",ccp:"#,##,##0.00\xa4;(#,##,##0.00\xa4)","ccp-IN":"#,##,##0.00\xa4;(#,##,##0.00\xa4)",ce:"#,##0.00\xa0\xa4",ceb:"\xa4#,##0.00;(\xa4#,##0.00)",cgg:"\xa4#,##0.00",chr:"\xa4#,##0.00;(\xa4#,##0.00)",ckb:"\xa4\xa0#,##0.00","ckb-IR":"\xa4\xa0#,##0.00",cs:"#,##0.00\xa0\xa4",cy:"\xa4#,##0.00;(\xa4#,##0.00)",da:"#,##0.00\xa0\xa4","da-GL":"#,##0.00\xa0\xa4",dav:"\xa4#,##0.00;(\xa4#,##0.00)",de:"#,##0.00\xa0\xa4","de-AT":"#,##0.00\xa0\xa4","de-BE":"#,##0.00\xa0\xa4","de-CH":"#,##0.00\xa0\xa4","de-IT":"#,##0.00\xa0\xa4","de-LI":"#,##0.00\xa0\xa4","de-LU":"#,##0.00\xa0\xa4",dje:"#,##0.00\xa4",doi:"\xa4#,##0.00",dsb:"#,##0.00\xa0\xa4",dua:"#,##0.00\xa0\xa4",dyo:"#,##0.00\xa0\xa4",dz:"\xa4#,##,##0.00",ebu:"\xa4#,##0.00;(\xa4#,##0.00)",ee:"\xa4#,##0.00;(\xa4#,##0.00)","ee-TG":"\xa4#,##0.00;(\xa4#,##0.00)",el:"#,##0.00\xa0\xa4","el-CY":"#,##0.00\xa0\xa4",en:"\xa4#,##0.00;(\xa4#,##0.00)","en-001":"\xa4#,##0.00;(\xa4#,##0.00)","en-150":"#,##0.00\xa0\xa4","en-AE":"\xa4#,##0.00;(\xa4#,##0.00)","en-AG":"\xa4#,##0.00;(\xa4#,##0.00)","en-AI":"\xa4#,##0.00;(\xa4#,##0.00)","en-AS":"\xa4#,##0.00;(\xa4#,##0.00)","en-AT":"\xa4\xa0#,##0.00","en-AU":"\xa4#,##0.00;(\xa4#,##0.00)","en-BB":"\xa4#,##0.00;(\xa4#,##0.00)","en-BE":"#,##0.00\xa0\xa4","en-BI":"\xa4#,##0.00;(\xa4#,##0.00)","en-BM":"\xa4#,##0.00;(\xa4#,##0.00)","en-BS":"\xa4#,##0.00;(\xa4#,##0.00)","en-BW":"\xa4#,##0.00;(\xa4#,##0.00)","en-BZ":"\xa4#,##0.00;(\xa4#,##0.00)","en-CA":"\xa4#,##0.00;(\xa4#,##0.00)","en-CC":"\xa4#,##0.00;(\xa4#,##0.00)","en-CH":"\xa4\xa0#,##0.00;\xa4-#,##0.00","en-CK":"\xa4#,##0.00;(\xa4#,##0.00)","en-CM":"\xa4#,##0.00;(\xa4#,##0.00)","en-CX":"\xa4#,##0.00;(\xa4#,##0.00)","en-CY":"\xa4#,##0.00;(\xa4#,##0.00)","en-DE":"#,##0.00\xa0\xa4","en-DG":"\xa4#,##0.00;(\xa4#,##0.00)","en-DK":"#,##0.00\xa0\xa4","en-DM":"\xa4#,##0.00;(\xa4#,##0.00)","en-ER":"\xa4#,##0.00;(\xa4#,##0.00)","en-FI":"#,##0.00\xa0\xa4","en-FJ":"\xa4#,##0.00;(\xa4#,##0.00)","en-FK":"\xa4#,##0.00;(\xa4#,##0.00)","en-FM":"\xa4#,##0.00;(\xa4#,##0.00)","en-GB":"\xa4#,##0.00;(\xa4#,##0.00)","en-GD":"\xa4#,##0.00;(\xa4#,##0.00)","en-GG":"\xa4#,##0.00;(\xa4#,##0.00)","en-GH":"\xa4#,##0.00;(\xa4#,##0.00)","en-GI":"\xa4#,##0.00;(\xa4#,##0.00)","en-GM":"\xa4#,##0.00;(\xa4#,##0.00)","en-GU":"\xa4#,##0.00;(\xa4#,##0.00)","en-GY":"\xa4#,##0.00;(\xa4#,##0.00)","en-HK":"\xa4#,##0.00;(\xa4#,##0.00)","en-IE":"\xa4#,##0.00;(\xa4#,##0.00)","en-IL":"\xa4#,##0.00;(\xa4#,##0.00)","en-IM":"\xa4#,##0.00;(\xa4#,##0.00)","en-IN":"\xa4#,##0.00;(\xa4#,##0.00)","en-IO":"\xa4#,##0.00;(\xa4#,##0.00)","en-JE":"\xa4#,##0.00;(\xa4#,##0.00)","en-JM":"\xa4#,##0.00;(\xa4#,##0.00)","en-KE":"\xa4#,##0.00;(\xa4#,##0.00)","en-KI":"\xa4#,##0.00;(\xa4#,##0.00)","en-KN":"\xa4#,##0.00;(\xa4#,##0.00)","en-KY":"\xa4#,##0.00;(\xa4#,##0.00)","en-LC":"\xa4#,##0.00;(\xa4#,##0.00)","en-LR":"\xa4#,##0.00;(\xa4#,##0.00)","en-LS":"\xa4#,##0.00;(\xa4#,##0.00)","en-MG":"\xa4#,##0.00;(\xa4#,##0.00)","en-MH":"\xa4#,##0.00;(\xa4#,##0.00)","en-MO":"\xa4#,##0.00;(\xa4#,##0.00)","en-MP":"\xa4#,##0.00;(\xa4#,##0.00)","en-MS":"\xa4#,##0.00;(\xa4#,##0.00)","en-MT":"\xa4#,##0.00;(\xa4#,##0.00)","en-MU":"\xa4#,##0.00;(\xa4#,##0.00)","en-MV":"\xa4\xa0#,##0.00","en-MW":"\xa4#,##0.00;(\xa4#,##0.00)","en-MY":"\xa4#,##0.00;(\xa4#,##0.00)","en-NA":"\xa4#,##0.00;(\xa4#,##0.00)","en-NF":"\xa4#,##0.00;(\xa4#,##0.00)","en-NG":"\xa4#,##0.00;(\xa4#,##0.00)","en-NL":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","en-NR":"\xa4#,##0.00;(\xa4#,##0.00)","en-NU":"\xa4#,##0.00;(\xa4#,##0.00)","en-NZ":"\xa4#,##0.00;(\xa4#,##0.00)","en-PG":"\xa4#,##0.00;(\xa4#,##0.00)","en-PH":"\xa4#,##0.00;(\xa4#,##0.00)","en-PK":"\xa4#,##0.00;(\xa4#,##0.00)","en-PN":"\xa4#,##0.00;(\xa4#,##0.00)","en-PR":"\xa4#,##0.00;(\xa4#,##0.00)","en-PW":"\xa4#,##0.00;(\xa4#,##0.00)","en-RW":"\xa4#,##0.00;(\xa4#,##0.00)","en-SB":"\xa4#,##0.00;(\xa4#,##0.00)","en-SC":"\xa4#,##0.00;(\xa4#,##0.00)","en-SD":"\xa4#,##0.00;(\xa4#,##0.00)","en-SE":"#,##0.00\xa0\xa4","en-SG":"\xa4#,##0.00;(\xa4#,##0.00)","en-SH":"\xa4#,##0.00;(\xa4#,##0.00)","en-SI":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","en-SL":"\xa4#,##0.00;(\xa4#,##0.00)","en-SS":"\xa4#,##0.00;(\xa4#,##0.00)","en-SX":"\xa4#,##0.00;(\xa4#,##0.00)","en-SZ":"\xa4#,##0.00;(\xa4#,##0.00)","en-TC":"\xa4#,##0.00;(\xa4#,##0.00)","en-TK":"\xa4#,##0.00;(\xa4#,##0.00)","en-TO":"\xa4#,##0.00;(\xa4#,##0.00)","en-TT":"\xa4#,##0.00;(\xa4#,##0.00)","en-TV":"\xa4#,##0.00;(\xa4#,##0.00)","en-TZ":"\xa4#,##0.00;(\xa4#,##0.00)","en-UG":"\xa4#,##0.00;(\xa4#,##0.00)","en-UM":"\xa4#,##0.00;(\xa4#,##0.00)","en-VC":"\xa4#,##0.00;(\xa4#,##0.00)","en-VG":"\xa4#,##0.00;(\xa4#,##0.00)","en-VI":"\xa4#,##0.00;(\xa4#,##0.00)","en-VU":"\xa4#,##0.00;(\xa4#,##0.00)","en-WS":"\xa4#,##0.00;(\xa4#,##0.00)","en-ZA":"\xa4#,##0.00;(\xa4#,##0.00)","en-ZM":"\xa4#,##0.00;(\xa4#,##0.00)","en-ZW":"\xa4#,##0.00;(\xa4#,##0.00)",eo:"\xa4\xa0#,##0.00",es:"#,##0.00\xa0\xa4","es-419":"\xa4#,##0.00","es-AR":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","es-BO":"\xa4#,##0.00","es-BR":"\xa4#,##0.00","es-BZ":"\xa4#,##0.00","es-CL":"\xa4#,##0.00","es-CO":"\xa4#,##0.00","es-CR":"\xa4#,##0.00","es-CU":"\xa4#,##0.00","es-DO":"\xa4#,##0.00;(\xa4#,##0.00)","es-EA":"#,##0.00\xa0\xa4","es-EC":"\xa4#,##0.00","es-GQ":"#,##0.00\xa0\xa4","es-GT":"\xa4#,##0.00","es-HN":"\xa4#,##0.00","es-IC":"#,##0.00\xa0\xa4","es-MX":"\xa4#,##0.00","es-NI":"\xa4#,##0.00","es-PA":"\xa4#,##0.00","es-PE":"\xa4#,##0.00","es-PH":"#,##0.00\xa0\xa4","es-PR":"\xa4#,##0.00","es-PY":"\xa4#,##0.00","es-SV":"\xa4#,##0.00","es-US":"\xa4#,##0.00","es-UY":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","es-VE":"\xa4#,##0.00",et:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",eu:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",ewo:"#,##0.00\xa0\xa4",fa:"\u200e\xa4\xa0#,##0.00;\u200e(\xa4\xa0#,##0.00)","fa-AF":"\xa4\xa0#,##0.00;\u200e(\xa4\xa0#,##0.00)",ff:"#,##0.00\xa0\xa4","ff-Adlm":"\xa4\xa0#,##0.00","ff-Adlm-BF":"\xa4\xa0#,##0.00","ff-Adlm-CM":"\xa4\xa0#,##0.00","ff-Adlm-GH":"\xa4\xa0#,##0.00","ff-Adlm-GM":"\xa4\xa0#,##0.00","ff-Adlm-GW":"\xa4\xa0#,##0.00","ff-Adlm-LR":"\xa4\xa0#,##0.00","ff-Adlm-MR":"\xa4\xa0#,##0.00","ff-Adlm-NE":"\xa4\xa0#,##0.00","ff-Adlm-NG":"\xa4\xa0#,##0.00","ff-Adlm-SL":"\xa4\xa0#,##0.00","ff-Adlm-SN":"\xa4\xa0#,##0.00","ff-Latn":"#,##0.00\xa0\xa4","ff-Latn-BF":"#,##0.00\xa0\xa4","ff-Latn-CM":"#,##0.00\xa0\xa4","ff-Latn-GH":"#,##0.00\xa0\xa4","ff-Latn-GM":"#,##0.00\xa0\xa4","ff-Latn-GN":"#,##0.00\xa0\xa4","ff-Latn-GW":"#,##0.00\xa0\xa4","ff-Latn-LR":"#,##0.00\xa0\xa4","ff-Latn-MR":"#,##0.00\xa0\xa4","ff-Latn-NE":"#,##0.00\xa0\xa4","ff-Latn-NG":"#,##0.00\xa0\xa4","ff-Latn-SL":"#,##0.00\xa0\xa4",fi:"#,##0.00\xa0\xa4",fil:"\xa4#,##0.00;(\xa4#,##0.00)",fo:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fo-DK":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",fr:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-BE":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-BF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-BI":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-BJ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-BL":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CA":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CD":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CG":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CH":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CI":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-CM":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-DJ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-DZ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-GA":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-GF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-GN":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-GP":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-GQ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-HT":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-KM":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-LU":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MA":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MC":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MG":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-ML":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MQ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MR":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-MU":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-NC":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-NE":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-PF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-PM":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-RE":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-RW":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-SC":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-SN":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-SY":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-TD":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-TG":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-TN":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-VU":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-WF":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","fr-YT":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",fur:"\xa4\xa0#,##0.00",fy:"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)",ga:"\xa4#,##0.00;(\xa4#,##0.00)","ga-GB":"\xa4#,##0.00;(\xa4#,##0.00)",gd:"\xa4#,##0.00;(\xa4#,##0.00)",gl:"#,##0.00\xa0\xa4",gsw:"#,##0.00\xa0\xa4","gsw-FR":"#,##0.00\xa0\xa4","gsw-LI":"#,##0.00\xa0\xa4",gu:"\xa4#,##,##0.00;(\xa4#,##,##0.00)",guz:"\xa4#,##0.00;(\xa4#,##0.00)",gv:"\xa4#,##0.00",ha:"\xa4\xa0#,##0.00","ha-GH":"\xa4\xa0#,##0.00","ha-NE":"\xa4\xa0#,##0.00",haw:"\xa4#,##0.00;(\xa4#,##0.00)",he:"#,##0.00\xa0\xa4",hi:"\xa4#,##,##0.00","hi-Latn":"\xa4#,##,##0.00",hr:"#,##0.00\xa0\xa4","hr-BA":"#,##0.00\xa0\xa4",hsb:"#,##0.00\xa0\xa4",hu:"#,##0.00\xa0\xa4",hy:"#,##0.00\xa0\xa4",ia:"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)",id:"\xa4#,##0.00",ig:"\xa4#,##0.00;(\xa4#,##0.00)",ii:"\xa4\xa0#,##0.00",is:"#,##0.00\xa0\xa4",it:"#,##0.00\xa0\xa4","it-CH":"#,##0.00\xa0\xa4","it-SM":"#,##0.00\xa0\xa4","it-VA":"#,##0.00\xa0\xa4",ja:"\xa4#,##0.00;(\xa4#,##0.00)",jgo:"\xa4\xa0#,##0.00",jmc:"\xa4#,##0.00",jv:"\xa4\xa0#,##0.00",ka:"#,##0.00\xa0\xa4",kab:"#,##0.00\xa4",kam:"\xa4#,##0.00;(\xa4#,##0.00)",kde:"\xa4#,##0.00;(\xa4#,##0.00)",kea:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",kgp:"\xa4\xa0#,##0.00",khq:"#,##0.00\xa4",ki:"\xa4#,##0.00;(\xa4#,##0.00)",kk:"#,##0.00\xa0\xa4",kkj:"\xa4\xa0#,##0.00",kl:"\xa4#,##0.00;\xa4-#,##0.00",kln:"\xa4#,##0.00;(\xa4#,##0.00)",km:"#,##0.00\xa4;(#,##0.00\xa4)",kn:"\xa4#,##0.00;(\xa4#,##0.00)",ko:"\xa4#,##0.00;(\xa4#,##0.00)","ko-KP":"\xa4#,##0.00;(\xa4#,##0.00)",kok:"\xa4#,##0.00;(\xa4#,##0.00)",ks:"\xa4#,##0.00","ks-Arab":"\xa4#,##0.00","ks-Deva":"\xa4\xa0#,##0.00",ksb:"#,##0.00\xa4",ksf:"#,##0.00\xa0\xa4",ksh:"#,##0.00\xa0\xa4",ku:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",kw:"\xa4#,##0.00",ky:"#,##0.00\xa0\xa4",lag:"\xa4\xa0#,##0.00",lb:"#,##0.00\xa0\xa4",lg:"#,##0.00\xa4",lkt:"\xa4\xa0#,##0.00",ln:"#,##0.00\xa0\xa4","ln-AO":"#,##0.00\xa0\xa4","ln-CF":"#,##0.00\xa0\xa4","ln-CG":"#,##0.00\xa0\xa4",lo:"\xa4#,##0.00;\xa4-#,##0.00",lrc:"\xa4\xa0#,##0.00","lrc-IQ":"\xa4\xa0#,##0.00",lt:"#,##0.00\xa0\xa4",lu:"#,##0.00\xa4",luo:"#,##0.00\xa4",luy:"\xa4#,##0.00;\xa4-\xa0#,##0.00",lv:"#,##0.00\xa0\xa4",mai:"\xa4\xa0#,##0.00",mas:"\xa4#,##0.00;(\xa4#,##0.00)","mas-TZ":"\xa4#,##0.00;(\xa4#,##0.00)",mer:"\xa4#,##0.00;(\xa4#,##0.00)",mfe:"\xa4\xa0#,##0.00",mg:"\xa4#,##0.00",mgh:"\xa4\xa0#,##0.00",mgo:"\xa4\xa0#,##0.00",mi:"\xa4\xa0#,##0.00",mk:"#,##0.00\xa0\xa4",ml:"\xa4#,##0.00;(\xa4#,##0.00)",mn:"\xa4\xa0#,##0.00",mni:"\xa4\xa0#,##0.00","mni-Beng":"\xa4\xa0#,##0.00",mr:"\xa4#,##0.00;(\xa4#,##0.00)",ms:"\xa4#,##0.00;(\xa4#,##0.00)","ms-BN":"\xa4#,##0.00;(\xa4#,##0.00)","ms-ID":"\xa4#,##0.00","ms-SG":"\xa4#,##0.00;(\xa4#,##0.00)",mt:"\xa4#,##0.00",mua:"\xa4#,##0.00;(\xa4#,##0.00)",my:"\xa4\xa0#,##0.00",mzn:"\xa4\xa0#,##0.00",naq:"\xa4#,##0.00",nb:"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nb-SJ":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)",nd:"\xa4#,##0.00;(\xa4#,##0.00)",nds:"\xa4\xa0#,##0.00","nds-NL":"\xa4\xa0#,##0.00",ne:"\xa4\xa0#,##,##0.00","ne-IN":"\xa4\xa0#,##,##0.00",nl:"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-AW":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-BE":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-BQ":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-CW":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-SR":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)","nl-SX":"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)",nmg:"#,##0.00\xa0\xa4",nn:"#,##0.00\xa0\xa4",nnh:"\xa4\xa0#,##0.00",no:"\xa4\xa0#,##0.00;(\xa4\xa0#,##0.00)",nus:"\xa4#,##0.00;(\xa4#,##0.00)",nyn:"\xa4#,##0.00",om:"\xa4#,##0.00","om-KE":"\xa4#,##0.00",or:"\xa4#,##0.00;(\xa4#,##0.00)",os:"\xa4\xa0#,##0.00","os-RU":"\xa4\xa0#,##0.00",pa:"\xa4\xa0#,##0.00","pa-Arab":"\xa4\xa0#,##0.00","pa-Guru":"\xa4\xa0#,##0.00",pcm:"\xa4#,##0.00",pl:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",ps:"\xa4#,##0.00;(\xa4#,##0.00)","ps-PK":"\xa4#,##0.00;(\xa4#,##0.00)",pt:"\xa4\xa0#,##0.00","pt-AO":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-CH":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-CV":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-GQ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-GW":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-LU":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-MO":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-MZ":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-PT":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-ST":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","pt-TL":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",qu:"\xa4\xa0#,##0.00","qu-BO":"\xa4\xa0#,##0.00","qu-EC":"\xa4\xa0#,##0.00",rm:"#,##0.00\xa0\xa4",rn:"#,##0.00\xa4",ro:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","ro-MD":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",rof:"\xa4#,##0.00",ru:"#,##0.00\xa0\xa4","ru-BY":"#,##0.00\xa0\xa4","ru-KG":"#,##0.00\xa0\xa4","ru-KZ":"#,##0.00\xa0\xa4","ru-MD":"#,##0.00\xa0\xa4","ru-UA":"#,##0.00\xa0\xa4",rw:"\xa4\xa0#,##0.00",rwk:"#,##0.00\xa4",sa:"\xa4\xa0#,##0.00",sah:"#,##0.00\xa0\xa4",saq:"\xa4#,##0.00;(\xa4#,##0.00)",sat:"\xa4\xa0#,##0.00","sat-Olck":"\xa4\xa0#,##0.00",sbp:"#,##0.00\xa4",sc:"#,##0.00\xa0\xa4",sd:"\xa4\xa0#,##0.00","sd-Arab":"\xa4\xa0#,##0.00","sd-Deva":"\xa4\xa0#,##0.00",se:"#,##0.00\xa0\xa4","se-FI":"#,##0.00\xa0\xa4","se-SE":"#,##0.00\xa0\xa4",seh:"#,##0.00\xa4",ses:"#,##0.00\xa4",sg:"\xa4#,##0.00;\xa4-#,##0.00",shi:"#,##0.00\xa4","shi-Latn":"#,##0.00\xa4","shi-Tfng":"#,##0.00\xa4",si:"\xa4#,##0.00;(\xa4#,##0.00)",sk:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",sl:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",smn:"#,##0.00\xa0\xa4",sn:"\xa4#,##0.00;(\xa4#,##0.00)",so:"\xa4#,##0.00;(\xa4#,##0.00)","so-DJ":"\xa4#,##0.00;(\xa4#,##0.00)","so-ET":"\xa4#,##0.00;(\xa4#,##0.00)","so-KE":"\xa4#,##0.00;(\xa4#,##0.00)",sq:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sq-MK":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sq-XK":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",sr:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Cyrl":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Cyrl-BA":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Cyrl-ME":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Cyrl-XK":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Latn":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Latn-BA":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Latn-ME":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)","sr-Latn-XK":"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",su:"\xa4#,##0.00","su-Latn":"\xa4#,##0.00",sv:"#,##0.00\xa0\xa4","sv-AX":"#,##0.00\xa0\xa4","sv-FI":"#,##0.00\xa0\xa4",sw:"\xa4\xa0#,##0.00","sw-CD":"\xa4\xa0#,##0.00","sw-KE":"\xa4\xa0#,##0.00","sw-UG":"\xa4\xa0#,##0.00",ta:"\xa4#,##0.00;(\xa4#,##0.00)","ta-LK":"\xa4#,##0.00;(\xa4#,##0.00)","ta-MY":"\xa4#,##0.00;(\xa4#,##0.00)","ta-SG":"\xa4#,##0.00;(\xa4#,##0.00)",te:"\xa4#,##0.00;(\xa4#,##0.00)",teo:"\xa4#,##0.00;(\xa4#,##0.00)","teo-KE":"\xa4#,##0.00;(\xa4#,##0.00)",tg:"#,##0.00\xa0\xa4",th:"\xa4#,##0.00;(\xa4#,##0.00)",ti:"\xa4#,##0.00","ti-ER":"\xa4#,##0.00",tk:"#,##0.00\xa0\xa4",to:"\xa4\xa0#,##0.00",tr:"\xa4#,##0.00;(\xa4#,##0.00)","tr-CY":"\xa4#,##0.00;(\xa4#,##0.00)",tt:"#,##0.00\xa0\xa4",twq:"#,##0.00\xa4",tzm:"#,##0.00\xa0\xa4",ug:"\xa4#,##0.00;(\xa4#,##0.00)",uk:"#,##0.00\xa0\xa4",und:"\xa4\xa0#,##0.00",ur:"\xa4#,##0.00;(\xa4#,##0.00)","ur-IN":"\xa4#,##0.00;(\xa4#,##0.00)",uz:"#,##0.00\xa0\xa4","uz-Arab":"\xa4\xa0#,##0.00","uz-Cyrl":"#,##0.00\xa0\xa4","uz-Latn":"#,##0.00\xa0\xa4",vai:"\xa4#,##0.00;(\xa4#,##0.00)","vai-Latn":"\xa4#,##0.00;(\xa4#,##0.00)","vai-Vaii":"\xa4#,##0.00;(\xa4#,##0.00)",vi:"#,##0.00\xa0\xa4",vun:"\xa4#,##0.00",wae:"\xa4\xa0#,##0.00",wo:"\xa4\xa0#,##0.00",xh:"\xa4#,##0.00",xog:"#,##0.00\xa0\xa4",yav:"#,##0.00\xa0\xa4;(#,##0.00\xa0\xa4)",yi:"\xa4\xa0#,##0.00",yo:"\xa4#,##0.00;(\xa4#,##0.00)","yo-BJ":"\xa4#,##0.00;(\xa4#,##0.00)",yrl:"\xa4\xa0#,##0.00","yrl-CO":"\xa4\xa0#,##0.00","yrl-VE":"\xa4\xa0#,##0.00",yue:"\xa4#,##0.00;(\xa4#,##0.00)","yue-Hans":"\xa4#,##0.00;(\xa4#,##0.00)","yue-Hant":"\xa4#,##0.00;(\xa4#,##0.00)",zgh:"#,##0.00\xa4",zh:"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hans":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hans-HK":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hans-MO":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hans-SG":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hant":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hant-HK":"\xa4#,##0.00;(\xa4#,##0.00)","zh-Hant-MO":"\xa4#,##0.00;(\xa4#,##0.00)",zu:"\xa4#,##0.00;(\xa4#,##0.00)"},Fd=["standard","accounting"],$d=/([^\s0]+)?(\s*)0*[.,]*0*(\s*)([^\s0]+)?/,Hd={},Ld=e=>{const t=dr.locale()+"/"+JSON.stringify(e);return Hd[t]||(Hd[t]=new Intl.NumberFormat(dr.locale(),e).format),Hd[t]},Vd={engine:function(){return"intl"},_formatNumberCore:function(e,t,n){return"exponential"===t?this.callBase.apply(this,arguments):Ld(this._normalizeFormatConfig(t,n,e))(e)},_normalizeFormatConfig:function(e,t,n){let i;if("decimal"===e){const e=String(n).split(".")[1];i={minimumIntegerDigits:t.precision||void 0,useGrouping:!1,maximumFractionDigits:e&&e.length,round:n<0?"ceil":"floor"}}else i=this._getPrecisionConfig(t.precision);if("percent"===e)i.style="percent";else if("currency"===e){const e=t.useCurrencyAccountingStyle??Y().defaultUseCurrencyAccountingStyle;i.style="currency",i.currency=t.currency||Y().defaultCurrency,i.currencySign=Fd[+e]}return i},_getPrecisionConfig:function(e){let t;return t=null===e?{minimumFractionDigits:0,maximumFractionDigits:20}:{minimumFractionDigits:e||0,maximumFractionDigits:e||0},t},format:function(e,t){return"number"!==typeof e?e:("default"===(t=this._normalizeFormat(t)).currency&&(t.currency=Y().defaultCurrency),t&&("function"===typeof t||t.type||t.formatter)?this.callBase.apply(this,arguments):Ld(t)(e))},_getCurrencySymbolInfo:function(e){const t=(e=>new Intl.NumberFormat(dr.locale(),{style:"currency",currency:e}))(e);return this._extractCurrencySymbolInfo(t.format(0))},_extractCurrencySymbolInfo:function(e){const t=$d.exec(e)||[];return{position:t[1]?"before":"after",symbol:t[1]||t[4]||"",delimiter:t[2]||t[3]||""}},getCurrencySymbol:function(e){e||(e=Y().defaultCurrency);return{symbol:this._getCurrencySymbolInfo(e).symbol}},getOpenXmlCurrencyFormat:function(e){const t=e||Y().defaultCurrency;return((e,t)=>{if(!t)return;let n=e;if("string"===typeof e){n="";for(let t=0;t<e.length;t++)"$"!==e[t]&&(n+="\\"),n+=e[t]}const i={".00":"{0}","'":"\\'","\\(":"\\(","\\)":"\\)"," ":"\\ ",'"':"&quot;","\\\xa4":n},r=t.split(";");for(let o=0;o<r.length;o++)for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&(r[o]=r[o].replace(new RegExp(e,"g"),i[e]));return 2===r.length?r[0]+"_);"+r[1]:r[0]})(this._getCurrencySymbolInfo(t).symbol,dr.getValueByClosestLocale(e=>Nd[e]))}},zd="undefined"!==typeof Intl,jd=["currency","fixedpoint","exponential","percent","decimal"],Wd={1:"K",2:"M",3:"B",4:"T"},Kd={largenumber:"auto",thousands:1,millions:2,billions:3,trillions:4},Ud=ue({engine:function(){return"base"},numericFormats:jd,defaultLargeNumberFormatPostfixes:Wd,_parseNumberFormatString:function(e){const t={};if(!e||"string"!==typeof e)return;const n=e.toLowerCase().split(" ");return l(n,(e,n)=>{jd.includes(n)?t.formatType=n:n in Kd&&(t.power=Kd[n])}),t.power&&!t.formatType&&(t.formatType="fixedpoint"),t.formatType?t:void 0},_calculateNumberPower:function(e,t,n,i){let r=Math.abs(e),o=0;if(r>1)for(;r&&r>=t&&(void 0===i||o<i);)o++,r/=t;else if(r>0&&r<1)for(;r<1&&(void 0===n||o>n);)o--,r*=t;return o},_getNumberByPower:function(e,t,n){let i=e;for(;t>0;)i/=n,t--;for(;t<0;)i*=n,t++;return i},_formatNumber:function(e,t,n){"auto"===t.power&&(t.power=this._calculateNumberPower(e,1e3,0,4)),t.power&&(e=this._getNumberByPower(e,t.power,1e3));const i=this.defaultLargeNumberFormatPostfixes[t.power]||"";let r=this._formatNumberCore(e,t.formatType,n);return r=r.replace(/(\d|.$)(\D*)$/,"$1"+i+"$2"),r},_formatNumberExponential:function(e,t){let n=this._calculateNumberPower(e,10),i=this._getNumberByPower(e,n,10);void 0===t.precision&&(t.precision=1),i.toFixed(t.precision||0)>=10&&(n++,i/=10);const r=(n>=0?"+":"")+n.toString();return this._formatNumberCore(i,"fixedpoint",t)+"E"+r},_addZeroes:function(e,t){const n=Math.pow(10,t),i=e<0?"-":"";let r=(e=(Math.abs(e)*n>>>0)/n).toString();for(;r.length<t;)r="0"+r;return i+r},_addGroupSeparators:function(e){const t=e.toString().split(".");return t[0].replace(/\B(?=(\d{3})+(?!\d))/g,le().thousandsSeparator)+(t[1]?le().decimalSeparator+t[1]:"")},_formatNumberCore:function(e,t,n){return"exponential"===t?this._formatNumberExponential(e,n):("decimal"!==t&&null!==n.precision&&(n.precision=n.precision||0),"percent"===t&&(e*=100),void 0!==n.precision&&(e="decimal"===t?this._addZeroes(e,n.precision):null===n.precision?e.toPrecision():wd(e,n.precision)),e="decimal"!==t?this._addGroupSeparators(e):e.toString().replace(".",le().decimalSeparator),"percent"===t&&(e+="%"),e)},_normalizeFormat:function(e){return e?("function"===typeof e||x(e)||(e={type:e}),e):{}},_getSeparators:function(){return{decimalSeparator:this.getDecimalSeparator(),thousandsSeparator:this.getThousandsSeparator()}},getThousandsSeparator:function(){return this.format(1e4,"fixedPoint")[2]},getDecimalSeparator:function(){return this.format(1.2,{type:"fixedPoint",precision:1})[1]},convertDigits:function(e,t){const n=this.format(90,"decimal");if("string"!==typeof e||"0"===n[1])return e;const i=t?n[1]:"0",r=t?"0":n[1],o=t?n[0]:"9",s=new RegExp("["+i+"-"+o+"]","g");return e.replace(s,e=>String.fromCharCode(e.charCodeAt(0)+(r.charCodeAt(0)-i.charCodeAt(0))))},getNegativeEtalonRegExp:function(e){const t=this._getSeparators(),n=new RegExp("[0-9"+Je(t.decimalSeparator+t.thousandsSeparator)+"]+","g");let i=this.format(-1,e).replace(n,"1");return["\\","(",")","[","]","*","+","$","^","?","|","{","}"].forEach(e=>{i=i.replace(new RegExp(`\\${e}`,"g"),`\\${e}`)}),i=i.replace(/ /g,"\\s"),i=i.replace(/1/g,".*"),new RegExp(i,"g")},getSign:function(e,t){if(!t)return"-"===e.replace(/[^0-9-]/g,"").charAt(0)?-1:1;const n=this.getNegativeEtalonRegExp(t);return e.match(n)?-1:1},format:function(e,t){if("number"!==typeof e)return e;if("number"===typeof t)return e;if("function"===typeof(t=t&&t.formatter||t))return t(e);(t=this._normalizeFormat(t)).type||(t.type="decimal");const n=this._parseNumberFormatString(t.type);if(!n){const n=this._getSeparators();return n.unlimitedIntegerDigits=t.unlimitedIntegerDigits,this.convertDigits(function(e,t){return t=t||Ed,function(n){if("number"!==typeof n||isNaN(n))return"";const i=function(e){const t=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:";",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"'";const i=[];let r="",o="searchingSeparator";for(let s=0;s<e.length;s++){const a=e[s];"searchingSeparator"===o&&a===n?o="skippingSeparationInsideEscaping":"skippingSeparationInsideEscaping"===o&&a===n?o="searchingSeparator":"searchingSeparator"===o&&a===t&&(o="separating",i.push(r),r=""),"separating"!==o?r+=a:o="searchingSeparator"}return i.push(r),i}(e);return 1===t.length&&t.push("-"+t[0]),t}(e),r=n>0||1/n===1/0,o=i[r?0:1],s=function(e){let t=!1;for(let n=0;n<e.length;n++)if("'"===e[n]&&(t=!t),"."===e[n]&&!t)return n;return e.length}(o),a=[o.substr(0,s),o.substr(s+1)],l=Od(a[1]),c=l+Dd(a[1]);(function(e){return-1!==e.indexOf("%")&&!e.match(/'[^']*%[^']*'/g)})(o)&&(n=Wo(n,2)),r||(n=-n);const u=Od(a[0]),d=Dd(a[0])||t.unlimitedIntegerDigits?void 0:u,h=Math.floor(n).toString().length,p=Vo(c,0,15-h),f=(m=a[0],m.split(",").slice(1).map(function(e){let t=0;return e.split("").filter(function(e,n){return t+="'"===e,("#"===e||"0"===e)&&!(t%2)}).length})).reverse();var m;const _=wd(n,p<0?0:p).split(".");let g=Td(Id(_[0]),u,d);const v=Td(_[1],l,c);g=function(e,t,n){if(!t.length)return e;const i=[];let r=0;for(;e;){const n=t[r];if(!n)break;i.push(e.slice(0,n)),e=e.slice(n),r<t.length-1&&r++}return i.join(n)}(g,f,t.thousandsSeparator);const y=Id(Ad(Id(a[0]),g)),b=c?Ad(a[1],v):"";return y+(b.match(/\d/)?t.decimalSeparator:"")+b}}(t.type,n)(e))}return this._formatNumber(e,n,t)},parse:function(e,t){if(!e)return;if(t&&t.parser)return t.parser(e);e=this.convertDigits(e,!0),t&&"string"!==typeof t&&W.log("W0011");const n=this.getDecimalSeparator(),i=new RegExp("[^0-9"+Je(n)+"]","g"),r=e.replace(i,"").replace(n,".").replace(/\.$/g,"");if("."===r||""===r)return null;if(this._calcSignificantDigits(r)>15)return NaN;let o=+r*this.getSign(e,t);t=this._normalizeFormat(t);const s=this._parseNumberFormatString(t.type);let a=null===s||void 0===s?void 0:s.power;if(a){if("auto"===a){const t=e.match(/\d(K|M|B|T)/);t&&(a=Object.keys(Wd).find(e=>Wd[e]===t[1]))}o*=Math.pow(10,3*a)}return"percent"===(null===s||void 0===s?void 0:s.formatType)&&(o/=100),o},_calcSignificantDigits:function(e){const[t,n]=e.split("."),i=e=>{let t=-1;for(let n=0;n<e.length;n++)if("0"!==e[n]){t=n;break}return t>-1?e.length-t:0};let r=0;return t&&(r+=i(t.split(""))),n&&(r+=i(n.split("").reverse())),r}});Ud.inject(Bd),zd&&Ud.inject(Vd);const qd=Ud,Gd=/^[\d\w.+_-]+@[\d\w._-]+\.[\w]+$/i,Zd="valid",Yd="invalid",Qd="pending";class Xd{constructor(){this.NAME="base"}defaultMessage(e){return mr.getFormatter(`validation-${this.NAME}`)(e)}defaultFormattedMessage(e){return mr.getFormatter(`validation-${this.NAME}-formatted`)(e)}_isValueEmpty(e){return!eh.required.validate(e,{})}validate(e,t){const n=Array.isArray(e)?e:[e];let i=!0;return n.length?n.every(e=>(i=this._validate(e,t),i)):i=this._validate(null,t),i}}class Jd extends Xd{constructor(){super(),this.NAME="custom"}validate(e,t){if(t.ignoreEmptyValue&&this._isValueEmpty(e))return!0;const{validator:n}=t,i=n&&g(n.option)&&n.option("dataGetter"),r=g(i)&&i(),o={value:e,validator:n,rule:t};return r&&A(o,r),t.validationCallback(o)}}const eh={required:new class extends Xd{constructor(){super(),this.NAME="required"}_validate(e,t){return!!_(e)&&(!1!==e&&(e=String(e),!t.trim&&_(t.trim)||(e=e.trim()),""!==e))}},numeric:new class extends Xd{constructor(){super(),this.NAME="numeric"}_validate(e,t){return!(!1===t.ignoreEmptyValue||!this._isValueEmpty(e))||(t.useCultureSettings&&v(e)?!isNaN(qd.parse(e)):y(e))}},range:new class extends Xd{constructor(){super(),this.NAME="range"}_validate(e,t){if(!1!==t.ignoreEmptyValue&&this._isValueEmpty(e))return!0;const n=eh.numeric.validate(e,t),i=_(e)&&""!==e,r=n?parseFloat(e):i&&e.valueOf(),{min:o}=t,{max:s}=t;if(!n&&!m(e)&&!i)return!1;if(_(o))return _(s)?r>=o&&r<=s:r>=o;if(_(s))return r<=s;throw W.Error("E0101")}},stringLength:new class extends Xd{constructor(){super(),this.NAME="stringLength"}_validate(e,t){return e=String(e??""),!t.trim&&_(t.trim)||(e=e.trim()),!(!t.ignoreEmptyValue||!this._isValueEmpty(e))||eh.range.validate(e.length,A({},t))}},custom:new Jd,async:new class extends Jd{constructor(){super(),this.NAME="async"}validate(e,t){if(_(t.reevaluate)||A(t,{reevaluate:!0}),t.ignoreEmptyValue&&this._isValueEmpty(e))return!0;const{validator:n}=t,i=n&&g(n.option)&&n.option("dataGetter"),r=g(i)&&i(),o={value:e,validator:n,rule:t};r&&A(o,r);const s=t.validationCallback(o);if(!I(s))throw W.Error("E0103");return this._getWrappedPromise(Pe(s).promise())}_getWrappedPromise(e){const t=Re();return e.then(e=>{t.resolve(e)},e=>{const n={isValid:!1};_(e)&&(v(e)?n.message=e:b(e)&&_(e.message)&&v(e.message)&&(n.message=e.message)),t.resolve(n)}),t.promise()}},compare:new class extends Xd{constructor(){super(),this.NAME="compare"}_validate(e,t){if(!t.comparisonTarget)throw W.Error("E0102");if(t.ignoreEmptyValue&&this._isValueEmpty(e))return!0;A(t,{reevaluate:!0});const n=t.comparisonTarget();switch(t.comparisonType||"=="){case"==":return e==n;case"!=":return e!=n;case"===":return e===n;case"!==":return e!==n;case">":return e>n;case">=":return e>=n;case"<":return e<n;case"<=":return e<=n}}},pattern:new class extends Xd{constructor(){super(),this.NAME="pattern"}_validate(e,t){if(!1!==t.ignoreEmptyValue&&this._isValueEmpty(e))return!0;let{pattern:n}=t;return v(n)&&(n=new RegExp(n)),n.test(e)}},email:new class extends Xd{constructor(){super(),this.NAME="email"}_validate(e,t){return!(!1===t.ignoreEmptyValue||!this._isValueEmpty(e))||eh.pattern.validate(e,A({},t,{pattern:Gd}))}}};class th extends(ie.inherit({})){ctor(e,t){this.group=e,this.validators=[],this._isRemovable=t,this._pendingValidators=[],this._onValidatorStatusChanged=this._onValidatorStatusChanged.bind(this),this._resetValidationInfo(),this._eventsStrategy=new Fr(this)}validate(){const e={isValid:!0,brokenRules:[],validators:[],status:Zd,complete:null};return this._unsubscribeFromAllChangeEvents(),this._pendingValidators=[],this._resetValidationInfo(),l(this.validators,(t,n)=>{const i=n.validate();e.isValid=e.isValid&&i.isValid,i.brokenRules&&(e.brokenRules=e.brokenRules.concat(i.brokenRules)),e.validators.push(n),i.status===Qd&&this._addPendingValidator(n),this._subscribeToChangeEvents(n)}),this._pendingValidators.length?e.status=Qd:(e.status=e.isValid?Zd:Yd,this._unsubscribeFromAllChangeEvents(),this._raiseValidatedEvent(e)),this._updateValidationInfo(e),A({},this._validationInfo.result)}_subscribeToChangeEvents(e){e.on("validating",this._onValidatorStatusChanged),e.on("validated",this._onValidatorStatusChanged)}_unsubscribeFromChangeEvents(e){e.off("validating",this._onValidatorStatusChanged),e.off("validated",this._onValidatorStatusChanged)}_unsubscribeFromAllChangeEvents(){l(this.validators,(e,t)=>{this._unsubscribeFromChangeEvents(t)})}_updateValidationInfo(e){this._validationInfo.result=e,e.status===Qd&&(this._validationInfo.deferred||(this._validationInfo.deferred=Re(),this._validationInfo.result.complete=this._validationInfo.deferred.promise()))}_addPendingValidator(e){it(this._pendingValidators,t=>t===e)[0]||this._pendingValidators.push(e)}_removePendingValidator(e){const t=this._pendingValidators.indexOf(e);t>=0&&this._pendingValidators.splice(t,1)}_orderBrokenRules(e){let t=[];return l(this.validators,(n,i)=>{const r=it(e,e=>e.validator===i);r.length&&(t=t.concat(r))}),t}_updateBrokenRules(e){if(!this._validationInfo.result)return;let{brokenRules:t}=this._validationInfo.result;const n=it(t,t=>t.validator!==e.validator);e.brokenRules&&(t=n.concat(e.brokenRules)),this._validationInfo.result.brokenRules=this._orderBrokenRules(t)}_onValidatorStatusChanged(e){e.status!==Qd?this._resolveIfComplete(e):this._addPendingValidator(e.validator)}_resolveIfComplete(e){if(this._removePendingValidator(e.validator),this._updateBrokenRules(e),!this._pendingValidators.length){if(this._unsubscribeFromAllChangeEvents(),!this._validationInfo.result)return;this._validationInfo.result.status=0===this._validationInfo.result.brokenRules.length?Zd:Yd,this._validationInfo.result.isValid=this._validationInfo.result.status===Zd;const e=A({},this._validationInfo.result,{complete:null}),{deferred:t}=this._validationInfo;this._validationInfo.deferred=null,this._raiseValidatedEvent(e),t&&setTimeout(()=>{t.resolve(e)})}}_raiseValidatedEvent(e){this._eventsStrategy.fireEvent("validated",[e])}_resetValidationInfo(){this._validationInfo={result:null,deferred:null}}_synchronizeValidationInfo(){this._validationInfo.result&&(this._validationInfo.result.validators=this.validators)}removeRegisteredValidator(e){const t=this.validators.indexOf(e);t>-1&&(this.validators.splice(t,1),this._synchronizeValidationInfo(),this._resolveIfComplete({validator:e}))}registerValidator(e){this.validators.includes(e)||(this.validators.push(e),this._synchronizeValidationInfo())}reset(){l(this.validators,(e,t)=>{t.reset()}),this._pendingValidators=[],this._resetValidationInfo()}on(e,t){return this._eventsStrategy.on(e,t),this}off(e,t){return this._eventsStrategy.off(e,t),this}}const nh={groups:[],getGroupConfig(e){const t=it(this.groups,t=>t.group===e);if(t.length)return t[0]},findGroup(e,t){var n;const i=(null===(n=e.data())||void 0===n||null===(n=n.dxComponents)||void 0===n?void 0:n.includes("dxValidationGroup"))&&e.dxValidationGroup("instance");if(i)return i;const r=e.parents(".dx-validationgroup").first();return r.length?r.dxValidationGroup("instance"):t},initGroups(){this.groups=[],this.addGroup(void 0,!1)},addGroup(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.getGroupConfig(e);return n||(n=new th(e,t),this.groups.push(n)),n},removeGroup(e){const t=this.getGroupConfig(e),n=this.groups.indexOf(t);return n>-1&&this.groups.splice(n,1),t},_setDefaultMessage(e){const{rule:t,validator:n,name:i}=e;_(t.message)||(n.defaultFormattedMessage&&_(i)?t.message=n.defaultFormattedMessage(i):t.message=n.defaultMessage())},_addBrokenRule(e){const{result:t,rule:n}=e;t.brokenRule||(t.brokenRule=n),t.brokenRules||(t.brokenRules=[]),t.brokenRules.push(n)},validate(e,t,n){var i;let r={name:n,value:e,brokenRule:null,brokenRules:null,isValid:!0,validationRules:t,pendingRules:null,status:Zd,complete:null};const o=null===t||void 0===t||null===(i=t[0])||void 0===i?void 0:i.validator,s=[];return l(t||[],(t,i)=>{const o=eh[i.type];let a;if(!o)throw W.Error("E0100");return _(i.isValid)&&i.value===e&&!i.reevaluate?!!i.isValid||(r.isValid=!1,this._addBrokenRule({result:r,rule:i}),!1):(i.value=e,"async"===i.type?(s.push({rule:i,ruleValidator:o}),!0):(a=o.validate(e,i),i.isValid=a,a||(r.isValid=!1,this._setDefaultMessage({rule:i,validator:o,name:n}),this._addBrokenRule({result:r,rule:i})),!!i.isValid&&void 0))}),r.isValid&&!r.brokenRules&&s.length&&(r=this._validateAsyncRules({value:e,items:s,result:r,name:n})),this._synchronizeGroupValidationInfo(o,r),r.status=r.pendingRules?Qd:r.isValid?Zd:Yd,r},_synchronizeGroupValidationInfo(e,t){if(!e)return;const n=nh.getGroupConfig(e._validationGroup);n._updateBrokenRules.call(n,{validator:e,brokenRules:t.brokenRules??[]})},_validateAsyncRules(e){let{result:t,value:n,items:i,name:r}=e;const o=[];return l(i,(e,i)=>{const s=i.ruleValidator.validate(n,i.rule);if(I(s)){t.pendingRules||(t.pendingRules=[]),t.pendingRules.push(i.rule);const e=s.then(e=>{const t=this._getPatchedRuleResult(e);return this._updateRuleConfig({rule:i.rule,ruleResult:t,validator:i.ruleValidator,name:r}),t});o.push(e)}else this._updateRuleConfig({rule:i.rule,ruleResult:this._getPatchedRuleResult(s),validator:i.ruleValidator,name:r})}),o.length&&(t.complete=Promise.all(o).then(e=>this._getAsyncRulesResult({result:t,values:e}))),t},_updateRuleConfig(e){let{rule:t,ruleResult:n,validator:i,name:r}=e;t.isValid=n.isValid,n.isValid||(_(n.message)&&v(n.message)&&n.message.length?t.message=n.message:this._setDefaultMessage({rule:t,validator:i,name:r}))},_getPatchedRuleResult(e){let t;return b(e)?(t=A({},e),_(t.isValid)||(t.isValid=!0)):t={isValid:!p(e)||e},t},_getAsyncRulesResult(e){let{values:t,result:n}=e;return l(t,(e,t)=>{if(!1===t.isValid){n.isValid=t.isValid;const i=n.pendingRules[e];this._addBrokenRule({result:n,rule:i})}}),n.pendingRules=null,n.complete=null,n.status=n.isValid?Zd:Yd,n},registerValidatorInGroup(e,t){const n=nh.addGroup(e);n.registerValidator.call(n,t)},removeRegisteredValidator(e,t){const n=nh.getGroupConfig(e);if(n){n.removeRegisteredValidator.call(n,t);const i=n.validators,r=n._isRemovable;0===i.length&&r&&this.removeGroup(e)}},initValidationOptions(e){const t={};if(e){["isValid","validationStatus","validationError","validationErrors"].forEach(n=>{n in e&&A(t,this.synchronizeValidationOptions({name:n,value:e[n]},e))})}return t},synchronizeValidationOptions(e,t){let{name:n,value:i}=e;switch(n){case"validationStatus":{const e=i===Zd||i===Qd;return t.isValid!==e?{isValid:e}:{}}case"isValid":{const{validationStatus:e}=t;let n=e;return i&&e===Yd?n=Zd:i||e===Yd||(n=Yd),n!==e?{validationStatus:n}:{}}case"validationErrors":{const e=null!==i&&void 0!==i&&i.length?i[0]:null;return t.validationError!==e?{validationError:e}:{}}case"validationError":{const{validationErrors:e}=t;if(!i&&e)return{validationErrors:null};if(i&&!e)return{validationErrors:[i]};if(i&&e&&i!==e[0])return e[0]=i,{validationErrors:e.slice()}}}return{}},validateGroup(e){const t=nh.getGroupConfig(e);if(!t)throw W.Error("E0110");return t.validate()},resetGroup(e){const t=nh.getGroupConfig(e);if(!t)throw W.Error("E0110");return t.reset()}};nh.initGroups();const ih=nh,rh=ih,oh=kr.add,{abs:sh}=Math;let ah=10;const lh=yt(()=>{const e="desktop"===Xr.real().deviceType;if(!ai("pointer-events")||!e)return tt;const t=Si("<div>").addClass("dx-gesture-cover").css("pointerEvents","none");return rn.subscribeGlobal(t,"dxmousewheel",e=>{e.preventDefault()}),oh(()=>{t.appendTo("body")}),function(e,n){t.css("pointerEvents",e?"all":"none"),e&&t.css("cursor",n)}}),ch=Yl.inherit({gesture:!0,configure(e){this.getElement().css("msTouchAction",e.immediate?"pinch-zoom":""),this.callBase(e)},allowInterruptionByMouseWheel(){return 2!==this._stage},getDirection(){return this.direction},_cancel(){this.callBase.apply(this,arguments),this._toggleGestureCover(!1),this._stage=0},start(e){e._needSkipEvent||er(e)?this._cancel(e):(this._startEvent=tr(e),this._startEventData=Qi(e),this._stage=1,this._init(e),this._setupImmediateTimer())},_setupImmediateTimer(){clearTimeout(this._immediateTimer),this._immediateAccepted=!1,this.immediate&&(0!==this.immediateTimeout?this._immediateTimer=setTimeout(()=>{this._immediateAccepted=!0},this.immediateTimeout??180):this._immediateAccepted=!0)},move(e){if(1===this._stage&&this._directionConfirmed(e)){if(this._stage=2,this._resetActiveElement(),this._toggleGestureCover(!0),this._clearSelection(e),this._adjustStartEvent(e),this._start(this._startEvent),0===this._stage)return;this._requestAccept(e),this._move(e),this._forgetAccept()}else 2===this._stage&&(this._clearSelection(e),this._move(e))},_directionConfirmed(e){const t=this._getTouchBoundary(e),n=Xi(this._startEventData,Qi(e)),i=sh(n.x),r=sh(n.y),o=this._validateMove(t,i,r),s=this._validateMove(t,r,i),a=this.getDirection(e);return"both"===a&&(o||s)||"horizontal"===a&&o||"vertical"===a&&s||this._immediateAccepted},_validateMove(e,t,n){return t&&t>=e&&(!this.immediate||t>=n)},_getTouchBoundary(e){return this.immediate||Zi(e)?0:ah},_adjustStartEvent(e){const t=this._getTouchBoundary(e),n=Xi(this._startEventData,Qi(e));this._startEvent.pageX+=Lo(n.x)*t,this._startEvent.pageY+=Lo(n.y)*t},_resetActiveElement(){"ios"===Xr.real().platform&&this.getElement().find(":focus").length&&uc.resetActiveElement()},_toggleGestureCover(e){this._toggleGestureCoverImpl(e)},_toggleGestureCoverImpl(e){2===this._stage&&function(e,t){lh()(e,t)}(e,this.getElement().css("cursor"))},_clearSelection(e){Zi(e)||Yi(e)||uc.clearSelection()},end(e){this._toggleGestureCover(!1),2===this._stage?this._end(e):1===this._stage&&this._stop(e),this._stage=0},dispose(){clearTimeout(this._immediateTimer),this.callBase.apply(this,arguments),this._toggleGestureCover(!1)},_init:tt,_start:tt,_move:tt,_stop:tt,_end:tt});ch.initialTouchBoundary=ah,ch.touchBoundary=function(e){if(!_(e))return ah;ah=e};const uh=ch,dh="dxdragstart",hh="dxdrag",ph="dxdragend",fh="dxdragenter",mh="dxdragleave",_h="dxdrop",gh=[],vh=[],yh=[],bh={setup(e,t){gh.includes(e)||(gh.push(e),vh.push([]),yh.push(t||{}))},add(e,t){const n=gh.indexOf(e);this.updateEventsCounter(e,t.type,1);const{selector:i}=t;vh[n].includes(i)||vh[n].push(i)},updateEventsCounter(e,t,n){if([fh,mh,_h].includes(t)){const t=un(e,"dxDragEventsCount")||0;un(e,"dxDragEventsCount",Math.max(0,t+n))}},remove(e,t){this.updateEventsCounter(e,t.type,-1)},teardown(e){if(!un(e,"dxDragEventsCount")){const t=gh.indexOf(e);gh.splice(t,1),vh.splice(t,1),yh.splice(t,1),dn(e,"dxDragEventsCount")}}};Ei(fh,bh),Ei(mh,bh),Ei(_h,bh);const Ch=uh.inherit({ctor(e){this.callBase(e),this.direction="both"},_init(e){this._initEvent=e},_start(e){if(e=this._fireEvent("dxdragstart",this._initEvent),this._maxLeftOffset=e.maxLeftOffset,this._maxRightOffset=e.maxRightOffset,this._maxTopOffset=e.maxTopOffset,this._maxBottomOffset=e.maxBottomOffset,e.targetElements||null===e.targetElements){const t=function(e){return Array.isArray(e)?e:[e]}(e.targetElements||[]);this._dropTargets=a(t,e=>Si(e).get(0))}else this._dropTargets=gh},_move(e){const t=Qi(e),n=this._calculateOffset(t);e=this._fireEvent("dxdrag",e,{offset:n}),this._processDropTargets(e),e._cancelPreventDefault||e.preventDefault()},_calculateOffset(e){return{x:this._calculateXOffset(e),y:this._calculateYOffset(e)}},_calculateXOffset(e){if("vertical"!==this.direction){const t=e.x-this._startEventData.x;return this._fitOffset(t,this._maxLeftOffset,this._maxRightOffset)}return 0},_calculateYOffset(e){if("horizontal"!==this.direction){const t=e.y-this._startEventData.y;return this._fitOffset(t,this._maxTopOffset,this._maxBottomOffset)}return 0},_fitOffset:(e,t,n)=>(null!=t&&(e=Math.max(e,-t)),null!=n&&(e=Math.min(e,n)),e),_processDropTargets(e){const t=this._findDropTarget(e);t===this._currentDropTarget||(this._fireDropTargetEvent(e,mh),this._currentDropTarget=t,this._fireDropTargetEvent(e,fh))},_fireDropTargetEvent(e,t){if(!this._currentDropTarget)return;const n={type:t,originalEvent:e,draggingElement:this._$element.get(0),target:this._currentDropTarget};nr(n)},_findDropTarget(e){const t=this;let n;return l(gh,(i,r)=>{if(!t._checkDropTargetActive(r))return;const o=Si(r);l(function(e){const t=gh.indexOf(e.get(0)),n=vh[t].filter(e=>e);let i=e.find(n.join(", "));return vh[t].includes(void 0)&&(i=i.add(e)),i}(o),(i,r)=>{const s=Si(r);t._checkDropTarget(function(e){const t=gh.indexOf(e.get(0));return yh[t]}(o),s,Si(n),e)&&(n=r)})}),n},_checkDropTargetActive(e){let t=!1;return l(this._dropTargets,(n,i)=>(t=t||i===e||sc(i,e),!t)),t},_checkDropTarget(e,t,n,i){if(t.get(0)===Si(i.target).get(0))return!1;const r=(s=t,(o=e).itemPositionFunc?o.itemPositionFunc(s):s.offset());var o,s;if(i.pageX<r.left)return!1;if(i.pageY<r.top)return!1;const a=function(e,t){return e.itemSizeFunc?e.itemSizeFunc(t):{width:t.get(0).getBoundingClientRect().width,height:t.get(0).getBoundingClientRect().height}}(e,t);return!(i.pageX>r.left+a.width)&&(!(i.pageY>r.top+a.height)&&((!n.length||!n.closest(t).length)&&(!(e.checkDropTarget&&!e.checkDropTarget(t,i))&&t)))},_end(e){const t=Qi(e);this._fireEvent("dxdragend",e,{offset:this._calculateOffset(t)}),this._fireDropTargetEvent(e,_h),delete this._currentDropTarget}});ec({emitter:Ch,events:["dxdragstart","dxdrag","dxdragend"]});const xh=e=>{const t=Si(e).closest('[class^="dx-swatch-"], [class*=" dx-swatch-"]'),n=Wr();if(!t.length)return n;const i=new RegExp("(\\s|^)(dx-swatch-.*?)(\\s|$)"),r=t[0].className.match(i)[2];let o=n.children("."+r);return o.length||(o=Si("<div>").addClass(r).appendTo(n)),o},Sh=Dt(),wh={top:{my:"top center",at:"top center"},bottom:{my:"bottom center",at:"bottom center"},right:{my:"right center",at:"right center"},left:{my:"left center",at:"left center"},center:{my:"center",at:"center"},"right bottom":{my:"right bottom",at:"right bottom"},"right top":{my:"right top",at:"right top"},"left bottom":{my:"left bottom",at:"left bottom"},"left top":{my:"left top",at:"left top"}},Eh={h:0,v:0};class Ih{constructor(e){let{position:t,container:n,visualContainer:i,$root:r,$content:o,$wrapper:s,onPositioned:a,onVisualPositionChanged:l,restorePosition:c,_fixWrapperPosition:u,_skipContentPositioning:d}=e;this._props={position:t,container:n,visualContainer:i,restorePosition:c,onPositioned:a,onVisualPositionChanged:l,_fixWrapperPosition:u,_skipContentPositioning:d},this._$root=r,this._$content=o,this._$wrapper=s,this._$markupContainer=void 0,this._$visualContainer=void 0,this._shouldRenderContentInitialPosition=!0,this._visualPosition=void 0,this._initialPosition=void 0,this._previousVisualPosition=void 0,this.updateContainer(n),this.updatePosition(t),this.updateVisualContainer(i)}get $container(){return this.updateContainer(),this._$markupContainer}get $visualContainer(){return this._$visualContainer}get position(){return this._position}set fixWrapperPosition(e){this._props._fixWrapperPosition=e,this.styleWrapperPosition()}set restorePosition(e){this._props.restorePosition=e}restorePositionOnNextRender(e){this._shouldRenderContentInitialPosition=e||!this._visualPosition}openingHandled(){const e=this._props.restorePosition;this.restorePositionOnNextRender(e)}updatePosition(e){this._props.position=e,this._position=this._normalizePosition(e),this.updateVisualContainer()}updateContainer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._props.container;this._props.container=e,this._$markupContainer=e?Si(e):xh(this._$root),this.updateVisualContainer(this._props.visualContainer)}updateVisualContainer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._props.visualContainer;this._props.visualContainer=e,this._$visualContainer=this._getVisualContainer()}detectVisualPositionChange(e){this._updateVisualPositionValue(),this._raisePositionedEvents(e)}positionContent(){this._shouldRenderContentInitialPosition?this._renderContentInitialPosition():(wa(this._$content,this._visualPosition),this.detectVisualPositionChange())}positionWrapper(){this._$visualContainer&&Ja.setup(this._$wrapper,{my:"top left",at:"top left",of:this._$visualContainer})}styleWrapperPosition(){const e=w(this.$visualContainer.get(0))||this._props._fixWrapperPosition?"fixed":"absolute";this._$wrapper.css("position",e)}_updateVisualPositionValue(){this._previousVisualPosition=this._visualPosition,this._visualPosition=va(this._$content)}_renderContentInitialPosition(){this._renderBoundaryOffset(),Ea(this._$content);const e=this._$wrapper.css("overflow");if(this._$wrapper.css("overflow","hidden"),!this._props._skipContentPositioning){const e=Ja.setup(this._$content,this._position);this._initialPosition=e}this._$wrapper.css("overflow",e),this.detectVisualPositionChange()}_raisePositionedEvents(e){const t=this._previousVisualPosition,n=this._visualPosition;((null===t||void 0===t?void 0:t.top)!==n.top||(null===t||void 0===t?void 0:t.left)!==n.left)&&this._props.onVisualPositionChanged({previousPosition:t,position:n,event:e}),this._props.onPositioned({position:this._initialPosition})}_renderBoundaryOffset(){const e=this._position??{boundaryOffset:Eh};this._$content.css("margin",`${e.v}px ${e.h}px`)}_getVisualContainer(){var e,t;const n=this._props.container,i=this._props.visualContainer,r=D(null===(e=this._props.position)||void 0===e?void 0:e.of)?this._props.position.of.target:null===(t=this._props.position)||void 0===t?void 0:t.of;return Si(i||(n||(r||Sh)))}_normalizePosition(e){const t={boundaryOffset:Eh};return _(e)?A(!0,{},t,this._positionToObject(e)):t}_positionToObject(e){return v(e)?A({},wh[e]):e}}let kh=1500,Dh=[];const Oh=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kh;const{length:t}=Dh,n=(t?Dh[t-1]:e)+1;return Dh.push(n),n},Th=e=>{const t=Dh.indexOf(e);t>=0&&Dh.splice(t,1)},Ah=kr.add,Ph=Dt(),Mh=zr,Rh=[];Ah(()=>{rn.subscribeGlobal(mt.getDocument(),yo.down,e=>{for(let t=Rh.length-1;t>=0;t--)if(!Rh[t]._proxiedDocumentDownHandler(e))return})});class Bh extends yd{_supportedKeys(){return K({},super._supportedKeys(),{escape(){this.hide()}})}_getDefaultOptions(){return K({},super._getDefaultOptions(),{activeStateEnabled:!1,visible:!1,deferRendering:!0,shading:!0,shadingColor:"",wrapperAttr:{},position:A({},wh.center),width:"80vw",minWidth:null,maxWidth:null,height:"80vh",minHeight:null,maxHeight:null,animation:{show:{type:"pop",duration:300,from:{scale:.55}},hide:{type:"pop",duration:300,from:{opacity:1,scale:1},to:{opacity:0,scale:.55}}},closeOnOutsideClick:!1,hideOnOutsideClick:!1,_ignorePreventScrollEventsDeprecation:!1,onShowing:null,onShown:null,onHiding:null,onHidden:null,contentTemplate:"content",innerOverlay:!1,restorePosition:!0,hideTopOverlayHandler:()=>{this.hide()},hideOnParentScroll:!1,preventScrollEvents:!0,onPositioned:null,propagateOutsideClick:!1,ignoreChildEvents:!0,_checkParentVisibility:!0,_fixWrapperPosition:!1,_loopFocus:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>!Ot(),options:{width:null,height:null,animation:null,_checkParentVisibility:!1}}])}_setOptionsByReference(){super._setOptionsByReference(),A(this._optionsByReference,{animation:!0})}$wrapper(){return this._$wrapper}_eventBindingTarget(){return this._$content}_setDeprecatedOptions(){super._setDeprecatedOptions(),A(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.1",alias:"hideOnOutsideClick"}})}ctor(e,t){super.ctor(e,t),t&&"preventScrollEvents"in t&&!t._ignorePreventScrollEventsDeprecation&&this._logDeprecatedPreventScrollEventsInfo()}_logDeprecatedPreventScrollEventsInfo(){this._logDeprecatedOptionWarning("preventScrollEvents",{since:"23.1",message:"If you enable this option, end-users may experience scrolling issues."})}_init(){super._init(),this._initActions(),this._initHideOnOutsideClickHandler(),this._initTabTerminatorHandler(),this._customWrapperClass=null,this._$wrapper=Si("<div>").addClass("dx-overlay-wrapper"),this._$content=Si("<div>").addClass("dx-overlay-content"),this._initInnerOverlayClass();this.$element().addClass("dx-overlay"),this._$wrapper.attr("data-bind","dxControlsDescendantBindings: true"),this._toggleViewPortSubscription(!0);const{hideTopOverlayHandler:e}=this.option();this._initHideTopOverlayHandler(e),this._parentsScrollSubscriptionInfo={handler:e=>{this._hideOnParentsScrollHandler(e)}},this.warnPositionAsFunction()}warnPositionAsFunction(){g(this.option("position"))&&W.log("W0018")}_initInnerOverlayClass(){const{innerOverlay:e}=this.option();this._$content.toggleClass("dx-inner-overlay",e)}_initHideTopOverlayHandler(e){this._hideTopOverlayHandler=e}_getActionsList(){return["onShowing","onShown","onHiding","onHidden","onPositioned","onVisualPositionChanged"]}_initActions(){this._actions={};const e=this._getActionsList();l(e,(e,t)=>{this._actions[t]=this._createActionByOption(t,{excludeValidators:["disabled","readOnly"]})||tt})}_initHideOnOutsideClickHandler(){var e=this;this._proxiedDocumentDownHandler=function(){return e._documentDownHandler(...arguments)}}_initMarkup(){super._initMarkup(),this._renderWrapperAttributes(),this._initPositionController()}_documentDownHandler(e){this._showAnimationProcessing&&this._stopAnimation();const t=Si(Ph.document).is(e.target)||uc.contains(Ph.document,e.target),n=Si(e.target).closest(".dx-inner-overlay").length;t&&!n&&!(this._$content.is(e.target)||uc.contains(this._$content.get(0),e.target))&&this._shouldHideOnOutsideClick(e)&&this._outsideClickHandler(e);const{propagateOutsideClick:i}=this.option();return i}_shouldHideOnOutsideClick(e){const{hideOnOutsideClick:t}=this.option();return g(t)?t(e):t}_outsideClickHandler(e){this.option("shading")&&e.preventDefault(),this.hide()}_getAnonymousTemplateName(){return"content"}_initTemplates(){this._templateManager.addDefaultTemplates({content:new Zu}),super._initTemplates()}_isTopOverlay(){const e=this._overlayStack();for(let t=e.length-1;t>=0;t--){const n=e[t]._findTabbableBounds();if(n.first||n.last)return e[t]===this}return!1}_overlayStack(){return Rh}_zIndexInitValue(){return Bh.baseZIndex()}_toggleViewPortSubscription(e){var t=this;Mh.remove(this._viewPortChangeHandle),e&&(this._viewPortChangeHandle=function(){t._viewPortChangeHandler(...arguments)},Mh.add(this._viewPortChangeHandle))}_viewPortChangeHandler(){this._positionController.updateContainer(this.option("container")),this._refresh()}_renderWrapperAttributes(){const{wrapperAttr:e}=this.option(),t=A({},e),n=t.class;delete t.class,this.$wrapper().attr(t).removeClass(this._customWrapperClass).addClass(n),this._customWrapperClass=n}_renderVisibilityAnimate(e){return this._stopAnimation(),e?this._show():this._hide()}_getAnimationConfig(){return this._getOptionValue("animation",this)}_toggleBodyScroll(e){}_animateShowing(){var e=this;const t=this._getAnimationConfig()??{},n=this._normalizeAnimation(t.show,"to"),i=(null===n||void 0===n?void 0:n.start)??tt,r=(null===n||void 0===n?void 0:n.complete)??tt;this._animate(n,function(){if(!e._isAnimationPaused){e.option("focusStateEnabled")&&rn.trigger(e._focusTarget(),"focus");for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];r.call(e,...n),e._showAnimationProcessing=!1,e._isHidden=!1,e._actions.onShown(),e._toggleSafariScrolling(),e._showingDeferred.resolve()}},function(){if(!e._isAnimationPaused){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];i.call(e,...n),e._showAnimationProcessing=!0}})}_processShowingHidingCancel(e,t,n){I(e)?e.then(e=>{e?n():t()}).catch(()=>t()):e?n():t()}_show(){if(this._showingDeferred=Re(),this._parentHidden=this._isParentHidden(),this._showingDeferred.done(()=>{delete this._parentHidden}),this._parentHidden)return this._isHidden=!0,this._showingDeferred.resolve();if(this._currentVisible)return Re().resolve().promise();if(this._currentVisible=!0,this._isHidingActionCanceled)delete this._isHidingActionCanceled,this._showingDeferred.reject();else{const e=()=>{this._stopAnimation();const{enableBodyScroll:e}=this.option();this._toggleBodyScroll(e),this._toggleVisibility(!0),this._$content.css("visibility","hidden"),this._$content.toggleClass("dx-state-invisible",!1),this._updateZIndexStackPosition(!0),this._positionController.openingHandled(),this._renderContent();const t={cancel:!1};this._actions.onShowing(t),this._processShowingHidingCancel(t.cancel,()=>{this._$content.css("visibility",""),this._renderVisibility(!0),this._animateShowing()},()=>{this._toggleVisibility(!1),this._$content.css("visibility",""),this._$content.toggleClass("dx-state-invisible",!0),this._isShowingActionCanceled=!0,this._moveFromContainer(),this._toggleBodyScroll(!0),this.option("visible",!1),this._showingDeferred.resolve()})};this.option("templatesRenderAsynchronously")?(this._stopShowTimer(),this._asyncShowTimeout=setTimeout(e)):e()}return this._showingDeferred.promise()}_normalizeAnimation(e,t){return e&&(e=A({type:"slide",skipElementInitialStyles:!0},e),b(e[t])&&A(e[t],{position:this._positionController.position})),e}_animateHiding(){var e=this;const t=this._getAnimationConfig()??{},n=this._normalizeAnimation(t.hide,"from"),i=(null===n||void 0===n?void 0:n.start)??tt,r=(null===n||void 0===n?void 0:n.complete)??tt;this._animate(n,function(){var t;e._$content.css("pointerEvents",""),e._renderVisibility(!1);for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];r.call(e,...i),e._hideAnimationProcessing=!1,null===(t=e._actions)||void 0===t||t.onHidden(),e._hidingDeferred.resolve()},function(){e._$content.css("pointerEvents","none");for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];i.call(e,...n),e._hideAnimationProcessing=!0})}_hide(){if(!this._currentVisible)return Re().resolve().promise();this._currentVisible=!1,this._hidingDeferred=Re();const e={cancel:!1};if(this._isShowingActionCanceled)delete this._isShowingActionCanceled,this._hidingDeferred.reject();else{this._actions.onHiding(e),this._toggleSafariScrolling(),this._toggleBodyScroll(!0);const t=()=>{this._isHidingActionCanceled=!0;const{enableBodyScroll:e}=this.option();this._toggleBodyScroll(e),this.option("visible",!0),this._hidingDeferred.resolve()},n=()=>{this._forceFocusLost(),this._toggleShading(!1),this._toggleSubscriptions(!1),this._stopShowTimer(),this._animateHiding()};this._processShowingHidingCancel(e.cancel,n,t)}return this._hidingDeferred.promise()}_forceFocusLost(){const e=mt.getActiveElement();!!this._$content.find(e).length&&uc.resetActiveElement()}_animate(e,t,n){e?(n=n||e.start||tt,Dl.animate(this._$content,A({},e,{start:n,complete:t}))):t()}_stopAnimation(){Dl.stop(this._$content,!0)}_renderVisibility(e){e&&this._isParentHidden()||(this._currentVisible=e,this._stopAnimation(),e||Ku(this._$content),e?(this._checkContainerExists(),this._moveToContainer(),this._renderGeometry(),Wu(this._$content),Uu(this._$content)):(this._toggleVisibility(e),this._$content.toggleClass("dx-state-invisible",!e),this._updateZIndexStackPosition(e),this._moveFromContainer()),this._toggleShading(e),this._toggleSubscriptions(e))}_updateZIndexStackPosition(e){const t=this._overlayStack(),n=t.indexOf(this);e?(-1===n&&(this._zIndex=Oh(this._zIndexInitValue()),t.push(this)),this._$wrapper.css("zIndex",this._zIndex),this._$content.css("zIndex",this._zIndex)):-1!==n&&(t.splice(n,1),Th(this._zIndex))}_toggleShading(e){const{shading:t,shadingColor:n}=this.option();this._$wrapper.toggleClass("dx-overlay-shader",e&&t),this._$wrapper.css("backgroundColor",t?n:""),this._toggleTabTerminator(e&&t)}_initTabTerminatorHandler(){var e=this;this._proxiedTabTerminatorHandler=function(){e._tabKeyHandler(...arguments)}}_toggleTabTerminator(e){const{_loopFocus:t}=this.option(),n=or("keydown",this.NAME);t||e?rn.on(mt.getDocument(),n,this._proxiedTabTerminatorHandler):rn.off(mt.getDocument(),n,this._proxiedTabTerminatorHandler)}_findTabbableBounds(){const e=this._$wrapper.find("*"),t=e.length-1;let n=null,i=null;for(let r=0;r<=t&&(!n&&e.eq(r).is(Ni)&&(n=e.eq(r)),!i&&e.eq(t-r).is(Ni)&&(i=e.eq(t-r)),!n||!i);r+=1);return{first:n,last:i}}_tabKeyHandler(e){if("tab"!==ir(e)||!this._isTopOverlay())return;const t=this._$wrapper.get(0),n=mt.getActiveElement(t),{first:i,last:r}=this._findTabbableBounds(),o=!e.shiftKey&&n===(null===r||void 0===r?void 0:r.get(0)),s=e.shiftKey&&n===(null===i||void 0===i?void 0:i.get(0)),a=!uc.contains(t,n);if(o||s||a){e.preventDefault();const t=e.shiftKey?r:i;rn.trigger(t,"focusin"),rn.trigger(t,"focus")}}_toggleSubscriptions(e){Ot()&&(this._toggleHideTopOverlayCallback(e),this._toggleHideOnParentsScrollSubscription(e))}_toggleHideTopOverlayCallback(e){this._hideTopOverlayHandler&&(e?bo.add(this._hideTopOverlayHandler):bo.remove(this._hideTopOverlayHandler))}_toggleHideOnParentsScrollSubscription(e){const t=or("scroll",this.NAME),{prevTargets:n,handler:i}=this._parentsScrollSubscriptionInfo??{};rn.off(n,t,i);const r=this.option("hideOnParentScroll");if(e&&r){let e=this._getHideOnParentScrollTarget().parents();"desktop"===Is.real().deviceType&&(e=e.add(Ph)),rn.on(e,t,i),this._parentsScrollSubscriptionInfo.prevTargets=e}}_hideOnParentsScrollHandler(e){let t=!1;const n=this.option("hideOnParentScroll");g(n)&&(t=n(e)),t||this._showAnimationProcessing||this.hide()}_getHideOnParentScrollTarget(){const{_hideOnParentScrollTarget:e}=this.option(),t=Si(e);return t.length?t:this._$wrapper}_render(){super._render(),this._appendContentToElement(),this._renderVisibilityAnimate(this.option("visible"))}_appendContentToElement(){this._$content.parent().is(this.$element())||this._$content.appendTo(this.$element())}_renderContent(){const e=!this._currentVisible&&this.option("deferRendering");this.option("visible")&&this._isParentHidden()?this._isHidden=!0:this._contentAlreadyRendered||e||(this._contentAlreadyRendered=!0,this._appendContentToElement(),super._renderContent())}_isParentHidden(){if(!this.option("_checkParentVisibility"))return!1;if(void 0!==this._parentHidden)return this._parentHidden;const e=this.$element().parent();if(e.is(":visible"))return!1;let t=!1;return e.add(e.parents()).each((e,n)=>{if("none"===Si(n).css("display"))return t=!0,!1}),t||!mt.getBody().contains(e.get(0))}_renderContentImpl(){const e=Re(),t=this.option("contentTemplate"),n=this._getTemplate(t),i=this._templateManager.anonymousTemplateName===t;null===n||void 0===n||n.render({container:ma(this.$content()),noModel:!0,transclude:i,onRendered:()=>{e.resolve(),this.option("templatesRenderAsynchronously")&&this._dimensionChanged()}});const{preventScrollEvents:r}=this.option();return this._toggleWrapperScrollEventsSubscription(r),e.done(()=>{this.option("visible")&&this._moveToContainer()}),e.promise()}_getPositionControllerConfig(){const{container:e,visualContainer:t,_fixWrapperPosition:n,restorePosition:i,_skipContentPositioning:r}=this.option();return{container:e,visualContainer:t,$root:this.$element(),$content:this._$content,$wrapper:this._$wrapper,onPositioned:this._actions.onPositioned,onVisualPositionChanged:this._actions.onVisualPositionChanged,restorePosition:i,_fixWrapperPosition:n,_skipContentPositioning:r}}_initPositionController(){this._positionController=new Ih(this._getPositionControllerConfig())}_toggleWrapperScrollEventsSubscription(e){const t=or(hh,this.NAME);rn.off(this._$wrapper,t),e&&rn.on(this._$wrapper,t,{validate:()=>!0,getDirection:()=>"both",_toggleGestureCover(e){e||this._toggleGestureCoverImpl(e)},_clearSelection:tt,isNative:!0},e=>{const{originalEvent:t}=e.originalEvent,{type:n}=t||{},i="wheel"===n,r="mousemove"===n,o=i&&!sr(e);e._cancelPreventDefault=!0,t&&!1!==e.cancelable&&(!r&&!i||o)&&e.preventDefault()})}_moveFromContainer(){this._$content.appendTo(this.$element()),this._$wrapper.detach()}_checkContainerExists(){const e=this._positionController.$container;if(void 0===e)return;e.length>0||Ps.log("W1021",this.NAME)}_moveToContainer(){const e=this._positionController.$container;this._$wrapper.appendTo(e),this._$content.appendTo(this._$wrapper)}_renderGeometry(e){const{visible:t}=this.option();t&&Ot()&&(this._stopAnimation(),this._renderGeometryImpl())}_renderGeometryImpl(){this._positionController.updatePosition(this._getOptionValue("position")),this._renderWrapper(),this._renderDimensions(),this._renderPosition()}_renderPosition(e){this._positionController.positionContent()}_isAllWindowCovered(){const{shading:e}=this.option();return w(this._positionController.$visualContainer.get(0))&&e}_toggleSafariScrolling(){const e=this.option("visible"),t=Si(mt.getBody()),n="ios"===Is.real().platform&&br.safari,i=this._isAllWindowCovered(),r=t.hasClass("dx-prevent-safari-scrolling"),o=!r&&e&&i,s=r&&(!e||!i||this._disposed);n&&(s?(t.removeClass("dx-prevent-safari-scrolling"),Ph.scrollTo(0,this._cachedBodyScrollTop),this._cachedBodyScrollTop=void 0):o&&(this._cachedBodyScrollTop=Ph.pageYOffset,t.addClass("dx-prevent-safari-scrolling")))}_renderWrapper(){this._positionController.styleWrapperPosition(),this._renderWrapperDimensions(),this._positionController.positionWrapper()}_renderWrapperDimensions(){const{$visualContainer:e}=this._positionController,t=mt.getDocumentElement(),n=w(e.get(0)),i=n?t.clientWidth:zn(e),r=n?Ph.innerHeight:jn(e);this._$wrapper.css({width:i,height:r})}_renderDimensions(){const e=this._$content.get(0);this._$content.css({minWidth:this._getOptionValue("minWidth",e),maxWidth:this._getOptionValue("maxWidth",e),minHeight:this._getOptionValue("minHeight",e),maxHeight:this._getOptionValue("maxHeight",e),width:this._getOptionValue("width",e),height:this._getOptionValue("height",e)})}_focusTarget(){return this._$content}_attachKeyboardEvents(){this._keyboardListenerId=Xc(this._$content,null,e=>this._keyboardHandler(e))}_keyboardHandler(e){const t=e.originalEvent;!Si(t.target).is(this._$content)&&this.option("ignoreChildEvents")||super._keyboardHandler(...arguments)}_isVisible(){const{visible:e}=this.option();return e}_visibilityChanged(e){e?this.option("visible")&&this._renderVisibilityAnimate(e):this._renderVisibilityAnimate(e)}_dimensionChanged(){this._renderGeometry()}_clean(){const{isRenovated:e}=this.option();this._contentAlreadyRendered||e||this.$content().empty(),this._renderVisibility(!1),this._stopShowTimer(),this._cleanFocusState()}_stopShowTimer(){this._asyncShowTimeout&&clearTimeout(this._asyncShowTimeout),this._asyncShowTimeout=null}_dispose(){Dl.stop(this._$content,!1),this._toggleViewPortSubscription(!1),this._toggleSubscriptions(!1),this._updateZIndexStackPosition(!1),this._toggleTabTerminator(!1),this._actions=null,this._parentsScrollSubscriptionInfo=null,super._dispose(),this._toggleSafariScrolling(),this.option("visible")&&Th(this._zIndex),this._$wrapper.remove(),this._$content.remove()}_toggleRTLDirection(e){this._$content.toggleClass("dx-rtl",e)}_optionChanged(e){const{value:t,name:n}=e;if(this._getActionsList().includes(n))this._initActions();else switch(n){case"animation":case"closeOnOutsideClick":case"hideOnOutsideClick":case"propagateOutsideClick":break;case"_loopFocus":case"shading":{const{visible:e}=this.option();this._toggleShading(e),this._toggleSafariScrolling();break}case"shadingColor":{const{visible:e}=this.option();this._toggleShading(e);break}case"width":case"height":case"minWidth":case"maxWidth":case"minHeight":case"maxHeight":this._renderGeometry();break;case"position":this._positionController.updatePosition(this.option("position")),this._positionController.restorePositionOnNextRender(!0),this._renderGeometry(),this._toggleSafariScrolling();break;case"visible":this._renderVisibilityAnimate(t).done(()=>{var e;return null===(e=this._animateDeferred)||void 0===e?void 0:e.resolveWith(this)}).fail(()=>{var e;return null===(e=this._animateDeferred)||void 0===e?void 0:e.reject()});break;case"container":this._positionController.updateContainer(t),this._invalidate(),this._toggleSafariScrolling();break;case"visualContainer":this._positionController.updateVisualContainer(t),this._renderWrapper(),this._toggleSafariScrolling();break;case"innerOverlay":this._initInnerOverlayClass();break;case"deferRendering":case"contentTemplate":this._contentAlreadyRendered=!1,this._clean(),this._invalidate();break;case"hideTopOverlayHandler":this._toggleHideTopOverlayCallback(!1),this._initHideTopOverlayHandler(t),this._toggleHideTopOverlayCallback(this.option("visible"));break;case"hideOnParentScroll":case"_hideOnParentScrollTarget":{const{visible:e}=this.option();this._toggleHideOnParentsScrollSubscription(e);break}case"rtlEnabled":this._contentAlreadyRendered=!1,super._optionChanged(e);break;case"_fixWrapperPosition":this._positionController.fixWrapperPosition=t;break;case"wrapperAttr":this._renderWrapperAttributes();break;case"restorePosition":this._positionController.restorePosition=t;break;case"preventScrollEvents":this._logDeprecatedPreventScrollEventsInfo(),this._toggleWrapperScrollEventsSubscription(t);break;default:super._optionChanged(e)}}toggle(e){e=void 0===e?!this.option("visible"):e;const t=Re();if(e===this.option("visible"))return t.resolveWith(this,[e]).promise();const n=Re();return this._animateDeferred=n,this.option("visible",e),n.promise().done(()=>{delete this._animateDeferred,t.resolveWith(this,[this.option("visible")])}).fail(()=>{delete this._animateDeferred,t.reject()}),t.promise()}$content(){return this._$content}show(){return this.toggle(!0)}hide(){return this.toggle(!1)}content(){return ma(this._$content)}repaint(){this._contentAlreadyRendered?(this._positionController.restorePositionOnNextRender(!0),this._renderGeometry({forceStopAnimation:!0}),Uu(this._$content)):super.repaint()}}Bh.baseZIndex=e=>(kh=Fe(e,kh),kh),Mi("dxOverlay",Bh);const Nh=Bh,Fh="dx-invalid-message";class $h extends Nh{_getDefaultOptions(){return K({},super._getDefaultOptions(),{integrationOptions:{},templatesRenderAsynchronously:!1,shading:!1,width:"auto",height:"auto",hideOnOutsideClick:!1,animation:null,visible:!0,propagateOutsideClick:!0,_checkParentVisibility:!1,rtlEnabled:!1,contentTemplate:this._renderInnerHtml,maxWidth:"100%",container:this.$element(),mode:"auto",preventScrollEvents:!1,positionSide:"top",offset:{h:0,v:0}})}_init(){super._init(),this.updateMaxWidth(),this._updatePosition()}_initMarkup(){super._initMarkup(),this._ensureMessageNotEmpty(),this._updatePositionByTarget(),this._toggleModeClass(),this._updateContentId()}_updatePositionByTarget(){const{target:e}=this.option();this.option("position.of",e)}_ensureMessageNotEmpty(){this._textMarkup=this._getTextMarkup();const e=this.option("visible")&&this._textMarkup;this._toggleVisibilityClasses(e)}_toggleVisibilityClasses(e){e?(this.$element().addClass(Fh),this.$wrapper().addClass(Fh)):(this.$element().removeClass(Fh),this.$wrapper().removeClass(Fh))}_updateContentId(){const{container:e,contentId:t}=this.option(),n=t??Si(e).attr("aria-describedby");this.$content().addClass("dx-invalid-message-content").attr("id",n)}_renderInnerHtml(e){const t=e&&Si(e);null===t||void 0===t||t.html(this._textMarkup)}_getTextMarkup(){const e=this.option("validationErrors")??[];let t="";return e.forEach(e=>{t+=(t?"<br />":"")+P((null===e||void 0===e?void 0:e.message)??"")}),t}_toggleModeClass(){const{mode:e}=this.option();this.$wrapper().toggleClass("dx-invalid-message-auto","auto"===e).toggleClass("dx-invalid-message-always","always"===e)}updateMaxWidth(){const e=this.option("target"),t=zn(e);let n="100%";t&&(n=Math.max(t,100)),this.option({maxWidth:n})}_getPositionsArray(e,t){switch(e){case"top":return[`${t} bottom`,`${t} top`];case"left":return["right","left"];case"right":return["left","right"];default:return[`${t} top`,`${t} bottom`]}}_updatePosition(){const{positionSide:e,rtlEnabled:t,offset:n,boundary:i}=this.option(),r=Ta(t),o=this._getPositionsArray(e,r),s=K({},n);this.$element().addClass(`dx-invalid-message-${e}`),t&&"left"!==e&&"right"!==e&&(s.h=-s.h),"top"===e&&(s.v=-s.v),"left"===e&&(s.h=-s.h),this.option("position",{offset:s,boundary:i,my:o[0],at:o[1],collision:"none flip"})}_optionChanged(e){const{name:t,value:n,previousValue:i}=e;switch(t){case"target":this._updatePositionByTarget(),this.updateMaxWidth(),super._optionChanged(e);break;case"boundary":this.option("position.boundary",n);break;case"mode":this._toggleModeClass();break;case"rtlEnabled":case"offset":case"positionSide":this.$element().removeClass(`dx-invalid-message-${i}`),this._updatePosition();break;case"container":this._updateContentId(),super._optionChanged(e);break;case"contentId":this._updateContentId();break;case"validationErrors":this._ensureMessageNotEmpty(),this._renderInnerHtml(this.$content());break;default:super._optionChanged(e)}}}Mi("dxValidationMessage",$h);const Hh=$h,Lh="dx-invalid-message-auto",Vh="dx-validation-target",zh=["outlined","filled","underlined"],jh={validationMessageMode:"mode",validationMessagePosition:"positionSide",validationMessageOffset:"offset",validationBoundary:"boundary"};class Wh extends yd{ctor(e,t){this.showValidationMessageTimeout=void 0,this.validationRequest=s(),super.ctor(e,t)}_createElement(e){super._createElement(e);const t=this.$element();t&&un(t[0],Vh,this)}_initOptions(e){super._initOptions(e),this.option(rh.initValidationOptions(e))}_init(){this._initialValue=this.option("value"),super._init();const{validationTooltipOptions:e}=this.option();this._options.cache("validationTooltipOptions",e);this.$element().addClass("dx-show-invalid-badge")}_getDefaultOptions(){return K({},super._getDefaultOptions(),{value:null,name:"",onValueChanged:null,readOnly:!1,isValid:!0,validationError:null,validationErrors:null,validationStatus:"valid",validationMessageMode:"auto",validationMessagePosition:"bottom",validationBoundary:void 0,validationMessageOffset:{h:0,v:0},validationTooltipOptions:{},_showValidationMessage:!0,isDirty:!1})}_attachKeyboardEvents(){this.option("readOnly")||super._attachKeyboardEvents()}_setOptionsByReference(){super._setOptionsByReference(),A(this._optionsByReference,{validationError:!0})}_createValueChangeAction(){this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})}_suppressValueChangeAction(){this._valueChangeActionSuppressed=!0}_resumeValueChangeAction(){this._valueChangeActionSuppressed=!1}_initMarkup(){this._toggleReadOnlyState();const{name:e,_onMarkupRendered:t}=this.option();this._setSubmitElementName(e),super._initMarkup(),this._renderValidationState(),null===t||void 0===t||t()}_raiseValueChangeAction(e,t){this._valueChangeAction||this._createValueChangeAction(),this._valueChangeAction(this._valueChangeArgs(e,t))}_valueChangeArgs(e,t){return{value:e,previousValue:t,event:this._valueChangeEventInstance}}_saveValueChangeEvent(e){this._valueChangeEventInstance=e}_focusInHandler(e){const{validationMessageMode:t}=this.option(),n="auto"===t;if(this._canValueBeChangedByClick()&&n){var i;const e=null===(i=this._validationMessage)||void 0===i?void 0:i.$wrapper();null===e||void 0===e||e.removeClass(Lh),clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>null===e||void 0===e?void 0:e.addClass(Lh),150)}super._focusInHandler(e)}_canValueBeChangedByClick(){return!1}_getStylingModePrefix(){return"dx-editor-"}_renderStylingMode(){const{stylingMode:e}=this.option(),t=this._getStylingModePrefix(),n=zh.map(e=>t+e);n.forEach(e=>this.$element().removeClass(e));let i=t+String(e);if(!n.includes(i)){const e="stylingMode",n=this._getDefaultOptions()[e],r=this._convertRulesToOptions(this._defaultOptionsRules())[e];i=t+(r??n)}this.$element().addClass(i)}_getValidationErrors(){let{validationErrors:e}=this.option();const{validationError:t}=this.option();return!e&&t&&(e=[t]),e}_disposeValidationMessage(){this._$validationMessage&&(this._$validationMessage.remove(),this.setAria("describedby",null),this._$validationMessage=void 0,this._validationMessage=void 0)}_toggleValidationClasses(e){this.$element().toggleClass("dx-invalid",e),this.setAria("invalid",e||void 0)}_renderValidationState(){const{validationStatus:e,_showValidationMessage:t}=this.option(),n=this.option("isValid")&&"invalid"!==e,i=this._getValidationErrors(),r=this.$element();if(this._toggleValidationClasses(!n),Ct()&&t&&(this._disposeValidationMessage(),!n&&i)){const{validationMessageMode:e,validationMessageOffset:t,validationBoundary:n,rtlEnabled:o}=this.option();this._$validationMessage=Si("<div>").appendTo(r);const s=`dx-${new ce}`;this.setAria("describedby",s),this._validationMessage=new Hh(this._$validationMessage,A({validationErrors:i,rtlEnabled:o,target:this._getValidationMessageTarget(),visualContainer:r,mode:e,positionSide:this._getValidationMessagePosition(),offset:t,boundary:n,contentId:s},this._options.cache("validationTooltipOptions"))),this._bindInnerWidgetOptions(this._validationMessage,"validationTooltipOptions")}}_getValidationMessagePosition(){const{validationMessagePosition:e}=this.option();return e}_getValidationMessageTarget(){return this.$element()}_toggleReadOnlyState(){const{readOnly:e}=this.option();this._toggleBackspaceHandler(e),this.$element().toggleClass("dx-state-readonly",!!e),this._setAriaReadonly(e)}_setAriaReadonly(e){this.setAria("readonly",e||void 0)}_toggleBackspaceHandler(e){const t=this._keyboardEventBindingTarget(),n=or("keydown","editorReadOnly");rn.off(t,n),e&&rn.on(t,n,e=>{"backspace"===ir(e)&&e.preventDefault()})}_dispose(){un(this.$element()[0],Vh,null),clearTimeout(this.showValidationMessageTimeout),this._disposeValidationMessage(),super._dispose()}_setSubmitElementName(e){const t=this._getSubmitElement();t&&(e&&e.length>0?t.attr("name",e):t.removeAttr("name"))}_getSubmitElement(){return null}_setValidationMessageOption(e){var t;let{name:n,value:i}=e;const r=jh[String(n)]?jh[String(n)]:n;null===(t=this._validationMessage)||void 0===t||t.option(r,i)}_hasActiveElement(){return!1}_optionChanged(e){var t;const{name:n,value:i,previousValue:r}=e;switch(n){case"onValueChanged":this._createValueChangeAction();break;case"readOnly":this._toggleReadOnlyState(),this._refreshFocusState();break;case"value":i!=r&&(this.option("isDirty",this._initialValue!==i),this.validationRequest.fire({value:i,editor:this})),this._valueChangeActionSuppressed||(this._raiseValueChangeAction(i,r),this._saveValueChangeEvent(void 0));break;case"width":super._optionChanged(e),null===(t=this._validationMessage)||void 0===t||t.updateMaxWidth();break;case"name":this._setSubmitElementName(i);break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(rh.synchronizeValidationOptions(e,this.option())),this._renderValidationState();break;case"validationBoundary":case"validationMessageMode":case"validationMessagePosition":case"validationMessageOffset":this._setValidationMessageOption(e);break;case"rtlEnabled":this._setValidationMessageOption(e),super._optionChanged(e);break;case"validationTooltipOptions":this._innerWidgetOptionChanged(this._validationMessage,e);break;case"_showValidationMessage":case"isDirty":break;default:super._optionChanged(e)}}_resetToInitialValue(){this.option("value",this._initialValue)}blur(){this._hasActiveElement()&&uc.resetActiveElement()}clear(){const e=this._getDefaultOptions();this.option("value",e.value)}reset(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;arguments.length&&(this._initialValue=e),this._resetToInitialValue(),this.option("isDirty",!1),this.option("isValid",!0)}}Wh.isEditor=e=>e instanceof Wh;const Kh=Wh;class Uh{constructor(e,t,n){this.instance=null,this.$container=null,this.$placeMarker=null,this.editor=t,this.name=e,this.options=n||{}}_addPlaceMarker(e){this.$placeMarker=Si("<div>").appendTo(e)}_addToContainer(e){const{$placeMarker:t,$container:n}=this;t?t.replaceWith(e):e.appendTo(n)}_attachEvents(e,t){throw"Not implemented"}_create(){throw"Not implemented"}_isRendered(){return!!this.instance}_isVisible(){const{editor:e,options:t}=this;return t.visible||!e.option("readOnly")}_isDisabled(){throw"Not implemented"}_shouldRender(){return this._isVisible()&&!this._isRendered()}dispose(){const{instance:e,$placeMarker:t}=this;e&&(e.dispose?e.dispose():e.remove(),this.instance=null),t&&t.remove()}render(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.$container;if(this.$container=e,this._isVisible()){const{instance:e,$element:t}=this._create();this.instance=e,this._attachEvents(e,t)}else this._addPlaceMarker(e)}update(){return this._shouldRender()&&this.render(),!!this.instance}}const qh=yo.down;class Gh extends Uh{_create(){const e=Si("<span>").addClass("dx-clear-button-area").append(Si("<span>").addClass("dx-icon").addClass("dx-icon-clear"));return this._addToContainer(e),this.update(!0),{instance:e,$element:e}}_isVisible(){const{editor:e}=this;return e._isClearButtonVisible()}_attachEvents(e,t){const{editor:n}=this,i=n.NAME;rn.on(t,or(qh,i),e=>{e.preventDefault(),"mouse"!==e.pointerType&&n._clearValueHandler(e)}),rn.on(t,or(dc,i),e=>n._clearValueHandler(e))}_legacyRender(e,t){e.toggleClass("dx-show-clear-button",t)}update(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]||super.update();const{editor:e,instance:t}=this,n=e.$element(),i=this._isVisible();t&&t.toggleClass("dx-state-invisible",!i),this._legacyRender(n,i)}}var Zh=Array.isArray;function Yh(e){var t=typeof e;return"string"===t||"number"===t}function Qh(e){return void 0===e||null===e}function Xh(e){return null===e||!1===e||!0===e||void 0===e}function Jh(e){return"function"===typeof e}function ep(e){return"string"===typeof e}function tp(e){return null===e}function np(e){return void 0===e}function ip(e,t){var n={};if(e)for(var i in e)n[i]=e[i];if(t)for(var r in t)n[r]=t[r];return n}function rp(e){return!tp(e)&&"object"===typeof e}var op={};function sp(e){return e.substr(2).toLowerCase()}function ap(e,t){e.appendChild(t)}function lp(e,t,n){tp(n)?ap(e,t):e.insertBefore(t,n)}function cp(e,t){e.removeChild(t)}function up(e){for(var t=0;t<e.length;t++)e[t]()}function dp(e,t,n){var i=e.children;return 4&n?i.$LI:8192&n?2===e.childFlags?i:i[t?0:i.length-1]:i}function hp(e,t){for(var n;e;){if(2033&(n=e.flags))return e.dom;e=dp(e,t,n)}return null}function pp(e,t){do{var n=e.flags;if(2033&n)return void cp(t,e.dom);var i=e.children;if(4&n&&(e=i.$LI),8&n&&(e=i),8192&n){if(2!==e.childFlags){for(var r=0,o=i.length;r<o;++r)pp(i[r],t);return}e=i}}while(e)}function fp(e,t,n){do{var i=e.flags;if(2033&i)return void lp(t,e.dom,n);var r=e.children;if(4&i&&(e=r.$LI),8&i&&(e=r),8192&i){if(2!==e.childFlags){for(var o=0,s=r.length;o<s;++o)fp(r[o],t,n);return}e=r}}while(e)}function mp(e,t,n){return e.constructor.getDerivedStateFromProps?ip(n,e.constructor.getDerivedStateFromProps(t,n)):n}var _p={v:!1},gp={componentComparator:null,createVNode:null,renderComplete:null};function vp(e,t){e.textContent=t}function yp(e,t){return rp(e)&&e.event===t.event&&e.data===t.data}function bp(e,t){for(var n in t)np(e[n])&&(e[n]=t[n]);return e}function Cp(e,t){return!!Jh(e)&&(e(t),!0)}var xp="$";function Sp(e,t,n,i,r,o,s,a){this.childFlags=e,this.children=t,this.className=n,this.dom=null,this.flags=i,this.key=void 0===r?null:r,this.props=void 0===o?null:o,this.ref=void 0===s?null:s,this.type=a}function wp(e,t,n,i,r,o,s,a){var l=void 0===r?1:r,c=new Sp(l,i,n,e,s,o,a,t);return gp.createVNode&&gp.createVNode(c),0===l&&Pp(c,c.children),c}function Ep(e,t,n,i,r){e=function(e,t){return 12&e?e:t.prototype&&t.prototype.render?4:t.render?32776:8}(e,t);var o=new Sp(1,null,null,e,i,function(e,t,n){var i=(32768&e?t.render:t).defaultProps;return Qh(i)?n:Qh(n)?ip(i,null):bp(n,i)}(e,t,n),function(e,t,n){if(4&e)return n;var i=(32768&e?t.render:t).defaultHooks;return Qh(i)?n:Qh(n)?i:bp(n,i)}(e,t,r),t);return gp.createVNode&&gp.createVNode(o),o}function Ip(e,t){return new Sp(1,Qh(e)||!0===e||!1===e?"":e,null,16,t,null,null,null)}function kp(e,t,n){var i=wp(8192,8192,null,e,t,null,n,null);switch(i.childFlags){case 1:i.children=Tp(),i.childFlags=2;break;case 16:i.children=[Ip(e)],i.childFlags=4}return i}function Dp(e){var t=e.props;if(t){var n=e.flags;481&n&&(void 0!==t.children&&Qh(e.children)&&Pp(e,t.children),void 0!==t.className&&(Qh(e.className)&&(e.className=t.className||null),t.className=void 0)),void 0!==t.key&&(e.key=t.key,t.key=void 0),void 0!==t.ref&&(e.ref=8&n?ip(e.ref,t.ref):t.ref,t.ref=void 0)}return e}function Op(e){var t=-16385&e.flags,n=e.props;if(14&t&&!tp(n)){var i=n;for(var r in n={},i)n[r]=i[r]}return 0===(8192&t)?new Sp(e.childFlags,e.children,e.className,t,e.key,n,e.ref,e.type):function(e){var t=e.children,n=e.childFlags;return kp(2===n?Op(t):t.map(Op),n,e.key)}(e)}function Tp(){return Ip("",null)}function Ap(e,t,n,i){for(var r=e.length;n<r;n++){var o=e[n];if(!Xh(o)){var s=i+xp+n;if(Zh(o))Ap(o,t,0,s);else{if(Yh(o))o=Ip(o,s);else{var a=o.key,l=ep(a)&&a[0]===xp;(81920&o.flags||l)&&(o=Op(o)),o.flags|=65536,l?a.substring(0,i.length)!==i&&(o.key=i+a):tp(a)?o.key=s:o.key=i+a}t.push(o)}}}}function Pp(e,t){var n,i=1;if(Xh(t))n=t;else if(Yh(t))i=16,n=t;else if(Zh(t)){for(var r=t.length,o=0;o<r;++o){var s=t[o];if(Xh(s)||Zh(s)){n=n||t.slice(0,o),Ap(t,n,o,"");break}if(Yh(s))(n=n||t.slice(0,o)).push(Ip(s,xp+o));else{var a=s.key,l=(81920&s.flags)>0,c=tp(a),u=ep(a)&&a[0]===xp;l||c||u?(n=n||t.slice(0,o),(l||u)&&(s=Op(s)),(c||u)&&(s.key=xp+o),n.push(s)):n&&n.push(s),s.flags|=65536}}i=0===(n=n||t).length?1:8}else(n=t).flags|=65536,81920&t.flags&&(n=Op(t)),i=2;return e.children=n,e.childFlags=i,e}function Mp(e){return Xh(e)||Yh(e)?Ip(e,null):Zh(e)?kp(e,0,null):16384&e.flags?Op(e):e}var Rp="http://www.w3.org/1999/xlink",Bp="http://www.w3.org/XML/1998/namespace",Np={"xlink:actuate":Rp,"xlink:arcrole":Rp,"xlink:href":Rp,"xlink:role":Rp,"xlink:show":Rp,"xlink:title":Rp,"xlink:type":Rp,"xml:base":Bp,"xml:lang":Bp,"xml:space":Bp};function Fp(e){return{onClick:e,onDblClick:e,onFocusIn:e,onFocusOut:e,onKeyDown:e,onKeyPress:e,onKeyUp:e,onMouseDown:e,onMouseMove:e,onMouseUp:e,onTouchEnd:e,onTouchMove:e,onTouchStart:e}}var $p=Fp(0),Hp=Fp(null),Lp=Fp(!0);function Vp(e,t){var n=t.$EV;return n||(n=t.$EV=Fp(null)),n[e]||1===++$p[e]&&(Hp[e]=function(e){var t="onClick"===e||"onDblClick"===e?function(e){return function(t){0===t.button?jp(t,!0,e,qp(t)):t.stopPropagation()}}(e):function(e){return function(t){jp(t,!1,e,qp(t))}}(e);return document.addEventListener(sp(e),t),t}(e)),n}function zp(e,t){var n=t.$EV;n&&n[e]&&(0===--$p[e]&&(document.removeEventListener(sp(e),Hp[e]),Hp[e]=null),n[e]=null)}function jp(e,t,n,i){var r=function(e){return Jh(e.composedPath)?e.composedPath()[0]:e.target}(e);do{if(t&&r.disabled)return;var o=r.$EV;if(o){var s=o[n];if(s&&(i.dom=r,s.event?s.event(s.data,e):s(e),e.cancelBubble))return}r=r.parentNode}while(!tp(r))}function Wp(){this.cancelBubble=!0,this.immediatePropagationStopped||this.stopImmediatePropagation()}function Kp(){return this.defaultPrevented}function Up(){return this.cancelBubble}function qp(e){var t={dom:document};return e.isDefaultPrevented=Kp,e.isPropagationStopped=Up,e.stopPropagation=Wp,Object.defineProperty(e,"currentTarget",{configurable:!0,get:function(){return t.dom}}),t}function Gp(e,t,n){if(e[t]){var i=e[t];i.event?i.event(i.data,n):i(n)}else{var r=t.toLowerCase();e[r]&&e[r](n)}}function Zp(e,t){var n=function(n){var i=this.$V;if(i){var r=i.props||op,o=i.dom;if(ep(e))Gp(r,e,n);else for(var s=0;s<e.length;++s)Gp(r,e[s],n);if(Jh(t)){var a=this.$V,l=a.props||op;t(l,o,!1,a)}}};return Object.defineProperty(n,"wrapped",{configurable:!1,enumerable:!1,value:!0,writable:!1}),n}function Yp(e,t,n){var i="$"+t,r=e[i];if(r){if(r[1].wrapped)return;e.removeEventListener(r[0],r[1]),e[i]=null}Jh(n)&&(e.addEventListener(t,n),e[i]=[t,n])}function Qp(e){return"checkbox"===e||"radio"===e}var Xp=Zp("onInput",tf),Jp=Zp(["onClick","onChange"],tf);function ef(e){e.stopPropagation()}function tf(e,t){var n=e.type,i=e.value,r=e.checked,o=e.multiple,s=e.defaultValue,a=!Qh(i);n&&n!==t.type&&t.setAttribute("type",n),Qh(o)||o===t.multiple||(t.multiple=o),Qh(s)||a||(t.defaultValue=s+""),Qp(n)?(a&&(t.value=i),Qh(r)||(t.checked=r)):a&&t.value!==i?(t.defaultValue=i,t.value=i):Qh(r)||(t.checked=r)}function nf(e,t){if("option"===e.type)!function(e,t){var n=e.props||op,i=e.dom;i.value=n.value,n.value===t||Zh(t)&&-1!==t.indexOf(n.value)?i.selected=!0:Qh(t)&&Qh(n.selected)||(i.selected=n.selected||!1)}(e,t);else{var n=e.children,i=e.flags;if(4&i)nf(n.$LI,t);else if(8&i)nf(n,t);else if(2===e.childFlags)nf(n,t);else if(12&e.childFlags)for(var r=0,o=n.length;r<o;++r)nf(n[r],t)}}ef.wrapped=!0;var rf=Zp("onChange",of);function of(e,t,n,i){var r=Boolean(e.multiple);Qh(e.multiple)||r===t.multiple||(t.multiple=r);var o=e.selectedIndex;if(-1===o&&(t.selectedIndex=-1),1!==i.childFlags){var s=e.value;"number"===typeof o&&o>-1&&t.options[o]&&(s=t.options[o].value),n&&Qh(s)&&(s=e.defaultValue),nf(i,s)}}var sf,af,lf=Zp("onInput",uf),cf=Zp("onChange");function uf(e,t,n){var i=e.value,r=t.value;if(Qh(i)){if(n){var o=e.defaultValue;Qh(o)||o===r||(t.defaultValue=o,t.value=o)}}else r!==i&&(t.defaultValue=i,t.value=i)}function df(e,t,n,i,r,o){64&e?tf(i,n):256&e?of(i,n,r,t):128&e&&uf(i,n,r),o&&(n.$V=t)}function hf(e,t,n){64&e?function(e,t){Qp(t.type)?(Yp(e,"change",Jp),Yp(e,"click",ef)):Yp(e,"input",Xp)}(t,n):256&e?function(e){Yp(e,"change",rf)}(t):128&e&&function(e,t){Yp(e,"input",lf),t.onChange&&Yp(e,"change",cf)}(t,n)}function pf(e){return e.type&&Qp(e.type)?!Qh(e.checked):!Qh(e.value)}function ff(e){e&&!Cp(e,null)&&e.current&&(e.current=null)}function mf(e,t,n){e&&(Jh(e)||void 0!==e.current)&&n.push(function(){Cp(e,t)||void 0===e.current||(e.current=t)})}function _f(e,t){gf(e),pp(e,t)}function gf(e){var t,n=e.flags,i=e.children;if(481&n){t=e.ref;var r=e.props;ff(t);var o=e.childFlags;if(!tp(r))for(var s=Object.keys(r),a=0,l=s.length;a<l;a++){var c=s[a];Lp[c]&&zp(c,e.dom)}12&o?vf(i):2===o&&gf(i)}else i&&(4&n?(Jh(i.componentWillUnmount)&&i.componentWillUnmount(),ff(e.ref),i.$UN=!0,gf(i.$LI)):8&n?(!Qh(t=e.ref)&&Jh(t.onComponentWillUnmount)&&t.onComponentWillUnmount(hp(e,!0),e.props||op),gf(i)):1024&n?_f(i,e.ref):8192&n&&12&e.childFlags&&vf(i))}function vf(e){for(var t=0,n=e.length;t<n;++t)gf(e[t])}function yf(e){e.textContent=""}function bf(e,t,n){vf(n),8192&t.flags?pp(t,e):yf(e)}function Cf(e,t,n,i){var r=e&&e.__html||"",o=t&&t.__html||"";r!==o&&(Qh(o)||function(e,t){var n=document.createElement("i");return n.innerHTML=t,n.innerHTML===e.innerHTML}(i,o)||(tp(n)||(12&n.childFlags?vf(n.children):2===n.childFlags&&gf(n.children),n.children=null,n.childFlags=1),i.innerHTML=o))}function xf(e,t,n,i,r,o,s){switch(e){case"children":case"childrenType":case"className":case"defaultValue":case"key":case"multiple":case"ref":case"selectedIndex":break;case"autoFocus":i.autofocus=!!n;break;case"allowfullscreen":case"autoplay":case"capture":case"checked":case"controls":case"default":case"disabled":case"hidden":case"indeterminate":case"loop":case"muted":case"novalidate":case"open":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"selected":i[e]=!!n;break;case"defaultChecked":case"value":case"volume":if(o&&"value"===e)break;var a=Qh(n)?"":n;i[e]!==a&&(i[e]=a);break;case"style":!function(e,t,n){if(Qh(t))n.removeAttribute("style");else{var i,r,o=n.style;if(ep(t))o.cssText=t;else if(Qh(e)||ep(e))for(i in t)r=t[i],o.setProperty(i,r);else{for(i in t)(r=t[i])!==e[i]&&o.setProperty(i,r);for(i in e)Qh(t[i])&&o.removeProperty(i)}}}(t,n,i);break;case"dangerouslySetInnerHTML":Cf(t,n,s,i);break;default:Lp[e]?function(e,t,n,i){if(Jh(n))Vp(e,i)[e]=n;else if(rp(n)){if(yp(t,n))return;Vp(e,i)[e]=n}else zp(e,i)}(e,t,n,i):111===e.charCodeAt(0)&&110===e.charCodeAt(1)?function(e,t,n,i){if(rp(n)){if(yp(t,n))return;n=function(e){var t=e.event;return function(n){t(e.data,n)}}(n)}Yp(i,sp(e),n)}(e,t,n,i):Qh(n)?i.removeAttribute(e):r&&Np[e]?i.setAttributeNS(Np[e],e,n):i.setAttribute(e,n)}}function Sf(e,t,n,i,r){var o=!1,s=(448&t)>0;for(var a in s&&(o=pf(n))&&hf(t,i,n),n)xf(a,null,n[a],i,r,o,null);s&&df(t,e,i,n,!0,o)}function wf(e,t,n){var i=Mp(e.render(t,e.state,n)),r=n;return Jh(e.getChildContext)&&(r=ip(n,e.getChildContext())),e.$CX=r,i}function Ef(e,t,n,i,r,o){var s=new t(n,i),a=s.$N=Boolean(t.getDerivedStateFromProps||s.getSnapshotBeforeUpdate);if(s.$SVG=r,s.$L=o,e.children=s,s.$BS=!1,s.context=i,s.props===op&&(s.props=n),a)s.state=mp(s,n,s.state);else if(Jh(s.componentWillMount)){s.$BR=!0,s.componentWillMount();var l=s.$PS;if(!tp(l)){var c=s.state;if(tp(c))s.state=l;else for(var u in l)c[u]=l[u];s.$PS=null}s.$BR=!1}return s.$LI=wf(s,n,i),s}function If(e,t){var n=e.props||op;return 32768&e.flags?e.type.render(n,e.ref,t):e.type(n,t)}function kf(e,t,n,i,r,o){var s=e.flags|=16384;481&s?Of(e,t,n,i,r,o):4&s?function(e,t,n,i,r,o){var s=Ef(e,e.type,e.props||op,n,i,o);kf(s.$LI,t,s.$CX,i,r,o),Af(e.ref,s,o)}(e,t,n,i,r,o):8&s?(!function(e,t,n,i,r,o){kf(e.children=Mp(If(e,n)),t,n,i,r,o)}(e,t,n,i,r,o),Pf(e,o)):512&s||16&s?Df(e,t,r):8192&s?function(e,t,n,i,r,o){var s=e.children,a=e.childFlags;12&a&&0===s.length&&(a=e.childFlags=2,s=e.children=Tp());2===a?kf(s,n,t,i,r,o):Tf(s,n,t,i,r,o)}(e,n,t,i,r,o):1024&s&&function(e,t,n,i,r){kf(e.children,e.ref,t,!1,null,r);var o=Tp();Df(o,n,i),e.dom=o.dom}(e,n,t,r,o)}function Df(e,t,n){var i=e.dom=document.createTextNode(e.children);tp(t)||lp(t,i,n)}function Of(e,t,n,i,r,o){var s=e.flags,a=e.props,l=e.className,c=e.childFlags,u=e.dom=function(e,t){return t?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}(e.type,i=i||(32&s)>0),d=e.children;if(Qh(l)||""===l||(i?u.setAttribute("class",l):u.className=l),16===c)vp(u,d);else if(1!==c){var h=i&&"foreignObject"!==e.type;2===c?(16384&d.flags&&(e.children=d=Op(d)),kf(d,u,n,h,null,o)):8!==c&&4!==c||Tf(d,u,n,h,null,o)}tp(t)||lp(t,u,r),tp(a)||Sf(e,s,a,u,i),mf(e.ref,u,o)}function Tf(e,t,n,i,r,o){for(var s=0;s<e.length;++s){var a=e[s];16384&a.flags&&(e[s]=a=Op(a)),kf(a,t,n,i,r,o)}}function Af(e,t,n){mf(e,t,n),Jh(t.componentDidMount)&&n.push(function(e){return function(){e.componentDidMount()}}(t))}function Pf(e,t){var n=e.ref;Qh(n)||(Cp(n.onComponentWillMount,e.props||op),Jh(n.onComponentDidMount)&&t.push(function(e,t){return function(){e.onComponentDidMount(hp(t,!0),t.props||op)}}(n,e)))}function Mf(e,t,n,i,r,o,s){var a=t.flags|=16384;e.flags!==a||e.type!==t.type||e.key!==t.key||2048&a?16384&e.flags?function(e,t,n,i,r,o){gf(e),0!==(t.flags&e.flags&2033)?(kf(t,null,i,r,null,o),function(e,t,n){e.replaceChild(t,n)}(n,t.dom,e.dom)):(kf(t,n,i,r,hp(e,!0),o),pp(e,n))}(e,t,n,i,r,s):kf(t,n,i,r,o,s):481&a?function(e,t,n,i,r,o){var s,a=t.dom=e.dom,l=e.props,c=t.props,u=!1,d=!1;if(i=i||(32&r)>0,l!==c){var h=l||op;if((s=c||op)!==op)for(var p in(u=(448&r)>0)&&(d=pf(s)),s){var f=h[p],m=s[p];f!==m&&xf(p,f,m,a,i,d,e)}if(h!==op)for(var _ in h)Qh(s[_])&&!Qh(h[_])&&xf(_,h[_],null,a,i,d,e)}var g=t.children,v=t.className;e.className!==v&&(Qh(v)?a.removeAttribute("class"):i?a.setAttribute("class",v):a.className=v);4096&r?function(e,t){e.textContent!==t&&(e.textContent=t)}(a,g):Rf(e.childFlags,t.childFlags,e.children,g,a,n,i&&"foreignObject"!==t.type,null,e,o);u&&df(r,t,a,s,!1,d);var y=t.ref,b=e.ref;b!==y&&(ff(b),mf(y,a,o))}(e,t,i,r,a,s):4&a?function(e,t,n,i,r,o,s){var a=t.children=e.children;if(tp(a))return;a.$L=s;var l=t.props||op,c=t.ref,u=e.ref,d=a.state;if(!a.$N){if(Jh(a.componentWillReceiveProps)){if(a.$BR=!0,a.componentWillReceiveProps(l,i),a.$UN)return;a.$BR=!1}tp(a.$PS)||(d=ip(d,a.$PS),a.$PS=null)}Bf(a,d,l,n,i,r,!1,o,s),u!==c&&(ff(u),mf(c,a,s))}(e,t,n,i,r,o,s):8&a?function(e,t,n,i,r,o,s){var a=!0,l=t.props||op,c=t.ref,u=e.props,d=!Qh(c),h=e.children;d&&Jh(c.onComponentShouldUpdate)&&(a=c.onComponentShouldUpdate(u,l));if(!1!==a){d&&Jh(c.onComponentWillUpdate)&&c.onComponentWillUpdate(u,l);var p=Mp(If(t,i));Mf(h,p,n,i,r,o,s),t.children=p,d&&Jh(c.onComponentDidUpdate)&&c.onComponentDidUpdate(u,l)}else t.children=h}(e,t,n,i,r,o,s):16&a?function(e,t){var n=t.children,i=t.dom=e.dom;n!==e.children&&(i.nodeValue=n)}(e,t):512&a?t.dom=e.dom:8192&a?function(e,t,n,i,r,o){var s=e.children,a=t.children,l=e.childFlags,c=t.childFlags,u=null;12&c&&0===a.length&&(c=t.childFlags=2,a=t.children=Tp());var d=0!==(2&c);if(12&l){var h=s.length;(8&l&&8&c||d||!d&&a.length>h)&&(u=hp(s[h-1],!1).nextSibling)}Rf(l,c,s,a,n,i,r,u,e,o)}(e,t,n,i,r,s):function(e,t,n,i){var r=e.ref,o=t.ref,s=t.children;if(Rf(e.childFlags,t.childFlags,e.children,s,r,n,!1,null,e,i),t.dom=e.dom,r!==o&&!Xh(s)){var a=s.dom;cp(r,a),ap(o,a)}}(e,t,i,s)}function Rf(e,t,n,i,r,o,s,a,l,c){switch(e){case 2:switch(t){case 2:Mf(n,i,r,o,s,a,c);break;case 1:_f(n,r);break;case 16:gf(n),vp(r,i);break;default:!function(e,t,n,i,r,o){gf(e),Tf(t,n,i,r,hp(e,!0),o),pp(e,n)}(n,i,r,o,s,c)}break;case 1:switch(t){case 2:kf(i,r,o,s,a,c);break;case 1:break;case 16:vp(r,i);break;default:Tf(i,r,o,s,a,c)}break;case 16:switch(t){case 16:!function(e,t,n){e!==t&&(""!==e?n.firstChild.nodeValue=t:vp(n,t))}(n,i,r);break;case 2:yf(r),kf(i,r,o,s,a,c);break;case 1:yf(r);break;default:yf(r),Tf(i,r,o,s,a,c)}break;default:switch(t){case 16:vf(n),vp(r,i);break;case 2:bf(r,l,n),kf(i,r,o,s,a,c);break;case 1:bf(r,l,n);break;default:var u=0|n.length,d=0|i.length;0===u?d>0&&Tf(i,r,o,s,a,c):0===d?bf(r,l,n):8===t&&8===e?function(e,t,n,i,r,o,s,a,l,c){var u,d,h=o-1,p=s-1,f=0,m=e[f],_=t[f];e:{for(;m.key===_.key;){if(16384&_.flags&&(t[f]=_=Op(_)),Mf(m,_,n,i,r,a,c),e[f]=_,++f>h||f>p)break e;m=e[f],_=t[f]}for(m=e[h],_=t[p];m.key===_.key;){if(16384&_.flags&&(t[p]=_=Op(_)),Mf(m,_,n,i,r,a,c),e[h]=_,p--,f>--h||f>p)break e;m=e[h],_=t[p]}}if(f>h){if(f<=p)for(d=(u=p+1)<s?hp(t[u],!0):a;f<=p;)16384&(_=t[f]).flags&&(t[f]=_=Op(_)),++f,kf(_,n,i,r,d,c)}else if(f>p)for(;f<=h;)_f(e[f++],n);else!function(e,t,n,i,r,o,s,a,l,c,u,d,h){var p,f,m,_=0,g=a,v=a,y=o-a+1,b=s-a+1,C=new Int32Array(b+1),x=y===i,S=!1,w=0,E=0;if(r<4||(y|b)<32)for(_=g;_<=o;++_)if(p=e[_],E<b){for(a=v;a<=s;a++)if(f=t[a],p.key===f.key){if(C[a-v]=_+1,x)for(x=!1;g<_;)_f(e[g++],l);w>a?S=!0:w=a,16384&f.flags&&(t[a]=f=Op(f)),Mf(p,f,l,n,c,u,h),++E;break}!x&&a>s&&_f(p,l)}else x||_f(p,l);else{var I={};for(_=v;_<=s;++_)I[t[_].key]=_;for(_=g;_<=o;++_)if(p=e[_],E<b)if(void 0!==(a=I[p.key])){if(x)for(x=!1;_>g;)_f(e[g++],l);C[a-v]=_+1,w>a?S=!0:w=a,16384&(f=t[a]).flags&&(t[a]=f=Op(f)),Mf(p,f,l,n,c,u,h),++E}else x||_f(p,l);else x||_f(p,l)}if(x)bf(l,d,e),Tf(t,l,n,c,u,h);else if(S){var k=function(e){var t=0,n=0,i=0,r=0,o=0,s=0,a=0,l=e.length;l>Nf&&(Nf=l,sf=new Int32Array(l),af=new Int32Array(l));for(;n<l;++n)if(0!==(t=e[n])){if(e[i=sf[r]]<t){af[n]=i,sf[++r]=n;continue}for(o=0,s=r;o<s;)e[sf[a=o+s>>1]]<t?o=a+1:s=a;t<e[sf[o]]&&(o>0&&(af[n]=sf[o-1]),sf[o]=n)}o=r+1;var c=new Int32Array(o);s=sf[o-1];for(;o-- >0;)c[o]=s,s=af[s],sf[o]=0;return c}(C);for(a=k.length-1,_=b-1;_>=0;_--)0===C[_]?(16384&(f=t[w=_+v]).flags&&(t[w]=f=Op(f)),kf(f,l,n,c,(m=w+1)<r?hp(t[m],!0):u,h)):a<0||_!==k[a]?fp(f=t[w=_+v],l,(m=w+1)<r?hp(t[m],!0):u):a--}else if(E!==b)for(_=b-1;_>=0;_--)0===C[_]&&(16384&(f=t[w=_+v]).flags&&(t[w]=f=Op(f)),kf(f,l,n,c,(m=w+1)<r?hp(t[m],!0):u,h))}(e,t,i,o,s,h,p,f,n,r,a,l,c)}(n,i,r,o,s,u,d,a,l,c):function(e,t,n,i,r,o,s,a,l){for(var c,u,d=o>s?s:o,h=0;h<d;++h)c=t[h],u=e[h],16384&c.flags&&(c=t[h]=Op(c)),Mf(u,c,n,i,r,a,l),e[h]=c;if(o<s)for(h=d;h<s;++h)16384&(c=t[h]).flags&&(c=t[h]=Op(c)),kf(c,n,i,r,a,l);else if(o>s)for(h=d;h<o;++h)_f(e[h],n)}(n,i,r,o,s,u,d,a,c)}}}function Bf(e,t,n,i,r,o,s,a,l){var c=e.state,u=e.props,d=Boolean(e.$N),h=Jh(e.shouldComponentUpdate);if(d&&(t=mp(e,n,t!==c?ip(c,t):t)),s||!h||h&&e.shouldComponentUpdate(n,t,r)){!d&&Jh(e.componentWillUpdate)&&e.componentWillUpdate(n,t,r),e.props=n,e.state=t,e.context=r;var p=null,f=wf(e,n,r);d&&Jh(e.getSnapshotBeforeUpdate)&&(p=e.getSnapshotBeforeUpdate(u,c)),Mf(e.$LI,f,i,e.$CX,o,a,l),e.$LI=f,Jh(e.componentDidUpdate)&&function(e,t,n,i,r){r.push(function(){e.componentDidUpdate(t,n,i)})}(e,u,c,p,l)}else e.props=n,e.state=t,e.context=r}var Nf=0;function Ff(e,t,n,i){void 0===n&&(n=null),void 0===i&&(i=op),function(e,t,n,i){var r=[],o=t.$V;_p.v=!0,Qh(o)?Qh(e)||(16384&e.flags&&(e=Op(e)),kf(e,t,i,!1,null,r),t.$V=e,o=e):Qh(e)?(_f(o,t),t.$V=null):(16384&e.flags&&(e=Op(e)),Mf(o,e,t,i,!1,null,r),o=t.$V=e),up(r),_p.v=!1,Jh(n)&&n(),Jh(gp.renderComplete)&&gp.renderComplete(o,t)}(e,t,n,i)}"undefined"!==typeof document&&window.Node&&(Node.prototype.$EV=null,Node.prototype.$V=null);var $f=[],Hf="undefined"!==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):function(e){window.setTimeout(e,0)},Lf=!1;function Vf(e,t,n,i){var r=e.$PS;if(Jh(t)&&(t=t(r?ip(e.state,r):e.state,e.props,e.context)),Qh(r))e.$PS=t;else for(var o in t)r[o]=t[o];if(e.$BR)Jh(n)&&e.$L.push(n.bind(e));else{if(!_p.v&&0===$f.length)return Wf(e,i),void(Jh(n)&&n.call(e));if(-1===$f.indexOf(e)&&$f.push(e),i&&(e.$F=!0),Lf||(Lf=!0,Hf(jf)),Jh(n)){var s=e.$QU;s||(s=e.$QU=[]),s.push(n)}}}function zf(e){for(var t=e.$QU,n=0;n<t.length;++n)t[n].call(e);e.$QU=null}function jf(){var e;for(Lf=!1;e=$f.shift();)if(!e.$UN){var t=e.$F;e.$F=!1,Wf(e,t),e.$QU&&zf(e)}}function Wf(e,t){if(t||!e.$BR){var n=e.$PS;e.$PS=null;var i=[];_p.v=!0,Bf(e,ip(e.state,n),e.props,hp(e.$LI,!0).parentNode,e.context,e.$SVG,t,null,i),up(i),_p.v=!1}else e.state=e.$PS,e.$PS=null}var Kf=function(e,t){this.state=null,this.$BR=!1,this.$BS=!0,this.$PS=null,this.$LI=null,this.$UN=!1,this.$CX=null,this.$QU=null,this.$N=!1,this.$L=null,this.$SVG=!1,this.$F=!1,this.props=e||op,this.context=t||op};Kf.prototype.forceUpdate=function(e){this.$UN||Vf(this,{},e,!0)},Kf.prototype.setState=function(e,t){this.$UN||this.$BS||Vf(this,e,t,!1)},Kf.prototype.render=function(e,t,n){return null};const Uf={lockCount:0,lock(){this.lockCount++},callbacks:[],callEffects(){if(this.lockCount--,this.lockCount<0)throw new Error("Unexpected Effect Call");if(0===this.lockCount){const e=this.callbacks;this.callbacks=[],e.forEach(e=>e())}}},qf=(e,t)=>{if(!(e instanceof Object&&t instanceof Object))return e===t;const n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;return!n.some(n=>e[n]!==t[n])};class Gf extends Kf{constructor(){super(...arguments),this._pendingContext=this.context}componentWillReceiveProps(e,t){this._pendingContext=null!==t&&void 0!==t?t:{}}shouldComponentUpdate(e,t){return!qf(this.props,e)||!qf(this.state,t)||!qf(this.context,this._pendingContext)}}class Zf extends Gf{constructor(){super(...arguments),this._effects=[]}createEffects(){return[]}updateEffects(){}componentWillMount(){Uf.lock()}componentWillUpdate(e,t,n){Uf.lock()}componentDidMount(){Uf.callbacks.push(()=>{this._effects=this.createEffects()}),Uf.callEffects()}componentDidUpdate(){Uf.callbacks.push(()=>this.updateEffects()),Uf.callEffects()}destroyEffects(){this._effects.forEach(e=>e.dispose())}componentWillUnmount(){this.destroyEffects()}}class Yf extends Zf{constructor(){super(...arguments),this.vDomElement=null}vDomUpdateClasses(){const e=this.vDomElement,t=e.className.length?e.className.split(" "):[],n=t.filter(t=>e.dxClasses.previous.indexOf(t)<0),i=e.dxClasses.previous.filter(e=>t.indexOf(e)<0);n.forEach(t=>{const n=e.dxClasses.removed.indexOf(t);n>-1?e.dxClasses.removed.splice(n,1):e.dxClasses.added.includes(t)||e.dxClasses.added.push(t)}),i.forEach(t=>{const n=e.dxClasses.added.indexOf(t);n>-1?e.dxClasses.added.splice(n,1):e.dxClasses.removed.includes(t)||e.dxClasses.removed.push(t)})}componentDidMount(){const e=hp(this.$LI,!0);this.vDomElement=e,super.componentDidMount(),e.dxClasses=e.dxClasses||{removed:[],added:[],previous:[]},e.dxClasses.previous=(null===e||void 0===e?void 0:e.className.length)?e.className.split(" "):[]}componentDidUpdate(){super.componentDidUpdate();const e=this.vDomElement;null!==e&&(e.dxClasses.added.forEach(t=>e.classList.add(t)),e.dxClasses.removed.forEach(t=>e.classList.remove(t)),e.dxClasses.previous=e.className.length?e.className.split(" "):[])}shouldComponentUpdate(e,t){const n=super.shouldComponentUpdate(e,t);return n&&this.vDomUpdateClasses(),n}}let Qf=0;class Xf{constructor(e,t){this.dependency=t,this.effect=e,this.destroy=e()}update(e){const t=this.dependency;e&&(this.dependency=e),e&&!e.some((e,n)=>t[n]!==e)||(this.dispose(),this.destroy=this.effect())}dispose(){this.destroy&&this.destroy()}}const Jf=()=>new Xf(()=>{jf()},[]);function em(e){return null===e}function tm(e,t){return Boolean(t&&t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html&&function(e,t){const n=document.createElement("i");return n.innerHTML=t,n.innerHTML===e.innerHTML}(e,t.dangerouslySetInnerHTML.__html))}function nm(e,t,n,i,r,o){const s=e.childFlags,a=e.children,l=e.props,c=e.flags;if(1!==s){if(2===s)em(n)?kf(a,t,i,r,null,o):n=(n=rm(a,t,n,i,r,o))?n.nextSibling:null;else if(16===s)em(n)?t.appendChild(document.createTextNode(a)):1!==t.childNodes.length||3!==n.nodeType?t.textContent=a:n.nodeValue!==a&&(n.nodeValue=a),n=null;else if(12&s){let e=!1;for(let s=0,l=a.length;s<l;++s){const l=a[s];em(n)||e&&(16&l.flags)>0?kf(l,t,i,r,n,o):n=(n=rm(l,t,n,i,r,o))?n.nextSibling:null,e=(16&l.flags)>0}}if(0===(8192&c)){let e=null;for(;n;)e=n.nextSibling,t.removeChild(n),n=e}}else em(t.firstChild)||tm(t,l)||(t.textContent="",448&c&&(t.defaultValue=""))}function im(e,t,n){if(3!==n.nodeType)t.replaceChild(e.dom=document.createTextNode(e.children),n);else{const t=e.children;n.nodeValue!==t&&(n.nodeValue=t),e.dom=n}return e.dom}function rm(e,t,n,i,r,o){const s=e.flags|=16384;return 14&s?function(e,t,n,i,r,o,s){const a=e.type,l=e.ref,c=e.props||op;let u;if(o){const o=Ef(e,a,c,i,r,s);u=rm(o.$LI,t,n,o.$CX,r,s),Af(l,o,s)}else{const o=Mp(If(e,i));u=rm(o,t,n,i,r,s),e.children=o,Pf(e,s)}return u}(e,t,n,i,r,(4&s)>0,o):481&s?function(e,t,n,i,r,o){const s=e.props,a=e.className,l=e.flags,c=e.ref;var u;return r=r||(32&l)>0,1!==n.nodeType?(Of(e,null,i,r,null,o),t.replaceChild(e.dom,n)):(e.dom=n,nm(e,n,n.firstChild,i,r,o),em(s)||Sf(e,l,s,n,r),void 0===(u=a)||null===u?""!==n.className&&n.removeAttribute("class"):r?n.setAttribute("class",a):n.className=a,mf(c,n,o)),e.dom}(e,t,n,i,r,o):16&s?im(e,t,n):512&s?e.dom=n:8192&s?function(e,t,n,i,r,o){const s=e.children;return 2===e.childFlags?(im(s,t,n),s.dom):(nm(e,t,n,i,r,o),function(e){let t,n;for(;e;){if(t=e.flags,2033&t)return e.dom;n=e.children,e=8192&t?2===e.childFlags?n:n[n.length-1]:4&t?n.$LI:n}return null}(s[s.length-1]))}(e,t,n,i,r,o):(function(e){throw e||(e="a runtime error occured! Use Inferno in development environment to find the error."),new Error(`Inferno Error: ${e}`)}(),null)}function om(e){return void 0===e||null===e}function sm(e){return void 0===e}var am={onComponentDidMount:1,onComponentDidUpdate:1,onComponentShouldUpdate:1,onComponentWillMount:1,onComponentWillUnmount:1,onComponentWillUpdate:1};function lm(e,t,n){var i,r,o=arguments,s=null,a=null,l=null,c=0,u=arguments.length-2;if(1===u)i=n;else if(u>1)for(i=[];u-- >0;)i[u]=o[u+2];if("string"!==typeof e){if(c=2,sm(i)||(t||(t={}),t.children=i),!om(t))for(var d in r={},t)"key"===d?a=t.key:"ref"===d?s=t.ref:1===am[d]?(s||(s={}),s[d]=t[d]):r[d]=t[d];return Ep(c,e,r,a,s)}if(c=function(e){switch(e){case"svg":return 32;case"input":return 64;case"select":return 256;case"textarea":return 128;case"$F":return 8192;default:return 1}}(e),!om(t))for(var h in r={},t)"className"===h||"class"===h?l=t[h]:"key"===h?a=t.key:"children"===h&&sm(i)?i=t.children:"ref"===h?s=t.ref:("contenteditable"===h&&(c|=4096),r[h]=t[h]);return 8192&c?kp(1===u?[i]:i,0,a):wp(c,e,l,i,0,r,a,s)}const cm=new Set(["animationIterationCount","borderImageOutset","borderImageSlice","border-imageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","fillOpacity","flex","flexGrow","flexNegative","flexOrder","flexPositive","flexShrink","floodOpacity","fontWeight","gridColumn","gridRow","lineClamp","lineHeight","opacity","order","orphans","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","tabSize","widows","zIndex","zoom"]),um=/[A-Z]/g;function dm(e){if(e instanceof Object)return Object.entries(e).reduce((e,t)=>{let[n,i]=t;var r;return e[(r=n,r.replace(um,"-$&").toLowerCase())]=(e=>"number"===typeof e||!Number.isNaN(Number(e)))(i)?((e,t)=>cm.has(e)?t:`${t}px`)(n,i):i,e},{})}const hm=e=>!(!e||"string"!==typeof e)&&(/^\s*<svg[^>]*>(.|\r?\n)*?<\/svg>\s*$/i.test(e)?"svg":/data:.*base64|\.|[^<\s]\/{1,1}/.test(e)?"image":/^[\w-_]+$/.test(e)?"dxIcon":!!/^\s?([\w-_:]\s?)+$/.test(e)&&"fontIcon"),pm=e=>{switch(hm(e)){case"image":return Si("<img>").attr("src",e).addClass("dx-icon");case"fontIcon":return Si("<i>").addClass(`dx-icon ${e}`);case"dxIcon":return Si("<i>").addClass(`dx-icon dx-icon-${e}`);case"svg":return Si("<i>").addClass("dx-icon dx-svg-icon").append(e);default:return null}},fm=e=>e&&(e.defaultProps?t=>Dp(Ep(2,e,K({},t))):e),mm=e=>Array.isArray(e)?[...e]:K({},e),_m=(e,t,n)=>{const i=n.length>0&&t&&e!==t?mm(t):mm(e),r=n[0];return n.length>1?i[r]=_m(e[r],null===t||void 0===t?void 0:t[r],n.slice(1)):r&&(x(e[r])?i[r]=mm(e[r]):i[r]=e[r]),i},gm=function(e){const t=Qf++;return{id:t,defaultValue:e,Provider:class extends Kf{getChildContext(){return Object.assign(Object.assign({},this.context),{[t]:this.props.value||e})}render(){return this.props.children}}}}(void 0);class vm extends Gf{constructor(){super(...arguments),this.__getterCache={}}get config(){return void 0!==this.__getterCache.config?this.__getterCache.config:this.__getterCache.config=(()=>({rtlEnabled:this.props.rtlEnabled}))()}componentWillUpdate(e){this.props.rtlEnabled!==e.rtlEnabled&&(this.__getterCache.config=void 0)}getChildContext(){return K({},this.context,{[gm.id]:this.config||gm.defaultValue})}render(){return this.props.children}}vm.defaultProps={};const ym={className:"",activeStateEnabled:!1,disabled:!1,focusStateEnabled:!1,hoverStateEnabled:!1,tabIndex:0,visible:!0},{abstract:bm}=ie,Cm=Xr.real(),xm=ie.inherit(function(){const e=or("scroll","dxScrollEmitter");return{ctor(t){this._element=t,this._locked=!1,this._proxiedScroll=e=>{this._disposed||this._scroll(e)},rn.on(this._element,e,this._proxiedScroll)},_scroll:bm,check(e,t){this._locked&&t()},dispose(){this._disposed=!0,rn.off(this._element,e,this._proxiedScroll)}}}()),Sm=xm.inherit({ctor(e,t){this.callBase(e),this._timeout=t},_scroll(){this._prepare(),this._forget()},_prepare(){this._timer&&this._clearTimer(),this._locked=!0},_clearTimer(){clearTimeout(this._timer),this._locked=!1,this._timer=null},_forget(){const e=this;this._timer=setTimeout(()=>{e._clearTimer()},this._timeout)},dispose(){this.callBase(),this._clearTimer()}}),wm=Sm.inherit({ctor(e){this.callBase(e,400),this._lastWheelDirection=null},check(e,t){this._checkDirectionChanged(e),this.callBase(e,t)},_checkDirectionChanged(e){if(!Zi(e))return void(this._lastWheelDirection=null);const t=e.shiftKey||!1,n=null!==this._lastWheelDirection&&t!==this._lastWheelDirection;this._lastWheelDirection=t,this._locked=this._locked&&!n}});let Em=Sm.inherit({ctor(e){this.callBase(e,400)}});!function(){const{ios:e,android:t}=Cm;(e||t)&&(Em=xm.inherit({_scroll(){this._locked=!0;const e=this;pa(this._scrollFrame),this._scrollFrame=ha(()=>{e._locked=!1})},check(e,t){pa(this._scrollFrame),pa(this._checkFrame);const n=this,{callBase:i}=this;this._checkFrame=ha(()=>{i.call(n,e,t),n._locked=!1})},dispose(){this.callBase(),pa(this._scrollFrame),pa(this._checkFrame)}}))}();const Im=uh.inherit(function(){const e=Math.round(1e3/60);return{ctor(e){this.callBase.apply(this,arguments),this.direction="both",this._pointerLocker=new Em(e),this._wheelLocker=new wm(e)},validate:()=>!0,configure(e){e.scrollTarget&&(this._pointerLocker.dispose(),this._wheelLocker.dispose(),this._pointerLocker=new Em(e.scrollTarget),this._wheelLocker=new wm(e.scrollTarget)),this.callBase(e)},_init(e){this._wheelLocker.check(e,()=>{Zi(e)&&this._accept(e)}),this._pointerLocker.check(e,()=>{const t=this.isNative&&Gi(e);Zi(e)||t||this._accept(e)}),this._fireEvent("dxscrollinit",e),this._prevEventData=Qi(e)},move(e){this.callBase.apply(this,arguments),e.isScrollingEvent=this.isNative||e.isScrollingEvent},_start(e){this._savedEventData=Qi(e),this._fireEvent("dxscrollstart",e),this._prevEventData=Qi(e)},_move(e){const t=Qi(e);this._fireEvent("dxscroll",e,{delta:Xi(this._prevEventData,t)});Xi(this._savedEventData,t).time>200&&(this._savedEventData=this._prevEventData),this._prevEventData=Qi(e)},_end(t){const n=Xi(this._prevEventData,Qi(t));let i={x:0,y:0};if(!Zi(t)&&n.time<100){const t=Xi(this._savedEventData,this._prevEventData),n=e/t.time;i={x:t.x*n,y:t.y*n}}this._fireEvent("dxscrollend",t,{velocity:i})},_stop(e){this._fireEvent("dxscrollstop",e)},cancel(e){this.callBase.apply(this,arguments),this._fireEvent("dxscrollcancel",e)},dispose(){this.callBase.apply(this,arguments),this._pointerLocker.dispose(),this._wheelLocker.dispose()},_clearSelection(){if(!this.isNative)return this.callBase.apply(this,arguments)},_toggleGestureCover(){if(!this.isNative)return this.callBase.apply(this,arguments)}}}());ec({emitter:Im,events:["dxscrollinit","dxscrollstart","dxscroll","dxscrollend","dxscrollstop","dxscrollcancel"]});const km="dxscrollinit",Dm="dxscrollstart",Om="dxscroll",Tm="dxscrollend",Am="dxscrollstop",Pm="dxscrollcancel",Mm="scroll";function Rm(e){return(t,n,i,r)=>{const o=r?or(e,r):e;if(n)return rn.on(t,o,i,n),()=>{rn.off(t,o,n)}}}Rm(dc),Rm(Mm),Rm(km),Rm(Dm),Rm(Om),Rm(Tm),Rm(Am),Rm(Pm),Rm(yo.down),Rm(yo.up),Rm(yo.move),Rm("mouseenter"),Rm("mouseleave"),Rm("keydown");const Bm=Rm("dxactive"),Nm=Rm("dxinactive"),Fm=Rm("dxhoverstart"),$m=Rm("dxhoverend"),Hm=Rm("focusin"),Lm=Rm("focusout"),Vm=K({},ym,{_feedbackHideTimeout:400,_feedbackShowTimeout:30,cssText:"",aria:{},classes:"",name:"",addWidgetClass:!0});class zm extends Yf{constructor(e){super(e),this.state={active:!1,focused:!1,hovered:!1},this.refs=null,this.rootElementRef={current:null},this.widgetElementRef={current:null},this.setRootElementRef=this.setRootElementRef.bind(this),this.activeEffect=this.activeEffect.bind(this),this.inactiveEffect=this.inactiveEffect.bind(this),this.clickEffect=this.clickEffect.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.focusInEffect=this.focusInEffect.bind(this),this.focusOutEffect=this.focusOutEffect.bind(this),this.hoverStartEffect=this.hoverStartEffect.bind(this),this.hoverEndEffect=this.hoverEndEffect.bind(this),this.keyboardEffect=this.keyboardEffect.bind(this),this.resizeEffect=this.resizeEffect.bind(this),this.windowResizeEffect=this.windowResizeEffect.bind(this),this.visibilityEffect=this.visibilityEffect.bind(this),this.checkDeprecation=this.checkDeprecation.bind(this),this.applyCssTextEffect=this.applyCssTextEffect.bind(this)}componentWillUpdate(e,t,n){super.componentWillUpdate(e,t,n)}getConfig(){return this.context[gm.id]?this.context[gm.id]:gm.defaultValue}createEffects(){return[new Xf(this.setRootElementRef,[]),new Xf(this.activeEffect,[this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),new Xf(this.inactiveEffect,[this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),new Xf(this.clickEffect,[this.props.disabled,this.props.name,this.props.onClick]),new Xf(this.focusInEffect,[this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),new Xf(this.focusOutEffect,[this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),new Xf(this.hoverStartEffect,[this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),new Xf(this.hoverEndEffect,[this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),new Xf(this.keyboardEffect,[this.props.focusStateEnabled,this.props.onKeyDown]),new Xf(this.resizeEffect,[this.props.name,this.props.onDimensionChanged]),new Xf(this.windowResizeEffect,[this.props.onDimensionChanged]),new Xf(this.visibilityEffect,[this.props.name,this.props.onVisibilityChange]),new Xf(this.checkDeprecation,[this.props.height,this.props.width]),new Xf(this.applyCssTextEffect,[this.props.cssText]),Jf()]}updateEffects(){var e,t,n,i,r,o,s,a,l,c,u,d,h;null===(e=this._effects[1])||void 0===e||e.update([this.props._feedbackShowTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.disabled,this.props.onActive]),null===(t=this._effects[2])||void 0===t||t.update([this.props._feedbackHideTimeout,this.props.activeStateEnabled,this.props.activeStateUnit,this.props.onInactive,this.state.active]),null===(n=this._effects[3])||void 0===n||n.update([this.props.disabled,this.props.name,this.props.onClick]),null===(i=this._effects[4])||void 0===i||i.update([this.props.disabled,this.props.focusStateEnabled,this.props.name,this.props.onFocusIn]),null===(r=this._effects[5])||void 0===r||r.update([this.props.focusStateEnabled,this.props.name,this.props.onFocusOut,this.state.focused]),null===(o=this._effects[6])||void 0===o||o.update([this.props.activeStateUnit,this.props.disabled,this.props.hoverStateEnabled,this.props.onHoverStart,this.state.active]),null===(s=this._effects[7])||void 0===s||s.update([this.props.activeStateUnit,this.props.hoverStateEnabled,this.props.onHoverEnd,this.state.hovered]),null===(a=this._effects[8])||void 0===a||a.update([this.props.focusStateEnabled,this.props.onKeyDown]),null===(l=this._effects[9])||void 0===l||l.update([this.props.name,this.props.onDimensionChanged]),null===(c=this._effects[10])||void 0===c||c.update([this.props.onDimensionChanged]),null===(u=this._effects[11])||void 0===u||u.update([this.props.name,this.props.onVisibilityChange]),null===(d=this._effects[12])||void 0===d||d.update([this.props.height,this.props.width]),null===(h=this._effects[13])||void 0===h||h.update([this.props.cssText])}setRootElementRef(){var e;const{rootElementRef:t,onRootElementRendered:n}=this.props;t&&this.widgetElementRef&&(t.current=this.widgetElementRef.current),null!==this&&void 0!==this&&null!==(e=this.widgetElementRef)&&void 0!==e&&e.current&&(null===n||void 0===n||n(this.widgetElementRef.current))}activeEffect(){const{activeStateEnabled:e,activeStateUnit:t,disabled:n,_feedbackShowTimeout:i,onActive:r}=this.props,o=t;var s;if(e&&!n)return Bm(null===(s=this.widgetElementRef)||void 0===s?void 0:s.current,e=>{this.setState({active:!0}),null===r||void 0===r||r(e)},{timeout:i,selector:o},"UIFeedback")}inactiveEffect(){const{activeStateEnabled:e,activeStateUnit:t,_feedbackHideTimeout:n,onInactive:i}=this.props,r=t;var o;if(e)return Nm(null===(o=this.widgetElementRef)||void 0===o?void 0:o.current,e=>{this.state.active&&(this.setState({active:!1}),null===i||void 0===i||i(e))},{timeout:n,selector:r},"UIFeedback")}clickEffect(){const{name:e,onClick:t,disabled:n}=this.props,i=e;var r;if(t&&!n)return Uc(null===(r=this.widgetElementRef)||void 0===r?void 0:r.current,t,{namespace:i}),()=>{var e;return qc(null===(e=this.widgetElementRef)||void 0===e?void 0:e.current,{namespace:i})}}focusInEffect(){const{disabled:e,focusStateEnabled:t,name:n,onFocusIn:i}=this.props,r=`${n}Focus`;var o;if(t&&!e)return Hm(null===(o=this.widgetElementRef)||void 0===o?void 0:o.current,e=>{e.isDefaultPrevented()||(this.setState({focused:!0}),null===i||void 0===i||i(e))},null,r)}focusOutEffect(){const{focusStateEnabled:e,name:t,onFocusOut:n}=this.props,i=`${t}Focus`;var r;if(e)return Lm(null===(r=this.widgetElementRef)||void 0===r?void 0:r.current,e=>{!e.isDefaultPrevented()&&this.state.focused&&(this.setState({focused:!1}),null===n||void 0===n||n(e))},null,i)}hoverStartEffect(){const{activeStateUnit:e,hoverStateEnabled:t,disabled:n,onHoverStart:i}=this.props,r=e;var o;if(t&&!n)return Fm(null===(o=this.widgetElementRef)||void 0===o?void 0:o.current,e=>{this.state.active||this.setState({hovered:!0}),null===i||void 0===i||i(e)},{selector:r},"UIFeedback")}hoverEndEffect(){const{activeStateUnit:e,hoverStateEnabled:t,onHoverEnd:n}=this.props,i=e;var r;if(t)return $m(null===(r=this.widgetElementRef)||void 0===r?void 0:r.current,e=>{this.state.hovered&&(this.setState({hovered:!1}),null===n||void 0===n||n(e))},{selector:i},"UIFeedback")}keyboardEffect(){const{onKeyDown:e,focusStateEnabled:t}=this.props;if(t&&e){var n,i;const t=Xc(null===(n=this.widgetElementRef)||void 0===n?void 0:n.current,null===(i=this.widgetElementRef)||void 0===i?void 0:i.current,t=>e(t));return()=>Jc(t)}}resizeEffect(){const e=`${this.props.name}VisibilityChange`,{onDimensionChanged:t}=this.props;var n;if(t)return Fc(null===(n=this.widgetElementRef)||void 0===n?void 0:n.current,t,{namespace:e}),()=>{var t;return $c(null===(t=this.widgetElementRef)||void 0===t?void 0:t.current,{namespace:e})}}windowResizeEffect(){const{onDimensionChanged:e}=this.props;if(e)return Hr.add(e),()=>{Hr.remove(e)}}visibilityEffect(){const{name:e,onVisibilityChange:t}=this.props,n=`${e}VisibilityChange`;var i;if(t)return Vc(null===(i=this.widgetElementRef)||void 0===i?void 0:i.current,()=>t(!0),()=>t(!1),{namespace:n}),()=>{var e;return zc(null===(e=this.widgetElementRef)||void 0===e?void 0:e.current,{namespace:n})}}checkDeprecation(){const{width:e,height:t}=this.props;g(e)&&W.log("W0017","width"),g(t)&&W.log("W0017","height")}applyCssTextEffect(){var e;const{cssText:t}=this.props;void 0!==t&&""!==t&&null!==(e=this.widgetElementRef)&&void 0!==e&&e.current&&(this.widgetElementRef.current.style.cssText=t)}getShouldRenderConfigProvider(){const{rtlEnabled:e}=this.props;return function(e,t){const n=_(e),i=_(Y().rtlEnabled)&&!n&&!_(null===t||void 0===t?void 0:t.rtlEnabled);return n&&e!==(null===t||void 0===t?void 0:t.rtlEnabled)||i}(e,this.config)}getRtlEnabled(){const{rtlEnabled:e}=this.props;return function(e,t){return void 0!==e?e:void 0!==(null===t||void 0===t?void 0:t.rtlEnabled)?t.rtlEnabled:Y().rtlEnabled}(e,this.config)}getAttributes(){const{aria:e,disabled:t,focusStateEnabled:n,visible:i}=this.props,r=n&&!t&&this.props.accessKey;var o;return K({},A({},r&&{accessKey:r}),(o=K({},e,{disabled:t,hidden:!i}),Object.keys(o).reduce((e,t)=>o[t]?K({},e,{["role"===t||"id"===t?t:`aria-${t}`]:String(o[t])}):e,{})),A({},this.getRestAttributes(this.props)))}getRestAttributes(e){const t=K({},e);return["_feedbackHideTimeout","_feedbackShowTimeout","accessKey","activeStateEnabled","activeStateUnit","addWidgetClass","aria","children","className","classes","cssText","disabled","focusStateEnabled","height","hint","hoverStateEnabled","name","onActive","onClick","onDimensionChanged","onFocusIn","onFocusOut","onHoverEnd","onHoverStart","onInactive","onKeyDown","onRootElementRendered","onVisibilityChange","rootElementRef","rtlEnabled","tabIndex","visible","width"].forEach(e=>{delete t[e]}),t}getStyles(){const{width:e,height:t}=this.props,n=this.props.style||{},i=ui("width",g(e)?e():e);return K({},n,{height:ui("height",g(t)?t():t)??n.height,width:i??n.width})}getCssClasses(){const{classes:e,addWidgetClass:t,className:n,disabled:i,activeStateEnabled:r,focusStateEnabled:o,hoverStateEnabled:s,onVisibilityChange:a,visible:l}=this.props,c=!!o&&!i,u=!!s&&!i,d=!!r&&!i;return(e=>Object.keys(e).filter(t=>!!t&&e[t]).join(" "))({"dx-widget":!!t,[String(e)]:!!e,[String(n)]:!!n,"dx-state-disabled":!!i,"dx-state-invisible":!l,"dx-state-focused":!!this.state.focused&&c,"dx-state-active":!!this.state.active&&d,"dx-state-hover":!!this.state.hovered&&u&&!this.state.active,"dx-rtl":!!this.props.rtlEnabled,"dx-visibility-change-handler":!!a})}getTabIndex(){const{focusStateEnabled:e,disabled:t,tabIndex:n}=this.props;return e&&!t?n:void 0}focus(){var e;Kc(null===(e=this.widgetElementRef)||void 0===e?void 0:e.current)}blur(){var e,t;const n=mt.getActiveElement(null===(e=this.widgetElementRef)||void 0===e?void 0:e.current);(null===(t=this.widgetElementRef)||void 0===t?void 0:t.current)===n&&n.blur()}activate(){this.setState({active:!0})}deactivate(){this.setState({active:!1})}render(){const{hint:e,children:t}=this.props,n=Dp(wp(1,"div",this.getCssClasses(),t,0,K({},this.getAttributes(),{tabIndex:this.getTabIndex(),title:e,style:this.getStyles()}),null,this.widgetElementRef));return this.getShouldRenderConfigProvider()?Ep(2,vm,{rtlEnabled:this.getRtlEnabled(),children:n}):n}}function jm(e){return Object.keys(e).filter(t=>e[t]).join(" ")}zm.defaultProps=Vm;class Wm extends Gf{constructor(e){super(e),this.state={}}get sourceType(){return hm(this.props.source)}get cssClass(){return"left"!==this.props.position?"dx-icon-right":""}get iconClassName(){const e={"dx-icon":!0,[this.cssClass]:!!this.cssClass},{source:t}=this.props;return"dxIcon"===this.sourceType?jm(K({},e,{[`dx-icon-${t}`]:!0})):"fontIcon"===this.sourceType?jm(K({},e,{[String(t)]:!!t})):"image"===this.sourceType?jm(e):"svg"===this.sourceType?jm(K({},e,{"dx-svg-icon":!0})):""}get restAttributes(){const e=K({},this.props);return["iconTemplate","position","source"].forEach(t=>{delete e[t]}),e}render(){const{iconClassName:e,props:{source:t},sourceType:n}=this,i=fm(this.props.iconTemplate);return kp(["dxIcon"===n&&wp(1,"i",e),"fontIcon"===n&&wp(1,"i",e),"image"===n&&wp(1,"img",e,null,1,{alt:"",src:t}),i&&wp(1,"i",e,i({}),0)],0)}}Wm.defaultProps={position:"left",source:""};const Km=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{useHoldAnimation:t,waveSizeCoefficient:n,isCentered:i,wavesNumber:r}=e;return{waveSizeCoefficient:n||2,isCentered:i||!1,wavesNumber:r||1,durations:Qm(t??!0)}},Um=function(e){const t=Km(e);return{showWave:Zm.bind(this,t),hideWave:Jm.bind(this,t)}},qm=function(e,t){const n=function(e){let t=e.children(".dx-inkripple");return 0===t.length&&(t=Si("<div>").addClass("dx-inkripple").appendTo(e)),t}(Si(e)),i=n.children(".dx-inkripple-wave").toArray();for(let r=i.length;r<t;r++){const e=Si("<div>").appendTo(n).addClass("dx-inkripple-wave");i.push(e[0])}return Si(i)},Gm=function(e,t){const n=Si(t.element),i=zn(n),r=jn(n),o=parseInt(Math.sqrt(i*i+r*r)),s=Math.min(4e3,parseInt(o*e.waveSizeCoefficient));let a,l;if(e.isCentered)a=(i-s)/2,l=(r-s)/2;else{const e=t.event,i=n.offset();a=e.pageX-i.left-s/2,l=e.pageY-i.top-s/2}return{left:a,top:l,height:s,width:s}};function Zm(e,t){const n=qm(t.element,e.wavesNumber).eq(t.wave||0);e.hidingTimeout&&clearTimeout(e.hidingTimeout),Xm(n),n.css(Gm(e,t)),e.showingTimeout=setTimeout(Ym.bind(this,e,n),0)}function Ym(e,t){const n=e.durations.showingScale+"ms";t.addClass("dx-inkripple-showing").css("transitionDuration",n)}function Qm(e){return{showingScale:e?1e3:300,hidingScale:300,hidingOpacity:300}}function Xm(e){e.removeClass("dx-inkripple-hiding").css("transitionDuration","")}function Jm(e,t){e.showingTimeout&&clearTimeout(e.showingTimeout);const n=qm(t.element,t.wavesNumber).eq(t.wave||0),i=e.durations,r=i.hidingScale+"ms, "+i.hidingOpacity+"ms";n.addClass("dx-inkripple-hiding").removeClass("dx-inkripple-showing").css("transitionDuration",r);const o=Math.max(i.hidingScale,i.hidingOpacity);e.hidingTimeout=setTimeout(Xm.bind(this,n),o)}class e_ extends Gf{constructor(e){super(e),this.__getterCache={},this.state={},this.hideWave=this.hideWave.bind(this),this.showWave=this.showWave.bind(this)}get getConfig(){return void 0!==this.__getterCache.getConfig?this.__getterCache.getConfig:this.__getterCache.getConfig=(()=>{const{config:e}=this.props;return Km(e)})()}get restAttributes(){const e=K({},this.props);return delete e.config,e}hideWave(e){Jm(this.getConfig,e)}showWave(e){Zm(this.getConfig,e)}componentWillUpdate(e){this.props.config!==e.config&&(this.__getterCache.getConfig=void 0)}render(){return Dp(wp(1,"div","dx-inkripple",null,1,K({},this.restAttributes)))}}e_.defaultProps={config:{}};const t_=K({},ym,{activeStateEnabled:!0,hoverStateEnabled:!0,icon:"",iconPosition:"left",stylingMode:"contained",text:"",type:"normal",useInkRipple:!1,useSubmitBehavior:!1,templateData:{}}),n_=["outlined","text","contained"],i_=function(){return arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]}([{device:()=>"desktop"===Is.real().deviceType&&!Is.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>na(Zs()),options:{useInkRipple:!0}}]);class r_ extends Yf{constructor(e){super(e),this.contentRef={current:null},this.inkRippleRef={current:null},this.submitInputRef={current:null},this.widgetRef={current:null},this.__getterCache={},this.state={},this.focus=this.focus.bind(this),this.activate=this.activate.bind(this),this.deactivate=this.deactivate.bind(this),this.submitEffect=this.submitEffect.bind(this),this.onActive=this.onActive.bind(this),this.onInactive=this.onInactive.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this)}createEffects(){return[new Xf(this.submitEffect,[this.props.onSubmit,this.props.useSubmitBehavior]),Jf()]}updateEffects(){var e;null===(e=this._effects[0])||void 0===e||e.update([this.props.onSubmit,this.props.useSubmitBehavior])}submitEffect(){const{onSubmit:e,useSubmitBehavior:t}=this.props;if(t&&e)return Gc(this.submitInputRef.current,t=>e({event:t,submitInput:this.submitInputRef.current}),{namespace:"UIFeedback"}),()=>Zc(this.submitInputRef.current,{namespace:"UIFeedback"})}onActive(e){const{useInkRipple:t}=this.props;t&&this.inkRippleRef.current.showWave({element:this.contentRef.current,event:e})}onInactive(e){const{useInkRipple:t}=this.props;t&&this.inkRippleRef.current.hideWave({element:this.contentRef.current,event:e})}onWidgetClick(e){const{onClick:t,useSubmitBehavior:n}=this.props;null===t||void 0===t||t({event:e}),n&&this.submitInputRef.current.click()}keyDown(e){const{onKeyDown:t}=this.props,{keyName:n,originalEvent:i,which:r}=e,o=null===t||void 0===t?void 0:t(e);if(null!==o&&void 0!==o&&o.cancel)return o;"space"!==n&&"space"!==r&&"enter"!==n&&"enter"!==r||(i.preventDefault(),this.onWidgetClick(i))}get aria(){const{icon:e,text:t}=this.props;let n=t??"";if(!t&&e){switch(hm(e)){case"image":{const t=/^(?!(?:https?:\/\/)|(?:ftp:\/\/)|(?:www\.))[^\s]+$/;n=!e.includes("base64")&&t.test(e)?e.replace(/.+\/([^.]+)\..+$/,"$1"):"";break}case"dxIcon":n=mr.format(Jn(e,!0))||e;break;case"fontIcon":n=e;break;case"svg":var i;n=(null===(i=/<title>(.*?)<\/title>/.exec(e))||void 0===i?void 0:i[1])??"";break}}return K({role:"button"},n?{label:n}:{})}get cssClasses(){return(e=>{const{icon:t,iconPosition:n,stylingMode:i,text:r,type:o}=e,s=i&&n_.includes(i);return jm({"dx-button":!0,[`dx-button-mode-${s?i:"contained"}`]:!0,[`dx-button-${o??"normal"}`]:!0,"dx-button-has-text":!!r,"dx-button-has-icon":!!t,"dx-button-icon-right":"left"!==n})})(this.props)}get iconSource(){const{icon:e}=this.props;return e??""}get inkRippleConfig(){return void 0!==this.__getterCache.inkRippleConfig?this.__getterCache.inkRippleConfig:this.__getterCache.inkRippleConfig=(()=>{const{icon:e,text:t}=this.props;return!t&&e?{isCentered:!0,useHoldAnimation:!1,waveSizeCoefficient:1}:{}})()}get buttonTemplateData(){const{icon:e,text:t,templateData:n}=this.props;return K({icon:e,text:t},n)}get restAttributes(){const e=K({},this.props);return["accessKey","activeStateEnabled","children","className","disabled","focusStateEnabled","height","hint","hoverStateEnabled","icon","iconPosition","iconTemplate","onClick","onKeyDown","onSubmit","pressed","rtlEnabled","stylingMode","tabIndex","template","templateData","text","type","useInkRipple","useSubmitBehavior","visible","width"].forEach(t=>{delete e[t]}),e}focus(){this.widgetRef.current.focus()}activate(){this.widgetRef.current.activate()}deactivate(){this.widgetRef.current.deactivate()}componentWillUpdate(e){super.componentWillUpdate(),this.props.icon===e.icon&&this.props.text===e.text||(this.__getterCache.inkRippleConfig=void 0)}render(){const{children:e,iconPosition:t,text:n}=this.props,i=fm(this.props.template),r=fm(this.props.iconTemplate),o=!this.props.template&&!e&&""!==n,s="left"===t,a=!i&&!e&&(this.iconSource||r)&&Ep(2,Wm,{source:this.iconSource,position:t,iconTemplate:r});return Dp(Ep(2,zm,K({accessKey:this.props.accessKey,activeStateEnabled:this.props.activeStateEnabled,aria:this.aria,className:this.props.className,classes:this.cssClasses,disabled:this.props.disabled,focusStateEnabled:this.props.focusStateEnabled,height:this.props.height,hint:this.props.hint,hoverStateEnabled:this.props.hoverStateEnabled,onActive:this.onActive,onClick:this.onWidgetClick,onInactive:this.onInactive,onKeyDown:this.keyDown,rtlEnabled:this.props.rtlEnabled,tabIndex:this.props.tabIndex,visible:this.props.visible,width:this.props.width},this.restAttributes,{children:wp(1,"div","dx-button-content",[i&&i({data:this.buttonTemplateData}),!i&&e,s&&a,o&&wp(1,"span","dx-button-text",n,0),!s&&a,this.props.useSubmitBehavior&&wp(64,"input","dx-button-submit-input",null,1,{type:"submit",tabIndex:-1},null,this.submitInputRef),this.props.useInkRipple&&Ep(2,e_,{config:this.inkRippleConfig},null,this.inkRippleRef)],0,null,null,this.contentRef)}),null,this.widgetRef))}}r_.defaultProps=K({},t_,Ml(i_));const o_=[];const s_=_d,a_=e=>{const{parentNode:t}=e;if(t){const{nextSibling:n}=e;hn(e),t.$V=e.$V,Ff(null,t),t.insertBefore(e,n),e.innerHTML="",delete t.$V}delete e.$V},l_=ue({createElement:(e,t)=>lm(e,t),remove:a_,onAfterRender:()=>{Uf.callEffects()},onPreRender:()=>{Uf.lock()},render:(e,t,n,i)=>{if(i)Ff(lm(e,t),n);else{const{parentNode:i}=n,r=null===n||void 0===n?void 0:n.nextSibling,o=mt.createElement("div");o.appendChild(n);const s=mt.createDocumentFragment().appendChild(o);!!n.$V&&a_(n),function(e,t,n){let i=t.firstChild;if(em(i))Ff(e,t,n);else{const n=[];for(null!==(r=e)&&!1!==r&&!0!==r&&void 0!==r&&(i=rm(e,t,i,{},!1,n));i&&(i=i.nextSibling);)t.removeChild(i);if(n.length>0){let e;for(;void 0!==(e=n.shift());)e()}}var r;t.$V=e,function(e){return"function"===typeof e}(n)&&n()}(lm(e,t),s),n.$V=s.$V,i&&i.insertBefore(n,r)}}}),c_=l_,u_=(e,t)=>Object.keys(e).length===Object.keys(t).length&&Object.entries(e).every(e=>{let[n,i]=e;const r=t[n];return i instanceof Date&&r instanceof Date?i.getTime()===r.getTime():i===r}),d_=["isEqual"];class h_ extends Zf{constructor(e){super(e),this.renderTemplate=this.renderTemplate.bind(this)}renderTemplate(){const e=hp(this.$LI,!0);if(null===e||void 0===e||!e.parentNode)return()=>{};const t=e.parentNode,n=Si(t),i=n.contents().toArray(),r=((e,t)=>{const{data:n,index:i}=e.model??{data:{}};n&&Object.keys(n).forEach(e=>{n[e]&&mt.isNode(n[e])&&(n[e]=ma(Si(n[e])))});const r=e.template.render(K({container:t,transclude:e.transclude},{renovated:e.renovated},e.transclude?{}:{model:n},!e.transclude&&Number.isFinite(i)?{index:i}:{}));return void 0===r?[]:r.toArray?r.toArray():[Si(r).get(0)]})(this.props,ma(n));return cc(Si(e),Si(r)),()=>{const n=Si(t).contents().toArray();var r;r=i,n.forEach(e=>{!r.find(t=>e===t)&&e.parentNode&&Si(e).remove()}),t.appendChild(e)}}shouldComponentUpdate(e){const{template:t,model:n}=this.props,{template:i,model:r,isEqual:o}=e,s=o??u_;if(t!==i)return!0;if(!_(n)||!_(r))return n!==r;const{data:a,index:l}=n,{data:c,index:u}=r;return l!==u||(_(a)&&_(c)?!s(a,c):n!==r)}createEffects(){return[new Xf(this.renderTemplate,[this.props.template,this.props.model])]}updateEffects(){this._effects[0].update([this.props.template,this.props.model])}componentWillUnmount(){}render(){return null}}const p_=(e,t)=>n=>{Object.prototype.hasOwnProperty.call(e,n)&&void 0===e[n]&&(e[n]=t(n))};class f_ extends s_{get _propsInfo(){return{allowNull:[],twoWay:[],elements:[],templates:[],props:[]}}constructor(e,t){super(e,t),this._shouldRaiseContentReady=!1,this.validateKeyDownHandler()}validateKeyDownHandler(){const e=this.getSupportedKeyNames().length>0,t="function"===typeof this._viewComponent.prototype.keyDown;if(e&&!t)throw Error("Component's declaration must have 'keyDown' method.")}get viewRef(){var e;return null===(e=this._viewRef)||void 0===e?void 0:e.current}_checkContentReadyOption(e){const t=this._getContentReadyOptions().reduce((e,t)=>(e[t]=!0,e),{});return this._checkContentReadyOption=e=>!!t[e],this._checkContentReadyOption(e)}_getContentReadyOptions(){return["rtlEnabled"]}_fireContentReady(){this._actionsMap.onContentReady({})}_getDefaultOptions(){const e=this._getViewComponentDefaultProps();return A(!0,super._getDefaultOptions(),e,this._propsInfo.twoWay.reduce((t,n)=>{let[i,r,o]=n;return K({},t,{[i]:e[r],[o]:e=>this.option(i,e)})},{}),this._propsInfo.templates.reduce((e,t)=>K({},e,{[t]:null}),{}))}_getUnwrappedOption(){const e={};return Object.keys(this.option()).forEach(t=>{e[t]=this.option(t)}),e}_initializeComponent(){var e;super._initializeComponent(),null===(e=this._templateManager)||void 0===e||e.addDefaultTemplates(this.getDefaultTemplates());const t=this._getUnwrappedOption();this._props=this._optionsWithDefaultTemplates(t),this._propsInfo.templates.forEach(e=>{this._componentTemplates[e]=this._createTemplateComponent(this._props[e])}),Object.keys(this._getActionConfigsFull()).forEach(e=>this._addAction(e)),this._viewRef={current:null},this.defaultKeyHandlers=this._createDefaultKeyHandlers()}_initMarkup(){const e=this.getProps();this._renderWrapper(e)}_renderWrapper(e){const t=this.$element()[0];this._isNodeReplaced||c_.onPreRender(),c_.render(this._viewComponent,e,t,this._isNodeReplaced),this._isNodeReplaced||(this._isNodeReplaced=!0,c_.onAfterRender(),this._shouldRaiseContentReady=!0),this._shouldRaiseContentReady&&(this._fireContentReady(),this._shouldRaiseContentReady=!1)}_silent(e,t){this._options.silent(e,t)}_render(){}_removeWidget(){c_.remove(this.$element()[0])}_dispose(){this._removeWidget(),super._dispose()}get elementAttr(){const e=this.$element()[0];if(!this._elementAttr){const{attributes:t}=e,n=Array.from(t).filter(e=>{var n;return!this._propsInfo.templates.includes(e.name)&&(null===(n=t[e.name])||void 0===n?void 0:n.specified)}).reduce((t,n)=>{let{name:i,value:r}=n;const o=t,s=i in e;return o[i]=""===r&&s?e[i]:r,o},{});this._elementAttr=n,this._storedClasses=e.getAttribute("class")||""}const t=e.style,n={};for(let i=0;i<t.length;i+=1)n[t[i]]=t.getPropertyValue(t[i]);return this._elementAttr.style=n,this._elementAttr.class=this._storedClasses,this._elementAttr}_getAdditionalActionConfigs(){return{onContentReady:{excludeValidators:["disabled","readOnly"]}}}_getAdditionalProps(){return[]}_patchOptionValues(e){const{allowNull:t,twoWay:n,elements:i,props:r}=this._propsInfo,o=this._getViewComponentDefaultProps(),s=Object.keys(o),a=this._getDefaultOptions(),{ref:l,children:c,onKeyboardHandled:u}=e,d={ref:l,children:c,onKeyDown:u?(e,t)=>{u(t)}:void 0};return[...r,...this._getAdditionalProps()].forEach(t=>{Object.prototype.hasOwnProperty.call(e,t)&&(d[t]=e[t])}),t.forEach(p_(d,()=>null)),s.forEach(p_(d,e=>a[e])),n.forEach(e=>{let[t,n]=e;p_(d,()=>a[n])(t)}),i.forEach(e=>{if(e in d){const t=d[e];E(t)&&(d[e]=this._patchElementParam(t))}}),d}getSupportedKeyNames(){return[]}prepareStyleProp(e){return"string"===typeof e.style?K({},e,{style:{},cssText:e.style}):e}getProps(){const{elementAttr:e}=this.option(),t=this._patchOptionValues(K({},this._props,{ref:this._viewRef,children:this._extractDefaultSlot(),aria:this._aria}));return this._propsInfo.templates.forEach(e=>{t[e]=this._componentTemplates[e]}),this.prepareStyleProp(K({},t,this.elementAttr,e,{className:[...(this.elementAttr.class??"").split(" "),...((null===e||void 0===e?void 0:e.class)??"").split(" ")].filter((e,t,n)=>e&&n.indexOf(e)===t).join(" ").trim(),class:""},this._actionsMap))}_getActionConfigs(){return{}}_getActionConfigsFull(){return K({},this._getActionConfigs(),this._getAdditionalActionConfigs())}getDefaultTemplates(){const e=Object.values(this._templatesInfo),t={};return e.forEach(e=>{t[e]="dx-renovation-template-mock"}),t}get _templatesInfo(){return{}}_optionsWithDefaultTemplates(e){const t=Object.entries(this._templatesInfo).reduce((t,n)=>{let[i,r]=n;return K({},t,{[i]:e[i]??r})},{});return K({},e,t)}_init(){super._init(),this.customKeyHandlers={},this._actionsMap={},this._aria={},this._componentTemplates={}}_createDefaultKeyHandlers(){const e={};return this.getSupportedKeyNames().forEach(t=>{e[t]=e=>this.viewRef.keyDown(Pc.createKeyDownOptions(e))}),e}_addAction(e,t){let n=t;if(!n){const t=this._createActionByOption(e,this._getActionConfigsFull()[e]);n=e=>(Object.keys(e).forEach(t=>{_(e[t])&&mt.isNode(e[t])&&(e[t]=ma(Si(e[t])))}),t(e))}this._actionsMap[e]=n}_optionChanged(e){const{name:t,fullName:n,value:i,previousValue:r}=e;((e,t,n,i)=>{const r=t[n],o=e[n],s=e;x(r)||n!==i&&Array.isArray(r)?s[n]=_m(r,o,be(i).slice(1)):s[n]=r})(this._props,this.option(),t,n),this._propsInfo.templates.includes(t)&&i!==r&&(this._componentTemplates[t]=this._createTemplateComponent(i)),t&&this._getActionConfigsFull()[t]&&this._addAction(t),this._shouldRaiseContentReady=this._shouldRaiseContentReady||this._checkContentReadyOption(n),super._optionChanged(e),this._invalidate()}_validateOptions(e){return super._validateOptions(e)}_extractDefaultSlot(){return this.option("_hasAnonymousTemplateContent")?c_.createElement(h_,{template:this._getTemplate(this._templateManager.anonymousTemplateName),transclude:!0,renovated:!0}):null}_createTemplateComponent(e){if(!e)return;const t=this._getTemplate(e);return v(t)&&"dx-renovation-template-mock"===t?void 0:e=>c_.createElement(h_,((e,t)=>{const n={template:t,model:K({},e)},i=e.data??{},{isEqual:r}=i,o=tu(i,d_);return r&&(n.model.data=o,n.isEqual=r),n})(e,t))}_wrapKeyDownHandler(e){return t=>{const{originalEvent:n,keyName:i,which:r}=t,o=this.customKeyHandlers,s=o[i]||o[r];if(void 0!==s){if(!s.bind(this)(n,t))return n.cancel=!0,n}return null===e||void 0===e?void 0:e(n,t)}}_toPublicElement(e){return ma(Si(e))}_patchElementParam(e){try{const t=Si(e),n=null===t||void 0===t?void 0:t.get(0);return null!==n&&void 0!==n&&n.nodeType?n:e}catch(z){return e}}focus(){const e=this.$element();if(!(e.is(":focus")||e.find(":focus").length>0))if(this.option("focusStateEnabled"))e.focus();else{var t;null===(t=e.find("[tabindex]")[0])||void 0===t||t.focus()}}repaint(){this._isNodeReplaced=!1,this._shouldRaiseContentReady=!0,this._removeWidget(),this._refresh()}_supportedKeys(){return K({},this.defaultKeyHandlers,this.customKeyHandlers)}registerKeyHandler(e,t){this.customKeyHandlers[e]=t}setAria(e,t){this._aria[e]=t,this._initMarkup()}_getViewComponentDefaultProps(){return this._viewComponent.defaultProps||{}}}f_.IS_RENOVATED_WIDGET=!1,f_.IS_RENOVATED_WIDGET=!0;class m_ extends f_{get _validationGroupConfig(){return rh.getGroupConfig(this._findGroup())}getDefaultTemplateNames(){return["content"]}getSupportedKeyNames(){return["space","enter"]}getProps(){const e=super.getProps();e.onClick=e=>{let{event:t}=e;this._clickAction({event:t,validationGroup:this._validationGroupConfig})};return"svg"===hm(e.icon)&&(e.iconTemplate=this._createTemplateComponent(()=>e.icon)),e}get _templatesInfo(){return{template:"content"}}_toggleActiveState(e,t){const n=this.viewRef;t?n.activate():n.deactivate()}_getSubmitAction(){let e=!0,t="valid";return this._createAction(n=>{let{event:i,submitInput:r}=n;if(e){const n=this._validationGroupConfig;if(void 0!==n&&""!==n){const i=n.validate();t=i.status,"pending"===i.status&&(e=!1,this.option("disabled",!0),i.complete.then(n=>{let{status:i}=n;this.option("disabled",!1),t=i,"valid"===t&&r.click(),e=!0}))}}"valid"!==t&&i.preventDefault(),i.stopPropagation()})}_initializeComponent(){super._initializeComponent(),this._addAction("onSubmit",this._getSubmitAction()),this._clickAction=this._createClickAction()}_initMarkup(){super._initMarkup();const e=this.$element().find(".dx-button-content").first(),t=e.children().filter(".dx-template-wrapper"),n=e.children().filter(".dx-button-submit-input");t.length&&(t.addClass("dx-button-content"),t.append(n),e.replaceWith(t))}_patchOptionValues(e){return super._patchOptionValues(K({},e,{templateData:e._templateData}))}_findGroup(){const e=this.$element(),t=this.option("validationGroup");return void 0!==t&&""!==t?t:rh.findGroup(e,this._modelByElement(e))}_createClickAction(){return this._createActionByOption("onClick",{excludeValidators:["readOnly"]})}_optionChanged(e){"onClick"===e.name&&(this._clickAction=this._createClickAction()),super._optionChanged(e)}}class __ extends m_{getProps(){const e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}focus(){let e;return null===(e=this.viewRef)||void 0===e?void 0:e.focus(...arguments)}activate(){let e;return null===(e=this.viewRef)||void 0===e?void 0:e.activate(...arguments)}deactivate(){let e;return null===(e=this.viewRef)||void 0===e?void 0:e.deactivate(...arguments)}_getActionConfigs(){return{onClick:{excludeValidators:["readOnly"]},onSubmit:{}}}get _propsInfo(){return{twoWay:[],allowNull:[],elements:["onSubmit"],templates:["template","iconTemplate"],props:["activeStateEnabled","hoverStateEnabled","icon","iconPosition","onClick","onSubmit","pressed","stylingMode","template","iconTemplate","text","type","useInkRipple","useSubmitBehavior","templateData","className","accessKey","disabled","focusStateEnabled","height","hint","onKeyDown","rtlEnabled","tabIndex","visible","width"]}}get _viewComponent(){return r_}}Mi("dxButton",__),__.defaultOptions=function(e){o_.push(e),r_.defaultProps=Object.create(Object.prototype,Object.assign(Object.getOwnPropertyDescriptors(r_.defaultProps),Object.getOwnPropertyDescriptors(Ml(i_)),Object.getOwnPropertyDescriptors(Ml(o_))))};const g_=__;class v_ extends Uh{_attachEvents(e,t){const{editor:n}=this;rn.on(t,xc,()=>{n.$element().addClass("dx-custom-button-hovered")}),rn.on(t,wc,()=>{n.$element().removeClass("dx-custom-button-hovered")}),rn.on(t,dc,e=>{e.stopPropagation()})}_create(){const{editor:e}=this,t=Si("<div>");this._addToContainer(t);return{$element:t,instance:e._createComponent(t,g_,K({},this.options,{ignoreParentReadOnly:!0,disabled:this._isDisabled(),integrationOptions:this._prepareIntegrationOptions(e)}))}}_prepareIntegrationOptions(e){return K({},e.option("integrationOptions"),{skipTemplates:["content"]})}update(){const e=super.update();return this.instance&&this.instance.option("disabled",this._isDisabled()),e}_isVisible(){const{visible:e}=this.editor.option();return!!e}_isDisabled(){if(void 0!==this.options.disabled)return this.instance?this.instance.option("disabled"):this.options.disabled;const{readOnly:e}=this.editor.option();return e}}function y_(e,t){if(e.includes(t))throw Ps.Error("E1055",t);e.push(t)}class b_{constructor(e,t){this.buttons=[],this.defaultButtonsInfo=t,this.editor=e}_compileButtonInfo(e){const t=[];return e.map(e=>{const n="string"===typeof e;var i;n||(i=e,(()=>{if(!i||"object"!==typeof i||Array.isArray(i))throw Ps.Error("E1053")})(),(()=>{if(!("name"in i))throw Ps.Error("E1054")})(),(()=>{const{name:e}=i;if("string"!==typeof e)throw Ps.Error("E1055")})(),(()=>{const{location:e}=i;"location"in i&&"after"!==e&&"before"!==e&&(i.location="after")})());const r=n||function(e,t){return!!t.find(t=>t.name===e)}(e.name,this.defaultButtonsInfo);if(r){const n=this.defaultButtonsInfo.find(t=>{let{name:n}=t;return n===e||n===e.name});if(!n)throw Ps.Error("E1056",this.editor.NAME,e);return y_(t,e),n}const{name:o}=e;return y_(t,o),K({},e,{Ctor:v_})})}_createButton(e){const{Ctor:t,options:n,name:i}=e,r=new t(i,this.editor,n);return this.buttons.push(r),r}_renderButtons(e,t,n){let i=null;return(e?this._compileButtonInfo(e):this.defaultButtonsInfo).forEach(e=>{const{location:r="after"}=e;r===n&&this._createButton(e).render((i=i??Si("<div>").addClass("dx-texteditor-buttons-container"),"before"===n?t.prepend(i):t.append(i),i))}),i}clean(){this.buttons.forEach(e=>e.dispose()),this.buttons=[]}getButton(e){const t=this.buttons.find(t=>{let{name:n}=t;return n===e});return null===t||void 0===t?void 0:t.instance}renderAfterButtons(e,t){return this._renderButtons(e,t,"after")}renderBeforeButtons(e,t){return this._renderButtons(e,t,"before")}updateButtons(e){this.buttons.forEach(t=>{e&&!e.includes(t.name)||t.update()})}}const C_=["KeyDown","KeyPress","KeyUp","Change","Cut","Copy","Paste","Input"],x_=["tab","enter","shift","control","alt","escape","pageUp","pageDown","end","home","leftArrow","upArrow","rightArrow","downArrow"];let S_=class{constructor(e){this.NAME="dxLabel",this._props=e,this._id=`dx-texteditor-label-${new ce}`,this._render(),this._toggleMarkupVisibility()}_isVisible(){return!!this._props.text&&"hidden"!==this._props.mode}_render(){this._$before=Si("<div>").addClass("dx-label-before"),this._$labelSpan=Si("<span>"),this._$label=Si("<div>").addClass("dx-label").append(this._$labelSpan),this._$after=Si("<div>").addClass("dx-label-after"),this._$root=Si("<div>").addClass("dx-texteditor-label").attr("id",this._id).append(this._$before).append(this._$label).append(this._$after),this._updateMark(),this._updateText(),this._updateBeforeWidth(),this._updateMaxWidth()}_toggleMarkupVisibility(){const e=this._isVisible();this._updateEditorBeforeButtonsClass(e),this._updateEditorLabelClass(e),e?this._$root.appendTo(this._props.$editor):this._$root.detach(),this._attachEvents()}_attachEvents(){const e=or(dc,this.NAME),t=or(xc,this.NAME),n=or(gc,this.NAME);rn.off(this._$labelSpan,e),rn.off(this._$labelSpan,t),rn.off(this._$labelSpan,n),this._isVisible()&&this._isOutsideMode()&&(rn.on(this._$labelSpan,e,e=>{""===St().getSelection().toString()&&(this._props.onClickHandler(),e.preventDefault())}),rn.on(this._$labelSpan,t,e=>{this._props.onHoverHandler(e)}),rn.on(this._$labelSpan,n,e=>{this._props.onActiveHandler(e)}))}_updateEditorLabelClass(e){if(this._props.$editor.removeClass("dx-texteditor-with-floating-label").removeClass("dx-texteditor-label-outside").removeClass("dx-texteditor-with-label"),e){const e="floating"===this._props.mode?"dx-texteditor-with-floating-label":"dx-texteditor-with-label";this._props.$editor.addClass(e),this._isOutsideMode()&&this._props.$editor.addClass("dx-texteditor-label-outside")}}_isOutsideMode(){return"outside"===this._props.mode}_updateEditorBeforeButtonsClass(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible();if(this._props.$editor.removeClass("dx-texteditor-with-before-buttons"),e){const e=this._props.containsButtonsBefore?"dx-texteditor-with-before-buttons":"";this._props.$editor.addClass(e)}}_updateMark(){this._$labelSpan.attr("data-mark",this._props.mark)}_updateText(){this._$labelSpan.text(this._props.text)}_updateBeforeWidth(){if(this._isVisible()){const e=this._props.beforeWidth??this._props.getBeforeWidth();this._$before.css({width:e}),this._updateLabelTransform()}}_updateLabelTransform(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this._$labelSpan.css("transform",""),this._isVisible()&&this._isOutsideMode()){const t=(this._props.rtlEnabled?1:-1)*($n(this._$before)+e);this._$labelSpan.css("transform",`translateX(${t}px)`)}}_updateMaxWidth(){if(this._isVisible()&&!this._isOutsideMode()){const e=this._props.containerWidth??this._props.getContainerWidth();this._$label.css({maxWidth:e})}}$element(){return this._$root}isVisible(){return this._isVisible()}getId(){if(this._isVisible())return this._id}updateMode(e){this._props.mode=e,this._toggleMarkupVisibility(),this._updateBeforeWidth(),this._updateMaxWidth()}updateText(e){this._props.text=e,this._updateText(),this._toggleMarkupVisibility(),this._updateBeforeWidth(),this._updateMaxWidth()}updateMark(e){this._props.mark=e,this._updateMark()}updateContainsButtonsBefore(e){this._props.containsButtonsBefore=e,this._updateEditorBeforeButtonsClass()}updateBeforeWidth(e){this._props.beforeWidth=e,this._updateBeforeWidth()}updateMaxWidth(e){this._props.containerWidth=e,this._updateMaxWidth()}};function w_(e){if(_(e)&&!Array.isArray(e))throw Ps.Error("E1053")}const E_=class extends Kh{ctor(e,t){t&&w_(t.buttons),this._buttonCollection=new b_(this,this._getDefaultButtons()),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._labelContainerElement=null,super.ctor(e,t)}_getDefaultOptions(){return K({},super._getDefaultOptions(),{buttons:void 0,value:"",spellcheck:!1,showClearButton:!1,valueChangeEvent:"change",placeholder:"",inputAttr:{},onFocusIn:null,onFocusOut:null,onKeyDown:null,onKeyUp:null,onChange:null,onInput:null,onCut:null,onCopy:null,onPaste:null,onEnterKey:null,mode:"text",hoverStateEnabled:!0,focusStateEnabled:!0,text:void 0,displayValueFormatter:e=>_(e)&&!1!==e?e:"",stylingMode:le().editorStylingMode||"outlined",showValidationMark:!0,label:"",labelMode:"static",labelMark:""})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>na(Zs()),options:{labelMode:"floating",stylingMode:le().editorStylingMode||"filled"}},{device:()=>ia(Zs()),options:{labelMode:"outside"}}])}_getDefaultButtons(){return[{name:"clear",Ctor:Gh}]}_isClearButtonVisible(){return this.option("showClearButton")&&!this.option("readOnly")}_input(){return this.$element().find(".dx-texteditor-input").first()}_isFocused(){return Fi(this._input())||super._isFocused()}_inputWrapper(){return this.$element()}_buttonsContainer(){return this._inputWrapper().find(".dx-texteditor-buttons-container").eq(0)}_isControlKey(e){return x_.includes(e)}_renderStylingMode(){super._renderStylingMode();const{stylingMode:e}=this.option();this._updateButtonsStyling(e)}_initMarkup(){this.$element().addClass("dx-texteditor"),this._renderInput(),this._renderButtonContainers(),this._renderStylingMode(),this._renderInputType(),this._renderPlaceholder(),this._renderProps(),super._initMarkup(),this._renderValue(),this._renderLabel()}_render(){super._render(),this._refreshValueChangeEvent(),this._refreshEvents(),this._renderEnterKeyAction(),this._renderEmptinessEvent()}_renderInput(){this._$textEditorContainer=Si("<div>").addClass("dx-texteditor-container").appendTo(this.$element()),this._$textEditorInputContainer=Si("<div>").addClass("dx-texteditor-input-container").appendTo(this._$textEditorContainer),this._$textEditorInputContainer.append(this._createInput())}_getInputContainer(){return this._$textEditorInputContainer}_renderPendingIndicator(){this.$element().addClass("dx-validation-pending");const e=this._getInputContainer(),t=Si("<div>").addClass("dx-pending-indicator").appendTo(e);this._pendingIndicator=this._createComponent(t,xd)}_disposePendingIndicator(){this._pendingIndicator&&(this._pendingIndicator.dispose(),this._pendingIndicator.$element().remove(),this._pendingIndicator=null,this.$element().removeClass("dx-validation-pending"))}_renderValidationState(){super._renderValidationState();"pending"===this.option("validationStatus")?(this._pendingIndicator||this._renderPendingIndicator(),this._showValidMark=!1):("invalid"===this.option("validationStatus")&&(this._showValidMark=!1),this._showValidMark||!0!==this.option("showValidationMark")||(this._showValidMark="valid"===this.option("validationStatus")&&!!this._pendingIndicator),this._disposePendingIndicator()),this._toggleValidMark()}_getButtonsContainer(){return this._$textEditorContainer}_renderButtonContainers(){const{buttons:e}=this.option(),t=this._getButtonsContainer();this._$beforeButtonsContainer=this._buttonCollection.renderBeforeButtons(e,t),this._$afterButtonsContainer=this._buttonCollection.renderAfterButtons(e,t)}_cleanButtonContainers(){var e,t;null===(e=this._$beforeButtonsContainer)||void 0===e||e.remove(),null===(t=this._$afterButtonsContainer)||void 0===t||t.remove(),this._buttonCollection.clean()}_clean(){this._buttonCollection.clean(),this._disposePendingIndicator(),this._unobserveLabelContainerResize(),this._$beforeButtonsContainer=null,this._$afterButtonsContainer=null,this._$textEditorContainer=null,super._clean()}_createInput(){const e=Si("<input>");return this._applyInputAttributes(e,this.option("inputAttr")),e}_setSubmitElementName(e){const{inputAttr:t}=this.option();super._setSubmitElementName(e||(null===t||void 0===t?void 0:t.name)||"")}_applyInputAttributes(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=A(this._getDefaultAttributes(),t);e.attr(n).addClass("dx-texteditor-input"),this._setInputMinHeight(e)}_setInputMinHeight(e){e.css("minHeight",this.option("height")?"0":"")}_getPlaceholderAttr(){const{ios:e,mac:t}=Is.real(),{placeholder:n}=this.option();return n||(e||t?" ":null)}_getDefaultAttributes(){return{autocomplete:"off",placeholder:this._getPlaceholderAttr()}}_updateButtons(e){this._buttonCollection.updateButtons(e)}_updateButtonsStyling(e){l(this.option("buttons"),(t,n)=>{let{options:i,name:r}=n;if(i&&!i.stylingMode&&this.option("visible")){const t=this.getButton(r);null!==t&&void 0!==t&&t.option&&t.option("stylingMode","underlined"===e?"text":"contained")}})}_renderValue(){return this._renderInputValue().promise()}_renderInputValue(e){e=e??this.option("value");const{text:t,displayValue:n,displayValueFormatter:i}=this.option();let r=t;return void 0!==n&&null!==e?r=null===i||void 0===i?void 0:i(n):_(r)||(r=null===i||void 0===i?void 0:i(e)),this.option("text",r),this._input().val()!==(_(r)?r:"")?this._renderDisplayText(r):this._toggleEmptinessEventHandler(),Re().resolve()}_renderDisplayText(e){this._input().val(e),this._toggleEmptinessEventHandler()}_isValueValid(){if(this._input().length){const{validity:e}=this._input().get(0);if(e)return e.valid}return!0}_toggleEmptiness(e){this.$element().toggleClass("dx-texteditor-empty",e),this._togglePlaceholder(e)}_togglePlaceholder(e){this.$element().find(".dx-placeholder").eq(0).toggleClass("dx-state-invisible",!e)}_renderProps(){this._toggleReadOnlyState(),this._toggleSpellcheckState(),this._toggleTabIndex()}_toggleDisabledState(e){super._toggleDisabledState(e);this._input().prop("disabled",e)}_toggleTabIndex(){const e=this._input(),t=this.option("disabled"),n=this.option("focusStateEnabled");t||!n?e.attr("tabIndex",-1):e.removeAttr("tabIndex")}_toggleReadOnlyState(){this._input().prop("readOnly",this._readOnlyPropValue()),super._toggleReadOnlyState()}_readOnlyPropValue(){const{readOnly:e}=this.option();return!!e}_toggleSpellcheckState(){const{spellcheck:e}=this.option();this._input().prop("spellcheck",e)}_unobserveLabelContainerResize(){this._labelContainerElement&&(Ts.unobserve(this._labelContainerElement),this._labelContainerElement=null)}_getLabelContainer(){return this._input()}_getLabelContainerWidth(){return $n(this._getLabelContainer())}_getLabelBeforeWidth(){return(this._$beforeButtonsContainer&&$n(this._$beforeButtonsContainer))??0}_updateLabelWidth(){this._label.updateBeforeWidth(this._getLabelBeforeWidth()),this._label.updateMaxWidth(this._getLabelContainerWidth())}_getFieldElement(){return this._getLabelContainer()}_setFieldAria(e){var t;const n=this.option("inputAttr"),i=null===n||void 0===n?void 0:n["aria-label"],r=null===(t=this._label)||void 0===t?void 0:t.getId(),o=i?void 0:r;if(o||e){const e={labelledby:o,label:i};this.setAria(e,this._getFieldElement())}}_renderLabel(){this._unobserveLabelContainerResize(),this._labelContainerElement=Si(this._getLabelContainer()).get(0);const{label:e,labelMode:t,labelMark:n,rtlEnabled:i}=this.option(),r={onClickHandler:()=>{this.focus()},onHoverHandler:e=>{e.stopPropagation()},onActiveHandler:e=>{e.stopPropagation()},$editor:this.$element(),text:e,mark:n,mode:t,rtlEnabled:i,containsButtonsBefore:!!this._$beforeButtonsContainer,getContainerWidth:()=>this._getLabelContainerWidth(),getBeforeWidth:()=>this._getLabelBeforeWidth()};this._label=new S_(r),this._setFieldAria(),this._labelContainerElement&&Ts.observe(this._labelContainerElement,this._updateLabelWidth.bind(this))}_renderPlaceholder(){this._renderPlaceholderMarkup(),this._attachPlaceholderEvents()}_renderPlaceholderMarkup(){this._$placeholder&&(this._$placeholder.remove(),this._$placeholder=null);const e=this._input(),t=this.option("placeholder"),n={id:t?`dx-${new ce}`:void 0,"data-dx_placeholder":t},i=this._$placeholder=Si("<div>").attr(n);i.insertAfter(e),i.addClass("dx-placeholder")}_attachPlaceholderEvents(){const e=or(yo.up,this.NAME);rn.on(this._$placeholder,e,()=>{rn.trigger(this._input(),"focus")}),this._toggleEmptinessEventHandler()}_placeholder(){return this._$placeholder??Si()}_clearValueHandler(e){const t=this._input();e.stopPropagation(),this._saveValueChangeEvent(e),this._clearValue(),this._isFocused()||rn.trigger(t,"focus"),rn.trigger(t,"input")}_clearValue(){this.clear()}_renderEvents(){const e=this._input();l(C_,(t,n)=>{if(this.hasActionSubscription(`on${n}`)){const t=this._createActionByOption(`on${n}`,{excludeValidators:["readOnly"]});rn.on(e,or(n.toLowerCase(),this.NAME),e=>{this._disposed||t({event:e})})}})}_refreshEvents(){const e=this._input();l(C_,(t,n)=>{rn.off(e,or(n.toLowerCase(),this.NAME))}),this._renderEvents()}_keyPressHandler(e){this.option("text",this._input().val())}_keyDownHandler(e){const t=this._input(),n=e.ctrlKey&&"enter"===ir(e),{value:i}=this.option(),r=t.val()!==i;n&&r&&rn.trigger(t,"change")}_getValueChangeEventOptionName(){return"valueChangeEvent"}_renderValueChangeEvent(){const e=or(this._renderValueEventName(),`${this.NAME}TextChange`),t=or(this.option(this._getValueChangeEventOptionName()),`${this.NAME}ValueChange`),n=or("keydown",`${this.NAME}TextChange`),i=this._input();rn.on(i,e,this._keyPressHandler.bind(this)),rn.on(i,t,this._valueChangeEventHandler.bind(this)),rn.on(i,n,this._keyDownHandler.bind(this))}_cleanValueChangeEvent(){const e=`.${this.NAME}ValueChange`,t=`.${this.NAME}TextChange`;rn.off(this._input(),e),rn.off(this._input(),t)}_refreshValueChangeEvent(){this._cleanValueChangeEvent(),this._renderValueChangeEvent()}_renderValueEventName(){return"input change keypress"}_focusTarget(){return this._input()}_focusEventTarget(){return this.element()}_isInput(e){return e===this._input().get(0)}_preventNestedFocusEvent(e){if(e.isDefaultPrevented())return!0;let t=this._isNestedTarget(e.relatedTarget);return"focusin"===e.type?t=t&&this._isNestedTarget(e.target)&&!this._isInput(e.target):t||this._toggleFocusClass(!1,this.$element()),t&&e.preventDefault(),t}_isNestedTarget(e){return!!this.$element().find(e).length}_focusClassTarget(e){return this.$element()}_focusInHandler(e){this._preventNestedFocusEvent(e),super._focusInHandler(e)}_focusOutHandler(e){this._preventNestedFocusEvent(e),super._focusOutHandler(e)}_toggleFocusClass(e,t){super._toggleFocusClass(e,this._focusClassTarget(t))}_hasFocusClass(e){return super._hasFocusClass(Si(e||this.$element()))}_renderEmptinessEvent(){const e=this._input();rn.on(e,"input blur",this._toggleEmptinessEventHandler.bind(this))}_toggleEmptinessEventHandler(){const e=this._input().val(),t=(""===e||null===e)&&this._isValueValid();this._toggleEmptiness(t)}_valueChangeEventHandler(e,t){this.option("readOnly")||(this._saveValueChangeEvent(e),this.option("value",arguments.length>1?t:this._input().val()),this._saveValueChangeEvent(void 0))}_renderEnterKeyAction(){this._enterKeyAction=this._createActionByOption("onEnterKey",{excludeValidators:["readOnly"]}),rn.off(this._input(),"keyup.onEnterKey.dxTextEditor"),rn.on(this._input(),"keyup.onEnterKey.dxTextEditor",this._enterKeyHandlerUp.bind(this))}_enterKeyHandlerUp(e){var t;this._disposed||"enter"===ir(e)&&(null===(t=this._enterKeyAction)||void 0===t||t.call(this,{event:e}))}_updateValue(){this._options.silent("text",null),this._renderValue()}_dispose(){this._enterKeyAction=void 0,super._dispose()}_getSubmitElement(){return this._input()}_hasActiveElement(){return this._input().is(mt.getActiveElement(this._input()[0]))}_optionChanged(e){const{name:t,fullName:n,value:i}=e,r=t.replace("on","");if(C_.includes(r))this._refreshEvents();else switch(t){case"valueChangeEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onValueChanged":this._createValueChangeAction();break;case"focusStateEnabled":super._optionChanged(e),this._toggleTabIndex();break;case"spellcheck":this._toggleSpellcheckState();break;case"mode":this._renderInputType();break;case"onEnterKey":this._renderEnterKeyAction();break;case"placeholder":this._renderPlaceholder(),this._setFieldAria(!0),this._input().attr({placeholder:this._getPlaceholderAttr()});break;case"label":this._label.updateText(i),this._setFieldAria(!0);break;case"labelMark":this._label.updateMark(i);break;case"labelMode":this._label.updateMode(i),this._setFieldAria();break;case"width":super._optionChanged(e),this._label.updateMaxWidth(this._getLabelContainerWidth());break;case"readOnly":case"disabled":this._updateButtons(),super._optionChanged(e);break;case"showClearButton":this._updateButtons(["clear"]);break;case"text":case"showValidationMark":break;case"value":this._updateValue(),super._optionChanged(e);break;case"inputAttr":this._applyInputAttributes(this._input(),this.option(t));break;case"stylingMode":this._renderStylingMode(),this._updateLabelWidth();break;case"buttons":{n===t&&w_(i),this._cleanButtonContainers(),this._renderButtonContainers();const{stylingMode:e}=this.option();this._updateButtonsStyling(e),this._updateLabelWidth(),this._label.updateContainsButtonsBefore(!!this._$beforeButtonsContainer);break}case"visible":if(super._optionChanged(e),i&&this.option("buttons")){this._cleanButtonContainers(),this._renderButtonContainers();const{stylingMode:e}=this.option();this._updateButtonsStyling(e)}break;case"displayValueFormatter":this._invalidate();break;default:super._optionChanged(e)}}_renderInputType(){this._setInputType(this.option("mode"))}_setInputType(e){const t=this._input();"search"===e&&(e="text");try{t.prop("type",e)}catch(n){t.prop("type","text")}}getButton(e){return this._buttonCollection.getButton(e)}focus(){rn.trigger(this._input(),"focus")}clear(){this._showValidMark&&(this._showValidMark=!1,this._renderValidationState());const e=this._getDefaultOptions();this.option("value")===e.value?(this._options.silent("text",""),this._renderValue()):this.option("value",e.value)}_resetInputText(){this._options.silent("text",this._initialValue),this._renderValue()}_isValueEqualToInitial(){const{value:e}=this.option();return e===this._initialValue}_resetToInitialValue(){this._isValueEqualToInitial()?this._resetInputText():super._resetToInitialValue(),this._disposePendingIndicator(),this._showValidMark=!1,this._toggleValidMark()}_toggleValidMark(){this.$element().toggleClass("dx-valid",!!this._showValidMark)}reset(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;arguments.length?super.reset(e):super.reset()}on(e,t){const n=super.on(e,t),i=e.charAt(0).toUpperCase()+e.substr(1);return C_.includes(i)&&this._refreshEvents(),n}};class I_{constructor(e){this._value=" ",A(this,e)}next(e){if(!arguments.length)return this._next;this._next=e}_prepareHandlingArgs(e,t){t=t||{};const n=Object.prototype.hasOwnProperty.call(e,"value")?"value":"text";return e[n]=t.str??e[n],e.start=t.start??e.start,e.length=t.length??e.length,e.index+=1,e}first(e){return e=e||0,this.next().first(e+1)}isAccepted(e){return!1}adjustedCaret(e,t,n){return t?this._adjustedForward(e,0,n):this._adjustedBackward(e,0,n)}_adjustedForward(e,t,n){}_adjustedBackward(e,t,n){}isValid(e){}reset(){}clear(e){}text(){}value(){}rawValue(){}handle(e){}}class k_ extends I_{next(){}handle(){return 0}text(){return""}value(){return""}first(){return 0}rawValue(){return""}adjustedCaret(){return 0}isValid(){return!0}}class D_ extends I_{text(){return(" "!==this._value?this._value:this.maskChar)+this.next().text()}value(){return this._value+this.next().value()}rawValue(){return this._value+this.next().rawValue()}handle(e){const t=Object.prototype.hasOwnProperty.call(e,"value")?e.value:e.text;if(!t||!t.length||!e.length)return 0;if(e.start)return this.next().handle(this._prepareHandlingArgs(e,{start:e.start-1}));const n=t[0],i=t.substring(1);return this._tryAcceptChar(n,e),this._accepted()?this.next().handle(this._prepareHandlingArgs(e,{str:i,length:e.length-1}))+1:this.handle(this._prepareHandlingArgs(e,{str:i,length:e.length-1}))}clear(e){this._tryAcceptChar(" ",e),this.next().clear(this._prepareHandlingArgs(e))}reset(){this._accepted(!1),this.next().reset()}_tryAcceptChar(e,t){if(this._accepted(!1),!this._isAllowed(e,t))return;const n=" "===e?this.maskChar:e;t.fullText=t.fullText.substring(0,t.index)+n+t.fullText.substring(t.index+1),this._accepted(!0),this._value=e}_accepted(e){if(!arguments.length)return!!this._isAccepted;this._isAccepted=!!e}first(e){return" "===this._value?e||0:super.first(e)}_isAllowed(e,t){return" "===e||this._isValid(e,t)}_isValid(e,t){const{allowedChars:n}=this;return n instanceof RegExp?n.test(e):g(n)?n(e,t.index,t.fullText):Array.isArray(n)?n.includes(e):n===e}isAccepted(e){return 0===e?this._accepted():this.next().isAccepted(e-1)}_adjustedForward(e,t,n){return t>=e?t:this.next()._adjustedForward(e,t+1,n)||t+1}_adjustedBackward(e,t){return t>=e-1?e:this.next()._adjustedBackward(e,t+1)||t+1}isValid(e){return this._isValid(this._value,e)&&this.next().isValid(this._prepareHandlingArgs(e))}}class O_ extends D_{value(){return this.next().value()}handle(e){const t=Object.prototype.hasOwnProperty.call(e,"value"),n=t?e.value:e.text;if(!n.length||!e.length)return 0;if(e.start||t)return this.next().handle(this._prepareHandlingArgs(e,{start:e.start&&e.start-1}));const i=n[0],r=n.substring(1);this._tryAcceptChar(i);const o=this._isAllowed(i)?this._prepareHandlingArgs(e,{str:r,length:e.length-1}):e;return this.next().handle(o)+1}clear(e){this._accepted(!1),this.next().clear(this._prepareHandlingArgs(e))}_tryAcceptChar(e){this._accepted(this._isValid(e))}_isValid(e){return e===this.maskChar}first(e){return e=e||0,this.next().first(e+1)}_adjustedForward(e,t,n){return t>=e&&n===this.maskChar?t:e===t+1&&this._accepted()?e:this.next()._adjustedForward(e,t+1,n)}_adjustedBackward(e,t){return t>=e-1?0:this.next()._adjustedBackward(e,t+1)}isValid(e){return this.next().isValid(this._prepareHandlingArgs(e))}}const T_=["deleteContentBackward","deleteSoftLineBackward","deleteContent","deleteHardLineBackward"],A_=["historyUndo","historyRedo"],P_=["focusIn","focusOut","input","paste","cut","drop","beforeInput"];function M_(e){return" ".repeat(e)}class R_{constructor(e){this.editor=e}_editorOption(){return this.editor.option(...arguments)}_editorInput(){return this.editor._input()}_editorCaret(e){if(!e)return this.editor._caret();this.editor._caret(e)}_attachChangeEventHandler(){if(!this._editorOption("valueChangeEvent").split(" ").includes("change"))return;const e=this._editorInput(),t=or("blur beforedeactivate","dxMask");rn.on(e,t,e=>{this.editor._changeHandler(e)})}_beforeInputHandler(){this._previousText=this._editorOption("text"),this._prevCaret=this._editorCaret()}_inputHandler(e){const{originalEvent:t}=e;if(!t)return;const{inputType:n}=t;if(A_.includes(n))this._handleHistoryInputEvent();else if(T_.includes(n))this._handleBackwardDeleteInputEvent();else{const e=this._editorCaret();if(!e.end)return;this._clearSelectedText(),this._autoFillHandler(t),this._editorCaret(e),this._handleInsertTextInputEvent(t.data)}this._editorOption("text")===this._previousText&&e.stopImmediatePropagation()}_handleHistoryInputEvent(){const e=this._editorCaret();this._updateEditorMask({start:e.start,length:e.end-e.start,text:""}),this._editorCaret(this._prevCaret)}_handleBackwardDeleteInputEvent(){this._clearSelectedText(!0);const e=this._editorCaret();this.editor.setForwardDirection(),this.editor._adjustCaret();this._editorCaret().start!==e.start&&(this.editor.setBackwardDirection(),this.editor._adjustCaret())}_clearSelectedText(e){const t=this._prevCaret&&this._prevCaret.end-this._prevCaret.start||Number(e),n=this._editorCaret();this._isAutoFill()||(this.editor.setBackwardDirection(),this._updateEditorMask({start:n.start,length:t,text:M_(t)}))}_handleInsertTextInputEvent(e){var t;const n=e??"";this.editor.setForwardDirection();this._updateEditorMask({start:(null===(t=this._prevCaret)||void 0===t?void 0:t.start)??0,length:n.length||1,text:n})||this._editorCaret(this._prevCaret)}_updateEditorMask(e){const t=e.text.length,n=this.editor._handleChain(e);if(this.editor._displayMask(),this.editor.isForwardDirection()){const{start:e,end:i}=this._editorCaret(),r=n-t;n>1&&1===t&&this._editorCaret({start:e+r,end:i+r}),this.editor._adjustCaret()}return!!n}_focusInHandler(){if(this.editor._showMaskPlaceholder(),this.editor.setForwardDirection(),!this.editor._isValueEmpty()&&this._editorOption("isValid"))this.editor._adjustCaret();else{const e=this.editor._maskRulesChain.first();this._caretTimeout=setTimeout(()=>{this._editorCaret({start:e,end:e})},0)}}_focusOutHandler(e){this.editor._changeHandler(e),"onFocus"===this._editorOption("showMaskMode")&&this.editor._isValueEmpty()&&(this._editorOption("text",""),this.editor._renderDisplayText(""))}_delHandler(e){const{editor:t}=this;t._maskKeyHandler(e,()=>{t._hasSelection()||t._handleKey(" ")})}_cutHandler(e){const t=this._editorCaret(),n=this._editorInput().val().substring(t.start,t.end);this.editor._maskKeyHandler(e,()=>oc(e,n))}_dropHandler(){this._clearDragTimer(),this._dragTimer=setTimeout(()=>{const e=this.editor._convertToValue(this._editorInput().val());this._editorOption("value",e)})}_pasteHandler(e){const{editor:t}=this;if(this._editorOption("disabled"))return;const n=this._editorCaret();t._maskKeyHandler(e,()=>{const i=oc(e),r=t._maskRulesChain.text().substring(n.end),o=t._handleChain({text:i,start:n.start,length:i.length}),s=n.start+o;t._handleChain({text:r,start:s,length:r.length}),t._caret({start:s,end:s})})}_autoFillHandler(e){const{editor:t}=this,n=this._editorInput().val();this._inputHandlerTimer=setTimeout(()=>{this._isAutoFill()&&(t._maskKeyHandler(e,()=>{t._handleChain({text:n,start:0,length:n.length})}),t._validateMask())})}_isAutoFill(){const e=this._editorInput();if(br.webkit){const t=e.get(0);return(null===t||void 0===t?void 0:t.matches(":-webkit-autofill"))??!1}return!1}_clearDragTimer(){clearTimeout(this._dragTimer)}_clearTimers(){this._clearDragTimer(),clearTimeout(this._caretTimeout),clearTimeout(this._inputHandlerTimer)}getHandler(e){return t=>{var n;null===(n=this[`_${e}Handler`])||void 0===n||n.call(this,t)}}attachEvents(){const e=this._editorInput();P_.forEach(t=>{const n=or(t.toLowerCase(),"dxMask");rn.on(e,n,this.getHandler(t))}),this._attachChangeEventHandler()}detachEvents(){this._clearTimers(),rn.off(this._editorInput(),".dxMask")}clean(){this._clearTimers()}}const{ios:B_,mac:N_}=Is.real(),F_=B_||N_,$_=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e=Si(e).get(0),!_(t))return(e=>{let t;try{t={start:e.selectionStart,end:e.selectionEnd}}catch(n){t={start:0,end:0}}return t})(e);!n&&F_&&mt.getActiveElement(e)!==e||((e,t)=>{const n=mt.getBody();if(n.contains(e)||n.contains(e.getRootNode().host))try{e.selectionStart=t.start,e.selectionEnd=t.end}catch(i){}})(e,t)},H_=$_,L_={0:/[0-9]/,9:/[0-9\s]/,"#":/[-+0-9\s]/,L:e=>z_(e),l:e=>z_(e)||j_(e),C:/\S/,c:/./,A:e=>z_(e)||V_(e),a:e=>z_(e)||V_(e)||j_(e)};function V_(e){return/[0-9]/.test(e)}function z_(e){const t=e.charCodeAt();return t>64&&t<91||t>96&&t<123||t>127}function j_(e){return" "===e}const W_=class extends E_{_getDefaultOptions(){return K({},super._getDefaultOptions(),{mask:"",maskChar:"_",maskRules:{},maskInvalidMessage:mr.format("validation-mask"),useMaskedValue:!1,showMaskMode:"always"})}_supportedKeys(){const e=this,t={del:e._maskStrategy.getHandler("del"),enter:e._changeHandler},n=super._supportedKeys();return l(t,(t,i)=>{const r=n[t];n[t]=function(t){e.option("mask")&&i.call(e,t),r&&r(t)}}),n}_getSubmitElement(){return this.option("mask")?this._$hiddenElement:super._getSubmitElement()}_init(){super._init(),this._initMaskStrategy()}_initMaskStrategy(){this._maskStrategy=new R_(this)}_initMarkup(){this._renderHiddenElement(),super._initMarkup()}_attachMouseWheelEventHandlers(){if(!this._hasMouseWheelHandler())return;const e=this._input(),t=or(ar,this.NAME),n=this._createAction(t=>{const{event:n}=t;Fi(e)&&!sr(n)&&(this._onMouseWheel(n),n.preventDefault(),n.stopPropagation())});rn.off(e,t),rn.on(e,t,e=>{n({event:e})})}_hasMouseWheelHandler(){return!1}_onMouseWheel(e){}_useMaskBehavior(){return Boolean(this.option("mask"))}_attachDropEventHandler(){if(!this._useMaskBehavior())return;const e=or("drop",this.NAME),t=this._input();rn.off(t,e),rn.on(t,e,e=>e.preventDefault())}_render(){this._attachMouseWheelEventHandlers(),this._renderMask(),super._render(),this._attachDropEventHandler()}_renderHiddenElement(){this.option("mask")&&(this._$hiddenElement=Si("<input>").attr("type","hidden").appendTo(this._inputWrapper()))}_removeHiddenElement(){this._$hiddenElement&&this._$hiddenElement.remove()}_renderMask(){this.$element().removeClass("dx-texteditor-masked"),this._maskRulesChain=null,this._maskStrategy.detachEvents(),this.option("mask")&&(this.$element().addClass("dx-texteditor-masked"),this._maskStrategy.attachEvents(),this._parseMask(),this._renderMaskedValue())}_changeHandler(e){const t=this._input(),n=t.val();if(n===this._changedValue)return;this._changedValue=n;const i=tr(e,{type:"change"});rn.trigger(t,i)}_parseMask(){this._maskRules=A({},L_,this.option("maskRules")),this._maskRulesChain=this._parseMaskRule(0)}_parseMaskRule(e){const{mask:t}=this.option();if(e>=t.length)return new k_;const n=t[e],i="\\"===n,r=i?new O_({maskChar:t[e+1]}):this._getMaskRule(n);return r.next(this._parseMaskRule(e+1+i)),r}_getMaskRule(e){let t;return l(this._maskRules,(n,i)=>{if(n===e)return t={pattern:n,allowedChars:i},!1}),_(t)?new D_(A({maskChar:this.option("maskChar")||" "},t)):new O_({maskChar:e})}_renderMaskedValue(){if(!this._maskRulesChain)return;const e=this.option("value")||"";this._maskRulesChain.clear(this._normalizeChainArguments());const t={length:e.length};t[this._isMaskedValueMode()?"text":"value"]=e,this._handleChain(t),this._displayMask()}_replaceSelectedText(e,t,n){if(void 0===n)return e;return e.slice(0,t.start)+n+e.slice(t.end)}_isMaskedValueMode(){return this.option("useMaskedValue")}_displayMask(e){e=e||this._caret(),this._renderValue(),this._caret(e)}_isValueEmpty(){return R(this._value)}_shouldShowMask(){const{showMaskMode:e}=this.option();return"onFocus"!==e||(Fi(this._input())||!this._isValueEmpty())}_showMaskPlaceholder(){if(this._shouldShowMask()){const e=this._maskRulesChain.text();this.option("text",e);const{showMaskMode:t}=this.option();"onFocus"===t&&this._renderDisplayText(e)}}_renderValue(){if(this._maskRulesChain&&(this._showMaskPlaceholder(),this._$hiddenElement)){const e=this._maskRulesChain.value(),t=R(e)?"":this._getPreparedValue();this._$hiddenElement.val(t)}return super._renderValue()}_getPreparedValue(){return this._convertToValue().replace(/\s+$/,"")}_valueChangeEventHandler(e,t){this._maskRulesChain?(this._saveValueChangeEvent(e),this.option("value",this._getPreparedValue())):super._valueChangeEventHandler.apply(this,arguments)}_isControlKeyFired(e){return this._isControlKey(ir(e))||sr(e)}_handleChain(e){const t=this._maskRulesChain.handle(this._normalizeChainArguments(e));return this._updateMaskInfo(),t}_normalizeChainArguments(e){return(e=e||{}).index=0,e.fullText=this._maskRulesChain.text(),e}_convertToValue(e){return e=this._isMaskedValueMode()?this._replaceMaskCharWithEmpty(e||this._textValue||""):e||this._value||""}_replaceMaskCharWithEmpty(e){const{maskChar:t}=this.option();return e.replace(new RegExp(t,"g")," ")}_maskKeyHandler(e,t){if(this.option("readOnly"))return;this.setForwardDirection(),e.preventDefault(),this._handleSelection();const n=this._input().val(),i=()=>{n!==this._input().val()&&rn.trigger(this._input(),"input")},r=t();r?r.then(i):(this.setForwardDirection(),this._adjustCaret(),this._displayMask(),this._maskRulesChain.reset(),i())}_handleKey(e,t){this._direction(t||"forward"),this._adjustCaret(e),this._handleKeyChain(e),this._moveCaret()}_handleSelection(){if(!this._hasSelection())return;const e=this._caret(),t=new Array(e.end-e.start+1).join(" ");this._handleKeyChain(t)}_handleKeyChain(e){const t=this._caret(),n=this.isForwardDirection()?t.start:t.start-1,i=this.isForwardDirection()?t.end:t.end-1,r=n===i?1:i-n;this._handleChain({text:e,start:n,length:r})}_tryMoveCaretBackward(){this.setBackwardDirection();const e=this._caret().start;return this._adjustCaret(),!e||e!==this._caret().start}_adjustCaret(e){const t=this._caret().start,n=this.isForwardDirection(),i=this._maskRulesChain.adjustedCaret(t,n,e);this._caret({start:i,end:i})}_moveCaret(){const e=this._caret().start,t=e+(this.isForwardDirection()?0:-1),n=this._maskRulesChain.isAccepted(t)?e+(this.isForwardDirection()?1:-1):e;this._caret({start:n,end:n})}_caret(e,t){const n=this._input();if(n.length)return arguments.length?void H_(n,e,t):H_(n)}_hasSelection(){const e=this._caret();return e.start!==e.end}_direction(e){if(!arguments.length)return this._typingDirection;this._typingDirection=e}setForwardDirection(){this._direction("forward")}setBackwardDirection(){this._direction("backward")}isForwardDirection(){return"forward"===this._direction()}_updateMaskInfo(){this._textValue=this._maskRulesChain.text(),this._value=this._maskRulesChain.value()}_clean(){this._maskStrategy&&this._maskStrategy.clean(),super._clean()}_validateMask(){if(!this._maskRulesChain)return;const e=R(this.option("value"))||this._maskRulesChain.isValid(this._normalizeChainArguments());this.option({isValid:e,validationError:e?null:{editorSpecific:!0,message:this.option("maskInvalidMessage")}})}_updateHiddenElement(){this._removeHiddenElement(),this.option("mask")&&(this._input().removeAttr("name"),this._renderHiddenElement());const{name:e}=this.option();this._setSubmitElementName(e)}_updateMaskOption(){this._updateHiddenElement(),this._renderMask(),this._validateMask(),this._refreshValueChangeEvent()}_processEmptyMask(e){if(e)return;const t=this.option("value");this.option({text:t,isValid:!0,validationError:null}),this.validationRequest.fire({value:t,editor:this}),this._renderValue()}_optionChanged(e){switch(e.name){case"mask":this._updateMaskOption(),this._processEmptyMask(e.value);break;case"maskChar":case"maskRules":case"useMaskedValue":this._updateMaskOption();break;case"value":this._renderMaskedValue(),this._validateMask(),super._optionChanged(e),this._changedValue=this._input().val();break;case"maskInvalidMessage":break;case"showMaskMode":this.option("text",""),this._renderValue();break;default:super._optionChanged(e)}}clear(){const{value:e}=this._getDefaultOptions();this.option("value")===e&&this._renderMaskedValue(),super.clear()}},K_=St(),U_=["backspace","tab","enter","pageUp","pageDown","end","home","leftArrow","rightArrow","downArrow","upArrow","del"];class q_ extends W_{ctor(e,t){t&&(this._showClearButton=t.showClearButton),super.ctor(e,t)}_getDefaultOptions(){return K({},super._getDefaultOptions(),{value:"",mode:"text",maxLength:null})}_initMarkup(){this.$element().addClass("dx-textbox"),super._initMarkup(),this.setAria("role","textbox")}_renderInputType(){super._renderInputType(),this._renderSearchMode()}_useTemplates(){return!1}_renderProps(){super._renderProps(),this._toggleMaxLengthProp()}_toggleMaxLengthProp(){const e=this._getMaxLength();e&&e>0?this._input().attr("maxLength",e):this._input().removeAttr("maxLength")}_renderSearchMode(){const{mode:e}=this.option();if("search"===e){if(this.$element().addClass("dx-searchbox"),this._renderSearchIcon(),void 0===this._showClearButton){const{showClearButton:e}=this.option();this._showClearButton=e,this.option("showClearButton",!0)}}else this.$element().removeClass("dx-searchbox"),this._$searchIcon&&this._$searchIcon.remove(),this.option("showClearButton",void 0===this._showClearButton?this.option("showClearButton"):this._showClearButton),delete this._showClearButton}_renderSearchIcon(){const e=Si("<div>").addClass("dx-icon").addClass("dx-icon-search");e.prependTo(this._input().parent()),this._$searchIcon=e}_getLabelContainerWidth(){if(this._$searchIcon){const e=this._input().parent();return $n(e)-this._getLabelBeforeWidth()}return super._getLabelContainerWidth()}_getLabelBeforeWidth(){let e=super._getLabelBeforeWidth();return this._$searchIcon&&(e+=zn(this._$searchIcon)),e}_optionChanged(e){switch(e.name){case"maxLength":this._toggleMaxLengthProp();break;case"mode":super._optionChanged(e),this._updateLabelWidth();break;case"mask":super._optionChanged(e),this._toggleMaxLengthProp();break;default:super._optionChanged(e)}}_onKeyDownCutOffHandler(e){const t=this._getMaxLength();if(t&&!e.ctrlKey&&!this._hasSelection()){const n=Si(e.target),i=ir(e);return this._cutOffExtraChar(n),n.val().length<t||U_.includes(i)||""!==K_.getSelection().toString()}return!0}_onChangeCutOffHandler(e){const t=Si(e.target);this.option("maxLength")&&this._cutOffExtraChar(t)}_cutOffExtraChar(e){const t=this._getMaxLength(),n=e.val();t&&n.length>t&&e.val(n.substr(0,t))}_getMaxLength(){const{mask:e,maxLength:t}=this.option();return!!e?null:t}}Mi("dxTextBox",q_);const G_=q_,Z_=G_;let Y_=(Q_="TextBox",class{constructor(){throw new Error(`Module '${Q_}' not found`)}static getInstance(){}});var Q_;const X_={_getDefaultOptions(){return A(this.callBase(),{searchMode:"",searchExpr:null,searchValue:"",searchEnabled:!1,searchEditorOptions:{}})},_initMarkup(){this._renderSearch(),this.callBase()},_renderSearch(){const e=this.$element(),t=this.option("searchEnabled"),n=this._addWidgetPrefix("search"),i=this._addWidgetPrefix("with-search");if(!t)return e.removeClass(i),void this._removeSearchBox();const r=this._getSearchEditorOptions();this._searchEditor?this._searchEditor.option(r):(e.addClass(i),this._$searchEditorElement=Si("<div>").addClass(n).prependTo(e),this._searchEditor=this._createComponent(this._$searchEditorElement,Y_,r))},_removeSearchBox(){this._$searchEditorElement&&this._$searchEditorElement.remove(),delete this._$searchEditorElement,delete this._searchEditor},_getSearchEditorOptions(){const e=this,t=e.option("searchEditorOptions"),n=mr.format("Search");return A({mode:"search",placeholder:n,tabIndex:e.option("tabIndex"),value:e.option("searchValue"),valueChangeEvent:"input",inputAttr:{"aria-label":n},onValueChanged(t){const n=e.option("searchTimeout");e._valueChangeDeferred=Re(),clearTimeout(e._valueChangeTimeout),e._valueChangeDeferred.done(function(){this.option("searchValue",t.value)}.bind(e)),t.event&&"input"===t.event.type&&n?e._valueChangeTimeout=setTimeout(()=>{e._valueChangeDeferred.resolve()},n):e._valueChangeDeferred.resolve()}},t)},_getAriaTarget(){return this.option("searchEnabled")?this._itemContainer(!0):this.callBase()},_focusTarget(){return this.option("searchEnabled")?this._itemContainer(!0):this.callBase()},_updateFocusState(e,t){this.option("searchEnabled")&&this._toggleFocusClass(t,this.$element()),this.callBase(e,t)},getOperationBySearchMode:e=>"equals"===e?"=":e,_optionChanged(e){switch(e.name){case"searchEnabled":case"searchEditorOptions":this._invalidate();break;case"searchExpr":case"searchMode":case"searchValue":if(!this._dataSource)return void Ps.log("W1009");"searchMode"===e.name?this._dataSource.searchOperation(this.getOperationBySearchMode(e.value)):this._dataSource[e.name](e.value),this._dataSource.load();break;case"searchTimeout":break;default:this.callBase(e)}},focus(){this.option("focusedElement")||!this.option("searchEnabled")?this.callBase():this._searchEditor&&this._searchEditor.focus()},_cleanAria(){const e=this.$element();this.setAria({role:null,activedescendant:null},e),e.attr("tabIndex",null)},_clean(){this.callBase(),this._cleanAria()},_refresh(){this._valueChangeDeferred&&this._valueChangeDeferred.resolve(),this.callBase()},setEditorClass(e){Y_=e}},J_=X_,eg="dxdblclick",tg=or(dc,"dxDblClick"),ng=new(ie.inherit({ctor(){this._handlerCount=0,this._forgetLastClick()},_forgetLastClick(){this._firstClickTarget=null,this._lastClickTimeStamp=-300},add(){this._handlerCount<=0&&rn.on(mt.getDocument(),tg,this._clickHandler.bind(this)),this._handlerCount+=1},_clickHandler(e){const t=e.timeStamp||Date.now(),n=t-this._lastClickTimeStamp;!(n<0)&&n<300?(nr({type:"dxdblclick",target:ic(this._firstClickTarget,e.target),originalEvent:e}),this._forgetLastClick()):(this._firstClickTarget=e.target,this._lastClickTimeStamp=t,clearTimeout(this._lastClickClearTimeout),this._lastClickClearTimeout=setTimeout(()=>{this._forgetLastClick()},600))},remove(){this._handlerCount-=1,this._handlerCount<=0&&(this._forgetLastClick(),rn.off(mt.getDocument(),tg,void 0),clearTimeout(this._lastClickClearTimeout),this._handlerCount=0)}}));Ei(eg,ng);const ig=["size"];class rg extends Gf{constructor(e){super(e),this.state={},this.elementRef={current:null},this.__getterCache={}}get cssStyles(){return void 0!==this.__getterCache.cssStyles?this.__getterCache.cssStyles:this.__getterCache.cssStyles=(()=>{const{size:e}=this.props;return{fontSize:ui("fontSize",e)}})()}get restAttributes(){return tu(this.props,ig)}componentWillUpdate(e){this.props.size!==e.size&&(this.__getterCache.cssStyles=void 0)}render(){const{elementRef:e,cssStyles:t}=this;return wp(1,"span","dx-checkbox-icon",null,1,{style:dm(t)},null,e)}}rg.defaultProps={};const og=["dataSource","selectedRowKeys"],sg={integrationOptions:!0};function ag(e,t,n){return{path:e,value:t,previousValue:n}}function lg(e,t,n,i,r,o){if(sg[i])return;const s=h(t),a=h(n);if(t!==n)if(s!==a)e.push(ag(i,n,t));else if("object"===s)if(x(n)){const s=ug(t,n,r,o);e.push(...s.map(e=>K({},e,{path:`${i}.${e.path}`})))}else e.push(ag(i,n,t));else if("array"===s){if(o.some(e=>r.includes(e))&&t!==n)e.push(ag(i,n,t));else if(t.length!==n.length)e.push(ag(i,n,t));else{const s=ug(t,n,r,o);[].push.apply(e,s.map(e=>K({},e,{path:`${i}${e.path}`})))}}else e.push(ag(i,n,t))}const cg=e=>(t,n,i,r)=>{const o=[],s=Array.isArray(t)?e=>{lg(o,t[e],n[e],`[${e}]`,`${i}.${e}`,r)}:e=>{lg(o,t[e],n[e],e,`${i}.${e}`,r)};return e(t).forEach(s),Object.keys(n).filter(e=>!Object.prototype.hasOwnProperty.call(t,e)&&t[e]!==n[e]).forEach(e=>{o.push({path:e,value:n[e],previousValue:t[e]})}),o},ug=cg(e=>Object.keys(e)),dg={key:!0,ref:!0,children:!0,style:!0},hg=cg(e=>Object.keys(e).filter(e=>!dg[e]));const pg=["componentProps","componentType","templateNames"],fg=e=>Object.keys(e).reduce((t,n)=>(void 0!==e[n]&&(t[n]=e[n]),t),{});class mg extends Zf{constructor(e){super(e),this.state={},this.refs=null,this.widgetRef={current:null},this.instance=null,this.prevProps=null,this.getInstance=this.getInstance.bind(this),this.setupWidget=this.setupWidget.bind(this),this.updateWidget=this.updateWidget.bind(this)}getConfig(){const{id:e}=gm;return this.context[e]?this.context[e]:gm.defaultValue}render(){return fg(wp(1,"div",this.props.componentProps.className,null,1,K({},this.getRestAttributes()),null,this.widgetRef))}componentWillUpdate(e,t,n){super.componentWillUpdate(e,t,n)}createEffects(){return[new Xf(this.setupWidget,[]),new Xf(this.updateWidget,[this.props.componentProps,this.getConfig(),this.props.templateNames])]}updateEffects(){var e;const t=[this.props.componentProps,this.getConfig(),this.props.templateNames];null===(e=this._effects[1])||void 0===e||e.update(t)}setupWidget(){const e=this.widgetRef.current,t=new this.props.componentType(e,this.getProperties());return this.instance=t,()=>{t.dispose(),this.instance=null}}updateWidget(){if(!this.instance)return;const e=function(e,t){return hg(e,t,"",arguments.length>2&&void 0!==arguments[2]?arguments[2]:og)}(this.prevProps??{},this.getProperties());e.length&&(this.instance.beginUpdate(),e.forEach(e=>{var t;const{path:n,value:i}=e;null===(t=this.instance)||void 0===t||t.option(n,i)}),this.instance.endUpdate()),this.prevProps=this.getProperties()}getRestAttributes(){return tu(this.props,pg)}getProperties(){var e;const t=fg(this.props.componentProps),{valueChange:n}=t,i=A({rtlEnabled:null===(e=this.getConfig())||void 0===e?void 0:e.rtlEnabled,isRenovated:!0},t);n&&(i.onValueChanged=e=>{const{value:t}=e;return n(t)});return this.props.templateNames.forEach(e=>{((e,t)=>{const n=t[e];return!!n&&"string"!==typeof n})(e,i)&&(i[e]=(t,n,i)=>{var r,o;r=this.props.componentProps[e],o={item:t,index:n,container:i},setTimeout(()=>{Ff(lm(r,o),(e=>{var t,n;return(null===(t=e.container)||void 0===t?void 0:t.get(0))||(null===(n=e.item)||void 0===n?void 0:n.get(0))})(o))},0)})}),i}getInstance(){return this.instance}}const _g=["accessKey","activeStateEnabled","boundary","className","contentId","disabled","focusStateEnabled","height","hint","hoverStateEnabled","mode","offset","onClick","onKeyDown","positionSide","rtlEnabled","tabIndex","target","validationErrors","visible","visualContainer","width"],gg=K({},ym,{mode:"auto",positionSide:"top",offset:Object.freeze({h:0,v:0}),isReactComponentWrapper:!0});class vg extends Gf{constructor(e){super(e),this.state={}}get restAttributes(){return tu(this.props,_g)}render(){return Dp(Ep(2,mg,K({componentType:Hh,componentProps:this.props,templateNames:[]},this.restAttributes)))}}vg.defaultProps=gg;const yg=["accessKey","activeStateEnabled","aria","children","className","classes","defaultValue","disabled","focusStateEnabled","height","hint","hoverStateEnabled","inputAttr","isDirty","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","tabIndex","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],bg=K({},Vm,{readOnly:!1,name:"",validationError:null,validationErrors:null,validationMessageMode:"auto",validationMessagePosition:"bottom",validationStatus:"valid",isValid:!0,isDirty:!1,inputAttr:{},defaultValue:null,valueChange:()=>{}});class Cg extends Yf{constructor(e){super(e),this.state={},this.widgetRef={current:null},this.rootElementRef={current:null},this.__getterCache={},this.state={validationMessageGuid:`dx-${new ce}`,isValidationMessageVisible:!1,value:void 0!==this.props.value?this.props.value:this.props.defaultValue},this.updateValidationMessageVisibility=this.updateValidationMessageVisibility.bind(this),this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onFocusIn=this.onFocusIn.bind(this)}createEffects(){return[new Xf(this.updateValidationMessageVisibility,[this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors]),Jf()]}updateEffects(){var e;null===(e=this._effects)||void 0===e||null===(e=e[0])||void 0===e||e.update([this.props.isValid,this.props.validationStatus,this.props.validationError,this.props.validationErrors])}updateValidationMessageVisibility(){this.setState(()=>({isValidationMessageVisible:this.shouldShowValidationMessage}))}onFocusIn(e){const{onFocusIn:t}=this.props;null===t||void 0===t||t(e)}get cssClasses(){return`${(e=>{const{classes:t,isValid:n,readOnly:i}=e;return jm({"dx-state-readonly":!!i,"dx-invalid":!n,[String(t)]:!!t})})(K({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value}))}`}get shouldShowValidationMessage(){const{isValid:e,validationStatus:t}=this.props,n=this.validationErrors??[];return!(e&&"invalid"!==t)&&n.length>0}get aria(){const{isValid:e,readOnly:t}=this.props,n={readonly:t?"true":"false",invalid:e?"false":"true"};return this.shouldShowValidationMessage&&(n.describedBy=this.state.validationMessageGuid),K({},n,this.props.aria)}get validationErrors(){return void 0!==this.__getterCache.validationErrors?this.__getterCache.validationErrors:this.__getterCache.validationErrors=(()=>{const{validationError:e,validationErrors:t}=this.props;let n=t&&[...t];return!n&&e&&(n=[K({},e)]),n})()}get validationMessageTarget(){var e;return null===(e=this.rootElementRef)||void 0===e?void 0:e.current}get restAttributes(){return tu(this.props,yg)}focus(){this.widgetRef.current.focus()}blur(){this.widgetRef.current.blur()}componentWillUpdate(e){super.componentWillUpdate(),this.props.validationError===e.validationError&&this.props.validationErrors===e.validationErrors||(this.__getterCache.validationErrors=void 0)}render(){return Dp(Ep(2,zm,K({rootElementRef:this.rootElementRef,aria:this.aria,classes:this.cssClasses,activeStateEnabled:this.props.activeStateEnabled,focusStateEnabled:this.props.focusStateEnabled,hoverStateEnabled:this.props.hoverStateEnabled,accessKey:this.props.accessKey,className:this.props.className,rtlEnabled:this.props.rtlEnabled,hint:this.props.hint,disabled:this.props.disabled,height:this.props.height,width:this.props.width,onFocusIn:this.props.onFocusIn,onClick:this.props.onClick,onKeyDown:this.props.onKeyDown,tabIndex:this.props.tabIndex,visible:this.props.visible},this.restAttributes,{children:kp([this.props.children,this.state.isValidationMessageVisible&&Ep(2,vg,{validationErrors:this.validationErrors,mode:this.props.validationMessageMode,positionSide:this.props.validationMessagePosition,rtlEnabled:this.props.rtlEnabled,target:this.validationMessageTarget,boundary:this.validationMessageTarget,visualContainer:this.validationMessageTarget,contentId:this.state.validationMessageGuid})],0)}),null,this.widgetRef))}}Cg.defaultProps=bg;const xg=["accessKey","activeStateEnabled","aria","className","classes","defaultValue","disabled","enableThreeStateBehavior","focusStateEnabled","height","hint","hoverStateEnabled","iconSize","inputAttr","isDirty","isValid","name","onClick","onFocusIn","onKeyDown","readOnly","rtlEnabled","saveValueChangeEvent","tabIndex","text","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","value","valueChange","visible","width"],Sg=K({},bg,{text:"",enableThreeStateBehavior:!1,activeStateEnabled:!0,hoverStateEnabled:!0,get focusStateEnabled(){return"desktop"===Is.real().deviceType&&!Is.isSimulator()},defaultValue:!1,valueChange:()=>{}});class wg extends Yf{constructor(e){super(e),this.editorRef={current:null},this.state={value:void 0!==this.props.value?this.props.value:this.props.defaultValue},this.focus=this.focus.bind(this),this.blur=this.blur.bind(this),this.onWidgetClick=this.onWidgetClick.bind(this),this.keyDown=this.keyDown.bind(this)}createEffects(){return[Jf()]}onWidgetClick(e){const{enableThreeStateBehavior:t,readOnly:n,saveValueChangeEvent:i}=this.props;if(!n)if(null===i||void 0===i||i(e),t){var r,o;let e;this.setState(t=>(e=null===(void 0!==this.props.value?this.props.value:t.value)||!(void 0!==this.props.value?this.props.value:t.value)&&null,{value:e})),null===(r=(o=this.props).valueChange)||void 0===r||r.call(o,e)}else{var s,a;let e;this.setState(t=>(e=!(void 0!==this.props.value?this.props.value:t.value),{value:e})),null===(s=(a=this.props).valueChange)||void 0===s||s.call(a,e)}}keyDown(e){const{onKeyDown:t}=this.props,{keyName:n,originalEvent:i,which:r}=e,o=null===t||void 0===t?void 0:t(e);if(null!==o&&void 0!==o&&o.cancel)return o;"space"!==n&&"space"!==r||(i.preventDefault(),this.onWidgetClick(i))}get cssClasses(){return(e=>{const{text:t,value:n}=e;return jm({"dx-checkbox":!0,"dx-checkbox-checked":!0===n,"dx-checkbox-has-text":!!t,"dx-checkbox-indeterminate":null===n})})(K({},this.props,{value:void 0!==this.props.value?this.props.value:this.state.value}))}get aria(){const e=!0===(void 0!==this.props.value?this.props.value:this.state.value);return K({},{role:"checkbox",checked:null===(void 0!==this.props.value?this.props.value:this.state.value)?"mixed":`${e}`},this.props.aria)}get restAttributes(){return tu(this.props,xg)}focus(){this.editorRef.current.focus()}blur(){this.editorRef.current.blur()}render(){const e=void 0!==this.props.value?this.props.value:this.state.value;return Dp(Ep(2,Cg,K({aria:this.aria,classes:this.cssClasses,onClick:this.onWidgetClick,onKeyDown:this.keyDown,accessKey:this.props.accessKey,activeStateEnabled:this.props.activeStateEnabled,focusStateEnabled:this.props.focusStateEnabled,hoverStateEnabled:this.props.hoverStateEnabled,className:this.props.className,disabled:this.props.disabled,readOnly:this.props.readOnly,hint:this.props.hint,height:this.props.height,width:this.props.width,rtlEnabled:this.props.rtlEnabled,tabIndex:this.props.tabIndex,visible:this.props.visible,validationError:this.props.validationError,validationErrors:this.props.validationErrors,validationMessageMode:this.props.validationMessageMode,validationMessagePosition:this.props.validationMessagePosition,validationStatus:this.props.validationStatus,isValid:this.props.isValid,onFocusIn:this.props.onFocusIn},this.restAttributes,{children:kp([Dp(wp(64,"input",null,null,1,K({type:"hidden",value:`${e}`},this.props.name&&{name:this.props.name}))),wp(1,"div","dx-checkbox-container",[Ep(2,rg,{size:this.props.iconSize,isChecked:!0===e}),this.props.text&&wp(1,"span","dx-checkbox-text",this.props.text,0)],0)],4)}),null,this.editorRef))}}wg.defaultProps=Sg;const Eg=[];const Ig=Kh;const kg="dx-invalid-message-auto",Dg="dx-validation-target";class Og extends f_{getProps(){const e=super.getProps();return e.onFocusIn=()=>{if("auto"===this.option("validationMessageMode")){const e=Si(function(e,t){var n;return((null===(n=e.getRootNode)||void 0===n?void 0:n.call(e))??document).querySelector(t)}(this.element(),".dx-invalid-message.dx-overlay-wrapper"));null===e||void 0===e||e.removeClass(kg);const t=150;this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout),this.showValidationMessageTimeout=setTimeout(()=>{null===e||void 0===e||e.addClass(kg)},t)}},e.saveValueChangeEvent=e=>{this._valueChangeEventInstance=e},e}_createElement(e){super._createElement(e),this.showValidationMessageTimeout=void 0,this.validationRequest=s(),un(this.$element()[0],Dg,this)}_render(){var e;null===(e=this.option("_onMarkupRendered"))||void 0===e||e()}_init(){super._init(),this._initialValue=this.option("value")}_initializeComponent(){super._initializeComponent(),this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]})}_initOptions(e){super._initOptions(e),this.option(rh.initValidationOptions(e))}_getDefaultOptions(){return A(super._getDefaultOptions(),{validationMessageOffset:{h:0,v:0},validationTooltipOptions:{}})}_bindInnerWidgetOptions(e,t){const n=A({},e.option()),i=()=>this._silent(t,n);i(),e.on("optionChanged",i)}_raiseValidation(e,t){const n=!_(e)&&!_(t);e===t||n||this.validationRequest.fire({value:e,editor:this})}_raiseValueChangeAction(e,t){var n;null===(n=this._valueChangeAction)||void 0===n||n.call(this,{element:this.$element(),previousValue:t,value:e,event:this._valueChangeEventInstance}),this._valueChangeEventInstance=void 0}_optionChanged(e){const{name:t,previousValue:n,value:i}=e;switch(t&&void 0!==this._getActionConfigs()[t]&&this._addAction(t),t){case"value":this._raiseValidation(i,n),this.option("isDirty",this._initialValue!==i),this._raiseValueChangeAction(i,n);break;case"onValueChanged":this._valueChangeAction=this._createActionByOption("onValueChanged",{excludeValidators:["disabled","readOnly"]});break;case"isValid":case"validationError":case"validationErrors":case"validationStatus":this.option(rh.synchronizeValidationOptions(e,this.option()))}super._optionChanged(e)}clear(){const{value:e}=this._getDefaultOptions();this.option({value:e})}reset(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;arguments.length&&(this._initialValue=e),this.option("value",this._initialValue),this.option("isDirty",!1),this.option("isValid",!0)}_dispose(){super._dispose(),un(this.element(),Dg,null),this.showValidationMessageTimeout&&clearTimeout(this.showValidationMessageTimeout)}}const Tg=Ig.isEditor,Ag=e=>Tg(e)||e instanceof Og;Og.isEditor=Ag,Ig.isEditor=Ag;class Pg extends Og{_useTemplates(){return!1}_isFocused(){return this.$element()[0].classList.contains("dx-state-focused")}getSupportedKeyNames(){return["space"]}getProps(){const e=super.getProps();return null!==e.value&&(e.value=Boolean(e.value)),e}}class Mg extends Pg{getProps(){const e=super.getProps();return e.onKeyDown=this._wrapKeyDownHandler(e.onKeyDown),e}focus(){var e;return null===(e=this.viewRef)||void 0===e?void 0:e.focus(...arguments)}blur(){var e;return null===(e=this.viewRef)||void 0===e?void 0:e.blur(...arguments)}_getActionConfigs(){return{onFocusIn:{},onClick:{}}}get _propsInfo(){return{twoWay:[["value","defaultValue","valueChange"]],allowNull:["defaultValue","validationError","validationErrors","value"],elements:[],templates:[],props:["text","iconSize","enableThreeStateBehavior","activeStateEnabled","hoverStateEnabled","focusStateEnabled","saveValueChangeEvent","defaultValue","valueChange","readOnly","name","validationError","validationErrors","validationMessageMode","validationMessagePosition","validationStatus","isValid","isDirty","inputAttr","onFocusIn","className","accessKey","disabled","height","hint","onClick","onKeyDown","rtlEnabled","tabIndex","visible","width","aria","value"]}}get _viewComponent(){return wg}}Mi("dxCheckBox",Mg),Mg.defaultOptions=function(e){Eg.push(e),wg.defaultProps=Object.create(Object.prototype,Object.assign(Object.getOwnPropertyDescriptors(wg.defaultProps),Object.getOwnPropertyDescriptors(function(e){const t=["value"];return Object.keys(e).reduce((n,i)=>{const r=e[i],o=t.some(e=>e===i)?`default${i.charAt(0).toUpperCase()}${i.slice(1)}`:i;return n[o]=r,n},{})}(Ml(Eg)))))};const Rg=Mg;class Bg extends Gu{constructor(e,t,n,i){super(),this._render=e,this._fields=t,this._fieldsMap=i||{},this._watchMethod=n}_renderCore(e){const t=Si(e.container),n=function(e,t,n,i,r){let o;const s=((e,t,n)=>t(()=>e,n))(e,t,e=>{o&&o(),S(e)?r(e):o=function(e,t,n,i,r){const o={},s=n.slice(),a=n.map(n=>{const a=i[n];return t(a?()=>a(e):()=>e[n],e=>{if(o[n]=e,s.length){const e=s.indexOf(n);e>=0&&s.splice(e,1)}s.length||r(o)})});return function(){a.forEach(e=>e())}}(e,t,n,i,r)});return function(){o&&o(),s&&s()}}(e.model,this._watchMethod,this._fields,this._fieldsMap,n=>{t.empty(),this._render(t,n,e.model)});return rn.on(t,Ii,n),t.contents()}}const Ng=j(W.ERROR_MESSAGES,{E4000:"[DevExpress.data]: {0}",E4001:"Unknown aggregating function is detected: '{0}'",E4002:"Unsupported OData protocol version is used",E4003:"Unknown filter operation is used: {0}",E4004:"The thenby() method is called before the sortby() method",E4005:"Store requires a key expression for this operation",E4006:"ArrayStore 'data' option must be an array",E4007:"Compound keys cannot be auto-generated",E4008:"Attempt to insert an item with a duplicated key",E4009:"Data item cannot be found",E4010:"CustomStore does not support creating queries",E4011:"Custom Store method is not implemented or is not a function: {0}",E4012:"Custom Store method returns an invalid value: {0}",E4013:"Local Store requires the 'name' configuration option is specified",E4014:"Unknown data type is specified for ODataStore: {0}",E4015:"Unknown entity name or alias is used: {0}",E4016:"The compileSetter(expr) method is called with 'self' passed as a parameter",E4017:"Keys cannot be modified",E4018:"The server has returned a non-numeric value in a response to an item count request",E4019:"Mixing of group operators inside a single group of filter expression is not allowed",E4020:"Unknown store type is detected: {0}",E4021:"The server response does not provide the totalCount value",E4022:"The server response does not provide the groupCount value",E4023:"Could not parse the following XML: {0}",E4024:"String function {0} cannot be used with the data field {1} of type {2}.",W4000:"Data returned from the server has an incorrect structure",W4001:'The {0} field is listed in both "keyType" and "fieldTypes". The value of "fieldTypes" is used.',W4002:"Data loading has failed for some cells due to the following error: {0}"});let Fg=null;const $g=function(e){var t;null===(t=Fg)||void 0===t||t(e)},Hg=kr.add,Lg="DEVEXTREME_XHR_ERROR_UNLOAD",Vg=function(e){return Array.isArray(e)||(e=[e]),a(e,e=>{const t={selector:g(e)||"string"===typeof e?e:e.getter||e.field||e.selector,desc:!(!e.desc&&"d"!==String(e.dir).charAt(0).toLowerCase())};return e.compare&&(t.compare=e.compare),t})},zg=function(){const e={timeout:"Network connection timeout",error:"Unspecified network error",parsererror:"Unexpected server response"};let t;return Hg(()=>{const e=St();mt.listen(e,"beforeunload",()=>{t=!0})}),function(n,i){return t?Lg:n.status<400?function(t){let n=e[t];return n||t}(i):n.statusText}}(),jg={count:{seed:0,step:e=>1+e},sum:{seed:0,step:(e,t)=>e+t},min:{step:(e,t)=>t<e?t:e},max:{step:(e,t)=>t>e?t:e},avg:{seed:[0,0],step:(e,t)=>[e[0]+t,e[1]+1],finalize:e=>e[1]?e[0]/e[1]:NaN}},Wg=function(){let e,t=0;return{obtain:function(){0===t&&(e=new Re),t++},release:function(){t--,t<1&&e.resolve()},promise:function(){return(0===t?(new Re).resolve():e).promise()},reset:function(){t=0,e&&e.resolve()}}}();const Kg=function(e,t,n){if(Array.isArray(e)){const e=a(t,(e,t)=>t);let i;for(let r=0;r<e.length;r++)if(i=e[r],!st(t[i],n[i],{strict:!1}))return!1;return!0}return st(t,n,{strict:!1})};const Ug=function(){const e=new Re;return e.resolve.apply(e,arguments).promise()},qg=function(){const e=new Re;return e.reject.apply(e,arguments).promise()};function Gg(e,t){let n=[];const i=function(e,t){let n;return function(){return n||(n=setTimeout(()=>{n=void 0,e.call(this)},g(t)?t():t)),n}}(function(){e.call(this,n),n=[]},t);return function(e){return Array.isArray(e)&&n.push(...e),i.call(this,n)}}function Zg(e,t,n,i){let r,o;if(i){for(let s=0;s<t.length;s++)if(r=t[s].items||t[s].collapsedItems||[],o=Zg(e,r||[],n,i-1),o)return o}else if(ov(e,t,n)>=0)return t}function Yg(e,t,n,i){return i?Zg(e,t,n,i)||[]:t}function Qg(e,t,n){e._dataByKeyMap&&(e._dataByKeyMap[JSON.stringify(t)]=n,e._dataByKeyMapLength+=n?1:-1)}function Xg(e,t,n){n=n||new WeakMap;const i=e?Object.create(Object.getPrototypeOf(e)):{};e&&n.set(e,i);const r=K({},e);_e(i,r,!0,!0,!0);for(const o in r){const e=r[o],s=null===t||void 0===t?void 0:t[o];b(e)&&!x(e)&&b(s)&&!n.has(e)&&(i[o]=Xg(e,s,n))}for(const o in i){const e=i[o];b(e)&&n.has(e)&&(i[o]=n.get(e))}return i}function Jg(e,t){const n=Xg(e,t);return _e(n,t,!0,!0,!0)}function ev(e){let{keyInfo:t,data:n,changes:i,groupCount:r,useInsertIndex:o,immutable:s,disableCache:a,logError:l,skipCopying:c}=e;const u=!0===s?[...n]:n;return i.forEach(e=>{const n="insert"===e.type?u:Yg(t,u,e.key,r);switch(!a&&function(e,t){if(e.key()&&(!t._dataByKeyMap||t._dataByKeyMapLength!==t.length)){const n={},i=t.length;for(let r=0;r<i;r++)n[JSON.stringify(e.keyOf(t[r]))]=t[r];t._dataByKeyMap=n,t._dataByKeyMapLength=i}}(t,n),e.type){case"update":nv(t,n,e.key,e.data,!0,s,l);break;case"insert":iv(t,n,e.data,o&&_(e.index)?e.index:-1,!0,l,c);break;case"remove":rv(t,n,e.key,!0,l)}}),u}function tv(e,t,n){return e?t&&Ng.log(n):qg(Ng.Error(n))}function nv(e,t,n,i,r,o,s){let a;const l=e.key();if(l){if(function(e,t){let n;const i="string"===typeof t?t.split():t.slice();for(;i.length;)if(n=i.shift(),n in e)return!0;return!1}(i,l)&&!Kg(l,n,e.keyOf(i)))return tv(r,s,"E4017");if(a=function(e,t){if(e._dataByKeyMap)return e._dataByKeyMap[JSON.stringify(t)]}(t,n),!a){const l=ov(e,t,n);if(l<0)return tv(r,s,"E4009");if(a=t[l],!0===o&&_(a)){const e=Jg(a,i);return t[l]=e,!r&&Ug(e,n)}}}else a=n;if(_e(a,i,!0,!1,!0,!0),!r)return le().useLegacyStoreResult?Ug(n,i):Ug(a,n)}function iv(e,t,n,i,r,o,s){let a;const l=e.key(),c=x(n)&&!s?A({},n):n;if(l){if(a=e.keyOf(c),void 0===a||"object"===typeof a&&C(a)){if(Array.isArray(l))throw Ng.Error("E4007");a=c[l]=String(new ce)}else if(void 0!==t[ov(e,t,a)])return tv(r,o,"E4008")}else a=c;if(i>=0?t.splice(i,0,c):t.push(c),Qg(t,a,c),!r)return Ug(le().useLegacyStoreResult?n:c,a)}function rv(e,t,n,i,r){const o=ov(e,t,n);return o>-1&&(t.splice(o,1),Qg(t,n,null)),i?o<0?tv(i,r,"E4009"):void 0:Ug(n)}function ov(e,t,n){const i=e.key();if(!function(e,t){return!e._dataByKeyMap||e._dataByKeyMap[JSON.stringify(t)]}(t,n))return-1;for(let r=0,o=t.length;r<o;r++)if(Kg(i,e.keyOf(t[r]),n))return r;return-1}const sv=ie.inherit({toArray(){const e=[];for(this.reset();this.next();)e.push(this.current());return e},countable:()=>!1}),av=sv.inherit({ctor(e){this.array=e,this.index=-1},next(){return this.index+1<this.array.length&&(this.index++,!0)},current(){return this.array[this.index]},reset(){this.index=-1},toArray(){return this.array.slice(0)},countable:()=>!0,count(){return this.array.length}}),lv=sv.inherit({ctor(e){this.iter=e},next(){return this.iter.next()},current(){return this.iter.current()},reset(){return this.iter.reset()}}),cv=lv.inherit({ctor(e,t){this.callBase(e),this.index=-1,this.mapper=t},current(){return this.mapper(this.callBase(),this.index)},next(){const e=this.callBase();return e&&this.index++,e}}),uv=sv.inherit({ctor(e,t,n,i){this.langParams=e.langParams,e instanceof cv||((e=new cv(e,this._wrap)).langParams=this.langParams),this.iter=e,this.rules=[{getter:t,desc:n,compare:i,langParams:this.langParams}]},thenBy(e,t,n){const i=new uv(this.sortedIter||this.iter,e,t,n);return this.sortedIter||(i.rules=this.rules.concat(i.rules)),i},next(){return this._ensureSorted(),this.sortedIter.next()},current(){return this._ensureSorted(),this.sortedIter.current()},reset(){delete this.sortedIter},countable(){return this.sortedIter||this.iter.countable()},count(){return this.sortedIter?this.sortedIter.count():this.iter.count()},_ensureSorted(){const e=this;e.sortedIter||(l(e.rules,function(){this.getter=we(this.getter)}),e.sortedIter=new cv(new av(this.iter.toArray().sort((t,n)=>e._compare(t,n))),e._unwrap))},_wrap:(e,t)=>({index:t,value:e}),_unwrap:e=>e.value,_getDefaultCompare:e=>(t,n)=>function(e,t,n){return v(e)&&v(t)&&(null!==n&&void 0!==n&&n.locale||null!==n&&void 0!==n&&n.collatorOptions)?new Intl.Collator((null===n||void 0===n?void 0:n.locale)||void 0,(null===n||void 0===n?void 0:n.collatorOptions)||void 0).compare(e,t):(e=Oe(e,!1,n),t=Oe(t,!1,n),null===e&&null!==t?-1:null!==e&&null===t||void 0===e&&void 0!==t?1:void 0!==e&&void 0===t||e<t?-1:e>t?1:0)}(t,n,e),_compare(e,t){const n=e.index,i=t.index;if((e=e.value)===(t=t.value))return n-i;for(let r=0,o=this.rules.length;r<o;r++){const n=this.rules[r],i=n.getter(e),o=n.getter(t),s=(n.compare||this._getDefaultCompare(n.langParams))(i,o);if(s)return n.desc?-s:s}return n-i}}),dv=function(){let e={};const t=t=>Oe(t,!1,e),n=function(n){if(function(e){if(e.length>2&&Array.isArray(e[0])&&"or"===e[1]&&"string"===typeof e[0][0]&&"="===e[0][1]){const[t]=e[0];return!e.find((e,n)=>n%2!==0?"or"!==e:!Array.isArray(e)||3!==e.length||e[0]!==t||"="!==e[1])}return!1}(n))return(e=>{const n=we(e[0][0]),i=e.reduce((e,n,i)=>(i%2===0&&e.push(t(n[2])),e),[]);return e=>{const r=t(n(e));return i.some(e=>o(e)?r===e:r==e)}})(n);const i=[];let r=!1,s=!1;return l(n,function(){if(Array.isArray(this)||g(this)){if(i.length>1&&r!==s)throw Ng.Error("E4019");i.push(dv(this,e)),r=s,s=!0}else s=/^(and|&&|&)$/i.test(this)}),function(e){let t=r;for(let n=0;n<i.length;n++)if(i[n](e)!==r){t=!r;break}return t}},i=function(t){var n;return _(t)?null!==(n=e)&&void 0!==n&&n.locale?t.toLocaleString(e.locale):t.toString():""};function r(e,n,i){return function(r){r=t(e(r));let s=o(n)?r===n:r==n;return i&&(s=!s),s}}function o(e){return""===e||0===e||!1===e}return function(o,s){return e=s||{},g(o)?o:function(e){const t=e[0],n=e[1];return!!Array.isArray(t)||!(!g(t)||!(Array.isArray(n)||g(n)||function(e){return"and"===e||"or"===e}(n)))}(o)?n(o):function(e){return"!"===e[0]&&Array.isArray(e[1])}(o)?function(t){const n=t[0],i=dv(t[1],e);if("!"===n)return function(e){return!i(e)};throw Ng.Error("E4003",n)}(o):function(e){e=function(e){return[e[0],e.length<3?"=":String(e[1]).toLowerCase(),e.length<2||e[e.length-1]]}(e);const n=we(e[0]),o=e[1];let s=e[2];s=t(s);const a=(e,i)=>(e=t(n(e)),(null!=s&&null!=e||s===e)&&i(e,s));switch(o.toLowerCase()){case"=":return r(n,s);case"<>":return r(n,s,!0);case">":return e=>a(e,(e,t)=>e>t);case"<":return e=>a(e,(e,t)=>e<t);case">=":return e=>a(e,(e,t)=>e>=t);case"<=":return e=>a(e,(e,t)=>e<=t);case"startswith":return e=>t(i(n(e))).startsWith(s);case"endswith":return e=>t(i(n(e))).endsWith(s);case"contains":return e=>t(i(n(e))).includes(s);case"notcontains":return e=>!t(i(n(e))).includes(s)}throw Ng.Error("E4003",o)}(o)}}(),hv=lv.inherit({ctor(e,t){this.callBase(e),this.langParams=e.langParams,this.criteria=dv(t,this.langParams)},next(){for(;this.iter.next();)if(this.criteria(this.current()))return!0;return!1}}),pv=sv.inherit({ctor(e,t){this.iter=e,this.getter=t},next(){return this._ensureGrouped(),this.groupedIter.next()},current(){return this._ensureGrouped(),this.groupedIter.current()},reset(){delete this.groupedIter},countable(){return!!this.groupedIter},count(){return this.groupedIter.count()},_ensureGrouped(){if(this.groupedIter)return;const e={},t=[],{iter:n}=this,i=we(this.getter);for(n.reset();n.next();){const r=n.current(),o=i(r);o in e?e[o].push(r):(e[o]=[r],t.push(o))}this.groupedIter=new av(a(t,t=>({key:t,items:e[t]})))}}),fv=lv.inherit({ctor(e,t){this.callBase(e),this.getter=we(t)},current(){return this.getter(this.callBase())},countable(){return this.iter.countable()},count(){return this.iter.count()}}),mv=lv.inherit({ctor(e,t,n){this.callBase(e),this.skip=Math.max(0,t),this.take=Math.max(0,n),this.pos=0},next(){if(this.pos>=this.skip+this.take)return!1;for(;this.pos<this.skip&&this.iter.next();)this.pos++;return this.pos++,this.iter.next()},reset(){this.callBase(),this.pos=0},countable(){return this.iter.countable()},count(){return Math.min(this.iter.count()-this.skip,this.take)}}),_v=function(e,t){t=t||{},e instanceof sv||(e=new av(e)),t.langParams&&(e.langParams=t.langParams);const n=function(e){const n=t.errorHandler;n&&n(e),$g(e)},i=function(t){const i=(new Re).fail(n);let r;const{step:o}=t,{finalize:s}=t;try{e.reset(),r="seed"in t?t.seed:e.next()?e.current():NaN;let n=r;for(;e.next();)n=o(n,e.current());i.resolve(s?s(n):n)}catch(a){i.reject(a)}return i.promise()},r=function(e){return i(jg[e])},o=function(t){return g(t)||Array.isArray(t)||(t=[].slice.call(arguments)),a(new fv(e,t))},s=function(e){return o(we(e))};function a(e){return _v(e,t)}return{toArray:()=>e.toArray(),enumerate(){const t=(new Re).fail(n);try{t.resolve(e.toArray())}catch(i){t.reject(i)}return t.promise()},setLangParams(t){e.langParams=t},sortBy:(t,n,i)=>a(new uv(e,t,n,i)),thenBy(t,n,i){if(e instanceof uv)return a(e.thenBy(t,n,i));throw Ng.Error("E4004")},filter(t){return Array.isArray(t)||(t=[].slice.call(arguments)),a(new hv(e,t))},slice:(t,n)=>(void 0===n&&(n=Number.MAX_VALUE),a(new mv(e,t,n))),select:o,groupBy:t=>a(new pv(e,t)),aggregate:function(e,t,n){return i(arguments.length<2?{step:arguments[0]}:{seed:e,step:t,finalize:n})},count(){if(e.countable()){const i=(new Re).fail(n);try{i.resolve(e.count())}catch(t){i.reject(t)}return i.promise()}return r("count")},sum:e=>e?s(e).sum():r("sum"),min:e=>e?s(e).min():r("min"),max:e=>e?s(e).max():r("max"),avg:e=>e?s(e).avg():r("avg")}},gv=_v;function vv(e,t){return e=e.groupBy(t[0].selector),t.length>1&&(e=e.select(e=>A({},e,{items:vv(gv(e.items),t.slice(1)).toArray()}))),e}function yv(e,t){const n=[];return l(e,(e,i)=>{it(t,e=>i.selector===e.selector).length<1&&n.push(i)}),n.concat(t)}const bv={multiLevelGroup:vv,arrangeSortingInfo:yv,queryByOptions:function(e,t,n){var i;t=t||{};const{filter:r}=t;var o,s;if(null!==(i=t)&&void 0!==i&&i.langParams&&(null===(o=(s=e).setLangParams)||void 0===o||o.call(s,t.langParams)),r&&(e=e.filter(r)),n)return e;let{sort:a}=t;const{select:c}=t;let{group:u}=t;const{skip:d}=t,{take:h}=t;return u&&(u=Vg(u),u.keepInitialKeyOrder=!!t.group.keepInitialKeyOrder),(a||u)&&(a=Vg(a||[]),u&&!u.keepInitialKeyOrder&&(a=yv(u,a)),l(a,function(t){e=e[t?"thenBy":"sortBy"](this.selector,this.desc,this.compare)})),c&&(e=e.select(c)),u&&(e=vv(e,u)),(h||d)&&(e=e.slice(d||0,h)),e}},{abstract:Cv}=ie,{queryByOptions:xv}=bv,Sv={},wv=ie.inherit({_langParams:{},ctor(e){const t=this;e=e||{},this._eventsStrategy=new Fr(this),l(["onLoaded","onLoading","onInserted","onInserting","onUpdated","onUpdating","onPush","onRemoved","onRemoving","onModified","onModifying"],(n,i)=>{i in e&&t.on(i.slice(2).toLowerCase(),e[i])}),this._key=e.key,this._errorHandler=e.errorHandler,this._useDefaultSearch=!0},_clearCache:tt,_customLoadOptions:()=>null,key(){return this._key},keyOf(e){return this._keyGetter||(this._keyGetter=we(this.key())),this._keyGetter(e)},_requireKey(){if(!this.key())throw Ng.Error("E4005")},load(e){const t=this;return e=e||{},this._eventsStrategy.fireEvent("loading",[e]),this._withLock(this._loadImpl(e)).done(n=>{t._eventsStrategy.fireEvent("loaded",[n,e])})},_loadImpl(e){return C(this._langParams)||((e=e||{})._langParams=K({},this._langParams,e._langParams)),xv(this.createQuery(e),e).enumerate()},_withLock(e){const t=new Re;return e.done(function(){const e=this,n=arguments;Wg.promise().done(()=>{t.resolveWith(e,n)})}).fail(function(){t.rejectWith(this,arguments)}),t},createQuery:Cv,totalCount(e){return this._totalCountImpl(e)},_totalCountImpl(e){return xv(this.createQuery(e),e,!0).count()},byKey(e,t){return this._addFailHandlers(this._withLock(this._byKeyImpl(e,t)))},_byKeyImpl:Cv,insert(e){const t=this;return t._eventsStrategy.fireEvent("modifying"),t._eventsStrategy.fireEvent("inserting",[e]),t._addFailHandlers(t._insertImpl(e).done((e,n)=>{t._eventsStrategy.fireEvent("inserted",[e,n]),t._eventsStrategy.fireEvent("modified")}))},_insertImpl:Cv,update(e,t){const n=this;return n._eventsStrategy.fireEvent("modifying"),n._eventsStrategy.fireEvent("updating",[e,t]),n._addFailHandlers(n._updateImpl(e,t).done(()=>{n._eventsStrategy.fireEvent("updated",[e,t]),n._eventsStrategy.fireEvent("modified")}))},_updateImpl:Cv,push(e){const t={changes:e,waitFor:[]};this._eventsStrategy.fireEvent("beforePushAggregation",[t]),Be(...t.waitFor).done(()=>{this._pushImpl(e),this._eventsStrategy.fireEvent("beforePush",[{changes:e}]),this._eventsStrategy.fireEvent("push",[e])})},_pushImpl:tt,remove(e){const t=this;return t._eventsStrategy.fireEvent("modifying"),t._eventsStrategy.fireEvent("removing",[e]),t._addFailHandlers(t._removeImpl(e).done(e=>{t._eventsStrategy.fireEvent("removed",[e]),t._eventsStrategy.fireEvent("modified")}))},_removeImpl:Cv,_addFailHandlers(e){return e.fail(this._errorHandler).fail($g)},on(e,t){return this._eventsStrategy.on(e,t),this},off(e,t){return this._eventsStrategy.off(e,t),this}});var Ev;wv.create=function(e,t){if(!(e in Sv))throw Ng.Error("E4020",e);return new Sv[e](t)},wv.registerClass=function(e,t){return t&&(Sv[t]=e),e},wv.inherit=(Ev=wv.inherit,function(e,t){const n=Ev.apply(this,[e]);return wv.registerClass(n,t),n});const Iv=wv,kv="totalCount",Dv="load",Ov="byKey",Tv="insert",Av="update",Pv="remove";function Mv(e){return e&&g(e.then)}function Rv(e){return(new Re).resolve(e).promise()}function Bv(e,t){if(!g(t))throw Ng.Error("E4011",e)}function Nv(e){throw Ng.Error("E4012",e)}function Fv(e){return function(t){let n;n=t instanceof Error?t:new Error(function(e){const t=e[0],n=e[1];return t&&t.getResponseHeader?zg(t,n):null}(arguments)||t&&String(t)||"Unknown error"),n.message!==Lg&&e.reject(n)}}function $v(e,t){const n=e._loadFunc;let i;return Bv(Dv,n),i=n.apply(e,[t]),Array.isArray(i)?i=Rv(i):null===i||void 0===i?i=Rv([]):Mv(i)||Nv(Dv),Pe(i)}function Hv(e,t,n,i){if(t.__rawData)i(t.__rawData);else{const r=t.__rawDataPromise||$v(t,n);t._cacheRawData&&(t.__rawDataPromise=r),r.always(()=>{delete t.__rawDataPromise}).done(e=>{t._cacheRawData&&(t.__rawData=e),i(e)}).fail(n=>{var i;const r=Fv(e);null===(i=t._errorHandler)||void 0===i||i.call(t,n),r(n)})}}function Lv(e,t,n,i){const r={};"userData"in(n=n||{})&&(r.userData=n.userData),Hv(e,t,r,r=>{const o=gv(r,{errorHandler:t._errorHandler});let s,a;const l=[];let c,u;i||(s=bv.queryByOptions(o,n),s===o?c=r.slice(0):l.push(s.enumerate().done(e=>{c=e}))),(n.requireTotalCount||i)&&(a=bv.queryByOptions(o,n,!0),a===o?u=r.length:l.push(a.count().done(e=>{u=e}))),Be.apply(Si,l).done(()=>{i?e.resolve(u):n.requireTotalCount?e.resolve(c,{totalCount:u}):e.resolve(c)}).fail(t=>{e.reject(t)})})}const Vv=Iv.inherit({ctor(e){e=e||{},this.callBase(e),this._useDefaultSearch=!!e.useDefaultSearch||"raw"===e.loadMode,this._loadMode=e.loadMode,this._cacheRawData=!1!==e.cacheRawData,this._loadFunc=e[Dv],this._totalCountFunc=e[kv],this._byKeyFunc=e[Ov],this._insertFunc=e[Tv],this._updateFunc=e[Av],this._removeFunc=e[Pv]},_clearCache(){delete this.__rawData},createQuery(){throw Ng.Error("E4010")},clearRawDataCache(){this._clearCache()},_totalCountImpl(e){let t=new Re;return"raw"!==this._loadMode||this._totalCountFunc?(function(e,t){const n=e._totalCountFunc;let i;if(!g(n))throw Ng.Error("E4021");return i=n.apply(e,[t]),Mv(i)||(i=Number(i),isFinite(i)||Nv(kv),i=Rv(i)),Pe(i)}(this,e).done(e=>{t.resolve(Number(e))}).fail(Fv(t)),t=this._addFailHandlers(t)):Lv(t,this,e,!0),t.promise()},_pushImpl(e){this.__rawData&&ev({keyInfo:this,data:this.__rawData,changes:e})},_loadImpl(e){let t=new Re;return"raw"===this._loadMode?Lv(t,this,e,!1):($v(this,e).done((e,n)=>{t.resolve(e,n)}).fail(Fv(t)),t=this._addFailHandlers(t)),t.promise()},_byKeyImpl(e,t){const n=new Re;return this._byKeyViaLoad()?(this._requireKey(),function(e,t,n){Hv(e,t,{},i=>{const r=t.key();let o;for(let s=0,a=i.length;s<a;s++)if(o=i[s],Kg(r,t.keyOf(i[s]),n))return void e.resolve(o);e.reject(Ng.Error("E4009"))})}(n,this,e)):function(e,t,n){const i=e._byKeyFunc;let r;return Bv(Ov,i),r=i.apply(e,[t,n]),Mv(r)||(r=Rv(r)),Pe(r)}(this,e,t).done(e=>{n.resolve(e)}).fail(Fv(n)),n.promise()},_byKeyViaLoad(){return"raw"===this._loadMode&&!this._byKeyFunc},_insertImpl(e){const t=this,n=t._insertFunc;let i;const r=new Re;return Bv(Tv,n),i=n.apply(t,[e]),Mv(i)||(i=Rv(i)),Pe(i).done(n=>{le().useLegacyStoreResult?r.resolve(e,n):r.resolve(n||e,t.keyOf(n))}).fail(Fv(r)),r.promise()},_updateImpl(e,t){const n=this._updateFunc;let i;const r=new Re;return Bv(Av,n),i=n.apply(this,[e,t]),Mv(i)||(i=Rv(i)),Pe(i).done(n=>{le().useLegacyStoreResult?r.resolve(e,t):r.resolve(n||t,e)}).fail(Fv(r)),r.promise()},_removeImpl(e){const t=this._removeFunc;let n;const i=new Re;return Bv(Pv,t),n=t.apply(this,[e]),Mv(n)||(n=Rv()),Pe(n).done(()=>{i.resolve(e)}).fail(Fv(i)),i.promise()}}),zv=Vv;const jv={},Wv=function(e,t,n){n=n||[],t=t||{};const i=function(e,t){return{name:e,args:t}},r=function(r){const o=new Re;let s,a,c,u,d;const h=function(e){const n=t.errorHandler;n&&n(e),$g(e),o.reject(e)};function p(e){switch(e.name){case"sortBy":return d=[e.args],!0;case"thenBy":if(!d)throw Ng.Error("E4004");return d.push(e.args),!0}return!1}try{s=t.adapter,g(s)||(s=jv[s]),a=s(t),c=[].concat(n).concat(r);const{optimize:f}=a;for(f&&f(c);c.length;){if(u=c[0],!p(u)){if(d){c.unshift(i("multiSort",[d])),d=null;continue}if("enumerate"!==String(u.name)&&(!a[u.name]||!1===a[u.name].apply(a,u.args)))break}c.shift()}!function(){const e=c[0],t=[];e&&"multiSort"===e.name&&(c.shift(),l(e.args[0],function(){t.push(i(t.length?"thenBy":"sortBy",this))})),c=t.concat(c)}(),a.exec(e).done((e,n)=>{if(c.length){let n=gv(e,{errorHandler:t.errorHandler});l(c,function(){n=n[this.name].apply(n,this.args)}),n.done(o.resolve).fail(o.reject)}else o.resolve(e,n)}).fail(h)}catch(f){h(f)}return o.promise()},o={};return l(["sortBy","thenBy","filter","slice","select","groupBy"],function(){const r=String(this);o[r]=function(){return Wv(e,t,n.concat(i(r,arguments)))}}),l(["count","min","max","sum","avg","aggregate","enumerate"],function(){const e=String(this);o[e]=function(){return r.call(this,i(e,arguments))}}),o},Kv={array:gv,remote:Wv},Uv=function(){const e=Array.isArray(arguments[0])?"array":"remote";return Kv[e].apply(this,arguments)},qv=Iv.inherit({ctor(e){e=Array.isArray(e)?{data:e}:e||{},this.callBase(e);const t=e.data;if(t&&!Array.isArray(t))throw Ng.Error("E4006");this._array=t||[]},createQuery(){return Uv(this._array,{errorHandler:this._errorHandler})},_byKeyImpl(e){const t=ov(this,this._array,e);return-1===t?qg(Ng.Error("E4009")):Ug(this._array[t])},_insertImpl(e){return iv(this,this._array,e)},_pushImpl(e){ev({keyInfo:this,data:this._array,changes:e})},_updateImpl(e,t){return nv(this,this._array,e,t)},_removeImpl(e){return rv(this,this._array,e)},clear(){this._eventsStrategy.fireEvent("modifying"),this._array=[],this._eventsStrategy.fireEvent("modified")}},"array"),Gv=qv,Zv=St(),Yv=ue({getXhr:()=>new Zv.XMLHttpRequest}),Qv=St(),Xv=function(e){const t=mt.createElement("script");for(const n in e)t[n]=e[n];return t},Jv=function(e){return mt.getHead().appendChild(e)},ey=function(e){e.parentNode.removeChild(e)},ty=function(e){const t=Xv({text:e});Jv(t),ey(t)};function ny(e){return(e.method||"GET").toUpperCase()}const iy=function(e){const t=e.dataType||"*",n="text/javascript, application/javascript, application/ecmascript, application/x-ecmascript",i={"*":"*/*",text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript",jsonp:n,script:n};return function(e,t,n){e=e||{};for(const i in t)if(Object.prototype.hasOwnProperty.call(t,i)){const r=t[i];i in e&&!n||(e[i]=r)}}(i,e.accepts,!0),i[t]?i[t]+("*"!==t?", */*; q=0.01":""):i["*"]},ry=function(e){const t=e.headers||{};return t["Content-Type"]=t["Content-Type"]||function(e){let t;return e.data&&!e.upload&&"GET"!==ny(e)&&(t="application/x-www-form-urlencoded;charset=utf-8"),e.contentType||t}(e),t.Accept=t.Accept||iy(e),e.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t},oy=function(e,t){let n=e.data;const i="string"===typeof n;let r=e.url||Qv.location.href;return i||e.cache||(n=n||{},n._=Date.now()),n&&!e.upload&&(i||(n=function(e){const t=[];for(const n in e){let i=e[n];void 0!==i&&(null===i&&(i=""),"function"===typeof i&&(i=i()),t.push(`${encodeURIComponent(n)}=${encodeURIComponent(i)}`))}return t.join("&")}(n)),"GET"===ny(e)?(""!==n&&(r+=(r.indexOf("?")>-1?"&":"?")+n),n=null):t["Content-Type"]&&t["Content-Type"].indexOf("application/x-www-form-urlencoded")>-1&&(n=n.replace(/%20/g,"+"))),{url:r,parameters:n}},sy=St(),ay="success",ly="error",cy=ue({sendRequest:function(e){const t=Yv.getXhr(),n=new Re,i=n.promise(),r=!_(e.async)||e.async,{dataType:o}=e,s=e.timeout||0;let a;e.crossDomain=function(e){if(!Ct())return!0;let t=!1;const n=mt.createElement("a"),i=mt.createElement("a");n.href=Qv.location.href;try{i.href=e,i.href=i.href,t=`${n.protocol}//${n.host}`!==`${i.protocol}//${i.host}`}catch(r){t=!0}return t}(e.url);const l="jsonp"===o||"script"===o;void 0===e.cache&&(e.cache=!l);const c=function(e){if("jsonp"===e.dataType){const t=Math.random().toString().replace(/\D/g,""),n=e.jsonpCallback||`dxCallback${Date.now()}_${t}`,i=e.jsonp||"callback";return e.data=e.data||{},e.data[i]=n,n}}(e),u=ry(e),d=oy(e,u),{url:h}=d,{parameters:p}=d;if(c&&(sy[c]=function(e){n.resolve(e,ay,t)}),e.crossDomain&&l){const e=function(){n.reject(t,ly)},r=function(){"jsonp"!==o&&n.resolve(null,ay,t)};return function(e){const t=Xv({src:e});return new Promise((e,n)=>{const i={load:e,error:n},r=function(e){i[e.type](),ey(t)};for(const o in i)mt.listen(t,o,r);Jv(t)})}(h).then(r,e),i}if(e.crossDomain&&!("withCredentials"in t))return n.reject(t,ly),i;if(t.open(ny(e),h,r,e.username,e.password),r&&(t.timeout=s,a=function(e,t){return e&&setTimeout(function(){t.customStatus="timeout",t.abort()},e)}(s,t)),t.onreadystatechange=function(e){var i;4===t.readyState&&(clearTimeout(a),(i=t.status)>=200&&i<300?function(e){return 204!==e}(t.status)?function(t,n,i){const r=function(e){return e.responseType&&"text"!==e.responseType||"string"!==typeof e.responseText?e.response:e.responseText}(n);switch(i){case"jsonp":ty(r);break;case"script":ty(r),t.resolve(r,ay,n);break;case"json":try{t.resolve(JSON.parse(r),ay,n)}catch(e){t.reject(n,"parsererror",e)}break;default:t.resolve(r,ay,n)}}(n,t,o):n.resolve(null,"nocontent",t):n.reject(t,t.customStatus||ly))},e.upload&&(t.upload.onprogress=e.upload.onprogress,t.upload.onloadstart=e.upload.onloadstart,t.upload.onabort=e.upload.onabort),e.xhrFields)for(const f in e.xhrFields)t[f]=e.xhrFields[f];"arraybuffer"===e.responseType&&(t.responseType=e.responseType);for(const f in u)Object.prototype.hasOwnProperty.call(u,f)&&_(u[f])&&t.setRequestHeader(f,u[f]);return e.beforeSend&&e.beforeSend(t),t.send(p),i.abort=function(){t.abort()},i}}),uy=cy,dy=["items"],hy="canceled",py=e=>"pending"===e.state(),fy=e=>{switch(e.length){case 0:return;case 1:return e[0]}return[].slice.call(e)},my=(e,t,n)=>Array.isArray(e)?t?((e,t,n)=>a(e,e=>K({},tu(e,dy),{items:my(e.items,t-1,n)})))(e,t,n):a(e,n):e,_y=(e,t)=>{var n;return null!==(n=e)&&void 0!==n&&n.data&&(t=e,e=e.data),Array.isArray(e)||(e=[e]),{data:e,extra:t}},gy=e=>{const t={};return l(["useDefaultSearch","key","load","loadMode","cacheRawData","byKey","lookup","totalCount","insert","update","remove"],function(){t[this]=e[this],delete e[this]}),new zv(t)},vy=(e,t)=>new zv({load:()=>uy.sendRequest({url:e,dataType:"json"}),loadMode:null===t||void 0===t?void 0:t.fromUrlLoadMode}),yy=(e,t)=>{let n;return"string"===typeof e&&(e={paginate:!1,store:vy(e,t)}),void 0===e&&(e=[]),void 0===(e=Array.isArray(e)||e instanceof Iv?{store:e}:A({},e)).store&&(e.store=[]),n=e.store,"load"in e?n=gy(e):Array.isArray(n)?n=new Gv(n):x(n)&&(n=(e=>{const t=e.type;return delete e.type,Iv.create(t,e)})(A({},n))),e.store=n,e};class by{constructor(){this._counter=-1,this._deferreds={}}add(e){return this._counter++,this._deferreds[this._counter]=e,this._counter}remove(e){return delete this._deferreds[e]}cancel(e){return e in this._deferreds&&(this._deferreds[e].reject(hy),!0)}cancelAll(){for(;this._counter>-1;)this.cancel(this._counter),this._counter--}}function Cy(e){let t=[],n=!1;function i(){for(;t.length;){n=!0;const e=t.shift()();if(void 0!==e){if(e.then)return void Be(e).always(i);throw W.Error("E0015")}}n=!1}return{add:function(r,o){e?(t[0]&&o&&o(t[0]),t=[r]):t.push(r),n||i()},busy:function(){return n}}}Cy().add;const xy=ie.inherit({ctor(e){e=yy(e),this._eventsStrategy=new Fr(this,{syncStrategy:!0}),this._store=e.store,this._changedTime=0;if(0!==e.pushAggregationTimeout){let t,n;const i=Gg(e=>{t.resolve();Be(...n).done(()=>this._onPush(e)),n=void 0,t=void 0},void 0===e.pushAggregationTimeout?()=>5*this._changedTime:e.pushAggregationTimeout);this._onPushHandler=e=>{this._aggregationTimeoutId=i(e.changes),t||(t=new Re),n=e.waitFor,e.waitFor.push(t.promise())},this._store.on("beforePushAggregation",this._onPushHandler)}else this._onPushHandler=e=>this._onPush(e),this._store.on("push",this._onPushHandler);this._storeLoadOptions=this._extractLoadOptions(e),this._mapFunc=e.map,this._postProcessFunc=e.postProcess,this._pageIndex=void 0!==e.pageIndex?e.pageIndex:0,this._pageSize=void 0!==e.pageSize?e.pageSize:20,this._loadingCount=0,this._loadQueue=this._createLoadQueue(),this._searchValue="searchValue"in e?e.searchValue:null,this._searchOperation=e.searchOperation||"contains",this._searchExpr=e.searchExpr,this._paginate=e.paginate,this._reshapeOnPush=e.reshapeOnPush??!1,l(["onChanged","onLoadError","onLoadingChanged","onCustomizeLoadResult","onCustomizeStoreLoadOptions"],(t,n)=>{n in e&&this.on(n.substr(2,1).toLowerCase()+n.substr(3),e[n])}),this._operationManager=new by,this._init()},_init(){this._items=[],this._userData={},this._totalCount=-1,this._isLoaded=!1,_(this._paginate)||(this._paginate=!this.group()),this._isLastPage=!this._paginate},dispose(){var e;this._store.off("beforePushAggregation",this._onPushHandler),this._store.off("push",this._onPushHandler),this._eventsStrategy.dispose(),clearTimeout(this._aggregationTimeoutId),null===(e=this._delayedLoadTask)||void 0===e||e.abort(),this._operationManager.cancelAll(),delete this._store,delete this._items,delete this._delayedLoadTask,this._disposed=!0},_extractLoadOptions(e){const t={};let n=["sort","filter","langParams","select","group","requireTotalCount"];const i=this._store._customLoadOptions();return i&&(n=n.concat(i)),l(n,function(){t[this]=e[this]}),t},loadOptions(){return this._storeLoadOptions},items(){return this._items},pageIndex(e){if(!y(e))return this._pageIndex;this._pageIndex=e,this._isLastPage=!this._paginate},paginate(e){if(!p(e))return this._paginate;this._paginate!==e&&(this._paginate=e,this.pageIndex(0))},pageSize(e){if(!y(e))return this._pageSize;this._pageSize=e},isLastPage(){return this._isLastPage},generateStoreLoadOptionAccessor(e){return t=>{const n=fy(t);if(void 0===n)return this._storeLoadOptions[e];this._storeLoadOptions[e]=n}},sort(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.generateStoreLoadOptionAccessor("sort")(t)},filter(){const e=fy(arguments);if(void 0===e)return this._storeLoadOptions.filter;this._storeLoadOptions.filter=e,this.pageIndex(0)},group(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.generateStoreLoadOptionAccessor("group")(t)},select(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.generateStoreLoadOptionAccessor("select")(t)},requireTotalCount(e){if(!p(e))return this._storeLoadOptions.requireTotalCount;this._storeLoadOptions.requireTotalCount=e},searchValue(e){if(arguments.length<1)return this._searchValue;this._searchValue=e,this.pageIndex(0)},searchOperation(e){if(!v(e))return this._searchOperation;this._searchOperation=e,this.pageIndex(0)},searchExpr(e){const t=arguments.length;if(0===t)return this._searchExpr;t>1&&(e=[].slice.call(arguments)),this._searchExpr=e,this.pageIndex(0)},store(){return this._store},key(){var e;return null===(e=this._store)||void 0===e?void 0:e.key()},totalCount(){return this._totalCount},isLoaded(){return this._isLoaded},isLoading(){return this._loadingCount>0},beginLoading(){this._changeLoadingCount(1)},endLoading(){this._changeLoadingCount(-1)},_createLoadQueue:()=>Cy(),_changeLoadingCount(e){const t=this.isLoading();this._loadingCount+=e;const n=this.isLoading();t^n&&this._eventsStrategy.fireEvent("loadingChanged",[n])},_scheduleLoadCallbacks(e){this.beginLoading(),e.always(()=>{this.endLoading()})},_scheduleFailCallbacks(e){var t=this;e.fail(function(){for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];n[0]!==hy&&t._eventsStrategy.fireEvent("loadError",n)})},_fireChanged(e){const t=new Date;this._eventsStrategy.fireEvent("changed",e),this._changedTime=new Date-t},_scheduleChangedCallbacks(e){e.done(()=>this._fireChanged())},loadSingle(e,t){const n=new Re,i=this.key(),r=this._store,o=this._createStoreLoadOptions();return this._scheduleFailCallbacks(n),arguments.length<2&&(t=e,e=i),delete o.skip,delete o.group,delete o.refresh,delete o.pageIndex,delete o.searchString,(e===i||r instanceof zv&&!r._byKeyViaLoad()?r.byKey(t,o):(o.take=1,o.filter=o.filter?[o.filter,[e,t]]:[e,t],r.load(o))).fail(n.reject).done(e=>{const t=Array.isArray(e)&&!e.length;!_(e)||t?n.reject(Ng.Error("E4009")):(Array.isArray(e)||(e=[e]),n.resolve(this._applyMapFunction(e)[0]))}),n.promise()},load(){const e=new Re,t=()=>{if(!this._disposed&&py(e))return this._loadFromStore(n,e)};this._scheduleLoadCallbacks(e),this._scheduleFailCallbacks(e),this._scheduleChangedCallbacks(e);const n=this._createLoadOperation(e);return this._eventsStrategy.fireEvent("customizeStoreLoadOptions",[n]),this._loadQueue.add(()=>("number"===typeof n.delay?this._delayedLoadTask=at.executeAsync(t,n.delay):t(),e.promise())),e.promise({operationId:n.operationId})},_onPush(e){if(this._reshapeOnPush)this.load();else{const t={changes:e};this._eventsStrategy.fireEvent("changing",[t]);const n=this.group(),i=this.items();let r=0,o=this.paginate()||n?e.filter(e=>"update"===e.type):e;n&&(r=Array.isArray(n)?n.length:1),this._mapFunc&&o.forEach(e=>{"insert"===e.type&&(e.data=this._mapFunc(e.data))}),t.postProcessChanges&&(o=t.postProcessChanges(o)),ev({keyInfo:this.store(),data:i,changes:o,groupCount:r,useInsertIndex:!0}),this._fireChanged([{changes:e}])}},_createLoadOperation(e){const t=this._operationManager.add(e),n=this._createStoreLoadOptions();return this._store&&!C(null===n||void 0===n?void 0:n.langParams)&&(this._store._langParams=K({},this._store._langParams,n.langParams)),e.always(()=>this._operationManager.remove(t)),{operationId:t,storeLoadOptions:n}},reload(){return this.store()._clearCache(),this._init(),this.load()},cancel(e){return this._operationManager.cancel(e)},cancelAll(){return this._operationManager.cancelAll()},_addSearchOptions(e){this._disposed||(this.store()._useDefaultSearch?this._addSearchFilter(e):(e.searchOperation=this._searchOperation,e.searchValue=this._searchValue,e.searchExpr=this._searchExpr))},_createStoreLoadOptions(){const e=A({},this._storeLoadOptions);return this._addSearchOptions(e),this._paginate&&this._pageSize&&(e.skip=this._pageIndex*this._pageSize,e.take=this._pageSize),e.userData=this._userData,e},_addSearchFilter(e){const t=this._searchValue,n=this._searchOperation;let i=this._searchExpr;const r=[];t&&(i||(i="this"),Array.isArray(i)||(i=[i]),l(i,(e,i)=>{r.length&&r.push("or"),r.push([i,n,t])}),e.filter?e.filter=[r,e.filter]:e.filter=r)},_loadFromStore(e,t){const n=(n,i)=>{if(this._disposed)return;if(!py(t))return;const r=A(_y(n,i),e);this._eventsStrategy.fireEvent("customizeLoadResult",[r]),Be(r.data).done(e=>{r.data=e,this._processStoreLoadResult(r,t)}).fail(t.reject)};return e.data?(new Re).resolve(e.data).done(n):this.store().load(e.storeLoadOptions).done(n).fail(t.reject)},_processStoreLoadResult(e,t){let{data:n}=e,{extra:i}=e;const{storeLoadOptions:r}=e,o=()=>(this._isLoaded=!0,this._totalCount=isFinite(i.totalCount)?i.totalCount:-1,t.resolve(n,i)),s=()=>{this.store().totalCount(r).done(e=>{i.totalCount=e,o()}).fail(t.reject)};this._disposed||(n=this._applyPostProcessFunction(this._applyMapFunction(n)),b(i)||(i={}),this._items=n,(!n.length||!this._paginate||this._pageSize&&n.length<this._pageSize)&&(this._isLastPage=!0),r.requireTotalCount&&!isFinite(i.totalCount)?s():o())},_applyMapFunction(e){return this._mapFunc?((e,t,n)=>{const i=n?Vg(n).length:0;return my(e,i,t)})(e,this._mapFunc,this.group()):e},_applyPostProcessFunction(e){return this._postProcessFunc?this._postProcessFunc(e):e},on(e,t){return this._eventsStrategy.on(e,t),this},off(e,t){return this._eventsStrategy.off(e,t),this}}),{abs:Sy}=Math;ec({emitter:Yl.inherit({start(e){this._startEventData=Qi(e),this._startTimer(e)},_startTimer(e){const t="timeout"in this?this.timeout:750;this._holdTimer=setTimeout(()=>{this._requestAccept(e),this._fireEvent("dxhold",e,{target:e.target}),this._forgetAccept()},t)},move(e){this._touchWasMoved(e)&&this._cancel(e)},_touchWasMoved(e){const t=Xi(this._startEventData,Qi(e));return Sy(t.x)>5||Sy(t.y)>5},end(){this._stopTimer()},_stopTimer(){clearTimeout(this._holdTimer)},cancel(){this._stopTimer()},dispose(){this._stopTimer()}}),bubble:!0,events:["dxhold"]});const wy="dxhold",Ey=or("contextmenu","dxContexMenu"),Iy=or(wy,"dxContexMenu"),ky=ie.inherit({setup(e){const t=Si(e);rn.on(t,Ey,this._contextMenuHandler.bind(this)),(go.touch||Xr.isSimulator())&&rn.on(t,Iy,this._holdHandler.bind(this))},_holdHandler(e){Gi(e)&&!Xr.isSimulator()||this._fireContextMenu(e)},_contextMenuHandler(e){this._fireContextMenu(e)},_fireContextMenu:e=>nr({type:"dxcontextmenu",originalEvent:e}),teardown(e){rn.off(e,".dxContexMenu")}});Ei("dxcontextmenu",new ky);const Dy="dxcontextmenu",Oy={load:()=>Re().reject(),loadSingle:()=>Re().reject(),loadFromStore:()=>Re().reject(),loadNextPage:()=>Re().reject(),loadOptions:tt,userData:tt,cancel:tt,cancelAll:tt,filter:tt,addSearchFilter:tt,group:tt,paginate:tt,pageSize:tt,pageIndex:tt,resetDataSourcePageIndex:tt,totalCount:tt,isLastPage:tt,isLoading:tt,isLoaded:tt,searchValue:tt,searchOperation:tt,searchExpr:tt,select:tt,key:tt,keyOf:tt,store:tt,items:tt,applyMapFunction:tt,getDataSource:tt,reload:tt,on:tt,off:tt};const Ty=class{constructor(e){if(!e)return Oy;this._dataSource=e}load(){return this._dataSource.load()}loadSingle(e,t){return arguments.length<2&&(t=e,e=this.key()),this._dataSource.loadSingle(e,t)}loadFromStore(e){return this.store().load(e)}loadNextPage(){return this.pageIndex(1+this.pageIndex()),this.load()}loadOptions(){return this._dataSource.loadOptions()}userData(){return this._dataSource._userData}cancel(e){this._dataSource.cancel(e)}cancelAll(){this._dataSource.cancelAll()}filter(e){return this._dataSource.filter(e)}addSearchFilter(e){this._dataSource._addSearchFilter(e)}group(e){return this._dataSource.group(e)}paginate(){return this._dataSource.paginate()}pageSize(){return this._dataSource._pageSize}pageIndex(e){return this._dataSource.pageIndex(e)}resetDataSourcePageIndex(){this.pageIndex()&&(this.pageIndex(0),this.load())}totalCount(){return this._dataSource.totalCount()}isLastPage(){return this._dataSource.isLastPage()||!this._dataSource._pageSize}isLoading(){return this._dataSource.isLoading()}isLoaded(){return this._dataSource.isLoaded()}searchValue(e){return arguments.length?this._dataSource.searchValue(e):this._dataSource.searchValue()}searchOperation(e){return this._dataSource.searchOperation(e)}searchExpr(e){return arguments.length?this._dataSource.searchExpr(e):this._dataSource.searchExpr()}select(){return this._dataSource.select(...arguments)}key(){return this._dataSource.key()}keyOf(e){return this.store().keyOf(e)}store(){return this._dataSource.store()}items(){return this._dataSource.items()}applyMapFunction(e){return this._dataSource._applyMapFunction(e)}getDataSource(){return this._dataSource||null}reload(){return this._dataSource.reload()}on(e,t){this._dataSource.on(e,t)}off(e,t){this._dataSource.off(e,t)}},Ay="_dataSourceChangedHandler",Py="_getSpecificDataSourceOption",My="_normalizeDataSource",Ry={postCtor(){this.on("disposing",()=>{this._disposeDataSource()})},_refreshDataSource(){this._initDataSource(),this._loadDataSource()},_initDataSource(){let e,t,n=Py in this?this[Py]():this.option("dataSource");this._disposeDataSource(),n&&(n instanceof xy?(this._isSharedDataSource=!0,this._dataSource=n):(e="_dataSourceOptions"in this?this._dataSourceOptions():{},t=this._dataSourceType?this._dataSourceType():xy,n=yy(n,{fromUrlLoadMode:"_dataSourceFromUrlLoadMode"in this&&this._dataSourceFromUrlLoadMode()}),this._dataSource=new t(A(!0,{},e,n))),My in this&&(this._dataSource=this[My](this._dataSource)),this._addDataSourceHandlers(),this._initDataController())},_initDataController(){var e;const t=null===(e=this.option)||void 0===e?void 0:e.call(this,"_dataController"),n=this._dataSource;this._dataController=t||new Ty(n)},_addDataSourceHandlers(){Ay in this&&this._addDataSourceChangeHandler(),"_dataSourceLoadErrorHandler"in this&&this._addDataSourceLoadErrorHandler(),"_dataSourceLoadingChangedHandler"in this&&this._addDataSourceLoadingChangedHandler(),this._addReadyWatcher()},_addReadyWatcher(){this.readyWatcher=function(e){this._ready&&this._ready(!e)}.bind(this),this._dataSource.on("loadingChanged",this.readyWatcher)},_addDataSourceChangeHandler(){const e=this._dataSource;this._proxiedDataSourceChangedHandler=function(t){this[Ay](e.items(),t)}.bind(this),e.on("changed",this._proxiedDataSourceChangedHandler)},_addDataSourceLoadErrorHandler(){this._proxiedDataSourceLoadErrorHandler=this._dataSourceLoadErrorHandler.bind(this),this._dataSource.on("loadError",this._proxiedDataSourceLoadErrorHandler)},_addDataSourceLoadingChangedHandler(){this._proxiedDataSourceLoadingChangedHandler=this._dataSourceLoadingChangedHandler.bind(this),this._dataSource.on("loadingChanged",this._proxiedDataSourceLoadingChangedHandler)},_loadDataSource(){const e=this._dataSource;e&&(e.isLoaded()?this._proxiedDataSourceChangedHandler&&this._proxiedDataSourceChangedHandler():e.load())},_loadSingle(e,t){return e="this"===e?this._dataSource.key()||"this":e,this._dataSource.loadSingle(e,t)},_isLastPage(){return!this._dataSource||this._dataSource.isLastPage()||!this._dataSource._pageSize},_isDataSourceLoading(){return this._dataSource&&this._dataSource.isLoading()},_disposeDataSource(){this._dataSource&&(this._isSharedDataSource?(delete this._isSharedDataSource,this._proxiedDataSourceChangedHandler&&this._dataSource.off("changed",this._proxiedDataSourceChangedHandler),this._proxiedDataSourceLoadErrorHandler&&this._dataSource.off("loadError",this._proxiedDataSourceLoadErrorHandler),this._proxiedDataSourceLoadingChangedHandler&&this._dataSource.off("loadingChanged",this._proxiedDataSourceLoadingChangedHandler),this._dataSource._eventsStrategy&&this._dataSource._eventsStrategy.off("loadingChanged",this.readyWatcher)):this._dataSource.dispose(),delete this._dataSource,delete this._proxiedDataSourceChangedHandler,delete this._proxiedDataSourceLoadErrorHandler,delete this._proxiedDataSourceLoadingChangedHandler)},getDataSource(){return this._dataSource||null}},By=Ry;class Ny extends(ie.inherit({})){ctor(e,t,n){this._$element=e,this._options=t,this._rawData=n,Ai(e,this,this._dispose),this._render()}_render(){const e=Si("<div>").addClass("dx-item-content-placeholder");this._$element.append(e),this._watchers=[],this._renderWatchers()}_renderWatchers(){this._startWatcher("disabled",this._renderDisabled.bind(this)),this._startWatcher("visible",this._renderVisible.bind(this))}_startWatcher(e,t){const n=this._rawData,i=this._options.fieldGetter(e),r=((e,t,n)=>{const i=(()=>{let e;return t=>{e!==t&&(n(t,e),e=t)}})();return{dispose:e(t,i),force(){i(t())}}})(this._options.watchMethod(),()=>i(n),(e,n)=>{this._dirty=!0,t(e,n)});this._watchers.push(r)}setDataField(){return this._dirty=!1,l(this._watchers,(e,t)=>{t.force()}),this._dirty}_renderDisabled(e,t){this._$element.toggleClass("dx-state-disabled",!!e),this._$element.attr("aria-disabled",!!e),this._updateOwnerFocus(e)}_updateOwnerFocus(e){const t=this._options.owner;t&&e&&t._resetItemFocus(this._$element)}_renderVisible(e,t){this._$element.toggleClass("dx-state-invisible",void 0!==e&&!e)}_dispose(){l(this._watchers,(e,t)=>{t.dispose()})}static getInstance(e){return Pi(e,this)}}const Fy=Ny,$y="dx-item",Hy=/^([^.]+\[\d+\]\.)+([\w.]+)$/;class Ly extends yd{_supportedKeys(){const e=(e,t)=>{sr(t)||(t.preventDefault(),t.stopPropagation(),this._moveFocus(e,t))};return K({},super._supportedKeys(),{space:e=>{e.preventDefault(),this._enterKeyHandler(e)},enter:this._enterKeyHandler,leftArrow:e.bind(this,"left"),rightArrow:e.bind(this,"right"),upArrow:e.bind(this,"up"),downArrow:e.bind(this,"down"),pageUp:e.bind(this,"up"),pageDown:e.bind(this,"down"),home:e.bind(this,"first"),end:e.bind(this,"last")})}_getHandlerExtendedParams(e,t){return A({},e,{target:t.get(0),currentTarget:t.get(0)})}_enterKeyHandler(e){const{focusedElement:t}=this.option(),n=Si(t);if(!n.length)return;const i=this._getItemData(n);null!==i&&void 0!==i&&i.onClick&&this._itemEventHandlerByHandler(n,i.onClick,{event:e}),this._itemClickHandler(this._getHandlerExtendedParams(e,n))}_getDefaultOptions(){return K({},super._getDefaultOptions(),{selectOnFocus:!1,loopItemFocus:!0,items:[],itemTemplate:"item",onItemRendered:null,onItemClick:null,onItemHold:null,itemHoldTimeout:750,onItemContextMenu:null,onFocusedItemChanged:null,noDataText:mr.format("dxCollectionWidget-noDataText"),encodeNoDataText:!1,dataSource:null,_dataController:null,_itemAttributes:{},itemTemplateProperty:"template",focusedElement:null,displayExpr:void 0,disabledExpr:e=>e?e.disabled:void 0,visibleExpr:e=>e?e.visible:void 0})}_init(){this._compileDisplayGetter(),this._initDataController(),super._init(),this._activeStateUnit=`.${$y}`,this._cleanRenderedItems(),this._refreshDataSource()}_compileDisplayGetter(){const{displayExpr:e}=this.option();this._displayGetter=e?we(e):void 0}_initTemplates(){this._initItemsFromMarkup(),this._initDefaultItemTemplate(),super._initTemplates()}_getAnonymousTemplateName(){return"item"}_initDefaultItemTemplate(){const e=this._getFieldsMap();this._templateManager.addDefaultTemplates({item:new Bg((t,n)=>{x(n)?this._prepareDefaultItemTemplate(n,t):(e&&g(e.text)&&(n=e.text(n)),t.text(String(Fe(n,""))))},this._getBindableFields(),this.option("integrationOptions.watchMethod"),e)})}_getBindableFields(){return["text","html"]}_getFieldsMap(){if(this._displayGetter)return{text:this._displayGetter}}_prepareDefaultItemTemplate(e,t){const{text:n,html:i}=e;_(n)&&t.text(n),_(i)&&t.html(i)}_initItemsFromMarkup(){const e=id(this.$element(),"dxItem");if(!e.length||this.option("items").length)return;const t=e.map(e=>{let{element:t,options:n}=e;return/\S/.test(t.innerHTML)&&!n.template?n.template=this._prepareItemTemplate(t):Si(t).remove(),n});this.option("items",t)}_prepareItemTemplate(e){const t=`tmpl-${new ce}`,n=Si(e).detach().clone().removeAttr("data-options").addClass("dx-template-wrapper");return this._saveTemplate(t,n),t}_dataSourceOptions(){return{paginate:!1}}_cleanRenderedItems(){this._renderedItemsCount=0}_focusTarget(){return this.$element()}_focusInHandler(e){if(super._focusInHandler(e),!this._isFocusTarget(e.target))return;const t=Si(this.option("focusedElement"));if(t.length)this._shouldSkipSelectOnFocus=!0,this._setFocusedItem(t),this._shouldSkipSelectOnFocus=!1;else{const e=this._getActiveItem();e.length&&this.option("focusedElement",ma(e))}}_focusOutHandler(e){super._focusOutHandler(e);const{focusedElement:t}=this.option(),n=Si(t);this._updateFocusedItemState(n,!1)}_findActiveTarget(e){return e.find(this._activeStateUnit)}_getActiveItem(e){const{focusedElement:t}=this.option(),n=Si(t);return n.length?n:this._determineFocusedElement(e)}_determineFocusedElement(e){let t=this._getFocusedElementIndex();const n=this._getActiveElement(),i=n.length-1;return t<0&&(t=e?i:0),n.eq(t)}_getFocusedElementIndex(){return 0}_moveFocus(e,t){const n=this._getAvailableItems();let i=Si();switch(e){case"pageup":case"up":i=this._prevItem(n);break;case"pagedown":case"down":i=this._nextItem(n);break;case"right":i=this.option("rtlEnabled")?this._prevItem(n):this._nextItem(n);break;case"left":i=this.option("rtlEnabled")?this._nextItem(n):this._prevItem(n);break;case"first":i=n.first();break;case"last":i=n.last();break;default:return!1}0!==i.length&&this.option("focusedElement",ma(i))}_getVisibleItems(e){return(e??this._itemElements()).filter(":visible")}_getAvailableItems(e){return this._getVisibleItems(e)}_prevItem(e){const t=this._getActiveItem(),n=e.index(t),i=e.last();let r=Si(e[n-1]);const o=this.option("loopItemFocus");return 0===r.length&&o&&(r=i),r}_nextItem(e){const t=this._getActiveItem(!0),n=e.index(t),i=e.first();let r=Si(e[n+1]);const o=this.option("loopItemFocus");return 0===r.length&&o&&(r=i),r}_selectFocusedItem(e){this.selectItem(e)}_updateFocusedItemState(e,t,n){const i=Si(e);i.length&&(this._refreshActiveDescendant(),this._refreshItemId(i,n),this._toggleFocusClass(t,i)),this._updateParentActiveDescendant()}_getElementClassToSkipRefreshId(){return""}_shouldSkipRefreshId(e){const t=this._getElementClassToSkipRefreshId();return Si(e).hasClass(t)}_refreshActiveDescendant(e){const{focusedElement:t}=this.option();if(_(t)){const n=this._shouldSkipRefreshId(t)?Si(t).attr("id"):this.getFocusedItemId();return void this.setAria("activedescendant",n,e)}this.setAria("activedescendant",null,e)}_refreshItemId(e,t){const{focusedElement:n}=this.option();this._shouldSkipRefreshId(e)||(!t&&n?this.setAria("id",this.getFocusedItemId(),e):this.setAria("id",null,e))}_isDisabled(e){return e&&"true"===Si(e).attr("aria-disabled")}_setFocusedItem(e){if(!e||!e.length)return;this._updateFocusedItemState(e,!0),this.onFocusedItemChanged(this.getFocusedItemId());const{selectOnFocus:t}=this.option(),n=this._isDisabled(e);!t||n||this._shouldSkipSelectOnFocus||this._selectFocusedItem(e)}_findItemElementByItem(e){let t=Si();const n=this._itemDataKey();return this.itemElements().each((i,r)=>{const o=Si(r);return o.data(n)!==e||(t=o,!1)}),t}_getIndexByItem(e){const{items:t}=this.option();return t.indexOf(e)}_itemOptionChanged(e,t,n,i){const r=this._findItemElementByItem(e);if(!r.length)return;this.constructor.ItemClass.getInstance(r).setDataField(t,n)||this._refreshItem(r,e);"disabled"===t&&n&&this._resetItemFocus(r)}_resetItemFocus(e){e.is(this.option("focusedElement"))&&this._resetFocusedElement()}_resetFocusedElement(){this.option("focusedElement",null)}_refreshItem(e,t){const n=this._getItemData(e),i=e.data(this._itemIndexKey());this._renderItem(this._renderedItemsCount+i,n,null,e)}_updateParentActiveDescendant(){}_optionChanged(e){const{name:t,value:n,previousValue:i,fullName:r}=e;if("items"===t){const e=r.match(Hy);if(null!==e&&void 0!==e&&e.length){const t=e[e.length-1],o=r.replace(`.${t}`,""),s=this.option(o);return void this._itemOptionChanged(s,t,n,i)}}switch(t){case"items":case"_itemAttributes":case"itemTemplateProperty":case"useItemTextAsTitle":this._cleanRenderedItems(),this._invalidate();break;case"dataSource":this._refreshDataSource(),this._renderEmptyMessage();break;case"noDataText":case"encodeNoDataText":this._renderEmptyMessage();break;case"itemTemplate":case"visibleExpr":case"disabledExpr":this._invalidate();break;case"onItemRendered":this._createItemRenderAction();break;case"onItemClick":case"selectOnFocus":case"loopItemFocus":break;case"onItemHold":case"itemHoldTimeout":this._attachHoldEvent();break;case"onItemContextMenu":this._attachContextMenuEvent();break;case"onFocusedItemChanged":this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged");break;case"focusedElement":this._updateFocusedItemState(i,!1,!0),this._setFocusedItem(Si(n));break;case"displayExpr":this._compileDisplayGetter(),this._initDefaultItemTemplate(),this._invalidate();break;default:super._optionChanged(e)}}_invalidate(){this._resetFocusedElement(),super._invalidate()}_loadNextPage(){return this._expectNextPageLoading(),this._dataController.loadNextPage()}_expectNextPageLoading(){this._startIndexForAppendedItems=0}_expectLastItemLoading(){this._startIndexForAppendedItems=-1}_forgetNextPageLoading(){this._startIndexForAppendedItems=null}_dataSourceChangedHandler(e,t){const n=this.option("items");this._initialized&&n&&this._shouldAppendItems()?(this._renderedItemsCount=n.length,this._isLastPage()&&-1===this._startIndexForAppendedItems||(this.option().items=n.concat(e.slice(this._startIndexForAppendedItems))),this._forgetNextPageLoading(),this._refreshContent()):this.option("items",e.slice())}_refreshContent(){this._prepareContent(),this._renderContent()}_dataSourceLoadErrorHandler(){this._forgetNextPageLoading(),this.option("items",this.option("items"))}_shouldAppendItems(){return null!=this._startIndexForAppendedItems&&this._allowDynamicItemsAppend()}_allowDynamicItemsAppend(){return!1}_clean(){this._cleanFocusState(),this._cleanItemContainer(),this._inkRipple&&delete this._inkRipple,this._resetActiveState()}_cleanItemContainer(){Si(this._itemContainer()).empty()}_dispose(){super._dispose(),clearTimeout(this._itemFocusTimeout)}_refresh(){this._cleanRenderedItems(),super._refresh()}_itemContainer(e,t){return this.$element()}_itemClass(){return $y}_itemContentClass(){return`${this._itemClass()}-content`}_itemResponseWaitClass(){return"dx-item-response-wait"}_itemSelector(){return`.${this._itemClass()}`}_itemDataKey(){return"dxItemData"}_itemIndexKey(){return"dxItemIndex"}_itemElements(){return this._itemContainer().find(this._itemSelector())}_initMarkup(){super._initMarkup(),this.onFocusedItemChanged=this._createActionByOption("onFocusedItemChanged"),this.$element().addClass("dx-collection"),this._prepareContent()}_prepareContent(){Ue(()=>{this._renderContentImpl()})()}_renderContent(){this._fireContentReadyAction()}_render(){super._render(),this._attachClickEvent(),this._attachHoldEvent(),this._attachContextMenuEvent()}_getPointerEvent(){return yo.down}_attachClickEvent(){const e=this._itemSelector(),t=this._getPointerEvent(),n=or(dc,this.NAME),i=or(t,this.NAME),r=new Al(e=>{const{event:t}=e;this._itemPointerDownHandler(t)});rn.off(this._itemContainer(),n,e),rn.off(this._itemContainer(),i,e),rn.on(this._itemContainer(),n,e,e=>this._itemClickHandler(e)),rn.on(this._itemContainer(),i,e,e=>{r.execute({element:Si(e.target),event:e})})}_itemClickHandler(e,t,n){this._itemDXEventHandler(e,"onItemClick",t,n)}_itemPointerDownHandler(e){this.option("focusStateEnabled")&&(this._itemFocusHandler=()=>{if(clearTimeout(this._itemFocusTimeout),this._itemFocusHandler=void 0,e.isDefaultPrevented())return;const t=Si(e.target),n=t.closest(this._itemElements()),i=this._closestFocusable(t);n.length&&this._isFocusTarget(null===i||void 0===i?void 0:i.get(0))&&(this._shouldSkipSelectOnFocus=!0,this.option("focusedElement",ma(n)),this._shouldSkipSelectOnFocus=!1)},this._itemFocusTimeout=setTimeout(this._forcePointerDownFocus.bind(this)))}_closestFocusable(e){if(e.is(Bi))return e;let t=e.parent();for(;t.length&&!mt.isDocument(t.get(0))&&!mt.isDocumentFragment(t.get(0));){if(t.is(Bi))return t;t=t.parent()}}_forcePointerDownFocus(){this._itemFocusHandler&&this._itemFocusHandler()}_updateFocusState(e,t){super._updateFocusState(e,t),this._forcePointerDownFocus()}_attachHoldEvent(){const e=this._itemContainer(),t=this._itemSelector(),n=or(wy,this.NAME);rn.off(e,n,t),rn.on(e,n,t,{timeout:this._getHoldTimeout()},this._itemHoldHandler.bind(this))}_getHoldTimeout(){const{itemHoldTimeout:e}=this.option();return e}_shouldFireHoldEvent(){return this.hasActionSubscription("onItemHold")}_itemHoldHandler(e){this._shouldFireHoldEvent()?this._itemDXEventHandler(e,"onItemHold"):e.cancel=!0}_attachContextMenuEvent(){const e=this._itemContainer(),t=this._itemSelector(),n=or(Dy,this.NAME);rn.off(e,n,t),rn.on(e,n,t,this._itemContextMenuHandler.bind(this))}_shouldFireContextMenuEvent(){return this.hasActionSubscription("onItemContextMenu")}_itemContextMenuHandler(e){this._shouldFireContextMenuEvent()?this._itemDXEventHandler(e,"onItemContextMenu"):e.cancel=!0}_renderContentImpl(){const{items:e}=this.option(),t=e??[];this._renderedItemsCount?this._renderItems(t.slice(this._renderedItemsCount)):this._renderItems(t)}_renderItems(e){e.length&&l(e,(e,t)=>{this._renderItem(this._renderedItemsCount+e,t)}),this._renderEmptyMessage()}_getItemsContainer(){return this._itemContainer()}_setAttributes(e){const t=K({},this.option("_itemAttributes")),{class:n}=t;if(n){const i=e.get(0).className;t.class=[i,n].join(" ")}e.attr(t)}_renderItem(e,t,n,i){const r=(null===e||void 0===e?void 0:e.item)??e,o=n??this._getItemsContainer(),s=this._renderItemFrame(r,t,o,i);this._setElementData(s,t,r),this._setAttributes(s),this._attachItemClickEvent(t,s);const a=this._getItemContent(s),{itemTemplate:l}=this.option();return Be(this._renderItemContent({index:r,itemData:t,container:ma(a),contentClass:this._itemContentClass(),defaultTemplateName:l})).done(n=>{this._postprocessRenderItem({itemElement:s,itemContent:n,itemData:t,itemIndex:r}),this._executeItemRenderAction(e,t,ma(s))}),s}_getItemContent(e){const t=e.find(".dx-item-content-placeholder");return t.removeClass("dx-item-content-placeholder"),t}_attachItemClickEvent(e,t){e&&e.onClick&&rn.on(t,dc,n=>{this._itemEventHandlerByHandler(t,e.onClick,{event:n})})}_renderItemContent(e){const t=this._getItemTemplateName(e),n=this._getTemplate(t);this._addItemContentClasses(e);const i=Si(this._createItemByTemplate(n,e));return i.hasClass("dx-template-wrapper")?this._renderItemContentByNode(e,i):e.container}_renderItemContentByNode(e,t){return Si(e.container).replaceWith(t),e.container=ma(t),this._addItemContentClasses(e),t}_addItemContentClasses(e){const t=[$y+"-content",e.contentClass];Si(e.container).addClass(t.join(" "))}_appendItemToContainer(e,t,n){t.appendTo(e)}_renderItemFrame(e,t,n,i){const r=Si("<div>");if(new this.constructor.ItemClass(r,this._itemOptions(),t||{}),null!==i&&void 0!==i&&i.length?i.replaceWith(r):this._appendItemToContainer.call(this,n,r,e),this.option("useItemTextAsTitle")){const e=this._displayGetter?this._displayGetter(t):t;r.attr("title",e)}return r}_itemOptions(){return{watchMethod:()=>this.option("integrationOptions.watchMethod"),owner:this,fieldGetter:e=>{const t=this.option(`${e}Expr`);return we(t)}}}_postprocessRenderItem(e){}_executeItemRenderAction(e,t,n){this._getItemRenderAction()({itemElement:n,itemIndex:e,itemData:t})}_setElementData(e,t,n){e.addClass([$y,this._itemClass()].join(" ")).data(this._itemDataKey(),t).data(this._itemIndexKey(),n)}_createItemRenderAction(){return this._itemRenderAction=this._createActionByOption("onItemRendered",{element:this.element(),excludeValidators:["disabled","readOnly"],category:"rendering"}),this._itemRenderAction}_getItemRenderAction(){return this._itemRenderAction??this._createItemRenderAction()}_getItemTemplateName(e){const t=e.itemData,n=e.templateProperty||this.option("itemTemplateProperty");return t&&t[n]||e.defaultTemplateName}_createItemByTemplate(e,t){const{itemData:n,container:i,index:r}=t;return e.render({model:n,container:i,index:r,onRendered:this._onItemTemplateRendered(e,t)})}_onItemTemplateRendered(e,t){return()=>{}}_emptyMessageContainer(){return this._itemContainer()}_renderEmptyMessage(e){const t=e??this.option("items"),n=this.option("noDataText"),i=!n||t&&t.length||this._dataController.isLoading();i&&this._$noData&&(this._$noData.remove(),this._$noData=null,this.setAria("label",void 0)),i||(this._$noData=this._$noData??Si("<div>").addClass("dx-empty-message"),this._$noData.appendTo(this._emptyMessageContainer()),this.option("encodeNoDataText")?this._$noData.text(n):this._$noData.html(n)),this.$element().toggleClass("dx-empty-collection",!i)}_itemDXEventHandler(e,t,n,i){this._itemEventHandler(e.target,t,A(n,{event:e}),i)}_itemEventHandler(e,t,n,i){const r=this._createActionByOption(t,A({validatingTargetName:"itemElement"},i));return this._itemEventHandlerImpl(e,r,n)}_itemEventHandlerByHandler(e,t,n,i){const r=this._createAction(t,A({validatingTargetName:"itemElement"},i));return this._itemEventHandlerImpl(e,r,n)}_itemEventHandlerImpl(e,t,n){const i=this._closestItemElement(Si(e)),r=A({},n);return t(A(n,this._extendActionArgs(i),r))}_extendActionArgs(e){return{itemElement:ma(e),itemIndex:this._itemElements().index(e),itemData:this._getItemData(e)}}_closestItemElement(e){return Si(e).closest(this._itemSelector())}_getItemData(e){return Si(e).data(this._itemDataKey())}_getSummaryItemsSize(e,t,n){let i=0;return t&&l(t,(t,r)=>{"width"===e?i+=zn(r,n??!1):"height"===e&&(i+=jn(r,n??!1))}),i}getFocusedItemId(){return this._focusedItemId||(this._focusedItemId=`dx-${new ce}`),this._focusedItemId}itemElements(){return this._itemElements()}itemsContainer(){return this._itemContainer()}}Ly.include(By),Ly.ItemClass=Fy;const Vy=Ly;class zy extends(ie.inherit({})){constructor(e){super(),this._collectionWidget=e}getIndexByItemData(e){return ie.abstract()}getItemDataByIndex(e){ie.abstract()}getKeysByItems(e){ie.abstract()}getItemsByKeys(e,t){ie.abstract()}itemsGetter(){ie.abstract()}getKeyByIndex(e){const t=this._denormalizeItemIndex(e);return this.getKeysByItems([this.getItemDataByIndex(t)])[0]}_equalKeys(e,t){return this._collectionWidget._isKeySpecified()?st(e,t):e===t}beginCache(){this._cache={}}endCache(){this._cache=null}getIndexByKey(e){return ie.abstract()}getNormalizedIndex(e){return this._isNormalizedItemIndex(e)?e:this._isItemIndex(e)?this._normalizeItemIndex(e):this._isNode(e)?this._getNormalizedItemIndex(e):this._normalizeItemIndex(this.getIndexByItemData(e))}getIndex(e){return this._isNormalizedItemIndex(e)?this._denormalizeItemIndex(e):this._isItemIndex(e)?e:this._isNode(e)?this._denormalizeItemIndex(this._getNormalizedItemIndex(e)):this.getIndexByItemData(e)}getItemElement(e){if(this._isNormalizedItemIndex(e))return this._getItemByNormalizedIndex(e);if(this._isItemIndex(e))return this._getItemByNormalizedIndex(this._normalizeItemIndex(e));if(this._isNode(e))return Si(e);const t=this._normalizeItemIndex(this.getIndexByItemData(e));return this._getItemByNormalizedIndex(t)}_isNode(e){return mt.isNode(e&&E(e)?e.get(0):e)}deleteItemAtIndex(e){ie.abstract()}itemPlacementFunc(e,t){return this._itemsFromSameParent(e,t)&&e<t?"after":"before"}moveItemAtIndexToIndex(e,t){ie.abstract()}_isNormalizedItemIndex(e){return"number"===typeof e&&Math.round(e)===e}_isItemIndex(e){return ie.abstract()}_getNormalizedItemIndex(e){return ie.abstract()}_normalizeItemIndex(e){return ie.abstract()}_denormalizeItemIndex(e){return ie.abstract()}_getItemByNormalizedIndex(e){return ie.abstract()}_itemsFromSameParent(e,t){return ie.abstract()}}const jy=zy;const Wy=class extends jy{_getPlainItems(){return this._collectionWidget.option("items")||[]}getIndexByItemData(e){const t=this._collectionWidget.keyOf.bind(this._collectionWidget);return t?this.getIndexByKey(t(e)):this._getPlainItems().indexOf(e)}getItemDataByIndex(e){return this._getPlainItems()[e]}deleteItemAtIndex(e){this._getPlainItems().splice(e,1)}itemsGetter(){return this._getPlainItems()}getKeysByItems(e){const t=this._collectionWidget.keyOf.bind(this._collectionWidget);let n=e;if(t){n=[];for(let i=0;i<e.length;i++)n.push(t(e[i]))}return n}getIndexByKey(e){const t=this._cache,n=t&&t.keys||this.getKeysByItems(this._getPlainItems());if(t&&!t.keys&&(t.keys=n),"object"!==typeof e)return n.indexOf(e);for(let i=0,{length:r}=n;i<r;i++)if(this._equalKeys(e,n[i]))return i;return-1}getItemsByKeys(e,t){return(t||e).slice()}moveItemAtIndexToIndex(e,t){const n=this._getPlainItems(),i=n[e];n.splice(e,1),n.splice(t,0,i)}_isItemIndex(e){return"number"===typeof e&&Math.round(e)===e}_getNormalizedItemIndex(e){return this._collectionWidget._itemElements().index(e)}_normalizeItemIndex(e){return e}_denormalizeItemIndex(e){return e}_getItemByNormalizedIndex(e){return e>-1?this._collectionWidget._itemElements().eq(e):null}_itemsFromSameParent(e,t){return!0}};class Ky{constructor(e){this._lastSelectAllPageDeferred=Re().reject(),this.options=e,this._setOption("disabledItemKeys",[]),this._clearItemKeys()}_clearItemKeys(){this._setOption("addedItemKeys",[]),this._setOption("removedItemKeys",[]),this._setOption("removedItems",[]),this._setOption("addedItems",[])}validate(){}_setOption(e,t){this.options[e]=t}onSelectionChanging(){const{selectedItems:e,selectedItemKeys:t,addedItemKeys:n,removedItemKeys:i,addedItems:r,removedItems:o,onSelectionChanging:s=tt}=this.options,a={selectedItems:e,selectedItemKeys:t,addedItemKeys:n,removedItemKeys:i,addedItems:r,removedItems:o,cancel:!1};return s(a),a.cancel}_callCallbackIfNotCanceled(e,t){const n=this.onSelectionChanging();I(n)?n.then(n=>{n?t():e()}).catch(()=>{e()}):n?t():e()}onSelectionChanged(){const{selectedItems:e,selectedItemKeys:t,addedItemKeys:n,removedItemKeys:i,addedItems:r,removedItems:o,onSelectionChanged:s=tt}=this.options;this._clearItemKeys(),s({selectedItems:e,selectedItemKeys:t,addedItemKeys:n,removedItemKeys:i,addedItems:r,removedItems:o})}equalKeys(e,t){return this.options.equalByReference&&b(e)&&b(t)?e===t:st(e,t)}getSelectableItems(e){return e.filter(e=>!(null!==e&&void 0!==e&&e.disabled))}_clearSelection(e,t,n,i){return e=e||[],e=Array.isArray(e)?e:[e],this.validate(),this.selectedItemKeys(e,t,n,i)}_removeTemplateProperty(e){return Array.isArray(e)?e.map(e=>this._removeTemplateProperty(e)):(b(e)&&delete e.template,e)}_getQueryParams(){const{sensitivity:e}=this.options;if(e)return{langParams:{collatorOptions:{sensitivity:e}}}}_loadFilteredData(e,t,n,i){const r=encodeURI(JSON.stringify(this._removeTemplateProperty(e))).length,o=this.options.maxFilterLengthInRequest&&r>this.options.maxFilterLengthInRequest,s=Re(),a=this._getQueryParams(),l=K({filter:o?void 0:e,select:o?this.options.dataFields():n||this.options.dataFields()},a);return e&&0===e.length?s.resolve([]):this.options.load(l).done(n=>{let r=x(n)?n.data:n;t&&!i?r=r.filter(t):o&&(r=Uv(r).filter(e).toArray()),s.resolve(r)}).fail(s.reject.bind(s)),s}updateSelectedItemKeyHash(e){for(let t=0;t<e.length;t++){const n=Xe(e[t]);if(!b(n)){this.options.keyHashIndices[n]=this.options.keyHashIndices[n]||[];this.options.keyHashIndices[n].push(t)}}}_isAnyItemSelected(e){for(let t=0;t<e.length;t++)if(this.options.isItemSelected(e[t]))return;return!1}_getFullSelectAllState(){const e=this.options.plainItems(),t=this.options.filter();let n=this.options.ignoreDisabledItems?this.options.selectedItems:this.options.selectedItems.filter(e=>!(null!==e&&void 0!==e&&e.disabled));t&&(n=Uv(n).filter(t).toArray());const i=n.length,r=e.length-this.getSelectableItems(e).length;return i?i>=this.options.totalCount()-r||void 0:this._isAnyItemSelected(e)}_getVisibleSelectAllState(){const e=this.getSelectableItems(this.options.plainItems());let t=!1,n=!1;for(let i=0;i<e.length;i++){const r=e[i],o=this.options.getItemData(r),s=this.options.keyOf(o);this.options.isSelectableItem(r)&&(this.isItemKeySelected(s)?t=!0:n=!0)}return!!t&&(!n||void 0)}isItemKeySelected(e){throw new Error("isItemKeySelected method should be overriden")}addSelectedItem(e,t){throw new Error("addSelectedItem method should be overriden")}removeSelectedItem(e){throw new Error("removeSelectedItem method should be overriden")}_selectAllPlainItems(e){const t=this.getSelectableItems(this.options.plainItems());for(let n=0;n<t.length;n++){const i=t[n];if(this.options.isSelectableItem(i)){const t=this.options.getItemData(i),n=this.options.keyOf(t),r=this.isItemKeySelected(n);r||e||this.addSelectedItem(n,t),r&&e&&this.removeSelectedItem(n)}}}}class Uy extends Ky{getSelectedItems(){return this._loadFilteredData(this.options.selectionFilter)}getSelectedItemKeys(){const e=Re(),t=this,n=this.options.key(),i=v(n)?[n]:n;return this._loadFilteredData(this.options.selectionFilter,null,i).done(n=>{const i=n.map(e=>t.options.keyOf(e));e.resolve(i)}).fail(e.reject),e.promise()}selectedItemKeys(e,t,n,i){if(i){const e=this.options.filter();!e||JSON.stringify(e)===JSON.stringify(this.options.selectionFilter)&&n?this._setOption("selectionFilter",n?[]:null):this._addSelectionFilter(n,e,i)}else{t||this._setOption("selectionFilter",[]);for(let r=0;r<e.length;r++)n?this.removeSelectedItem(e[r]):this.addSelectedItem(e[r],i,!t)}return this.onSelectionChanged(),Re().resolve()}setSelectedItems(e){this._setOption("selectionFilter",null);for(let t=0;t<e.length;t++)this.addSelectedItem(e[t])}isItemDataSelected(e){return this.isItemKeySelected(e)}isItemKeySelected(e){const{selectionFilter:t}=this.options;if(!t)return!0;const n=this._getQueryParams();return!!Uv([e],n).filter(t).toArray().length}_getKeyExpr(){const e=this.options.key();return Array.isArray(e)&&1===e.length?e[0]:e}_normalizeKey(e){const t=this.options.key();return Array.isArray(t)&&1===t.length?e[t[0]]:e}_getFilterByKey(e){const t=this._getKeyExpr();let n=[t,"=",this._normalizeKey(e)];if(Array.isArray(t)){n=[];for(let i=0;i<t.length;i++)n.push([t[i],"=",e[t[i]]]),i!==t.length-1&&n.push("and")}return n}addSelectedItem(e,t,n){const i=this._getFilterByKey(e);this._addSelectionFilter(!1,i,t,n)}removeSelectedItem(e){const t=this._getFilterByKey(e);this._addSelectionFilter(!0,t)}validate(){const{key:e}=this.options;if(e&&void 0===e())throw Ps.Error("E1042","Deferred selection")}_findSubFilter(e,t){if(!e)return-1;const n=JSON.stringify(t);for(let i=0;i<e.length;i++){const t=e[i];if(t&&JSON.stringify(t)===n)return i}return-1}_isLastSubFilter(e,t){return!(!e||!t)&&(this._findSubFilter(e,t)===e.length-1||0===this._findSubFilter([e],t))}_addFilterOperator(e,t){return e.length>1&&v(e[1])&&e[1]!==t&&(e=[e]),e.length&&e.push(t),e}_denormalizeFilter(e){return e&&v(e[0])&&(e=[e]),e}_isOnlyNegativeFiltersLeft(e){return e.every((e,t)=>t%2===0?Array.isArray(e)&&"!"===e[0]:"and"===e)}_addSelectionFilter(e,t,n,i){var r;const o=this,s=e?["!",t]:t,a=e?"and":"or";let l=!0,c=o.options.selectionFilter||[];if(c=o._denormalizeFilter(c),null!==(r=c)&&void 0!==r&&r.length&&!i){const i=o._removeSameFilter(c,t,e,n),r=o._removeSameFilter(c,t,!e);e&&(-1!==i||-1!==r)&&this._isOnlyNegativeFiltersLeft(c)&&(c=[]);const s=this._isKeyFilter(t)&&this._hasKeyFiltersOnlyStartingFromIndex(c,r);l=t.length&&!s}l&&(c=o._addFilterOperator(c,a),c.push(s)),c=o._normalizeFilter(c),o._setOption("selectionFilter",e||c.length?c:null)}_normalizeFilter(e){return e&&1===e.length&&(e=e[0]),e}_removeFilterByIndex(e,t,n){const i=e[1];t>0?e.splice(t-1,2):e.splice(t,2),n&&"and"===i&&e.splice(0,e.length)}_isSimpleKeyFilter(e,t){return 3===e.length&&e[0]===t&&"="===e[1]}_isKeyFilter(e){if(2===e.length&&"!"===e[0])return this._isKeyFilter(e[1]);const t=this._getKeyExpr();if(Array.isArray(t)){if(e.length!==2*t.length-1)return!1;for(let n=0;n<t.length;n++){if(n>0&&"and"!==e[2*n-1])return!1;if(!this._isSimpleKeyFilter(e[2*n],t[n]))return!1}return!0}return this._isSimpleKeyFilter(e,t)}_hasKeyFiltersOnlyStartingFromIndex(e,t){if(t>=0){for(let n=t;n<e.length;n++)if("string"!==typeof e[n]&&!this._isKeyFilter(e[n]))return!1;return!0}return!1}_removeSameFilter(e,t,n,i){if(t=n?["!",t]:t,JSON.stringify(t)===JSON.stringify(e))return e.splice(0,e.length),0;const r=this._findSubFilter(e,t);if(r>=0)return this._removeFilterByIndex(e,r,i),r;for(let o=0;o<e.length;o++)if(Array.isArray(e[o])&&e[o].length>2){const n=this._removeSameFilter(e[o],t,!1,i);if(n>=0)return e[o].length?1===e[o].length&&(e[o]=e[o][0]):this._removeFilterByIndex(e,o,i),n}return-1}getSelectAllState(){const e=this.options.filter();let{selectionFilter:t}=this.options;return!t||!!t.length&&(e&&e.length?(t=this._denormalizeFilter(t),!!this._isLastSubFilter(t,e)||!this._isLastSubFilter(t,["!",e])&&void 0):void 0)}loadSelectedItemsWithFilter(){const e=this.options.filter(),{selectionFilter:t}=this.options,n=e?[e,"and",t]:t;return this._loadFilteredData(n)}_onePageSelectAll(e){return this._selectAllPlainItems(e),this.onSelectionChanged(),Re().resolve()}}const qy=function(e,t){const n=t(e);if(b(n))try{return JSON.stringify(n)}catch(i){return n}return n},Gy=function(e,t,n,i){return t[n[qy(e,i)]]},Zy=function(e,t){let n;this.getLocalFilter=function(e,t,n,i){return t=void 0===t?st:t,o.bind(this,t,e,n,i)},this.getExpr=function(n){if(!n)return;let i;return e.forEach(function(e,r){let o;i=i||[],r>0&&i.push(t?"and":"or"),o=v(n)||g(n)?s(n,e):function(e,n){const i=[];for(let r=0,{length:o}=e;r<o;r++){const o=e[r],a=we(o),l=s(o,n&&a(n));if(!l)break;r>0&&i.push(t?"or":"and"),i.push(l)}return i}(n,e),i.push(o)}),i&&1===i.length&&(i=i[0]),i},this.getCombinedFilter=function(e,n){let i=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=this.getExpr(e);let o=r;return(i||t)&&n&&(r?(o=[],o.push(r),o.push(n)):o=n),o};const i=function(t,i){if(!n){n={};const o=r(e,t,i);for(let e=0;e<o.length;e++)n[Xe(o[e])]=!0}return n},r=function(e,t,n){return Array.isArray(n)?e.map(e=>t(e)):e};function o(n,r,o,s,a){const l=r(a);let c,u;if(!o&&(c=Xe(l),!b(c))){return i(r,s)[c]?!t:!!t}for(u=0;u<e.length;u++)if(n(e[u],l))return!t;return!!t}function s(e,n){if(void 0!==n)return[e,t?"<>":"=",n]}};class Yy extends Ky{constructor(e){super(e),this._lastSelectAllPageDeferred=Re().reject(),this._initSelectedItemKeyHash()}_initSelectedItemKeyHash(){this._setOption("keyHashIndices",this.options.equalByReference?null:{})}getSelectedItemKeys(){return this.options.selectedItemKeys.slice(0)}getSelectedItems(){return this.options.selectedItems.slice(0)}_preserveSelectionUpdate(e,t){const{keyOf:n}=this.options;let i,r,o;if(!n)return;const s=t&&e.length>1&&!this.options.equalByReference;for(s&&(i={}),o=0;o<e.length;o++){const s=e[o],a=n(s);t?(r=this.removeSelectedItem(a,i,null===s||void 0===s?void 0:s.disabled),i&&r>=0&&(i[r]=!0)):this.addSelectedItem(a,s)}s&&this._batchRemoveSelectedItems(i)}_batchRemoveSelectedItems(e){const t=this.options.selectedItemKeys.slice(0),n=this.options.selectedItems.slice(0);this.options.selectedItemKeys.length=0,this.options.selectedItems.length=0;for(let i=0;i<t.length;i++)e[i]||(this.options.selectedItemKeys.push(t[i]),this.options.selectedItems.push(n[i]));this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(this.options.selectedItemKeys)}_loadSelectedItemsCore(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=Re();const s=this.options.key();if(!e.length&&!n)return o.resolve([]),o;if(n&&t&&!i)return o.resolve(this.getSelectedItems()),o;const a=new Zy(e,n),l=a.getCombinedFilter(s,i,r);let c=[];if(t){const{selectedItems:t}=this.options;c=l&&e.length!==t.length?Uv(t).filter(l).toArray():t.slice(0)}let u=c.length?c:this.options.plainItems(!0).filter(this.options.isSelectableItem).map(this.options.getItemData);const d=a.getLocalFilter(this.options.keyOf,this.equalKeys.bind(this),this.options.equalByReference,s);return u=u.filter(d),c.length||!n&&u.length===e.length?o.resolve(u):o=this._loadFilteredData(l,d,null,n),o}_replaceSelectionUpdate(e){const t=[],{keyOf:n}=this.options;if(n){for(let i=0;i<e.length;i++){const r=n(e[i]);t.push(r)}this.setSelectedItems(t,e)}}_warnOnIncorrectKeys(e){const{allowNullValue:t}=this.options;for(let n=0;n<e.length;n++){const i=e[n];t&&null===i||this.isItemKeySelected(i)||Ps.log("W1002",i)}}_isMultiSelectEnabled(){const{mode:e}=this.options;return"all"===e||"multiple"===e}_requestInProgress(){var e;return"pending"===(null===(e=this._lastLoadDeferred)||void 0===e?void 0:e.state())}_concatRequestsItems(e,t,n,i){let r;const o=t?e:[];return r=i||td(e,this.options.selectedItemKeys),{addedItems:n.added.concat(r),removedItems:n.removed.concat(o),keys:e}}_collectLastRequestData(e,t,n,i){const r=t&&n,o={added:[],removed:[]},s=this._isMultiSelectEnabled();let a=s?this._lastRequestData:{};return s&&(this._shouldMergeWithLastRequest&&(r?(this._lastLoadDeferred.reject(),a={}):function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0}(e,this.options.selectedItemKeys)||(o.added=a.addedItems,o.removed=a.removedItems,t||this._lastLoadDeferred.reject())),a=this._concatRequestsItems(e,t,o,this._shouldMergeWithLastRequest?void 0:i)),a}_updateKeysByLastRequestData(e,t,n){let i=e;var r,o;this._isMultiSelectEnabled()&&this._shouldMergeWithLastRequest&&!t&&!n&&(i=td(e.concat(null===(r=this._lastRequestData)||void 0===r?void 0:r.addedItems),null===(o=this._lastRequestData)||void 0===o?void 0:o.removedItems),i=[...new Set(i)]);return i}_loadSelectedItems(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const o=this,s=Re(),a=o.options.filter();return this._shouldMergeWithLastRequest=this._requestInProgress(),this._lastRequestData=this._collectLastRequestData(e,t,n,i),Be(o._lastLoadDeferred).always(()=>{const i=o._updateKeysByLastRequestData(e,t,n);o._shouldMergeWithLastRequest=!1,o._loadSelectedItemsCore(i,t,n,a,r).done(s.resolve).fail(s.reject)}),o._lastLoadDeferred=s,s}selectedItemKeys(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]&&arguments[5];if(this._isCancelingInProgress)return Re().reject();const s=this._loadSelectedItems(e,n,i,r,o),a=Re();return s.done(e=>{this._storeSelectionState(),t?this._preserveSelectionUpdate(e,n):this._replaceSelectionUpdate(e),this._isCancelingInProgress=!0,this._callCallbackIfNotCanceled(()=>{this._isCancelingInProgress=!1,this.onSelectionChanged(),a.resolve(e)},()=>{this._isCancelingInProgress=!1,this._restoreSelectionState(),a.reject()})}),a}addSelectedItem(e,t){if(_(t)&&!this.options.ignoreDisabledItems&&t.disabled)return void(-1===this.options.disabledItemKeys.indexOf(e)&&this.options.disabledItemKeys.push(e));const n=this._getKeyHash(e);-1===this._indexOfSelectedItemKey(n)&&(!b(n)&&this.options.keyHashIndices&&(this.options.keyHashIndices[n]=[this.options.selectedItemKeys.length]),this.options.selectedItemKeys.push(e),this.options.addedItemKeys.push(e),this.options.addedItems.push(t),this.options.selectedItems.push(t))}_getSelectedIndexByKey(e,t){const{selectedItemKeys:n}=this.options;for(let i=0;i<n.length;i++)if((!t||!t[i])&&this.equalKeys(n[i],e))return i;return-1}_getSelectedIndexByHash(e,t){let n=this.options.keyHashIndices[e];return n&&n.length>1&&t&&(n=n.filter(e=>!t[e])),n&&n[0]>=0?n[0]:-1}_indexOfSelectedItemKey(e,t){let n;return n=this.options.equalByReference?this.options.selectedItemKeys.indexOf(e):b(e)?this._getSelectedIndexByKey(e,t):this._getSelectedIndexByHash(e,t),n}_shiftSelectedKeyIndices(e){for(let t=e;t<this.options.selectedItemKeys.length;t++){const n=this.options.selectedItemKeys[t],i=Xe(n),r=this.options.keyHashIndices[i];if(r)for(let t=0;t<r.length;t++)r[t]>e&&r[t]--}}removeSelectedItem(e,t,n){if(!this.options.ignoreDisabledItems&&n)return;const i=this._getKeyHash(e),r=!!t,o=this._indexOfSelectedItemKey(i,t);if(o<0)return o;if(this.options.removedItemKeys.push(e),this.options.removedItems.push(this.options.selectedItems[o]),r)return o;if(this.options.selectedItemKeys.splice(o,1),this.options.selectedItems.splice(o,1),b(i)||!this.options.keyHashIndices)return o;const s=this.options.keyHashIndices[i];return s?(s.shift(),s.length||delete this.options.keyHashIndices[i],this._shiftSelectedKeyIndices(o),o):o}_updateAddedItemKeys(e,t){for(let n=0;n<e.length;n++)this.isItemKeySelected(e[n])||(this.options.addedItemKeys.push(e[n]),this.options.addedItems.push(t[n]))}_updateRemovedItemKeys(e,t,n){for(let i=0;i<t.length;i++)this.isItemKeySelected(t[i])||(this.options.removedItemKeys.push(t[i]),this.options.removedItems.push(n[i]))}_isItemSelectionInProgress(e,t){if(t&&this._lastRequestData&&this._requestInProgress()){return(this._lastRequestData.addedItems??[]).includes(e)}return!1}_getKeyHash(e){return this.options.equalByReference?e:Xe(e)}setSelectedItems(e,t){this._updateAddedItemKeys(e,t);const n=this.options.selectedItemKeys,i=this.options.selectedItems;this.options.equalByReference||(this._initSelectedItemKeyHash(),this.updateSelectedItemKeyHash(e)),this._setOption("selectedItemKeys",e),this._setOption("selectedItems",t),this._updateRemovedItemKeys(e,n,i)}isItemDataSelected(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=this.options.keyOf(e);return this.isItemKeySelected(n,t)}isItemKeySelected(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._isItemSelectionInProgress(e,t.checkPending);if(!n){const t=this._getKeyHash(e);n=-1!==this._indexOfSelectedItemKey(t)}return n}getSelectAllState(e){return e?this._getVisibleSelectAllState():this._getFullSelectAllState()}loadSelectedItemsWithFilter(){const e=this.options.key(),t=this.getSelectedItemKeys(),n=this.options.filter();if(!t.length)return Re().resolve([]);const i=new Zy(t).getCombinedFilter(e,n,!0);return this._loadFilteredData(i)}_storeSelectionState(){const{selectedItems:e,selectedItemKeys:t,keyHashIndices:n}=this.options;this._storedSelectionState={keyHashIndices:JSON.stringify(n),selectedItems:[...e],selectedItemKeys:[...t]}}_restoreSelectionState(){this._clearItemKeys();const{selectedItemKeys:e,selectedItems:t,keyHashIndices:n}=this._storedSelectionState;this._setOption("selectedItemKeys",e),this._setOption("selectedItems",t),this._setOption("keyHashIndices",JSON.parse(n))}_onePageSelectAll(e){return"pending"===this._lastSelectAllPageDeferred.state()?Re().reject():(this._storeSelectionState(),this._selectAllPlainItems(e),this._lastSelectAllPageDeferred=Re(),this._callCallbackIfNotCanceled(()=>{this.onSelectionChanged(),this._lastSelectAllPageDeferred.resolve()},()=>{this._restoreSelectionState(),this._lastSelectAllPageDeferred.reject()}),this._lastSelectAllPageDeferred)}}class Qy{constructor(e){this.options=A(this._getDefaultOptions(),e,{selectedItemKeys:e.selectedKeys||[]}),this._selectionStrategy=this.options.deferred?new Uy(this.options):new Yy(this.options),this._focusedItemIndex=-1,this.options.equalByReference||this._selectionStrategy.updateSelectedItemKeyHash(this.options.selectedItemKeys)}_getDefaultOptions(){return{allowNullValue:!1,deferred:!1,equalByReference:!1,mode:"multiple",selectedItems:[],selectionFilter:[],maxFilterLengthInRequest:0,onSelectionChanged:tt,key:tt,keyOf:e=>e,load:()=>Re().resolve([]),totalCount:()=>-1,isSelectableItem:()=>!0,isItemSelected:()=>!1,getItemData:e=>e,dataFields:tt,filter:tt}}validate(){this._selectionStrategy.validate()}getSelectedItemKeys(){return this._selectionStrategy.getSelectedItemKeys()}getSelectedItems(){return this._selectionStrategy.getSelectedItems()}selectionFilter(e){if(void 0===e)return this.options.selectionFilter;const t=this.options.selectionFilter!==e&&JSON.stringify(this.options.selectionFilter)!==JSON.stringify(e);this.options.selectionFilter=e,t&&this.onSelectionChanged()}setSelection(e,t){return this.selectedItemKeys(e,!1,!1,!1,t)}select(e){return this.selectedItemKeys(e,!0)}deselect(e){return this.selectedItemKeys(e,!0,!0)}selectedItemKeys(e,t,n,i,r){return e=e??[],e=Array.isArray(e)?e:[e],this.validate(),this._selectionStrategy.selectedItemKeys(e,t,n,i,r)}clearSelection(){return this.selectedItemKeys([])}_addSelectedItem(e,t){this._selectionStrategy.addSelectedItem(t,e)}_removeSelectedItem(e){this._selectionStrategy.removeSelectedItem(e)}_setSelectedItems(e,t){this._selectionStrategy.setSelectedItems(e,t)}onSelectionChanged(){this._selectionStrategy.onSelectionChanged()}changeItemSelection(e,t,n){var i,r;let o;const s=this.options.plainItems(),a=s[e];let l;const{isVirtualPaging:c}=this.options,u=null===(i=(r=this.options).allowLoadByRange)||void 0===i?void 0:i.call(r),{alwaysSelectByShift:d}=this.options;let h,p=!1,f=!1;const m=e=>e>=0&&!s.filter(t=>t.loadIndex===e).length;if(c&&_(a)&&(u&&(h=a.loadIndex-e,e=a.loadIndex),p=m(this._focusedItemIndex),_(this._shiftFocusedItemIndex)&&(f=m(this._shiftFocusedItemIndex))),!this.isSelectable()||!this.isDataItem(a))return!1;const g=this.options.getItemData(a),v=this.options.keyOf(g);let y=(t=t||{}).shift;if(!1===d&&y&&(y=!1!==u||!p&&!f),y&&"multiple"===this.options.mode&&this._focusedItemIndex>=0)u&&(p||f)?(o=e!==this._shiftFocusedItemIndex||this._focusedItemIndex!==this._shiftFocusedItemIndex,o&&(l=this.changeItemSelectionWhenShiftKeyInVirtualPaging(e))):o=this.changeItemSelectionWhenShiftKeyPressed(e,s,h);else if(t.control){if(this._resetItemSelectionWhenShiftKeyPressed(),!n){const e=this._selectionStrategy.isItemDataSelected(g);"single"===this.options.mode&&this.clearSelectedItems(),e?this._removeSelectedItem(v):this._addSelectedItem(g,v)}o=!0}else{this._resetItemSelectionWhenShiftKeyPressed();const e=this._selectionStrategy.equalKeys(this.options.selectedItemKeys[0],v);1===this.options.selectedItemKeys.length&&e||(this._setSelectedItems([v],[g]),o=!0)}return o?(Be(l).done(()=>{this._focusedItemIndex=e,!n&&this.onSelectionChanged()}),!0):void 0}isDataItem(e){return this.options.isSelectableItem(e)}isSelectable(){return"single"===this.options.mode||"multiple"===this.options.mode}isItemDataSelected(e){return this._selectionStrategy.isItemDataSelected(e,{checkPending:!0})}isItemSelected(e,t){return this._selectionStrategy.isItemKeySelected(e,t)}_resetItemSelectionWhenShiftKeyPressed(){delete this._shiftFocusedItemIndex}_resetFocusedItemIndex(){this._focusedItemIndex=-1}changeItemSelectionWhenShiftKeyInVirtualPaging(e){const t=this.options.getLoadOptions(e,this._focusedItemIndex,this._shiftFocusedItemIndex),n=Re(),i=t.skip;return this.options.load(t).done(t=>{this.changeItemSelectionWhenShiftKeyPressed(e,t,i),n.resolve()}),n.promise()}changeItemSelectionWhenShiftKeyPressed(e,t,n){let i,r=!1;const o=_(n);let s=o?this._focusedItemIndex-n:this._focusedItemIndex;const{keyOf:a}=this.options,l=t[s],c=this.options.getItemData(l),u=a(c),d=l&&this.isItemDataSelected(c);let h,p,f,m;if(_(this._shiftFocusedItemIndex)||(this._shiftFocusedItemIndex=this._focusedItemIndex),this._shiftFocusedItemIndex!==this._focusedItemIndex)for(i=this._focusedItemIndex<this._shiftFocusedItemIndex?1:-1,f=o?this._focusedItemIndex-n:this._focusedItemIndex,m=o?this._shiftFocusedItemIndex-n:this._shiftFocusedItemIndex,s=f;s!==m;s+=i)(o||this.isDataItem(t[s]))&&(p=a(this.options.getItemData(t[s])),this._removeSelectedItem(p),r=!0);if(e!==this._shiftFocusedItemIndex)for(i=e<this._shiftFocusedItemIndex?1:-1,f=o?e-n:e,m=o?this._shiftFocusedItemIndex-n:this._shiftFocusedItemIndex,s=f;s!==m;s+=i)(o||this.isDataItem(t[s]))&&(h=this.options.getItemData(t[s]),p=a(h),this._addSelectedItem(h,p),r=!0);return!o&&!this.isDataItem(l)||d||(this._addSelectedItem(c,u),r=!0),r}clearSelectedItems(){this._setSelectedItems([],[])}selectAll(e){return this._resetFocusedItemIndex(),e?this._selectionStrategy._onePageSelectAll(!1):this.selectedItemKeys([],!0,!1,!0)}deselectAll(e){return this._resetFocusedItemIndex(),e?this._selectionStrategy._onePageSelectAll(!0):this.selectedItemKeys([],!0,!0,!0)}getSelectAllState(e){return this._selectionStrategy.getSelectAllState(e)}loadSelectedItemsWithFilter(){return this._selectionStrategy.loadSelectedItemsWithFilter()}}const Xy=-1,Jy=e=>e!==Xy;const eb=class extends Vy{_setOptionsByReference(){super._setOptionsByReference(),A(this._optionsByReference,{selectedItem:!0})}_getDefaultOptions(){return K({},super._getDefaultOptions(),{selectionMode:"none",selectionRequired:!1,selectByClick:!0,selectedItems:[],selectedItemKeys:[],maxFilterLengthInRequest:1500,keyExpr:null,selectedIndex:Xy,focusOnSelectedItem:!0,selectedItem:null,onSelectionChanging:null,onSelectionChanged:null,onItemReordered:null,onItemDeleting:null,onItemDeleted:null})}ctor(e,t){this._userOptions=t||{},super.ctor(e,t)}_init(){this._initEditStrategy(),super._init(),this._initKeyGetter(),this._initActions(),this._initSelectionModule()}_initKeyGetter(){this._keyGetter=we(this.option("keyExpr"))}_selectedItemClass(){return"dx-item-selected"}_getActionsList(){return["onSelectionChanging","onSelectionChanged"]}_initActions(){this._actions={};this._getActionsList().forEach(e=>{this._actions[e]=this._createActionByOption(e,{excludeValidators:["disabled","readOnly"]})??tt})}_getKeysByItems(e){return this._editStrategy.getKeysByItems(e)}_getItemsByKeys(e,t){return this._editStrategy.getItemsByKeys(e,t)}_getKeyByIndex(e){return this._editStrategy.getKeyByIndex(e)}_getIndexByKey(e){return this._editStrategy.getIndexByKey(e)}_getIndexByItemData(e){return this._editStrategy.getIndexByItemData(e)}_isKeySpecified(){return!!this._dataController.key()}_getCombinedFilter(){return this._dataController.filter()}key(){const{keyExpr:e}=this.option();return e||this._dataController.key()}keyOf(e){let t=e;return this.option("keyExpr")?t=this._keyGetter(e):this._dataController.store()&&(t=this._dataController.keyOf(e)),t}_nullValueSelectionSupported(){return!1}_initSelectionModule(){const e=this,{itemsGetter:t}=this._editStrategy;this._selection=new Qy({allowNullValue:this._nullValueSelectionSupported(),mode:this.option("selectionMode"),maxFilterLengthInRequest:this.option("maxFilterLengthInRequest"),equalByReference:!this._isKeySpecified(),onSelectionChanging:e=>{var t,n;const i=e.addedItemKeys.length||e.removedItemKeys.length;if(!this._rendered||!i)return;const r={removedItems:e.removedItems,addedItems:e.addedItems,cancel:!1};null===(t=(n=this._actions).onSelectionChanging)||void 0===t||t.call(n,r),e.cancel=r.cancel},onSelectionChanged:e=>{(e.addedItemKeys.length||e.removedItemKeys.length)&&(this.option("selectedItems",this._getItemsByKeys(e.selectedItemKeys,e.selectedItems)),this._updateSelectedItems(e))},filter:this._getCombinedFilter.bind(this),totalCount:()=>{const{items:e}=this.option(),t=this._dataController.totalCount();return t>=0?t:this._getItemsCount(e)},key:this.key.bind(this),keyOf:this.keyOf.bind(this),load(t){var n;const i=e._dataController;return t.customQueryParams=null===(n=i.loadOptions())||void 0===n?void 0:n.customQueryParams,t.userData=i.userData(),i.store()?i.loadFromStore(t).done(t=>{if(e._disposed)return;const n=_y(t).data;i.applyMapFunction(n)}):Re().resolve(this.plainItems())},dataFields:()=>this._dataController.select(),plainItems:t.bind(this._editStrategy)})}_getItemsCount(e){return e.reduce((e,t)=>e+(t.items?this._getItemsCount(t.items):1),0)}_initEditStrategy(){this._editStrategy=new Wy(this)}_getSelectedItemIndices(e){const t=[];return e=e||this._selection.getSelectedItemKeys(),this._editStrategy.beginCache(),l(e,(e,n)=>{const i=this._getIndexByKey(n);Jy(i)&&t.push(i)}),this._editStrategy.endCache(),t}_initMarkup(){this._rendering=!0,this._dataController.isLoading()||this._syncSelectionOptions().done(()=>this._normalizeSelectedItems()),super._initMarkup()}_render(){super._render(),this._rendering=!1}_fireContentReadyAction(){this._rendering=!1,this._rendered=!0,super._fireContentReadyAction()}_syncSelectionOptions(e){let t,n,i,r;switch(e=e??this._chooseSelectOption()){case"selectedIndex":t=this._editStrategy.getItemDataByIndex(this.option("selectedIndex")),_(t)?(this._setOptionWithoutOptionChange("selectedItems",[t]),this._setOptionWithoutOptionChange("selectedItem",t),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([t]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedItem",null));break;case"selectedItems":if(r=this.option("selectedItems")||[],n=r.length?this._editStrategy.getIndexByItemData(r[0]):Xy,this.option("selectionRequired")&&!Jy(n))return this._syncSelectionOptions("selectedIndex");this._setOptionWithoutOptionChange("selectedItem",r[0]),this._setOptionWithoutOptionChange("selectedIndex",n),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems(r));break;case"selectedItem":if(t=this.option("selectedItem"),n=this._editStrategy.getIndexByItemData(t),this.option("selectionRequired")&&!Jy(n))return this._syncSelectionOptions("selectedIndex");_(t)?(this._setOptionWithoutOptionChange("selectedItems",[t]),this._setOptionWithoutOptionChange("selectedIndex",n),this._setOptionWithoutOptionChange("selectedItemKeys",this._editStrategy.getKeysByItems([t]))):(this._setOptionWithoutOptionChange("selectedItems",[]),this._setOptionWithoutOptionChange("selectedItemKeys",[]),this._setOptionWithoutOptionChange("selectedIndex",Xy));break;case"selectedItemKeys":if(i=this.option("selectedItemKeys"),this.option("selectionRequired")){const e=this._getIndexByKey(i[0]);if(!Jy(e))return this._syncSelectionOptions("selectedIndex")}return this._selection.setSelection(i)}return Re().resolve().promise()}_chooseSelectOption(){let e="selectedIndex";const t=e=>{const t=this.option(e);return _(t)&&t.length||e in this._userOptions};return t("selectedItems")?e="selectedItems":t("selectedItem")?e="selectedItem":t("selectedItemKeys")&&(e="selectedItemKeys"),e}_compareKeys(e,t){if(e.length!==t.length)return!1;for(let n=0;n<t.length;n++)if(e[n]!==t[n])return!1;return!0}_normalizeSelectedItems(){const{selectionMode:e,selectedItems:t,items:n}=this.option();if("none"===e)this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems");else if("single"===e){const e=t??[];if(e.length>1||!e.length&&this.option("selectionRequired")&&n&&n.length){const t=this._selection.getSelectedItems();let n=void 0===e[0]?t[0]:e[0];return void 0===n&&(n=this._editStrategy.itemsGetter()[0]),this.option("grouped")&&n&&n.items&&(n.items=[n.items[0]]),this._selection.setSelection(this._getKeysByItems([n])),this._setOptionWithoutOptionChange("selectedItems",[n]),this._syncSelectionOptions("selectedItems")}this._selection.setSelection(this._getKeysByItems(e))}else{const e=this._getKeysByItems(this.option("selectedItems")),t=this._selection.getSelectedItemKeys();this._compareKeys(t,e)||this._selection.setSelection(e)}return Re().resolve().promise()}_itemClickHandler(e,t,n){let i=Re().resolve();this._createAction(e=>{i=this._itemSelectHandler(e.event)??i},{validatingTargetName:"itemElement"})({itemElement:Si(e.currentTarget),event:e}),i.always(()=>{super._itemClickHandler(e,t,n)})}_itemSelectHandler(e,t){if(!t&&!this.option("selectByClick"))return;const n=e.currentTarget;if(!this.isItemSelected(n)){const t=this.selectItem(e.currentTarget);return null===t||void 0===t?void 0:t.promise()}this.unselectItem(e.currentTarget)}_selectedItemElement(e){return this._itemElements().eq(e)}_postprocessRenderItem(e){const{selectionMode:t}=this.option();if("none"!==t){const t=Si(e.itemElement),n=this._editStrategy.getNormalizedIndex(t),i=this._isItemSelected(n);this._processSelectableItem(t,i)}}_processSelectableItem(e,t){e.toggleClass(this._selectedItemClass(),t),this._setAriaSelectionAttribute(e,String(t))}_updateSelectedItems(e){const{addedItemKeys:t,removedItemKeys:n}=e;if(this._rendered&&(t.length||n.length)){if(!this._rendering){const e=[],i=[];this._editStrategy.beginCache();for(let n=0;n<t.length;n+=1){const i=this._getIndexByKey(t[n]);e.push(i),this._addSelection(i)}for(let t=0;t<n.length;t+=1){const e=this._getIndexByKey(n[t]);i.push(e),this._removeSelection(e)}this._editStrategy.endCache(),this._updateSelection(e,i)}this._actions.onSelectionChanged({addedItems:e.addedItems,removedItems:e.removedItems})}}_updateSelection(e,t){}_setAriaSelectionAttribute(e,t){this.setAria("selected",t,e)}_getFocusedElementIndex(){const{focusOnSelectedItem:e}=this.option();return e?this._getFlatIndex():super._getFocusedElementIndex()}_getFlatIndex(){const{selectedIndex:e=Xy}=this.option();return e}_removeSelection(e){const t=this._editStrategy.getItemElement(e);Jy(e)&&(this._processSelectableItem(t,!1),rn.triggerHandler(t,"stateChanged",!1))}_addSelection(e){const t=this._editStrategy.getItemElement(e);Jy(e)&&(this._processSelectableItem(t,!0),rn.triggerHandler(t,"stateChanged",!0))}_isItemSelected(e){const t=this._getKeyByIndex(e);return this._selection.isItemSelected(t,{checkPending:!0})}_optionChanged(e){switch(e.name){case"selectionMode":this._invalidate();break;case"dataSource":(!e.value||Array.isArray(e.value)&&!e.value.length)&&this.option("selectedItemKeys",[]),super._optionChanged(e);break;case"selectedIndex":case"selectedItem":case"selectedItems":case"selectedItemKeys":this._syncSelectionOptions(e.name).done(()=>this._normalizeSelectedItems());break;case"keyExpr":this._initKeyGetter();break;case"selectionRequired":this._normalizeSelectedItems();break;case"onSelectionChanging":case"onSelectionChanged":this._initActions();break;case"selectByClick":case"onItemDeleting":case"onItemDeleted":case"onItemReordered":case"maxFilterLengthInRequest":case"focusOnSelectedItem":break;default:super._optionChanged(e)}}_clearSelectedItems(){this._setOptionWithoutOptionChange("selectedItems",[]),this._syncSelectionOptions("selectedItems")}_waitDeletingPrepare(e){if(e.data("dxItemDeleting"))return Re().resolve().promise();e.data("dxItemDeleting",!0);const t=Re(),n={cancel:!1},i=this._itemEventHandler(e,"onItemDeleting",n,{excludeValidators:["disabled","readOnly"]});return Be(i).always(function(r){const o=!i,s=!o&&"resolved"===i.state(),a=o||s&&!!!arguments.length||s&&r;Be(Pe(n.cancel)).always(()=>{e.data("dxItemDeleting",!1)}).done(e=>{a&&!e?t.resolve():t.reject()}).fail(t.reject)}),t.promise()}_deleteItemFromDS(e){const t=this._dataController,n=Re(),i=this.option("disabled"),r=t.store();if(!r)return Re().resolve().promise();if(!r.remove)throw Ps.Error("E1011");return this.option("disabled",!0),r.remove(t.keyOf(this._getItemData(e))).done(e=>{void 0!==e?n.resolve():n.reject()}).fail(()=>{n.reject()}),n.always(()=>{this.option("disabled",i)}),n}_tryRefreshLastPage(){const e=Re();return this._isLastPage()||this.option("grouped")?e.resolve():this._refreshLastPage().done(()=>{e.resolve()}),e.promise()}_refreshLastPage(){return this._expectLastItemLoading(),this._dataController.load()}_updateSelectionAfterDelete(e){const t=this._getKeyByIndex(e);this._selection.deselect([t])}_updateIndicesAfterIndex(e){const t=this._itemElements();for(let n=e+1;n<t.length;n+=1)Si(t[n]).data(this._itemIndexKey(),n-1)}_simulateOptionChange(e){var t;const n=this.option(e);n instanceof xy||null===(t=this._optionChangedAction)||void 0===t||t.call(this,{name:e,fullName:e,value:n})}isItemSelected(e){return this._isItemSelected(this._editStrategy.getNormalizedIndex(e))}selectItem(e){const{selectionMode:t}=this.option();if("none"===t)return Re().resolve();const n=this._editStrategy.getNormalizedIndex(e);if(!Jy(n))return Re().resolve();const i=this._getKeyByIndex(n);if(this._selection.isItemSelected(i))return Re().resolve();if("single"===t)return this._selection.setSelection([i]);const{selectedItemKeys:r}=this.option();return this._selection.setSelection([...r??[],i],[i])}unselectItem(e){const t=this._editStrategy.getNormalizedIndex(e);if(!Jy(t))return;const n=this._selection.getSelectedItemKeys();if(this.option("selectionRequired")&&n.length<=1)return;const i=this._getKeyByIndex(t);this._selection.isItemSelected(i,{checkPending:!0})&&this._selection.deselect([i])}_deleteItemElementByIndex(e){this._updateSelectionAfterDelete(e),this._updateIndicesAfterIndex(e),this._editStrategy.deleteItemAtIndex(e)}_afterItemElementDeleted(e,t){const n=this._dataController.getDataSource()?"dataSource":"items";this._simulateOptionChange(n),this._itemEventHandler(e,"onItemDeleted",t,{beforeExecute(){e.remove()},excludeValidators:["disabled","readOnly"]}),this._renderEmptyMessage()}deleteItem(e){const t=Re(),n=this._editStrategy.getItemElement(e),i=this._editStrategy.getNormalizedIndex(e),r=this._itemResponseWaitClass();return Jy(i)?this._waitDeletingPrepare(n).done(()=>{n.addClass(r);const e=this._extendActionArgs(n);this._deleteItemFromDS(n).done(()=>{this._deleteItemElementByIndex(i),this._afterItemElementDeleted(n,e),this._tryRefreshLastPage().done(()=>{t.resolveWith(this)})}).fail(()=>{n.removeClass(r),t.rejectWith(this)})}).fail(()=>{t.rejectWith(this)}):t.rejectWith(this),t.promise()}reorderItem(e,t){const n=Re(),i=this._editStrategy,r=i.getItemElement(e),o=i.getItemElement(t),s=i.getNormalizedIndex(e),a=i.getNormalizedIndex(t),l=this._dataController.getDataSource()?"dataSource":"items";return Jy(s)&&Jy(a)&&s!==a?n.resolveWith(this):n.rejectWith(this),n.promise().done(()=>{o[i.itemPlacementFunc(s,a)](r),i.moveItemAtIndexToIndex(s,a),this._updateIndicesAfterIndex(s),this.option("selectedItems",this._getItemsByKeys(this._selection.getSelectedItemKeys(),this._selection.getSelectedItems())),"items"===l&&this._simulateOptionChange(l),this._itemEventHandler(r,"onItemReordered",{fromIndex:i.getIndex(s),toIndex:i.getIndex(a)},{excludeValidators:["disabled","readOnly"]})})}};const tb=class extends eb{_initMarkup(){this._asyncTemplateItemsMap={},super._initMarkup()}_render(){super._render(),this._planPostRenderActions()}_renderItemContent(e){const t=Re(),n=Re(),i=`dx${new ce}`;this._asyncTemplateItemsMap[i]=n;const r=super._renderItemContent(K({},e,{uniqueKey:i}));return n.done(()=>{t.resolve(r)}),t.promise()}_onItemTemplateRendered(e,t){return()=>{const{uniqueKey:e}=t;var n;e&&(null===(n=this._asyncTemplateItemsMap[e])||void 0===n||n.resolve())}}_postProcessRenderItems(){}_planPostRenderActions(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const i=Re(),r=Object.values(this._asyncTemplateItemsMap);return Be.apply(this,r).done(()=>{this._postProcessRenderItems(...t),i.resolve().done(()=>{this._asyncTemplateItemsMap={}})}),i.promise()}_clean(){super._clean();Object.values(this._asyncTemplateItemsMap).forEach(e=>{e.reject()}),this._asyncTemplateItemsMap={}}},nb=tb,ib=ie.inherit({ctor(){this._dataStructure=[],this._itemsCount=0,this._visibleItemsCount=0},_indexByKey:{},_convertItemsToNodes(e,t){const n=this;l(e,(e,i)=>{const r=_(t)?t:n._getParentId(i),o=n._convertItemToNode(i,r);n._dataStructure.push(o),n._checkForDuplicateId(o.internalFields.key),n._indexByKey[o.internalFields.key]=n._dataStructure.length-1,n._itemHasChildren(i)&&n._convertItemsToNodes(n._dataAccessors.getters.items(i),o.internalFields.key)})},_checkForDuplicateId(e){if(_(this._indexByKey[e]))throw Ps.Error("E1040",e)},_getParentId(e){return"plain"===this._dataType?this._dataAccessors.getters.parentKey(e):void 0},_itemHasChildren(e){if("plain"===this._dataType)return;const t=this._dataAccessors.getters.items(e);return t&&t.length},_getUniqueKey(e){const t=this._dataAccessors.getters.key,n=t(e);return t&&(n||0===n)&&S(n)?n:this.getItemsCount()},_convertItemToNode(e,t){this._itemsCount++,!1!==e.visible&&this._visibleItemsCount++;const n={internalFields:{disabled:this._dataAccessors.getters.disabled(e,{defaultValue:!1}),expanded:this._dataAccessors.getters.expanded(e,{defaultValue:!1}),selected:this._dataAccessors.getters.selected(e,{defaultValue:!1}),key:this._getUniqueKey(e),parentKey:_(t)?t:this._rootValue,item:this._makeObjectFromPrimitive(e),childrenKeys:[]}};return A(n,e),delete n.items,n},setChildrenKeys(){const e=this;l(this._dataStructure,(t,n)=>{if(n.internalFields.parentKey===e._rootValue)return;const i=e.getParentNode(n);i&&i.internalFields.childrenKeys.push(n.internalFields.key)})},_makeObjectFromPrimitive(e){if(S(e)){const t=e;e={},this._dataAccessors.setters.key(e,t)}return e},_convertToPublicNode(e,t){if(!e)return null;const n={text:this._dataAccessors.getters.display(e),key:e.internalFields.key,selected:e.internalFields.selected,expanded:e.internalFields.expanded,disabled:e.internalFields.disabled,parent:t||null,itemData:e.internalFields.item,children:[],items:[]};return n.parent&&(n.parent.children.push(n),n.parent.items.push(n)),n},convertToPublicNodes(e,t){if(!e.length)return[];const n=this,i=[];return l(e,(e,r)=>{r=S(r)?n._getByKey(r):r;const o=n._convertToPublicNode(r,t);o.children=n.convertToPublicNodes(r.internalFields.childrenKeys,o),i.push(o),r.internalFields.publicNode=o}),i},setDataAccessors(e){this._dataAccessors=e},_getByKey(e){return this._dataStructure[this.getIndexByKey(e)]||null},getParentNode(e){return this._getByKey(e.internalFields.parentKey)},getByKey(e,t){if(null===t||void 0===t)return null;let n=null;const i=this;return function(e,t){return l(e,(e,r)=>{if((r.internalFields&&r.internalFields.key||i._dataAccessors.getters.key(r)).toString()===t.toString())return n=r,!1}),n}(e,t)},getItemsCount(){return this._itemsCount},getVisibleItemsCount(){return this._visibleItemsCount},updateIndexByKey(){const e=this;this._indexByKey={},l(this._dataStructure,(t,n)=>{e._checkForDuplicateId(n.internalFields.key),e._indexByKey[n.internalFields.key]=t})},updateChildrenKeys(){this._indexByKey={},this.removeChildrenKeys(),this.updateIndexByKey(),this.setChildrenKeys()},removeChildrenKeys(){this._indexByKey={},l(this._dataStructure,(e,t)=>{t.internalFields.childrenKeys=[]})},getIndexByKey(e){return this._indexByKey[e]},createPlainStructure(e,t,n){return this._itemsCount=0,this._visibleItemsCount=0,this._rootValue=t,this._dataType=n,this._indexByKey={},this._convertItemsToNodes(e),this.setChildrenKeys(),this._dataStructure}}),rb=ib,ob="expanded",sb="selected";J_.setEditorClass(Z_);const ab=ie.inherit({ctor(e){this.options={},A(this.options,this._defaultOptions(),e),this.options.dataConverter.setDataAccessors(this.options.dataAccessors),this._selectedNodesKeys=[],this._expandedNodesKeys=[],this._dataStructure=[],this._createInternalDataStructure(),this.getTreeNodes()},setOption(e,t){this.options[e]=t,"recursiveSelection"===e&&this._updateSelection()},_defaultOptions:()=>({dataAccessors:void 0,items:[],multipleSelection:!0,recursiveSelection:!1,recursiveExpansion:!1,rootValue:0,searchValue:"",dataType:"tree",searchMode:"contains",dataConverter:new rb,onNodeChanged:tt,sort:null}),_createInternalDataStructure(){this._initialDataStructure=this.options.dataConverter.createPlainStructure(this.options.items,this.options.rootValue,this.options.dataType),this._dataStructure=this.options.searchValue.length?this.search(this.options.searchValue):this._initialDataStructure,this.options.dataConverter._dataStructure=this._dataStructure,this._updateSelection(),this._updateExpansion()},_updateSelection(){this.options.recursiveSelection&&(this._setChildrenSelection(),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(sb)},_updateExpansion(e){this.options.recursiveExpansion&&(e?this._updateOneBranch(e):this._setParentExpansion()),this._expandedNodesKeys=this._updateNodesKeysArray(ob)},_updateNodesKeysArray(e){const t=this;let n=[];return l(t._getDataBySelectionMode(),(i,r)=>{t._isNodeVisible(r)&&r.internalFields[e]&&(e===ob||t.options.multipleSelection?n.push(r.internalFields.key):(n.length&&t.toggleSelection(n[0],!1,!0),n=[r.internalFields.key]))}),n},_getDataBySelectionMode(){return this.options.multipleSelection?this.getData():this.getFullData()},_isNodeVisible:e=>!1!==e.internalFields.item.visible,_getByKey(e,t){return e===this._dataStructure?this.options.dataConverter._getByKey(t):this.options.dataConverter.getByKey(e,t)},_setChildrenSelection(){const e=this;l(this._dataStructure,(t,n)=>{if(!n.internalFields.childrenKeys.length)return;const i=n.internalFields.selected;!0===i&&e._toggleChildrenSelection(n,i)})},_setParentSelection(){const e=this;l(this._dataStructure,(t,n)=>{e.options.dataConverter.getParentNode(n)&&n.internalFields.parentKey!==e.options.rootValue&&e._iterateParents(n,t=>{const n=e._calculateSelectedState(t);e._setFieldState(t,sb,n)})})},_setParentExpansion(){const e=this;l(this._dataStructure,(t,n)=>{n.internalFields.expanded&&e._updateOneBranch(n.internalFields.key)})},_updateOneBranch(e){const t=this,n=this.getNodeByKey(e);t._iterateParents(n,e=>{t._setFieldState(e,ob,!0)})},_iterateChildren(e,t,n,i){if(!g(n))return;const r=this,o=e.internalFields.key;-1===(i=i||[]).indexOf(o)&&(i.push(o),l(e.internalFields.childrenKeys,(e,o)=>{const s=r.getNodeByKey(o);n(s),s.internalFields.childrenKeys.length&&t&&r._iterateChildren(s,t,n,i)}))},_iterateParents(e,t,n){if(e.internalFields.parentKey===this.options.rootValue||!g(t))return;n=n||[];const{key:i}=e.internalFields;if(-1===n.indexOf(i)){n.push(i);const r=this.options.dataConverter.getParentNode(e);r&&(t(r),r.internalFields.parentKey!==this.options.rootValue&&this._iterateParents(r,t,n))}},_calculateSelectedState(e){const t=e.internalFields.childrenKeys.length;let n=0,i=0,r=!1;for(let o=0;o<=t-1;o++){const t=this.getNodeByKey(e.internalFields.childrenKeys[o]),r=!1===t.internalFields.item.visible,s=t.internalFields.selected;r?i++:s?n++:void 0===s&&(n+=.5)}return n&&(r=n===t-i||void 0),r},_toggleChildrenSelection(e,t){const n=this;this._iterateChildren(e,!0,e=>{n._isNodeVisible(e)&&n._setFieldState(e,sb,t)})},_setFieldState(e,t,n){e.internalFields[t]!==n&&(e.internalFields[t]=n,e.internalFields.publicNode&&(e.internalFields.publicNode[t]=n),this.options.dataAccessors.setters[t](e.internalFields.item,n),this.options.onNodeChanged(e))},_markChildren(e){const t=this;l(e,(e,n)=>{const i=t.getIndexByKey(n),r=t.getNodeByKey(n);t._dataStructure[i]=0,r.internalFields.childrenKeys.length&&t._markChildren(r.internalFields.childrenKeys)})},_removeNode(e){const t=this.getNodeByKey(e);this._dataStructure[this.getIndexByKey(e)]=0,this._markChildren(t.internalFields.childrenKeys);const n=this;let i=0;const r=A([],this._dataStructure);l(r,(e,t)=>{t||(n._dataStructure.splice(e-i,1),i++)})},_addNode(e){const{dataConverter:t}=this.options,n=t._convertItemToNode(e,this.options.dataAccessors.getters.parentKey(e));this._dataStructure=this._dataStructure.concat(n),this._initialDataStructure=this._initialDataStructure.concat(n),t._dataStructure=t._dataStructure.concat(n)},_updateFields(){this.options.dataConverter.updateChildrenKeys(),this._updateSelection(),this._updateExpansion()},getSelectedNodesKeys(){return this._selectedNodesKeys},getExpandedNodesKeys(){return this._expandedNodesKeys},getData(){return this._dataStructure},getFullData(){return this._initialDataStructure},getNodeByItem(e){let t=null;return l(this._dataStructure,(n,i)=>{if(i.internalFields.item===e)return t=i,!1}),t},getNodesByItems(e){const t=this,n=[];return l(e,(e,i)=>{const r=t.getNodeByItem(i);r&&n.push(r)}),n},getNodeByKey(e,t){return this._getByKey(t||this._getDataBySelectionMode(),e)},getTreeNodes(){return this.options.dataConverter.convertToPublicNodes(this.getRootNodes())},getItemsCount(){return this.options.dataConverter.getItemsCount()},getVisibleItemsCount(){return this.options.dataConverter.getVisibleItemsCount()},getPublicNode:e=>e.internalFields.publicNode,getRootNodes(){return this.getChildrenNodes(this.options.rootValue)},getChildrenNodes(e){return Uv(this._dataStructure,{langParams:this.options.langParams}).filter(["internalFields.parentKey",e]).toArray()},getIndexByKey(e){return this.options.dataConverter.getIndexByKey(e)},addItem(e){this._addNode(e),this._updateFields()},removeItem(e){this._removeNode(e),this._updateFields()},toggleSelection(e,t,n){const i=this._isSingleModeUnselect(t),r=this._getByKey(n||i?this._initialDataStructure:this._dataStructure,e);this._setFieldState(r,sb,t),this.options.recursiveSelection&&!n&&(t?this._setChildrenSelection():this._toggleChildrenSelection(r,t),this._setParentSelection()),this._selectedNodesKeys=this._updateNodesKeysArray(sb)},_isSingleModeUnselect(e){return!this.options.multipleSelection&&!e},toggleNodeDisabledState(e,t){const n=this.getNodeByKey(e);this._setFieldState(n,"disabled",t)},toggleSelectAll(e){if(!_(e))return;const t=this,n=t._selectedNodesKeys[t._selectedNodesKeys.length-1],i=t._isSingleModeUnselect(e)?this._initialDataStructure:this._dataStructure;l(i,(n,i)=>{t._isNodeVisible(i)&&t._setFieldState(i,sb,e)}),t._selectedNodesKeys=t._updateNodesKeysArray(sb),!e&&t.options.selectionRequired&&t.toggleSelection(n,!0)},isAllSelected(){return!!this.getSelectedNodesKeys().length&&(this.getSelectedNodesKeys().length===this.getVisibleItemsCount()||void 0)},toggleExpansion(e,t){const n=this.getNodeByKey(e);this._setFieldState(n,ob,t),t&&this._updateExpansion(e),this._expandedNodesKeys=this._updateNodesKeysArray(ob)},isFiltered(e){return!this.options.searchValue.length||!!this._filterDataStructure(this.options.searchValue,[e]).length},_createCriteria(e,t,n){const i=[];return Array.isArray(e)?(l(e,(e,r)=>{i.push([r,n,t],"or")}),i.pop(),i):[e,n,t]},_filterDataStructure(e,t){const n=this.options.searchExpr||this.options.dataAccessors.getters.display,i=J_.getOperationBySearchMode(this.options.searchMode),r=this._createCriteria(n,e,i);return t=t||this._initialDataStructure,Uv(t,{langParams:this.options.langParams}).filter(r).toArray()},search(e){const t=this;let n=this._filterDataStructure(e);const{dataConverter:i}=this.options;return function e(n,r){const{length:o}=n;for(;r<o;){const o=n[r];if(o.internalFields.parentKey===t.options.rootValue){r++;continue}const s=i.getParentNode(o);s?(s.internalFields.expanded||t._setFieldState(s,ob,!0),n.includes(s)?r++:(n.splice(r,0,s),e(n,r))):(Ps.log("W1007",o.internalFields.parentKey,o.internalFields.key),r++)}}(n,0),this.options.sort&&(n=bv.queryByOptions(Uv(n),{sort:this.options.sort,langParams:this.options.langParams}).toArray()),i._indexByKey={},l(n,(e,t)=>{t.internalFields.childrenKeys=[],i._indexByKey[t.internalFields.key]=e}),i._dataStructure=n,i.setChildrenKeys(),i._dataStructure}}),lb=ab;const cb=class extends nb{_getDefaultOptions(){return K({},super._getDefaultOptions(),{keyExpr:"id",displayExpr:"text",selectedExpr:"selected",disabledExpr:"disabled",itemsExpr:"items",hoverStateEnabled:!0,parentIdExpr:"parentId",expandedExpr:"expanded"})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>"desktop"===Is.real().deviceType&&!Is.isSimulator(),options:{focusStateEnabled:!0}}])}_init(){super._init(),this._initAccessors(),this._initDataAdapter(),this._initDynamicTemplates()}_initDataSource(){var e;super._initDataSource(),null===(e=this._dataSource)||void 0===e||e.paginate(!1)}_initDataAdapter(){const e=this._createDataAdapterAccessors();this._dataAdapter=new lb(A({dataAccessors:{getters:e.getters,setters:e.setters},items:this.option("items")},this._getDataAdapterOptions()))}_getDataAdapterOptions(){}_getItemExtraPropNames(){}_initDynamicTemplates(){const e=["text","html","items","icon"].concat(this._getItemExtraPropNames());this._templateManager.addDefaultTemplates({item:new Bg(this._addContent.bind(this),e,this.option("integrationOptions.watchMethod"),{text:this._displayGetter,items:this._itemsGetter})})}_addContent(e,t){e.html(t.html).append(this._getIconContainer(t)).append(this._getTextContainer(t))}_getLinkContainer(e,t,n){const{linkAttr:i,url:r}=n,o=b(i)?i:{};return Si("<a>").addClass("dx-item-url").attr(K({},o,{href:r})).append(e).append(t)}_getIconContainer(e){if(!e.icon)return;const t=pm(e.icon);if(t.is("img")){var n;const e=null!==(n=this.NAME)&&void 0!==n&&n.startsWith("dxPrivateComponent")?"":`${this.NAME} `;t.attr("alt",`${e}item icon`)}return t}_getTextContainer(e){return Si("<span>").text(e.text)}_initAccessors(){const e=this;l(this._getAccessors(),(t,n)=>{e._compileAccessor(n)}),this._compileDisplayGetter()}_getAccessors(){return["key","selected","items","disabled","parentId","expanded"]}_getChildNodes(e){const t=this,n=[];return l(e.internalFields.childrenKeys,(e,i)=>{const r=t._dataAdapter.getNodeByKey(i);n.push(r)}),n}_hasChildren(e){return e&&e.internalFields.childrenKeys.length}_compileAccessor(e){const t=`_${e}Getter`,n=`_${e}Setter`,i=this.option(`${e}Expr`);return i?g(i)?(this[n]=function(e,t){e[i()]=t},void(this[t]=function(e){return e[i()]})):(this[t]=we(i),void(this[n]=De(i))):(this[t]=tt,void(this[n]=tt))}_createDataAdapterAccessors(){const e=this,t={getters:{},setters:{}};return l(this._getAccessors(),(n,i)=>{const r=`_${i}Getter`,o=`_${i}Setter`,s="parentId"===i?"parentKey":i;t.getters[s]=e[r],t.setters[s]=e[o]}),t.getters.display=this._displayGetter?this._displayGetter:e=>e.text,t}_initMarkup(){super._initMarkup(),this._addWidgetClass()}_addWidgetClass(){this._focusTarget().addClass(this._widgetClass())}_widgetClass(){}_renderItemFrame(e,t,n){const i=super._renderItemFrame.apply(this,arguments);return i.toggleClass("dx-state-disabled",!!this._disabledGetter(t)),i}_optionChanged(e){switch(e.name){case"displayExpr":case"keyExpr":this._initAccessors(),this._initDynamicTemplates(),this.repaint();break;case"itemsExpr":case"selectedExpr":case"disabledExpr":case"expandedExpr":case"parentIdExpr":this._initAccessors(),this._initDataAdapter(),this.repaint();break;case"items":this._initDataAdapter(),super._optionChanged(e);break;default:super._optionChanged(e)}}},ub="vertical",db="horizontal",hb="both",pb="dx-scrollable-content";function fb(e,t){const n={left:0,top:0};let i=t;for(;null!==(r=i)&&void 0!==r&&r.offsetParent&&!i.classList.contains(e);){var r;const e=i.offsetParent,t=i.getBoundingClientRect(),o=e.getBoundingClientRect();n.left+=t.left-o.left,n.top+=t.top-o.top,i=i.offsetParent}return n}const mb=function(){return[{device:()=>!go.nativeScrolling,options:{useNative:!1}},{device:e=>!Is.isSimulator()&&"desktop"===Is.real().deviceType&&"generic"===e.platform,options:{bounceEnabled:!1,scrollByThumb:!0,scrollByContent:go.touch,showScrollbar:"onHover"}}]},_b="dxScrollbar",gb="horizontal",vb="onScroll",yb="onHover",bb="always",Cb="never";let xb=null;kr.add(()=>{rn.subscribeGlobal(mt.getDocument(),or(yo.up,_b),()=>{xb&&xb.feedbackOff()})});const Sb=class extends yd{_getDefaultOptions(){return K({},super._getDefaultOptions(),{direction:null,visible:!1,activeStateEnabled:!1,visibilityMode:vb,containerSize:0,contentSize:0,expandable:!0,scaleRatio:1})}_init(){super._init(),this._isHovered=!1}_initMarkup(){this._renderThumb(),super._initMarkup()}_render(){super._render(),this._renderDirection(),this._update(),this._attachPointerDownHandler(),this.option("hoverStateEnabled",this._isHoverMode());const{hoverStateEnabled:e}=this.option();this.$element().toggleClass("dx-scrollbar-hoverable",e)}_renderThumb(){this._$thumb=Si("<div>").addClass("dx-scrollable-scroll"),Si("<div>").addClass("dx-scrollable-scroll-content").appendTo(this._$thumb),this.$element().addClass("dx-scrollable-scrollbar").append(this._$thumb)}isThumb(e){return!!this.$element().find(e).length}_isHoverMode(){const{visibilityMode:e,expandable:t}=this.option();return(e===yb||e===bb)&&t}_renderDirection(){const{direction:e}=this.option();this.$element().addClass(`dx-scrollbar-${e}`),this._dimension=e===gb?"width":"height",this._prop=e===gb?"left":"top"}_attachPointerDownHandler(){rn.on(this._$thumb,or(yo.down,_b),this.feedbackOn.bind(this))}feedbackOn(e){null===e||void 0===e||e.preventDefault(),this.$element().addClass("dx-scrollable-scrollbar-active"),xb=this}feedbackOff(){this.$element().removeClass("dx-scrollable-scrollbar-active"),xb=null}cursorEnter(){this._isHovered=!0,this._needScrollbar()&&this.option("visible",!0)}cursorLeave(){this._isHovered=!1,this.option("visible",!1)}_renderDimensions(){this._$thumb.css({width:this.option("width"),height:this.option("height")})}_toggleVisibility(e){const{visibilityMode:t}=this.option();t===vb&&this._$thumb.css("opacity"),e=this._adjustVisibility(e),this.option().visible=e,this._$thumb.toggleClass("dx-state-invisible",!e)}_adjustVisibility(e){if(this._baseContainerToContentRatio&&!this._needScrollbar())return!1;const{visibilityMode:t}=this.option();switch(t){case vb:break;case yb:e=e||!!this._isHovered;break;case Cb:e=!1;break;case bb:e=!0}return e}moveTo(e){if(this._isHidden())return;x(e)&&(e=e[this._prop]||0);const t={};t[this._prop]=this._calculateScrollBarPosition(e),wa(this._$thumb,t)}_calculateScrollBarPosition(e){return-e*this._thumbRatio}_update(){const e=Math.round(this.option("containerSize")),t=Math.round(this.option("contentSize"));let n=Math.round(this.option("baseContainerSize")),i=Math.round(this.option("baseContentSize"));isNaN(n)&&(n=e,i=t);const{scaleRatio:r}=this.option();this._baseContainerToContentRatio=i?n/i:n,this._realContainerToContentRatio=t?e/t:e;const o=Math.round(Math.max(Math.round(e*this._realContainerToContentRatio),15));this._thumbRatio=(e-o)/(r*(t-e)),this.option(this._dimension,o/r),this.$element().css("display",this._needScrollbar()?"":"none")}_isHidden(){const{visibilityMode:e}=this.option();return e===Cb}_needScrollbar(){return!this._isHidden()&&this._baseContainerToContentRatio<1}containerToContentRatio(){return this._realContainerToContentRatio}_normalizeSize(e){return x(e)?e[this._dimension]||0:e}_clean(){super._clean(),this===xb&&(xb=null),rn.off(this._$thumb,`.${_b}`)}_optionChanged(e){if(!this._isHidden())switch(e.name){case"containerSize":case"contentSize":this.option()[e.name]=this._normalizeSize(e.value),this._update();break;case"baseContentSize":case"baseContainerSize":case"scaleRatio":this._update();break;case"visibilityMode":case"direction":this._invalidate();break;default:super._optionChanged.apply(this,arguments)}}update(){Ue(()=>{this._adjustVisibility()&&this.option("visible",!0)})()}},wb="dxNativeScrollable",Eb="vertical",Ib="horizontal";class kb extends(ie.inherit({})){ctor(e){this._init(e)}_init(e){this._component=e,this._$element=e.$element(),this._$container=Si(e.container()),this._$content=e.$content();const{direction:t,useSimulatedScrollbar:n}=e.option();this._direction=t,this._useSimulatedScrollbar=n,this.option=e.option.bind(e),this._createActionByOption=e._createActionByOption.bind(e),this._isLocked=e._isLocked.bind(e),this._isDirection=e._isDirection.bind(e),this._allowedDirection=e._allowedDirection.bind(e),this._getMaxOffset=e._getMaxOffset.bind(e),this._isRtlNativeStrategy=e._isRtlNativeStrategy.bind(e)}render(){const e=Is.real().platform;this._$element.addClass("dx-scrollable-native").addClass(`dx-scrollable-native-${e}`).toggleClass("dx-scrollable-scrollbars-hidden",!this._isScrollbarVisible()),this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._renderScrollbars()}updateRtlPosition(e){e&&this.option("rtlEnabled")&&this._isScrollbarVisible()&&this._useSimulatedScrollbar&&this._moveScrollbars()}_renderScrollbars(){this._scrollbars={},this._hideScrollbarTimeout=0,this._$element.addClass("dx-scrollable-scrollbar-simulated"),this._renderScrollbar(Eb),this._renderScrollbar(Ib)}_renderScrollbar(e){this._isDirection(e)&&(this._scrollbars[e]=new Sb(Si("<div>").appendTo(this._$element),{direction:e,expandable:this._component.option("scrollByThumb")}))}handleInit(e){}handleStart(){}handleMove(e){this._isLocked()?e.cancel=!0:this._allowedDirection()&&(e.originalEvent.isScrollingEvent=!0)}handleEnd(){}handleCancel(){}handleStop(){}_eachScrollbar(e){e=e.bind(this),l(this._scrollbars||{},(t,n)=>{e(n,t)})}createActions(){this._scrollAction=this._createActionByOption("onScroll"),this._updateAction=this._createActionByOption("onUpdated")}_createActionArgs(){const{left:e,top:t}=this.location();return{event:this._eventForUserAction,scrollOffset:this._getScrollOffset(),reachedLeft:this._isRtlNativeStrategy()?this._isReachedRight(-e):this._isReachedLeft(e),reachedRight:this._isRtlNativeStrategy()?this._isReachedLeft(-Math.abs(e)):this._isReachedRight(e),reachedTop:this._isDirection(Eb)?Math.round(t)>=0:void 0,reachedBottom:this._isDirection(Eb)?Math.round(Math.abs(t)-this._getMaxOffset().top)>=0:void 0}}_getScrollOffset(){const{top:e,left:t}=this.location();return{top:-e,left:this._normalizeOffsetLeft(-t)}}_normalizeOffsetLeft(e){return this._isRtlNativeStrategy()?this._getMaxOffset().left+e:e}_isReachedLeft(e){return this._isDirection(Ib)?Math.round(e)>=0:void 0}_isReachedRight(e){return this._isDirection(Ib)?Math.round(Math.abs(e)-this._getMaxOffset().left)>=0:void 0}_isScrollbarVisible(){const{showScrollbar:e}=this.option();return"never"!==e&&!1!==e}handleScroll(e){var t;this._eventForUserAction=e,this._moveScrollbars(),null===(t=this._scrollAction)||void 0===t||t.call(this,this._createActionArgs())}_moveScrollbars(){const{top:e,left:t}=this._getScrollOffset();this._eachScrollbar(n=>{n.moveTo({top:-e,left:-t}),n.option("visible",!0)}),this._hideScrollbars()}_hideScrollbars(){clearTimeout(this._hideScrollbarTimeout),this._hideScrollbarTimeout=setTimeout(()=>{this._eachScrollbar(e=>{e.option("visible",!1)})},500)}location(){return{left:-this._$container.scrollLeft(),top:-this._$container.scrollTop()}}disabledChanged(){}update(){this._update(),this._updateAction(this._createActionArgs())}_update(){this._updateDimensions(),this._updateScrollbars()}_updateDimensions(){this._containerSize={height:Ln(this._$container),width:$n(this._$container)},this._componentContentSize={height:Ln(this._component.$content()),width:$n(this._component.$content())},this._contentSize={height:Ln(this._$content),width:$n(this._$content)}}_updateScrollbars(){this._eachScrollbar(function(e,t){const n=t===Eb?"height":"width";e.option({containerSize:this._containerSize[n],contentSize:this._componentContentSize[n]}),e.update()})}_allowedDirections(){return{vertical:this._isDirection(Eb)&&this._contentSize.height>this._containerSize.height,horizontal:this._isDirection(Ib)&&this._contentSize.width>this._containerSize.width}}dispose(){const{className:e}=this._$element.get(0),t=new RegExp("dx-scrollable-native\\S*","g");t.test(e)&&this._$element.removeClass(e.match(t).join(" ")),rn.off(this._$element,`.${wb}`),rn.off(this._$container,`.${wb}`),this._removeScrollbars(),clearTimeout(this._hideScrollbarTimeout)}_removeScrollbars(){this._eachScrollbar(e=>{e.$element().remove()})}scrollBy(e){const t=this.location();this._$container.scrollTop(Math.round(-t.top-e.top)),this._$container.scrollLeft(Math.round(-t.left-e.left))}validate(e){const{disabled:t}=this.option();return!t&&((!Zi(e)||!this._isScrolledInMaxDirection(e))&&!!this._allowedDirection())}_isScrolledInMaxDirection(e){const t=this._$container.get(0);let n;return n=e.delta>0?e.shiftKey?!t.scrollLeft:!t.scrollTop:e.shiftKey?t.scrollLeft>=this._getMaxOffset().left:t.scrollTop>=this._getMaxOffset().top,n}getDirection(){return this._allowedDirection()}}const Db=kb;class Ob extends(ie.inherit({})){ctor(e){this._finished=!0,this._stopped=!1,this._proxiedStepCore=this._stepCore.bind(this)}start(){this._stopped=!1,this._finished=!1,this._stepCore()}stop(){this._stopped=!0,pa(this._stepAnimationFrame)}_stepCore(){if(this._isStopped())this._stop();else{if(this._isFinished())return this._finished=!0,void this._complete();this._step(),this._stepAnimationFrame=ha(this._proxiedStepCore)}}_step(){ie.abstract()}_isFinished(){}_stop(){}_complete(){}_isStopped(){return this._stopped}inProgress(){return!(this._stopped||this._finished)}}const Tb=Ob,Ab="dxSimulatedScrollable",Pb=`${Ab}Cursor`,Mb=`${Ab}Keyboard`,Rb="vertical",Bb="horizontal",Nb=(1-.92**(400/Math.round(1e3/60)))/(1-.92),Fb="pageUp",$b="pageDown",Hb="end",Lb="home",Vb="leftArrow",zb="upArrow",jb="rightArrow",Wb="downArrow",Kb="tab";class Ub extends Tb{constructor(){super(...arguments),this.VELOCITY_LIMIT=1}ctor(e){super.ctor(),this.scroller=e}_isFinished(){return Math.abs(this.scroller._velocity)<=this.VELOCITY_LIMIT}_step(){this.scroller._scrollStep(this.scroller._velocity),this.scroller._velocity*=this._acceleration()}_acceleration(){return this.scroller._inBounds()?.92:.5}_complete(){this.scroller._scrollComplete()}}class qb extends Ub{constructor(){super(...arguments),this.VELOCITY_LIMIT=.2}_isFinished(){return this.scroller._crossBoundOnNextStep()||super._isFinished()}_acceleration(){return.92}_complete(){this.scroller._move(this.scroller._bounceLocation),super._complete()}}class Gb extends(ie.inherit({})){ctor(e){this._initOptions(e),this._initAnimators(),this._initScrollbar()}_initOptions(e){this._location=0,this._topReached=!1,this._bottomReached=!1,this._axis=e.direction===Bb?"x":"y",this._prop=e.direction===Bb?"left":"top",this._dimension=e.direction===Bb?"width":"height",this._scrollProp=e.direction===Bb?"scrollLeft":"scrollTop",l(e,(e,t)=>{this[`_${e}`]=t})}_initAnimators(){this._inertiaAnimator=new Ub(this),this._bounceAnimator=new qb(this)}_initScrollbar(){this._scrollbar=new Sb(Si("<div>").appendTo(this._$container),{direction:this._direction,visible:this._scrollByThumb,visibilityMode:this._visibilityModeNormalize(this._scrollbarVisible),expandable:this._scrollByThumb}),this._$scrollbar=this._scrollbar.$element()}_visibilityModeNormalize(e){return!0===e?"onScroll":!1===e?"never":e}_scrollStep(e){const t=this._location;this._location+=e,this._suppressBounce(),this._move(),Math.abs(t-this._location)<1||rn.triggerHandler(this._$container,{type:"scroll"})}_suppressBounce(){this._bounceEnabled||this._inBounds(this._location)||(this._velocity=0,this._location=this._boundLocation())}_boundLocation(e){return e=void 0!==e?e:this._location,Math.max(Math.min(e,this._maxOffset),this._minOffset)}_move(e){this._location=void 0!==e?e*this._getScaleRatio():this._location,this._moveContent(),this._moveScrollbar()}_moveContent(){const e=this._location;this._$container[this._scrollProp](-e/this._getScaleRatio()),this._moveContentByTranslator(e)}_getScaleRatio(){if(Ct()&&!this._scaleRatio){const e=this._$element.get(0),t=this._getRealDimension(e,this._dimension),n=this._getBaseDimension(e,this._dimension);this._scaleRatio=Math.round(t/n*100)/100}return this._scaleRatio||1}_getRealDimension(e,t){return Math.round(Aa(e)[t])}_getBaseDimension(e,t){return e[`offset${ti(t)}`]}_moveContentByTranslator(e){let t;const n=-this._maxScrollPropValue;if(e>0&&(t=e),e<=n&&(t=e-n),this._translateOffset===t)return;const i={};i[this._prop]=t,this._translateOffset=t,t?wa(this._$content,i):Ea(this._$content)}_moveScrollbar(){this._scrollbar.moveTo(this._location)}_scrollComplete(){this._inBounds()&&(this._hideScrollbar(),this._completeDeferred&&this._completeDeferred.resolve()),this._scrollToBounds()}_scrollToBounds(){var e;this._inBounds()||(null===(e=this._bounceAction)||void 0===e||e.call(this),this._setupBounce(),this._bounceAnimator.start())}_setupBounce(){const e=(this._bounceLocation=this._boundLocation())-this._location;this._velocity=e/Nb}_inBounds(e){return e=void 0!==e?e:this._location,this._boundLocation(e)===e}_crossBoundOnNextStep(){const e=this._location,t=e+this._velocity;return e<this._minOffset&&t>=this._minOffset||e>this._maxOffset&&t<=this._maxOffset}_initHandler(e){this._stopScrolling(),this._prepareThumbScrolling(e)}_stopScrolling(){Ue(()=>{this._hideScrollbar(),this._inertiaAnimator.stop(),this._bounceAnimator.stop()})()}_prepareThumbScrolling(e){if(Zi(e.originalEvent))return;const t=Si(e.originalEvent.target),n=this._isScrollbar(t);n&&this._moveToMouseLocation(e),this._thumbScrolling=n||this._isThumb(t),this._crossThumbScrolling=!this._thumbScrolling&&this._isAnyThumbScrolling(t),this._thumbScrolling&&this._scrollbar.feedbackOn()}_isThumbScrollingHandler(e){return this._isThumb(e)}_moveToMouseLocation(e){const t=e[`page${this._axis.toUpperCase()}`]-this._$element.offset()[this._prop],n=this._location+t/this._containerToContentRatio()-Ln(this._$container)/2;this._scrollStep(-Math.round(n))}_startHandler(){this._showScrollbar()}_moveHandler(e){this._crossThumbScrolling||(this._thumbScrolling&&(e[this._axis]=-Math.round(e[this._axis]/this._containerToContentRatio())),this._scrollBy(e))}_scrollBy(e){e=e[this._axis],this._inBounds()||(e*=.5),this._scrollStep(e)}_scrollByHandler(e){(e.x||e.y)&&(this._scrollBy(e),this._scrollComplete())}_containerToContentRatio(){return this._scrollbar.containerToContentRatio()}_endHandler(e){return this._completeDeferred=Re(),this._velocity=e[this._axis],this._inertiaHandler(),this._resetThumbScrolling(),this._completeDeferred.promise()}_inertiaHandler(){this._suppressInertia(),this._inertiaAnimator.start()}_suppressInertia(){this._inertiaEnabled&&!this._thumbScrolling||(this._velocity=0)}_resetThumbScrolling(){this._thumbScrolling=!1,this._crossThumbScrolling=!1}_stopHandler(){this._thumbScrolling&&this._scrollComplete(),this._resetThumbScrolling(),this._scrollToBounds()}_disposeHandler(){this._stopScrolling(),this._$scrollbar.remove()}_updateHandler(){this._update(),this._moveToBounds()}_update(){return this._stopScrolling(),Ke(()=>{this._resetScaleRatio(),this._updateLocation(),this._updateBounds(),this._updateScrollbar(),We(()=>{this._moveScrollbar(),this._scrollbar.update()})})}_resetScaleRatio(){this._scaleRatio=null}_updateLocation(){this._location=(va(this._$content)[this._prop]-this._$container[this._scrollProp]())*this._getScaleRatio()}_updateBounds(){this._maxOffset=this._getMaxOffset(),this._minOffset=this._getMinOffset()}_getMaxOffset(){return 0}_getMinOffset(){return this._maxScrollPropValue=Math.max(this._contentSize()-this._containerSize(),0),-this._maxScrollPropValue}_updateScrollbar(){qe(()=>{const e=this._containerSize(),t=this._contentSize(),n=this._getBaseDimension(this._$container.get(0),this._dimension),i=this._getBaseDimension(this._$content.get(0),this._dimension);We(()=>{this._scrollbar.option({containerSize:e,contentSize:t,baseContainerSize:n,baseContentSize:i,scaleRatio:this._getScaleRatio()})})})()}_moveToBounds(){Ue(qe(Ue(()=>{const e=this._boundLocation(),t=e!==this._location;var n;(this._location=e,this._move(),t)&&(null===(n=this._scrollAction)||void 0===n||n.call(this))})))()}_createActionsHandler(e){this._scrollAction=e.scroll,this._bounceAction=e.bounce}_showScrollbar(){this._scrollbar.option("visible",!0)}_hideScrollbar(){this._scrollbar.option("visible",!1)}_containerSize(){return this._getRealDimension(this._$container.get(0),this._dimension)}_contentSize(){const e="hidden"===this._$content.css(`overflow${this._axis.toUpperCase()}`);let t=this._getRealDimension(this._$content.get(0),this._dimension);if(!e){const e=this._$content[0][`scroll${ti(this._dimension)}`]*this._getScaleRatio();t=Math.max(e,t)}return t}_validateEvent(e){const t=Si(e.originalEvent.target);return this._isThumb(t)||this._isScrollbar(t)}_isThumb(e){return this._scrollByThumb&&this._scrollbar.isThumb(e)}_isScrollbar(e){return this._scrollByThumb&&(null===e||void 0===e?void 0:e.is(this._$scrollbar))}_reachedMin(){return Math.round(this._location-this._minOffset)<=0}_reachedMax(){return Math.round(this._location-this._maxOffset)>=0}_cursorEnterHandler(){this._resetScaleRatio(),this._updateScrollbar(),this._scrollbar.cursorEnter()}_cursorLeaveHandler(){this._scrollbar.cursorLeave()}dispose(){}}let Zb,Yb;class Qb extends(ie.inherit({})){ctor(e){this._init(e)}_init(e){this._component=e,this._$element=e.$element(),this._$container=Si(e.container()),this._$wrapper=e._$wrapper,this._$content=e.$content(),this.option=e.option.bind(e),this._createActionByOption=e._createActionByOption.bind(e),this._isLocked=e._isLocked.bind(e),this._isDirection=e._isDirection.bind(e),this._allowedDirection=e._allowedDirection.bind(e),this._getMaxOffset=e._getMaxOffset.bind(e)}render(){this._$element.addClass("dx-scrollable-simulated"),this._createScrollers(),this.option("useKeyboard")&&this._$container.prop("tabIndex",0),this._attachKeyboardHandler(),this._attachCursorHandlers()}_createScrollers(){this._scrollers={},this._isDirection(Bb)&&this._createScroller(Bb),this._isDirection(Rb)&&this._createScroller(Rb),this._$element.toggleClass("dx-scrollable-scrollbars-alwaysvisible","always"===this.option("showScrollbar"))}_createScroller(e){this._scrollers[e]=new Gb(this._scrollerOptions(e))}_scrollerOptions(e){return{direction:e,$content:this._$content,$container:this._$container,$wrapper:this._$wrapper,$element:this._$element,scrollByThumb:this.option("scrollByThumb"),scrollbarVisible:this.option("showScrollbar"),bounceEnabled:this.option("bounceEnabled"),inertiaEnabled:this.option("inertiaEnabled"),isAnyThumbScrolling:this._isAnyThumbScrolling.bind(this)}}_applyScaleRatio(e){for(const t in this._scrollers){const n=this._getPropByDirection(t);if(_(e[n])){const i=this._scrollers[t];e[n]*=i._getScaleRatio()}}return e}_isAnyThumbScrolling(e){let t=!1;return this._eventHandler("isThumbScrolling",e).done((e,n)=>{t=e||n}),t}handleInit(e){this._suppressDirections(e),this._eventForUserAction=e,this._eventHandler("init",e)}_suppressDirections(e){Zi(e.originalEvent)?this._prepareDirections(!0):(this._prepareDirections(),this._eachScroller(function(t,n){const i=Si(e.originalEvent.target),r=t._validateEvent(e)||this.option("scrollByContent")&&this._isContent(i);this._validDirections[n]=r}))}_isContent(e){return!!e.closest(this._$element).length}_prepareDirections(e){e=e||!1,this._validDirections={},this._validDirections[Bb]=e,this._validDirections[Rb]=e}_eachScroller(e){e=e.bind(this),l(this._scrollers,(t,n)=>{e(n,t)})}handleStart(e){this._eventForUserAction=e,this._eventHandler("start").done(this._startAction)}_saveActive(){Yb=this}_resetActive(){Yb===this&&(Yb=null)}handleMove(e){var t;if(this._isLocked())return e.cancel=!0,void this._resetActive();this._saveActive(),null===(t=e.preventDefault)||void 0===t||t.call(e),this._adjustDistance(e,e.delta),this._eventForUserAction=e,this._eventHandler("move",e.delta)}_adjustDistance(e,t){t.x*=this._validDirections[Bb],t.y*=this._validDirections[Rb];const n=this._tryGetDevicePixelRatio();n&&Zi(e.originalEvent)&&(t.x=Math.round(t.x/n*100)/100,t.y=Math.round(t.y/n*100)/100)}_tryGetDevicePixelRatio(){if(Ct())return St().devicePixelRatio}handleEnd(e){var t;return this._resetActive(),this._refreshCursorState(null===(t=e.originalEvent)||void 0===t?void 0:t.target),this._adjustDistance(e,e.velocity),this._eventForUserAction=e,this._eventHandler("end",e.velocity).done(this._endAction)}handleCancel(e){return this._resetActive(),this._eventForUserAction=e,this._eventHandler("end",{x:0,y:0})}handleStop(){this._resetActive(),this._eventHandler("stop")}handleScroll(){var e;this._updateRtlConfig(),null===(e=this._scrollAction)||void 0===e||e.call(this)}_attachKeyboardHandler(){rn.off(this._$element,`.${Mb}`),!this.option("disabled")&&this.option("useKeyboard")&&rn.on(this._$element,or("keydown",Mb),this._keyDownHandler.bind(this))}_keyDownHandler(e){if(clearTimeout(this._updateHandlerTimeout),this._updateHandlerTimeout=setTimeout(()=>{ir(e)===Kb&&this._eachScroller(e=>{e._updateHandler()})}),!this._$container.is(mt.getActiveElement(this._$container.get(0))))return;let t=!0;switch(ir(e)){case Wb:this._scrollByLine({y:1});break;case zb:this._scrollByLine({y:-1});break;case jb:this._scrollByLine({x:1});break;case Vb:this._scrollByLine({x:-1});break;case $b:this._scrollByPage(1);break;case Fb:this._scrollByPage(-1);break;case Lb:this._scrollToHome();break;case Hb:this._scrollToEnd();break;default:t=!1}t&&(e.stopPropagation(),e.preventDefault())}_scrollByLine(e){const t=this._tryGetDevicePixelRatio();let n=40;t&&(n=Math.abs(n/t*100)/100),this.scrollBy({top:(e.y||0)*-n,left:(e.x||0)*-n})}_scrollByPage(e){const t=this._wheelProp(),n={},i="width"===this._dimensionByProp(t)?$n:Ln;n[t]=e*-i(this._$container),this.scrollBy(n)}_dimensionByProp(e){return"left"===e?"width":"height"}_getPropByDirection(e){return e===Bb?"left":"top"}_scrollToHome(){const e={};e[this._wheelProp()]=0,this._component.scrollTo(e)}_scrollToEnd(){const e=this._wheelProp(),t={},n="width"===this._dimensionByProp(e)?$n:Ln;t[e]=n(this._$content)-n(this._$container),this._component.scrollTo(t)}createActions(){this._startAction=this._createActionHandler("onStart"),this._endAction=this._createActionHandler("onEnd"),this._updateAction=this._createActionHandler("onUpdated"),this._createScrollerActions()}_createScrollerActions(){this._scrollAction=this._createActionHandler("onScroll"),this._bounceAction=this._createActionHandler("onBounce"),this._eventHandler("createActions",{scroll:this._scrollAction,bounce:this._bounceAction})}_createActionHandler(e){const t=this._createActionByOption(e);return()=>{t(A(this._createActionArgs(),arguments))}}_createActionArgs(){const{horizontal:e,vertical:t}=this._scrollers,n=this._getScrollOffset();return this._scrollOffset={top:t&&n.top,left:e&&n.left},{event:this._eventForUserAction,scrollOffset:this._scrollOffset,reachedLeft:null===e||void 0===e?void 0:e._reachedMax(),reachedRight:null===e||void 0===e?void 0:e._reachedMin(),reachedTop:null===t||void 0===t?void 0:t._reachedMax(),reachedBottom:null===t||void 0===t?void 0:t._reachedMin()}}_getScrollOffset(){return{top:-this.location().top,left:-this.location().left}}_eventHandler(e,t){const n=[].slice.call(arguments).slice(1),i=a(this._scrollers,t=>t[`_${e}Handler`].apply(t,n));return Be.apply(Si,i).promise()}location(){const e=va(this._$content);return e.top-=this._$container.scrollTop(),e.left-=this._$container.scrollLeft(),e}disabledChanged(){this._attachCursorHandlers()}_attachCursorHandlers(){rn.off(this._$element,`.${Pb}`),!this.option("disabled")&&this._isHoverMode()&&(rn.on(this._$element,or("mouseenter",Pb),this._cursorEnterHandler.bind(this)),rn.on(this._$element,or("mouseleave",Pb),this._cursorLeaveHandler.bind(this)))}_isHoverMode(){return"onHover"===this.option("showScrollbar")}_cursorEnterHandler(e){(e=e||{}).originalEvent=e.originalEvent||{},Yb||e.originalEvent._hoverHandled||(Zb&&Zb._cursorLeaveHandler(),Zb=this,this._eventHandler("cursorEnter"),e.originalEvent._hoverHandled=!0)}_cursorLeaveHandler(e){Zb===this&&Yb!==Zb&&(this._eventHandler("cursorLeave"),Zb=null,this._refreshCursorState(null===e||void 0===e?void 0:e.relatedTarget))}_refreshCursorState(e){if(!this._isHoverMode()&&(!e||Yb))return;const t=Si(e).closest(".dx-scrollable-simulated:not(.dx-state-disabled)"),n=t.length&&t.data("dxScrollableStrategy");Zb&&Zb!==n&&Zb._cursorLeaveHandler(),n&&n._cursorEnterHandler()}update(){return Be(this._eventHandler("update").done(this._updateAction),Ke(()=>{const e=this._allowedDirections();return We(()=>{let t=e.vertical?"pan-x":"";t=e.horizontal?"pan-y":t,t=e.vertical&&e.horizontal?"none":t,this._$container.css("touchAction",t)}),Be().promise()}))}_allowedDirections(){const e=this.option("bounceEnabled"),t=this._scrollers[Rb],n=this._scrollers[Bb];return{vertical:t&&(t._minOffset<0||e),horizontal:n&&(n._minOffset<0||e)}}_updateBounds(){var e;null===(e=this._scrollers[Bb])||void 0===e||e._updateBounds()}_isHorizontalAndRtlEnabled(){return this.option("rtlEnabled")&&this.option("direction")!==Rb}updateRtlPosition(e){if(e&&(this._rtlConfig={scrollRight:0,clientWidth:this._$container.get(0).clientWidth,windowPixelRatio:this._getWindowDevicePixelRatio()}),this._updateBounds(),this._isHorizontalAndRtlEnabled()){let e=this._getMaxOffset().left-this._rtlConfig.scrollRight;e<=0&&(e=0,this._rtlConfig.scrollRight=this._getMaxOffset().left),this._getScrollOffset().left!==e&&(this._rtlConfig.skipUpdating=!0,this._component.scrollTo({left:e}),this._rtlConfig.skipUpdating=!1)}}_updateRtlConfig(){if(this._isHorizontalAndRtlEnabled()&&!this._rtlConfig.skipUpdating){const{clientWidth:e,scrollLeft:t}=this._$container.get(0),n=this._getWindowDevicePixelRatio();this._rtlConfig.windowPixelRatio===n&&this._rtlConfig.clientWidth===e&&(this._rtlConfig.scrollRight=this._getMaxOffset().left-t),this._rtlConfig.clientWidth=e,this._rtlConfig.windowPixelRatio=n}}_getWindowDevicePixelRatio(){return Ct()?St().devicePixelRatio:1}scrollBy(e){var t,n;const i=this._scrollers[Rb],r=this._scrollers[Bb];i&&(e.top=i._boundLocation(e.top+i._location)-i._location),r&&(e.left=r._boundLocation(e.left+r._location)-r._location),this._prepareDirections(!0),null===(t=this._startAction)||void 0===t||t.call(this),this._eventHandler("scrollBy",{x:e.left,y:e.top}),null===(n=this._endAction)||void 0===n||n.call(this),this._updateRtlConfig()}validate(e){return(!Zi(e)||!sr(e))&&(!this.option("disabled")&&(!!this.option("bounceEnabled")||(Zi(e)?this._validateWheel(e):this._validateMove(e))))}_validateWheel(e){const t=this._scrollers[this._wheelDirection(e)],n=t._reachedMin(),i=t._reachedMax(),r=!n||!i,o=!n&&!i,s=n&&e.delta>0,a=i&&e.delta<0;let l=r&&(o||s||a);return l=l||void 0!==this._validateWheelTimer,l&&(clearTimeout(this._validateWheelTimer),this._validateWheelTimer=setTimeout(()=>{this._validateWheelTimer=void 0},500)),l}_validateMove(e){return!(!this.option("scrollByContent")&&!Si(e.target).closest(".dx-scrollable-scrollbar").length)&&this._allowedDirection()}getDirection(e){return Zi(e)?this._wheelDirection(e):this._allowedDirection()}_wheelProp(){return this._wheelDirection()===Bb?"left":"top"}_wheelDirection(e){switch(this.option("direction")){case Bb:return Bb;case Rb:return Rb;default:return null!==e&&void 0!==e&&e.shiftKey?Bb:Rb}}dispose(){this._resetActive(),Zb===this&&(Zb=null),this._eventHandler("dispose"),this._detachEventHandlers(),this._$element.removeClass("dx-scrollable-simulated"),this._eventForUserAction=null,clearTimeout(this._validateWheelTimer),clearTimeout(this._updateHandlerTimeout)}_detachEventHandlers(){rn.off(this._$element,`.${Pb}`),rn.off(this._$container,`.${Mb}`)}}const Xb="dxScrollable",Jb="vertical",eC="horizontal",tC="both";class nC extends _d{_getDefaultOptions(){return K({},super._getDefaultOptions(),{disabled:!1,onScroll:null,direction:Jb,showScrollbar:"onScroll",useNative:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,onUpdated:null,onStart:null,onEnd:null,onBounce:null,useSimulatedScrollbar:!1,useKeyboard:!0,inertiaEnabled:!0,updateManually:!1,_onVisibilityChanged:tt})}_defaultOptionsRules(){return super._defaultOptionsRules().concat(mb(),[{device:()=>go.nativeScrolling&&"android"===Is.real().platform&&!br.mozilla,options:{useSimulatedScrollbar:!0}}])}_initOptions(e){super._initOptions(e),"useSimulatedScrollbar"in e||this._setUseSimulatedScrollbar()}_setUseSimulatedScrollbar(){this.initialOption("useSimulatedScrollbar")||this.option("useSimulatedScrollbar",!this.option("useNative"))}_init(){super._init(),this._initScrollableMarkup(),this._locked=!1}_visibilityChanged(e){if(e){this.update(),this._updateRtlPosition(),this._savedScrollOffset&&this.scrollTo(this._savedScrollOffset),delete this._savedScrollOffset;const{_onVisibilityChanged:e}=this.option();null===e||void 0===e||e(this)}else this._savedScrollOffset=this.scrollOffset()}_initScrollableMarkup(){const e=this.$element().addClass("dx-scrollable"),t=Si("<div>").addClass("dx-scrollable-container"),n=Si("<div>").addClass("dx-scrollable-wrapper"),i=Si("<div>").addClass("dx-scrollable-content");this._$container=t,this._$wrapper=n,this._$content=i,i.append(e.contents()).appendTo(t),t.appendTo(n),n.appendTo(e)}_dimensionChanged(){this.update(),this._updateRtlPosition()}_initMarkup(){super._initMarkup(),this._renderDirection()}_render(){this._renderStrategy(),this._attachEventHandlers(),this._renderDisabledState(),this._createActions(),this.update(),super._render(),this._updateRtlPosition(!0)}_updateRtlPosition(e){this._strategy.updateRtlPosition(e)}_getMaxOffset(){const{scrollWidth:e,clientWidth:t,scrollHeight:n,clientHeight:i}=Si(this.container()).get(0);return{left:e-t,top:n-i}}_attachEventHandlers(){const e=this._strategy,t={getDirection:e.getDirection.bind(e),validate:this._validate.bind(this),isNative:this.option("useNative"),scrollTarget:this._$container};rn.off(this._$wrapper,`.${Xb}`),rn.on(this._$wrapper,or(km,Xb),t,this._initHandler.bind(this)),rn.on(this._$wrapper,or(Dm,Xb),e.handleStart.bind(e)),rn.on(this._$wrapper,or(Om,Xb),e.handleMove.bind(e)),rn.on(this._$wrapper,or(Tm,Xb),e.handleEnd.bind(e)),rn.on(this._$wrapper,or(Pm,Xb),e.handleCancel.bind(e)),rn.on(this._$wrapper,or(Am,Xb),e.handleStop.bind(e)),rn.off(this._$container,`.${Xb}`),rn.on(this._$container,or("scroll",Xb),e.handleScroll.bind(e))}_validate(e){return!this._isLocked()&&(this._updateIfNeed(),this._moveIsAllowed(e))}_moveIsAllowed(e){return this._strategy.validate(e)}handleMove(e){this._strategy.handleMove(e)}_prepareDirections(e){this._strategy._prepareDirections(e)}_initHandler(){const e=this._strategy;e.handleInit.apply(e,arguments)}_renderDisabledState(){const{disabled:e}=this.option();this.$element().toggleClass("dx-scrollable-disabled",e),this.option("disabled")?this._lock():this._unlock()}_renderDirection(){const{direction:e}=this.option();this.$element().removeClass(`dx-scrollable-${eC}`).removeClass(`dx-scrollable-${Jb}`).removeClass(`dx-scrollable-${tC}`).addClass(`dx-scrollable-${e}`)}_renderStrategy(){this._createStrategy(),this._strategy.render(),this.$element().data("dxScrollableStrategy",this._strategy)}_createStrategy(){this._strategy=this.option("useNative")?new Db(this):new Qb(this)}_createActions(){var e;null===(e=this._strategy)||void 0===e||e.createActions()}_clean(){var e;null===(e=this._strategy)||void 0===e||e.dispose()}_optionChanged(e){var t;switch(e.name){case"onStart":case"onEnd":case"onUpdated":case"onScroll":case"onBounce":this._createActions();break;case"direction":this._resetInactiveDirection(),this._invalidate();break;case"useNative":this._setUseSimulatedScrollbar(),this._invalidate();break;case"inertiaEnabled":case"scrollByThumb":case"bounceEnabled":case"useKeyboard":case"showScrollbar":case"useSimulatedScrollbar":this._invalidate();break;case"disabled":this._renderDisabledState(),null===(t=this._strategy)||void 0===t||t.disabledChanged();break;case"updateManually":case"scrollByContent":case"_onVisibilityChanged":break;case"width":super._optionChanged(e),this._updateRtlPosition();break;default:super._optionChanged(e)}}_resetInactiveDirection(){const e=this._getInactiveProp();if(!e||!Ct())return;const t=this.scrollOffset();t[e]=0,this.scrollTo(t)}_getInactiveProp(){const{direction:e}=this.option();return e===Jb?"left":e===eC?"top":void 0}_location(){return this._strategy.location()}_normalizeLocation(e){if(x(e)){const t=Fe(e.left,e.x),n=Fe(e.top,e.y);return{left:_(t)?-t:void 0,top:_(n)?-n:void 0}}const{direction:t}=this.option();return{left:t!==Jb?-e:void 0,top:t!==eC?-e:void 0}}_isLocked(){return this._locked}_lock(){this._locked=!0}_unlock(){this.option("disabled")||(this._locked=!1)}_isDirection(e){const{direction:t}=this.option();return e===Jb?t!==eC:e===eC?t!==Jb:t===e}_updateAllowedDirection(){const e=this._strategy._allowedDirections();this._isDirection(tC)&&e.vertical&&e.horizontal?this._allowedDirectionValue=tC:this._isDirection(eC)&&e.horizontal?this._allowedDirectionValue=eC:this._isDirection(Jb)&&e.vertical?this._allowedDirectionValue=Jb:this._allowedDirectionValue=null}_allowedDirection(){return this._allowedDirectionValue}$content(){return this._$content}content(){return ma(this._$content)}container(){return ma(this._$container)}scrollOffset(){return this._strategy._getScrollOffset()}_isRtlNativeStrategy(){const{useNative:e,rtlEnabled:t}=this.option();return e&&t}scrollTop(){return this.scrollOffset().top}scrollLeft(){return this.scrollOffset().left}clientHeight(){return Ln(this._$container)}scrollHeight(){return jn(this.$content())}clientWidth(){return $n(this._$container)}scrollWidth(){return zn(this.$content())}update(){if(this._strategy)return Be(this._strategy.update()).done(()=>{this._updateAllowedDirection()})}scrollBy(e){((e=this._normalizeLocation(e)).top||e.left)&&(this._updateIfNeed(),this._strategy.scrollBy(e))}scrollTo(e){if(!Ct())return;e=this._normalizeLocation(e),this._updateIfNeed();let t=this._location();const{useNative:n}=this.option();if(!n){const n=this._strategy;e=n._applyScaleRatio(e),t=n._applyScaleRatio(t)}this._isRtlNativeStrategy()&&(t.left-=this._getMaxOffset().left);const i=this._normalizeLocation({left:t.left-Fe(e.left,t.left),top:t.top-Fe(e.top,t.top)});(i.top||i.left)&&this._strategy.scrollBy(i)}scrollToElement(e,t){const n=Si(e),i=this.$content().find(e).length,r=n.parents(".dx-scrollable").length-n.parents(".dx-scrollable-content").length===0;if(!i||!r)return;const o={top:0,left:0},{direction:s}=this.option();s!==Jb&&(o.left=this.getScrollElementPosition(n,eC,t)),s!==eC&&(o.top=this.getScrollElementPosition(n,Jb,t)),this.scrollTo(o)}getScrollElementPosition(e,t,n){const i=this.scrollOffset();return function(e,t,n,i,r){let o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:pb;const s=K({top:0,left:0,right:0,bottom:0},r),a=t===ub,l=a?"top":"left",c=a?"bottom":"right",u=a?"height":"width",d=n[`offset${ti(u)}`],h=n[`client${ti(u)}`],p=n.getBoundingClientRect()[u],f=e.getBoundingClientRect()[u];let m=1;Math.abs(p-d)>1&&(m=p/d);const _=fb(o,e)[l]/m,g=i[l],v=g-_+s[l],y=g-_-f/m+h-s[c];return v<=0&&y>=0?g:g-(Math.abs(v)>Math.abs(y)?y:v)}(e.get(0),t,Si(this.container()).get(0),i,n)}_updateIfNeed(){this.option("updateManually")||this.update()}_useTemplates(){return!1}isRenovated(){return!!nC.IS_RENOVATED_WIDGET}}Mi(Xb,nC);const iC=nC,rC="dx-treeview",oC=`${rC}-node`,sC=`${oC}-container`,aC=`${oC}-loadindicator`,lC=`${oC}-container-opened`,cC=`${oC}-is-leaf`,uC=`${rC}-item`,dC=`${uC}-with-checkbox`,hC=`${uC}-with-custom-expander-icon`,pC=`${rC}-custom-expander-icon-item-container`,fC=`${uC}-without-checkbox`,mC=`${uC}-data`,_C=`${rC}-toggle-item-visibility`,gC=`${rC}-custom-collapse-icon`,vC=`${rC}-custom-expand-icon`,yC=`${rC}-loadindicator`,bC=`${rC}-loadindicator-wrapper`,CC=`${rC}-toggle-item-visibility-opened`,xC=`${rC}-select-all-item`,SC="data-item-id",wC=`${rC}-root-node`,EC=`${rC}-expander-icon-stub`;const IC=class extends cb{_supportedKeys(){const e=e=>{const{focusedElement:t}=this.option(),n=Si(t);if(!n.length)return;e.target=n,e.currentTarget=n,this._itemClickHandler(e,n.children(`.${uC}`));this._getEventNameByOption(this.option("expandEvent"))===or(dc,"dxTreeView_expand")&&this._expandEventHandler(e)},t=e=>{e.preventDefault();const{focusedElement:t}=this.option(),n=Si(t),i=this._getCheckBoxInstance(n);if(!i.option("disabled")){const e=i.option("value");this._updateItemSelection(!e,n.find(`.${uC}`).get(0),!0)}},n=function(e,t){if(!this.option("expandAllEnabled"))return;t.preventDefault();const n=Si(this.option("focusedElement"));if(!n.length)return;const i=this._getItemData(n.find(`.${uC}`));this._toggleExpandedNestedItems([i],e)};return K({},super._supportedKeys(),{enter:this._showCheckboxes()?t:e,space:this._showCheckboxes()?t:e,asterisk:n.bind(this,!0),minus:n.bind(this,!1)})}_toggleExpandedNestedItems(e,t){if(e)for(let n=0,i=e.length;n<i;n++){const i=e[n],r=this._dataAdapter.getNodeByItem(i);this._toggleExpandedState(r,t),this._toggleExpandedNestedItems(i.items,t)}}_getNodeElement(e,t){const n=this._encodeString(e.internalFields.key);if(t)return t.$nodeByKey||(t.$nodeByKey={},this.$element().find(`.${oC}`).each(function(){const e=Si(this),n=e.attr(SC);t.$nodeByKey[n]=e})),t.$nodeByKey[n]||Si();const i=this.$element().get(0).querySelector(`[${SC}="${n}"]`);return Si(i)}_widgetClass(){return rC}_getDefaultOptions(){const e=A(super._getDefaultOptions(),{animationEnabled:!0,dataStructure:"tree",deferRendering:!0,expandAllEnabled:!1,hasItemsExpr:"hasItems",selectNodesRecursive:!0,expandNodesRecursive:!0,showCheckBoxesMode:"none",expandIcon:null,collapseIcon:null,selectAllText:mr.format("dxList-selectAll"),onItemSelectionChanged:null,onItemExpanded:null,onItemCollapsed:null,scrollDirection:"vertical",useNativeScrolling:!0,virtualModeEnabled:!1,rootValue:0,focusStateEnabled:!1,selectionMode:"multiple",expandEvent:"dblclick",selectByClick:!1,createChildren:null,onSelectAllValueChanged:null,_supportItemUrl:!1});return A(!0,e,{integrationOptions:{useDeferUpdateForTemplates:!1}})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>!go.nativeScrolling,options:{useNativeScrolling:!1}}])}_initSelectedItems(){}_syncSelectionOptions(){return Re().resolve().promise()}_fireSelectionChanged(){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})()}_createSelectAllValueChangedAction(){this._selectAllValueChangedAction=this._createActionByOption("onSelectAllValueChanged",{excludeValidators:["disabled","readOnly"]})}_fireSelectAllValueChanged(e){var t;null===(t=this._selectAllValueChangedAction)||void 0===t||t.call(this,{value:e})}_checkBoxModeChange(e,t){const n=this.option("searchEnabled"),i=this._selectAllEnabled(t),r=this._itemContainer(n,i);if(this._detachClickEvent(r),this._detachExpandEvent(r),"none"===t||"none"===e)return;const o=this._$selectAllItem&&this._$selectAllItem.length;switch(e){case"selectAll":o||(this._createSelectAllValueChangedAction(),this._renderSelectAllItem());break;case"normal":var s;if(o)null===(s=this._$selectAllItem)||void 0===s||s.remove(),delete this._$selectAllItem}}_removeSelection(){const e=this;l(this._dataAdapter.getFullData(),(t,n)=>{e._hasChildren(n)&&e._dataAdapter.toggleSelection(n.internalFields.key,!1,!0)})}_optionChanged(e){const{name:t,value:n,previousValue:i}=e;switch(t){case"selectAllText":this._$selectAllItem&&this._$selectAllItem.dxCheckBox("instance").option("text",n);break;case"showCheckBoxesMode":this._checkBoxModeChange(n,i),this._invalidate();break;case"scrollDirection":this.getScrollable().option("direction",n);break;case"useNativeScrolling":this.getScrollable().option("useNative",n);break;case"items":delete this._$selectAllItem,super._optionChanged(e);break;case"dataSource":super._optionChanged(e),this._initDataAdapter(),this._filter={};break;case"hasItemsExpr":this._initAccessors(),this.repaint();break;case"expandEvent":this._attachExpandEvent();break;case"deferRendering":case"dataStructure":case"rootValue":case"createChildren":case"expandNodesRecursive":case"onItemSelectionChanged":case"onItemExpanded":case"onItemCollapsed":case"expandAllEnabled":case"animationEnabled":case"virtualModeEnabled":case"selectByClick":case"_supportItemUrl":break;case"selectionMode":this._initDataAdapter(),super._optionChanged(e);break;case"onSelectAllValueChanged":this._createSelectAllValueChangedAction();break;case"selectNodesRecursive":this._dataAdapter.setOption("recursiveSelection",e.value),this.repaint();break;case"expandIcon":case"collapseIcon":this.repaint();break;default:super._optionChanged(e)}}_initDataSource(){this._useCustomChildrenLoader()?this._loadChildrenByCustomLoader(null).done(e=>{e&&e.length&&this.option("items",e)}):(super._initDataSource(),this._isVirtualMode()&&this._initVirtualMode())}_initVirtualMode(){const e=this._filter;e.custom||(e.custom=this._dataSource.filter()),e.internal||(e.internal=[this.option("parentIdExpr"),this.option("rootValue")])}_useCustomChildrenLoader(){return g(this.option("createChildren"))&&this._isDataStructurePlain()}_loadChildrenByCustomLoader(e){const t=this.option("createChildren").call(this,e);return Array.isArray(t)?Re().resolve(t).promise():t&&g(t.then)?Pe(t):Re().resolve([]).promise()}_combineFilter(){return this._filter.custom&&this._filter.custom.length?[this._filter.custom,this._filter.internal]:this._filter.internal}_dataSourceLoadErrorHandler(){this._renderEmptyMessage()}_init(){this._filter={},super._init(),this._activeStateUnit=`.${uC}`,this._initStoreChangeHandlers()}_dataSourceChangedHandler(e){const t=this.option("items");this._initialized&&this._isVirtualMode()&&t.length||this.option("items",e)}_removeTreeViewLoadIndicator(){this._treeViewLoadIndicator&&(this._treeViewLoadIndicator.remove(),this._treeViewLoadIndicator=null)}_createTreeViewLoadIndicator(){return this._treeViewLoadIndicator=Si("<div>").addClass(yC),this._createComponent(this._treeViewLoadIndicator,xd,{}),this._treeViewLoadIndicator}_dataSourceLoadingChangedHandler(e){let t;if(this._isVirtualMode()&&(t=this._combineFilter(),this._dataSource.filter(t)),e&&!this._dataSource.isLoaded()){this.option("items",[]);const e=Si("<div>").addClass(bC);this._createTreeViewLoadIndicator().appendTo(e),this.itemsContainer().append(e),this._isVirtualMode()&&this._dataSource.filter()!==t&&this._dataSource.filter([])}else this._removeTreeViewLoadIndicator()}_initStoreChangeHandlers(){const{dataStructure:e}=this.option();"plain"===e&&this._dataSource&&this._dataSource.store().on("inserted",e=>{this.option().items=this.option("items").concat(e),this._dataAdapter.addItem(e),this._dataAdapter.isFiltered(e)&&this._updateLevel(this._parentIdGetter(e))}).on("removed",e=>{const t=this._dataAdapter.getNodeByKey(e);_(t)&&(this.option("items")[this._dataAdapter.getIndexByKey(t.internalFields.key)]=0,this._markChildrenItemsToRemove(t),this._removeItems(),this._dataAdapter.removeItem(e),this._updateLevel(this._parentIdGetter(t)))})}_markChildrenItemsToRemove(e){const t=e.internalFields.childrenKeys;l(t,(e,t)=>{this.option("items")[this._dataAdapter.getIndexByKey(t)]=0,this._markChildrenItemsToRemove(this._dataAdapter.getNodeByKey(t))})}_removeItems(){const e=A(!0,[],this.option("items"));let t=0;l(e,(e,n)=>{n||(this.option("items").splice(e-t,1),t++)})}_updateLevel(e){const t=this._getContainerByParentKey(e);this._renderItems(t,this._dataAdapter.getChildrenNodes(e))}_getOldContainer(e){if(e.length)return e.children(`.${sC}`);const t=this.getScrollable();return t?Si(t.content()).children():Si()}_getContainerByParentKey(e){const t=this._dataAdapter.getNodeByKey(e),n=t?this._getNodeElement(t):[];this._getOldContainer(n).remove();const i=this._renderNodeContainer(n);if(this._isRootLevel(e)){const e=this.getScrollable();e||this._renderScrollableContainer(),Si(e.content()).append(i)}return i}_isRootLevel(e){return e===this.option("rootValue")}_getAccessors(){const e=super._getAccessors();return e.push("hasItems"),e}_getDataAdapterOptions(){var e,t,n;return{rootValue:this.option("rootValue"),multipleSelection:!this._isSingleSelection(),recursiveSelection:this._isRecursiveSelection(),recursiveExpansion:this.option("expandNodesRecursive"),selectionRequired:this.option("selectionRequired"),dataType:this.option("dataStructure"),sort:null===(e=this._dataSource)||void 0===e?void 0:e.sort(),langParams:null===(t=this._dataSource)||void 0===t||null===(n=t.loadOptions)||void 0===n||null===(n=n.call(t))||void 0===n?void 0:n.langParams}}_initMarkup(){this._renderScrollableContainer(),this._renderEmptyMessage(this._dataAdapter.getRootNodes()),super._initMarkup(),this._setAriaRole()}_setAriaRole(){const{items:e}=this.option();e&&e.length&&this.setAria({role:"tree"})}_renderContentImpl(){const e=this._renderNodeContainer();Si(this.getScrollable().content()).append(e),this.option("items")&&this.option("items").length&&(this._renderItems(e,this._dataAdapter.getRootNodes()),this._attachExpandEvent(),this._selectAllEnabled()&&(this._createSelectAllValueChangedAction(),this._renderSelectAllItem(e)))}_isVirtualMode(){return this.option("virtualModeEnabled")&&this._isDataStructurePlain()&&!!this.option("dataSource")}_isDataStructurePlain(){const{dataStructure:e}=this.option();return"plain"===e}_fireContentReadyAction(){const e=this.getDataSource(),t=e&&!e.isLoaded()||this._skipContentReadyAndItemExpanded,n=this.getScrollable();n&&Ct()&&n.update(),t||super._fireContentReadyAction(),n&&Ct()&&n.update()}_renderScrollableContainer(){this._scrollable=this._createComponent(Si("<div>").appendTo(this.$element()),iC,{useNative:this.option("useNativeScrolling"),direction:this.option("scrollDirection"),useKeyboard:!1})}_renderNodeContainer(e){const t=Si("<ul>").addClass(sC);if(this.setAria("role","group",t),null!==e&&void 0!==e&&e.length){const n=this._getItemData(e.children(`.${uC}`));this._expandedGetter(n)&&t.addClass(lC),t.appendTo(e)}return t}_createDOMElement(e,t){var n;const i=Si("<li>").addClass(oC).attr(SC,this._encodeString(t.internalFields.key)).prependTo(e),r={role:"treeitem",label:this._displayGetter(t.internalFields.item)||"",level:this._getLevel(e)};return!(null===t||void 0===t||null===(n=t.internalFields)||void 0===n||null===(n=n.childrenKeys)||void 0===n||!n.length)&&(r.expanded=t.internalFields.expanded||!1),this.setAria(r,i),i}_getLevel(e){const t=e.parent();return t.hasClass("dx-scrollable-content")?1:parseInt(t.attr("aria-level"))+1}_showCheckboxes(){const{showCheckBoxesMode:e}=this.option();return"none"!==e}_hasCustomExpanderIcons(){return this.option("expandIcon")||this.option("collapseIcon")}_selectAllEnabled(e){return"selectAll"===(e??this.option("showCheckBoxesMode"))&&!this._isSingleSelection()}_renderItems(e,t){for(let n=t.length-1;n>=0;n--)this._renderItem(n,t[n],e);this._renderedItemsCount+=t.length}_renderItem(e,t,n){const i=this._createDOMElement(n,t),r=t.internalFields,o=this._showCheckboxes();i.addClass(o?dC:fC),i.toggleClass("dx-state-invisible",!1===r.item.visible),this._hasCustomExpanderIcons()&&(i.addClass(hC),n.addClass(pC)),this.setAria("selected",r.selected,i),this._toggleSelectedClass(i,r.selected),r.disabled&&this.setAria("disabled",r.disabled,i),super._renderItem(this._renderedItemsCount+e,r.item,i);this._getNode(t.internalFields.parentKey)||i.addClass(wC),!1!==r.item.visible&&this._renderChildren(i,t)}_setAriaSelectionAttribute(){}_renderChildren(e,t){if(!this._hasChildren(t))return this._addLeafClass(e),void Si("<div>").addClass(EC).appendTo(this._getItem(e));this._hasCustomExpanderIcons()?this._renderCustomExpanderIcons(e,t):this._renderDefaultExpanderIcons(e,t),this._shouldRenderSublevel(t.internalFields.expanded)&&this._loadSublevel(t).done(n=>{this._renderSublevel(e,this._getActualNode(t),n)})}_shouldRenderSublevel(e){return e||!this.option("deferRendering")}_getActualNode(e){return this._dataAdapter.getNodeByKey(e.internalFields.key)}_hasChildren(e){return this._isVirtualMode()||this._useCustomChildrenLoader()?!1!==this._hasItemsGetter(e.internalFields.item):super._hasChildren(e)}_loadSublevel(e){const t=Re(),n=this._getChildNodes(e);return n.length?t.resolve(n):this._loadNestedItems(e).done(e=>{t.resolve(this._dataAdapter.getNodesByItems(e))}),t.promise()}_getItemExtraPropNames(){return["url","linkAttr"]}_addContent(e,t){const{html:n,url:i}=t;if(this.option("_supportItemUrl")&&i){e.html(n);const i=this._getLinkContainer(this._getIconContainer(t),this._getTextContainer(t),t);e.append(i)}else super._addContent(e,t)}_postprocessRenderItem(e){const{itemData:t,itemElement:n}=e;this._showCheckboxes()&&this._renderCheckBox(n,this._getNode(t)),super._postprocessRenderItem(e)}_renderSublevel(e,t,n){const i=this._renderNodeContainer(e),r=n.filter(e=>-1!==t.internalFields.childrenKeys.indexOf(e.internalFields.key));if(this._renderItems(i,r),r.length&&!t.internalFields.selected){const e=r[0];this._updateParentsState(e,this._getNodeElement(e))}this._normalizeIconState(e,r.length),t.internalFields.expanded&&i.addClass(lC)}_executeItemRenderAction(e,t,n){const i=this._getNode(n);this._getItemRenderAction()({itemElement:n,itemIndex:e,itemData:t,node:this._dataAdapter.getPublicNode(i)})}_addLeafClass(e){e.addClass(cC)}_expandEventHandler(e){Si(e.currentTarget.parentNode).hasClass(cC)||this._toggleExpandedState(e.currentTarget,void 0,e)}_attachExpandEvent(){const e=this._getEventNameByOption(this.option("expandEvent")),t=this._itemContainer();this._detachExpandEvent(t),rn.on(t,e,this._itemSelector(),this._expandEventHandler.bind(this))}_detachExpandEvent(e){rn.off(e,".dxTreeView_expand",this._itemSelector())}_getEventNameByOption(e){return or("click"===e?dc:eg,"dxTreeView_expand")}_getNode(e){if(!_(e))return null;if(e.internalFields)return e;if(S(e))return this._dataAdapter.getNodeByKey(e);const t=Si(e).get(0);return t?mt.isElementNode(t)?this._getNodeByElement(t):this._dataAdapter.getNodeByItem(t):null}_getNodeByElement(e){const t=Si(e).closest(`.${oC}`),n=this._decodeString(t.attr(SC));return this._dataAdapter.getNodeByKey(n)}_toggleExpandedState(e,t,n){const i=this._getNode(e);if(!i)return Re().reject().promise();if(i.internalFields.disabled)return Re().reject().promise();const r=i.internalFields.expanded;if(r===t)return Re().resolve().promise();if(this._hasChildren(i)){const e=this._getNodeElement(i);if(e.find(`.${aC}:not(.dx-state-invisible)`).length)return Re().reject().promise();r||this._nodeHasRenderedChildren(e)||this._createLoadIndicator(e)}return _(t)||(t=!r),this._dataAdapter.toggleExpansion(i.internalFields.key,t),this._updateExpandedItemsUI(i,t,n)}_nodeHasRenderedChildren(e){return e.children(`.${sC}`).not(":empty").length}_getItem(e){return e.children(`.${uC}`).eq(0)}_createLoadIndicator(e){const t=this._getItem(e);this._createComponent(Si("<div>").addClass(aC),xd,{}).$element().appendTo(t);t.children(`.${_C},.${vC}`).hide()}_renderExpanderIcon(e,t,n,i){n.appendTo(this._getItem(e)),n.addClass(i),t.internalFields.disabled&&n.addClass("dx-state-disabled"),this._renderToggleItemVisibilityIconClick(n,t)}_renderDefaultExpanderIcons(e,t){const n=this._getItem(e),i=Si("<div>").addClass(_C).appendTo(n);t.internalFields.expanded&&(i.addClass(CC),e.parent().addClass(lC)),t.internalFields.disabled&&i.addClass("dx-state-disabled"),this._renderToggleItemVisibilityIconClick(i,t)}_renderCustomExpanderIcons(e,t){const{expandIcon:n,collapseIcon:i}=this.option(),r=pm(n??i),o=pm(i??n);this._renderExpanderIcon(e,t,r,vC),this._renderExpanderIcon(e,t,o,gC);const s=t.internalFields.expanded;s&&e.parent().addClass(lC),this._toggleCustomExpanderIcons(r,o,s)}_renderToggleItemVisibilityIconClick(e,t){const n=or(dc,this.NAME);rn.off(e,n),rn.on(e,n,e=>(this._toggleExpandedState(t.internalFields.key,void 0,e),!1))}_toggleCustomExpanderIcons(e,t,n){t.toggle(n),e.toggle(!n)}_updateExpandedItemsUI(e,t,n){const i=this._getNodeElement(e),r=!i.length||t&&i.is(":hidden");if(this.option("expandNodesRecursive")&&r){const i=this._getNode(e.internalFields.parentKey);i&&this._updateExpandedItemsUI(i,t,n)}if(this._hasCustomExpanderIcons()){if(this._nodeHasRenderedChildren(i)){const e=this._getItem(i),n=e.children(`.${vC}`),r=e.children(`.${gC}`);this._toggleCustomExpanderIcons(n,r,t)}}else{this._getItem(i).children(`.${_C}`).toggleClass(CC,t)}const o=i.children(`.${sC}`),s=o.length>0,a=Re();return!t||s&&!o.is(":empty")?(this._animateNodeContainer(e,t,n,a),a.promise()):0===e.internalFields.childrenKeys.length&&(this._isVirtualMode()||this._useCustomChildrenLoader())?(this._loadNestedItemsWithUpdate(e,t,n,a),a.promise()):(this._renderSublevel(i,e,this._getChildNodes(e)),this._fireContentReadyAction(),this._animateNodeContainer(e,t,n,a),a.promise())}_loadNestedItemsWithUpdate(e,t,n,i){const r=this._getNodeElement(e);this._loadNestedItems(e).done(o=>{const s=this._getActualNode(e);this._renderSublevel(r,s,this._dataAdapter.getNodesByItems(o)),o&&o.length?(this._fireContentReadyAction(),this._animateNodeContainer(s,t,n,i)):i.resolve()})}_loadNestedItems(e){if(this._useCustomChildrenLoader()){const t=this._dataAdapter.getPublicNode(e);return this._loadChildrenByCustomLoader(t).done(e=>{this._areNodesExists(e)||this._appendItems(e)})}return this._isVirtualMode()?(this._filter.internal=[this.option("parentIdExpr"),e.internalFields.key],this._dataSource.filter(this._combineFilter()),this._dataSource.load().done(e=>{this._areNodesExists(e)||this._appendItems(e)})):Re().resolve([]).promise()}_areNodesExists(e){const t=this.keyOf(e[0]),n=this._dataAdapter.getFullData();return!!this._dataAdapter.getNodeByKey(t,n)}_appendItems(e){const{items:t=[]}=this.option();this.option().items=t.concat(e),this._initDataAdapter()}_animateNodeContainer(e,t,n,i){const r=this._getNodeElement(e),o=r.children(`.${sC}`);e&&i&&0===o.length&&i.resolve(),o.addClass(lC);const s=Ln(o);Dl.stop(o,!0),Dl.animate(o,{type:"custom",duration:this.option("animationEnabled")?400:0,from:{maxHeight:t?0:s},to:{maxHeight:t?s:0},complete:function(){o.css("maxHeight","none"),o.toggleClass(lC,t),this.setAria("expanded",t,r),this.getScrollable().update(),this._fireExpandedStateUpdatedEvent(t,e,n),i&&i.resolve()}.bind(this)})}_fireExpandedStateUpdatedEvent(e,t,n){if(!this._hasChildren(t)||this._skipContentReadyAndItemExpanded)return;const i=e?"onItemExpanded":"onItemCollapsed";if(_(n))this._itemDXEventHandler(n,i,{node:this._dataAdapter.getPublicNode(t)});else{const e=this._getNodeElement(t);this._itemEventHandler(e,i,{event:n,node:this._dataAdapter.getPublicNode(t)})}}_normalizeIconState(e,t){const n=e.find(`.${aC}`);var i;n.length&&(null===(i=xd.getInstance(n))||void 0===i||i.option("visible",!1));const r=this._getItem(e).children(`.${gC},.${_C}`);t?r.show():(r.removeClass(_C),e.addClass(cC))}_emptyMessageContainer(){const e=this.getScrollable();return e?Si(e.content()):super._emptyMessageContainer()}_renderContent(){const{items:e}=this.option();e&&e.length&&(this._contentAlreadyRendered=!0),super._renderContent()}_renderSelectAllItem(e){const{selectAllText:t,focusStateEnabled:n}=this.option();e=e||this.$element().find(`.${sC}`).first(),this._$selectAllItem=Si("<div>").addClass(xC);const i=this._dataAdapter.isAllSelected();this._createComponent(this._$selectAllItem,Rg,{value:i,elementAttr:{"aria-label":"Select All"},text:t,focusStateEnabled:n,onValueChanged:this._onSelectAllCheckboxValueChanged.bind(this),onInitialized:e=>{let{component:t}=e;t.registerKeyHandler("enter",()=>{t.option("value",!t.option("value"))})}}),this._toggleSelectedClass(this._$selectAllItem,i),e.before(this._$selectAllItem)}_onSelectAllCheckboxValueChanged(e){this._toggleSelectAll(e),this._fireSelectAllValueChanged(e.value)}_toggleSelectAll(e){this._dataAdapter.toggleSelectAll(e.value),this._updateItemsUI(),this._fireSelectionChanged()}_renderCheckBox(e,t){const n=Si("<div>").appendTo(e);this._createComponent(n,Rg,{value:t.internalFields.selected,onValueChanged:this._changeCheckboxValue.bind(this),focusStateEnabled:!1,elementAttr:{"aria-label":mr.format("CheckState")},disabled:this._disabledGetter(t)})}_toggleSelectedClass(e,t){e.toggleClass("dx-state-selected",!!t)}_toggleNodeDisabledState(e,t){const n=this._getNodeElement(e),i=n.find(`.${uC}`).eq(0);if(this._dataAdapter.toggleNodeDisabledState(e.internalFields.key,t),i.toggleClass("dx-state-disabled",!!t),this._showCheckboxes()){this._getCheckBoxInstance(n).option("disabled",!!t)}}_itemOptionChanged(e,t,n){const i=this._dataAdapter.getNodeByItem(e);t===this.option("disabledExpr")&&this._toggleNodeDisabledState(i,n)}_changeCheckboxValue(e){const t=Si(e.element).closest(`.${oC}`),n=this._getItem(t),i=this._getItemData(n),r=this._getNodeByElement(n),{value:o}=e;r&&r.internalFields.selected===o||this._updateItemSelection(o,i,e.event)}_isSingleSelection(){const{selectionMode:e}=this.option();return"single"===e}_isRecursiveSelection(){const{selectionMode:e}=this.option();return this.option("selectNodesRecursive")&&"single"!==e}_isLastSelectedBranch(e,t,n){const i=t.indexOf(e.key);return i>=0&&t.splice(i,1),n&&l(e.children,(e,n)=>{this._isLastSelectedBranch(n,t,!0)}),e.parent&&this._isLastSelectedBranch(e.parent,t),0===t.length}_isLastRequired(e){const t=this.option("selectionRequired"),n=this._isSingleSelection(),i=this.getSelectedNodeKeys();if(t)return n?1===i.length:this._isLastSelectedBranch(e.internalFields.publicNode,i.slice(),!0)}_updateItemSelection(e,t,n){const i=this._getNode(t);if(!i||!1===i.visible)return!1;if(i.internalFields.selected===e)return!0;if(!e&&this._isLastRequired(i)){if(this._showCheckboxes()){const e=this._getNodeElement(i);this._getCheckBoxInstance(e).option("value",!0)}return!1}if(e&&this._isSingleSelection()){const e=this.getSelectedNodeKeys();l(e,(e,t)=>{this._dataAdapter.toggleSelection(t,!1),this._updateItemsUI(),this._fireItemSelectionChanged(this._getNode(t))})}this._dataAdapter.toggleSelection(i.internalFields.key,e);const r=this._dataAdapter.isAllSelected(),o=this._selectAllEnabled()&&this._$selectAllItem.dxCheckBox("instance").option("value")!==r;return this._updateItemsUI(),this._fireItemSelectionChanged(i,n),this._fireSelectionChanged(),o&&this._fireSelectAllValueChanged(r),!0}_fireItemSelectionChanged(e,t){const n=t||this._findItemElementByItem(e.internalFields.item);(t?this._itemDXEventHandler:this._itemEventHandler).call(this,n,"onItemSelectionChanged",{node:this._dataAdapter.getPublicNode(e),itemData:e.internalFields.item})}_getCheckBoxInstance(e){return this._getItem(e).children(".dx-checkbox").dxCheckBox("instance")}_updateItemsUI(){const e={};if(l(this._dataAdapter.getData(),(t,n)=>{const i=this._getNodeElement(n,e),r=n.internalFields.selected;i.length&&(this._toggleSelectedClass(i,r),this.setAria("selected",r,i),this._showCheckboxes()&&this._getCheckBoxInstance(i).option("value",r))}),this._selectAllEnabled()){const e=this._$selectAllItem.dxCheckBox("instance");e.option("onValueChanged",void 0),e.option("value",this._dataAdapter.isAllSelected()),e.option("onValueChanged",this._onSelectAllCheckboxValueChanged.bind(this))}}_updateParentsState(e,t){if(!t)return;const n=this._dataAdapter.getNodeByKey(e.internalFields.parentKey),i=Si(t.parents(`.${oC}`)[0]);if(this._showCheckboxes()){var r;const e=n.internalFields.selected;null===(r=this._getCheckBoxInstance(i))||void 0===r||r.option("value",e),this._toggleSelectedClass(i,e)}n.internalFields.parentKey!==this.option("rootValue")&&this._updateParentsState(n,i)}_itemEventHandlerImpl(e,t,n){const i=Si(e).closest(`.${oC}`).children(`.${uC}`);return t(A(this._extendActionArgs(i),n))}_itemContextMenuHandler(e){this._createEventHandler("onItemContextMenu",e)}_itemHoldHandler(e){this._createEventHandler("onItemHold",e)}_createEventHandler(e,t){const n=this._getNodeByElement(t.currentTarget);this._itemDXEventHandler(t,e,{node:this._dataAdapter.getPublicNode(n)})}_itemClass(){return uC}_itemDataKey(){return mC}_attachClickEvent(){const e=this._itemContainer();this._detachClickEvent(e);const{clickEventNamespace:t,itemSelector:n,pointerDownEventNamespace:i,nodeSelector:r}=this._getItemClickEventData();rn.on(e,t,n,e=>{Si(e.target).hasClass("dx-checkbox-icon")||Si(e.target).hasClass("dx-checkbox")||this._itemClickHandler(e,Si(e.currentTarget))}),rn.on(e,i,r,e=>{this._itemPointerDownHandler(e)})}_detachClickEvent(e){const{clickEventNamespace:t,itemSelector:n,pointerDownEventNamespace:i,nodeSelector:r}=this._getItemClickEventData();rn.off(e,t,n),rn.off(e,i,r)}_getItemClickEventData(){const e=`.${this._itemClass()}`,t=`.${oC}, .${xC}`;return{clickEventNamespace:or(dc,this.NAME),itemSelector:e,pointerDownEventNamespace:or(yo.down,this.NAME),nodeSelector:t}}_itemClick(e){const t=e.args[0],n=(t.event.target[0]||t.event.target).getElementsByClassName("dx-item-url")[0];t.itemData.url&&n&&n.click()}_itemClickHandler(e,t){const n=this._getItemData(t),i=this._getNodeByElement(t);this._itemDXEventHandler(e,"onItemClick",{node:this._dataAdapter.getPublicNode(i)},{beforeExecute:this._itemClick}),this.option("selectByClick")&&!e.isDefaultPrevented()&&this._updateItemSelection(!i.internalFields.selected,n,e)}_updateSelectionToFirstItem(e,t){let n=t;for(;n>=0;){const t=Si(e[n]);this._updateItemSelection(!0,t.find(`.${uC}`).get(0)),n--}}_updateSelectionToLastItem(e,t){const{length:n}=e;let i=t;for(;i<n;){const t=Si(e[i]);this._updateItemSelection(!0,t.find(`.${uC}`).get(0)),i++}}focus(){this._selectAllEnabled()?rn.trigger(this._$selectAllItem,"focus"):super.focus()}_focusInHandler(e){this._updateFocusState(e,!0);const t=Si(e.target).hasClass(xC);if(t||this.option("focusedElement"))return clearTimeout(this._setFocusedItemTimeout),void(this._setFocusedItemTimeout=setTimeout(()=>{const{focusedElement:e}=this.option(),n=t?ma(this._$selectAllItem):Si(e);this._setFocusedItem(n)}));const n=this._getActiveItem();this.option("focusedElement",ma(n.closest(`.${oC}`)))}_itemPointerDownHandler(e){if(!this.option("focusStateEnabled"))return;const t=Si(e.target).closest(`.${oC}, .${xC}`);if(!t.length)return;const n=t.hasClass("dx-state-disabled")?null:t;this.option("focusedElement",ma(n))}_findNonDisabledNodes(e){return e.not(function(){return Si(this).children(`.${uC}`).hasClass("dx-state-disabled")})}_moveFocus(e,t){const n=this.option("rtlEnabled")?"right":"left",i=this.option("rtlEnabled")?"left":"right";this.$element().find(`.${sC}`).each(function(){Dl.stop(this,!0)});const r=this._nodeElements();if(r&&r.length)switch(e){case"up":{const e=this._prevItem(r);this.option("focusedElement",ma(e));const n=this._getNodeItemElement(e);this.getScrollable().scrollToElement(n),t.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,n);break}case"down":{const e=this._nextItem(r);this.option("focusedElement",ma(e));const n=this._getNodeItemElement(e);this.getScrollable().scrollToElement(n),t.shiftKey&&this._showCheckboxes()&&this._updateItemSelection(!0,n);break}case"first":{const e=r.first();t.shiftKey&&this._showCheckboxes()&&this._updateSelectionToFirstItem(r,r.index(this._prevItem(r))),this.option("focusedElement",ma(e)),this.getScrollable().scrollToElement(this._getNodeItemElement(e));break}case"last":{const e=r.last();t.shiftKey&&this._showCheckboxes()&&this._updateSelectionToLastItem(r,r.index(this._nextItem(r))),this.option("focusedElement",ma(e)),this.getScrollable().scrollToElement(this._getNodeItemElement(e));break}case i:this._expandFocusedContainer();break;case n:this._collapseFocusedContainer();break;default:super._moveFocus.apply(this,arguments)}}_getNodeItemElement(e){return e.find(`.${uC}`).get(0)}_nodeElements(){return this.$element().find(`.${oC}`).not(":hidden")}_expandFocusedContainer(){const{focusedElement:e}=this.option(),t=Si(e);if(!t.length||t.hasClass(cC))return;if(t.find(`.${sC}`).eq(0).hasClass(lC)){const e=this._nextItem(this._findNonDisabledNodes(this._nodeElements()));return this.option("focusedElement",ma(e)),void this.getScrollable().scrollToElement(this._getNodeItemElement(e))}const n=this._getNodeByElement(this._getItem(t));this._toggleExpandedState(n,!0)}_getClosestNonDisabledNode(e){do{e=e.parent().closest(`.${oC}`)}while(e.children(".dx-treeview-item.dx-state-disabled").length);return e}_collapseFocusedContainer(){const{focusedElement:e}=this.option(),t=Si(e);if(!t.length)return;const n=t.find(`.${sC}`).eq(0);if(!t.hasClass(cC)&&n.hasClass(lC)){const e=this._getNodeByElement(this._getItem(t));this._toggleExpandedState(e,!1)}else{const e=this._getClosestNonDisabledNode(t);e.length&&this.option("focusedElement",ma(e)),this.getScrollable().scrollToElement(this._getNodeItemElement(e))}}_encodeString(e){return v(e)?encodeURI(e):e}_decodeString(e){return v(e)?decodeURI(e):e}getScrollable(){return this._scrollable}updateDimensions(){const e=Re(),t=this.getScrollable();return t?t.update().done(()=>{e.resolveWith(this)}):e.resolveWith(this),e.promise()}selectItem(e){return this._updateItemSelection(!0,e)}unselectItem(e){return this._updateItemSelection(!1,e)}expandItem(e){return this._toggleExpandedState(e,!0)}collapseItem(e){return this._toggleExpandedState(e,!1)}getNodes(){return this._dataAdapter.getTreeNodes()}getSelectedNodes(){return this.getSelectedNodeKeys().map(e=>{const t=this._dataAdapter.getNodeByKey(e);return this._dataAdapter.getPublicNode(t)})}getSelectedNodeKeys(){return this._dataAdapter.getSelectedNodesKeys()}selectAll(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!0):this._toggleSelectAll({value:!0})}unselectAll(){this._selectAllEnabled()?this._$selectAllItem.dxCheckBox("instance").option("value",!1):this._toggleSelectAll({value:!1})}_allItemsExpandedHandler(){this._skipContentReadyAndItemExpanded=!1,this._fireContentReadyAction()}expandAll(){const e=this._dataAdapter.getData(),t=[];this._skipContentReadyAndItemExpanded=!0,e.forEach(e=>t.push(this._toggleExpandedState(e.internalFields.key,!0))),Promise.allSettled(t).then(()=>{var e;return null===(e=this._allItemsExpandedHandler)||void 0===e?void 0:e.call(this)})}collapseAll(){l(this._dataAdapter.getExpandedNodesKeys(),(e,t)=>{this._toggleExpandedState(t,!1)})}scrollToItem(e){const t=this._getNode(e);if(!t)return Re().reject().promise();const n=[];let i=t.internalFields.publicNode.parent;for(;null!=i;)i.expanded||n.push(i.key),i=i.parent;const r=Re();return this._expandNodes(n.reverse()).always(()=>{const e=this._getNodeElement(t);e&&e.length?(this.scrollToElementTopLeft(e.get(0)),r.resolve()):r.reject()}),r.promise()}scrollToElementTopLeft(e){const t=this.getScrollable(),{scrollDirection:n,rtlEnabled:i}=this.option(),r={top:0,left:0},o=fb(pb,e);if(n!==ub){const n=Si(t.container()).get(0);r.left=i?o.left+e.offsetWidth-n.clientWidth:o.left}n!==db&&(r.top=o.top),t.scrollTo(r)}_expandNodes(e){if(!e||0===e.length)return Re().resolve().promise();const t=Re(),n=e.map(e=>this.expandItem(e));return Be.apply(Si,n).done(()=>t.resolve()).fail(()=>t.reject()),t.promise()}_dispose(){super._dispose(),clearTimeout(this._setFocusedItemTimeout),this._allItemsExpandedHandler=null}};J_.setEditorClass(Z_);const kC="dx-treeview",DC=`${kC}-node-container`,OC=IC.inherit(J_).inherit({_addWidgetPrefix:e=>`${kC}-${e}`,_optionChanged(e){switch(e.name){case"searchValue":this._showCheckboxes()&&this._isRecursiveSelection()&&this._removeSelection(),this._initDataAdapter(),this._updateSearch(),this._repaintContainer(),this.option("focusedElement",null);break;case"searchExpr":this._initDataAdapter(),this.repaint();break;case"searchMode":this.option("expandNodesRecursive")?this._updateDataAdapter():this._initDataAdapter(),this.repaint();break;default:this.callBase(e)}},_updateDataAdapter(){this._setOptionWithoutOptionChange("expandNodesRecursive",!1),this._initDataAdapter(),this._setOptionWithoutOptionChange("expandNodesRecursive",!0)},_getDataAdapterOptions(){return A(this.callBase(),{searchValue:this.option("searchValue"),searchMode:this.option("searchMode")||"contains",searchExpr:this.option("searchExpr")})},_getNodeContainer(){return this.$element().find(`.${DC}`).first()},_updateSearch(){if(this._searchEditor){const e=this._getSearchEditorOptions();this._searchEditor.option(e)}},_repaintContainer(){const e=this._getNodeContainer();let t;e.length&&(e.empty(),t=this._dataAdapter.getRootNodes(),this._renderEmptyMessage(t),this._renderItems(e,t),this._fireContentReadyAction())},_focusTarget(){return this._itemContainer(this.option("searchEnabled"))},_cleanItemContainer(){this.$element().empty()},_itemContainer(e,t){return t??(t=this._selectAllEnabled()),t?this._getNodeContainer():this._scrollable&&e?Si(this._scrollable.content()):this.callBase()},_addWidgetClass(){this.$element().addClass(this._widgetClass())},_clean(){this.callBase(),this._removeSearchBox()}});Mi("dxTreeView",OC);const TC=OC,AC=rn.on,PC=(rn.one,rn.off),MC=(rn.trigger,rn.Event),RC=rn.triggerHandler;var BC=n(950);function NC(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(e=>e).join(".")}const FC=["style","id"],$C="className",HC=["dropZone","dialogTrigger"],LC={WidgetClass:{},isPortalComponent:!1,defaults:{},templateProps:[],expectedChildren:{},subscribableOptions:[],independentEvents:[],useRequestAnimationFrameFlag:!1,clearExtensions:()=>{},renderChildren:()=>{},beforeCreateWidget:()=>{},afterCreateWidget:()=>{},children:null};function VC(e,t,n){const i={},r={},o={},s={};return(n=n||[]).forEach(e=>{s[e.component]=!0,s[e.render]=!0}),Object.keys(e).forEach(n=>{const a=t?t[n]:null,l=e[n];(function(e){return"children"===e||e===$C||FC.includes(e)||Object.prototype.hasOwnProperty.call(LC,e)})(n)||(a?i[a]=l:s[n]?o[n]=l:HC.includes(n)?r[n]=function(e){return e?.current?e.current.instance?.().element()?e.current.instance().element():e.current:e}(l):r[n]=e[n])}),{options:r,defaults:i,templates:o}}function zC(e){return e[$C]}const jC=(0,e.createContext)(void 0),WC=(0,e.createContext)(void 0),KC=(0,e.createContext)({parentExpectedChildren:{},parentFullName:"",onChildOptionsReady:()=>{},onNamedTemplateReady:()=>{},getOptionComponentKey:()=>0,treeUpdateToken:Symbol("initial tree update token"),parentType:"component"}),UC=(0,e.createContext)({isTemplateRendering:!1});function qC(e){let t=e,n="";for(;t&&t.name;)n=t.name.concat("number"===typeof t.index?`[${t.index}]`:"",n?`.${n}`:""),t=t.parentNode;return n}const GC={isTemplateRendering:!0},ZC=(t,n)=>{const i=VC(t.props,t.descriptor.initialValuesProps,t.descriptor.templates);return{node:{name:t.descriptor.name,predefinedOptions:t.descriptor.predefinedValuesProps,initialOptions:i.defaults,options:i.options,templates:[],configCollections:{},configs:{}},configCollectionMaps:{},getConfigCollectionData(e){return this.node.configCollections[e]||(this.node.configCollections[e]=[],this.configCollectionMaps[e]={}),[this.node.configCollections[e],this.configCollectionMaps[e]]},addChildNode(e,t){t.parentNode=this.node,this.node.configs[e]=t},addCollectionNode(e,t,n){const[i,r]=this.getConfigCollectionData(e),o=r[n]??i.length;t.index=o,t.parentNode=this.node,o<i.length?i[o]=t:(r[n]=o,i.push(t))},addTemplate(e){this.node.templates.push(e)},updateAnonymousTemplates(e){this.node.templates=this.node.templates.filter(e=>!e.isAnonymous),t.descriptor.templates.forEach(i=>{const r=function(e,t,n){return"template"===t.tmplOption&&n?{optionName:t.tmplOption,isAnonymous:!0,type:"children",content:e.children}:e[t.render]?{optionName:t.tmplOption,isAnonymous:!0,type:"render",content:e[t.render]}:e[t.component]?{optionName:t.tmplOption,isAnonymous:!0,type:"component",content:e[t.component]}:null}(t.props,i,e&&(t.descriptor.isCollection||n.length>0));r&&this.node.templates.push(this.wrapTemplate(r))})},wrapTemplate:t=>"children"===t.type?{...t,content:e.createElement(UC.Provider,{value:GC},t.content)}:t}};function YC(t,n,i,r){const o=(0,e.useContext)(KC),{parentFullName:s}=o,a=Symbol("update token"),l=ZC(t,s),c=(0,e.useRef)(0),u={parentExpectedChildren:t.descriptor.expectedChildren,parentFullName:NC(s,t.descriptor.name),parentType:r,treeUpdateToken:a,getOptionComponentKey:()=>(c.current+=1,c.current),onNamedTemplateReady:(e,t)=>{t===a&&e&&l.addTemplate(e)},onChildOptionsReady:(e,t,n,i)=>{if(n!==a)return;const{isCollection:r,name:o}=t;r?l.addCollectionNode(o,e,i):l.addChildNode(o,e)}};return(0,e.useLayoutEffect)(()=>{l.updateAnonymousTemplates(n())},[i]),[l.node,u]}function QC(e,t,n){const i=qC(e);e.templates.forEach(e=>{if(e.isAnonymous){const r=NC(i,e.optionName);t[e.optionName]=r,n[r]=e}else n[e.optionName]=e})}function XC(e,t,n){const i={};return Object.keys(e.predefinedOptions).forEach(t=>{i[t]=e.predefinedOptions[t]}),Object.keys(e.configs).forEach(r=>{i[r]=XC(e.configs[r],t,n)}),Object.keys(e.configCollections).forEach(r=>{i[r]=e.configCollections[r].map(e=>XC(e,t,n))}),n||Object.keys(e.initialOptions).forEach(t=>{i[t]=e.initialOptions[t]}),Object.keys(e.options).forEach(t=>{i[t]=e.options[t]}),QC(e,i,t),i}function JC(e,t){const n={};return{templates:n,options:XC(e,n,t)}}var ex;function tx(e,t){const n=t.shift();return n?e instanceof Object&&Object.keys(e).includes(n)?tx(e[n],t):void 0:{value:e,type:ex.Simple}}function nx(e,t){const n=t.shift();if(!n)return{value:JC(e,!0).options,type:ex.Complex};const i=function(e){const t=e.split("[");return 1===t.length?{isCollectionItem:!1,name:e}:{isCollectionItem:!0,name:t[0],index:Number(t[1].slice(0,-1))}}(n);if(i.name in e.options){return tx(i.isCollectionItem?e.options[i.name][i.index]:e.options[i.name],t)}if(i.isCollectionItem){const n=e.configCollections[i.name];if(!n)return;const r=n[i.index];if(!r)return;return nx(r,t)}const r=e.configs[i.name];if(r)return nx(r,t);const o=e.configCollections[i.name];if(o){if(0!==t.length)return;return{value:o.map(e=>XC(e,{},!0)),type:ex.Array}}}function ix(e,t,n){const i=qC(e);t?(n.addRemovedValues(e.options,t.options,i),n.addRemovedValues(e.configCollections,t.configCollections,i),n.addRemovedValues(e.configs,t.configs,i),function(e,t,n,i){Object.keys(e.configCollections).forEach(r=>{const o=e.configCollections[r],s=n.configCollections[r]||[];if(!o||o.length!==s.length){const e=[];return o.forEach(t=>{const n=XC(t,i.templates,!0);e.push(n)}),void(i.options[NC(t,r)]=e)}for(let e=0;e<o.length;e+=1)ix(o[e],s[e],i)})}(e,i,t,n),Object.keys(e.configs).forEach(i=>{ix(e.configs[i],t.configs[i],n)}),Object.keys(e.options).forEach(r=>{e.options[r]!==t.options[r]&&(n.options[NC(i,r)]=e.options[r])}),function(e,t,n,i){const r={},o={},s={},a={};QC(e,r,o),QC(n,s,a),i.addRemovedValues(r,s,t),Object.keys(r).forEach(e=>{r[e]!==s[e]&&(i.options[NC(t,e)]=r[e])}),Object.keys(o).forEach(e=>{const t=o[e],n=a[e];n&&t.content===n.content||(i.templates[e]=t)})}(e,i,t,n)):n.options[i]=XC(e,n.templates,!0)}function rx(e,t){const n={options:{},removedOptions:[],templates:{},addRemovedValues(e,t,n){!function(e,t,n,i){Object.keys(t).filter(t=>!Object.keys(e).includes(t)).forEach(e=>{i.push(NC(n,e))})}(e,t,n,this.removedOptions)}};return ix(e,t,n),n}function ox(){return Math.random().toString(36).substring(2)}!function(e){e[e.Simple=0]="Simple",e[e.Complex=1]="Complex",e[e.Array=2]="Array"}(ex||(ex={}));class sx{constructor(){this._map=new Map}set(e,t){let{key1:n,key2:i}=e,r=this._map.get(n);r||(r=new Map,this._map.set(n,r)),r.set(i,t)}get(e){let{key1:t,key2:n}=e;const i=this._map.get(t);return i?i.get(n):void 0}delete(e){let{key1:t,key2:n}=e;const i=this._map.get(t);i&&(i.delete(n),0===i.size&&this._map.delete(t))}clear(){this._map.clear()}get empty(){return 0===this._map.size}*[Symbol.iterator](){for(const[e,t]of this._map)for(const[n,i]of t)yield[{key1:e,key2:n},i]}}class ax extends sx{}const lx=new Set;let cx=-1,ux=-1;function dx(){clearTimeout(cx),clearTimeout(ux)}function hx(){dx(),cx=window.setTimeout(()=>{ux=window.setTimeout(()=>{lx.forEach(e=>e.execGuards())})})}class px{constructor(){this.guards={},this.isUpdating=!1,this.onOptionChanged=this.onOptionChanged.bind(this),this.wrapOptionValue=this.wrapOptionValue.bind(this)}setInstance(e,t,n,i){this.instance=e,this.currentConfig=t,this.subscribableOptions=new Set(n),this.independentEvents=new Set(i),lx.add(this)}getInitialOptions(e){const t=JC(e,!1),n={};return Object.keys(t.options).forEach(e=>{n[e]=this.wrapOptionValue(e,t.options[e])}),n}getTemplateOptions(e){return JC(e,!1).templates}update(e,t){const n=[],i=e=>{let{value:t,fullName:i}=e;n.push([i,t])};this.instance.on("optionChanged",i);const r=rx(e,this.currentConfig);(r.options||r.templates||r.removedOptions.length)&&(this.instance.beginUpdate(),this.isUpdating=!0,r.removedOptions.forEach(e=>{this.resetOption(e)}),Object.keys(t).length>0&&this.setValue("integrationOptions",{templates:t}),Object.keys(r.options).forEach(e=>{this.setValue(e,r.options[e])}),this.isUpdating=!1,this.instance.off("optionChanged",i),this.currentConfig=e,n.forEach(t=>{let[n,i]=t;const r=e.options[n];Object.prototype.hasOwnProperty.call(e.options,n)&&r!==i&&this.setValue(n,r)}),this.instance.endUpdate())}onOptionChanged(e){if(this.isUpdating)return;let t=nx(this.currentConfig,e.fullName.split("."));if(t&&t.value===e.value||this.callOptionChangeHandler(e.fullName,e.value),t=nx(this.currentConfig,e.fullName.split(".")),!t)return;const{value:n,type:i}=t;if(n instanceof Array&&i===ex.Array){for(let s=0;s<n.length;s+=1)if(n[s]!==e.value?.[s])return void this.addGuard(e.fullName,n)}else if(i===ex.Complex&&n instanceof Object)Object.keys(n).forEach(t=>{n[t]!==e.value?.[t]&&this.addGuard(NC(e.fullName,t),n[t])});else{const t=n===e.value,i=!t&&n instanceof Object&&e.value instanceof Object&&(r=n,o=e.value,Object.keys(r).length===Object.keys(o).length&&Object.keys(r).every(e=>r[e]===o[e]));if(t||i||this.instance.skipOptionsRollBack)return;this.addGuard(e.fullName,n)}var r,o}get isInstanceSet(){return!!this.instance}dispose(){lx.delete(this),Object.keys(this.guards).forEach(e=>{delete this.guards[e]}),this.instance=null}isOptionSubscribable(e){return this.subscribableOptions.has(e)}isIndependentEvent(e){return this.independentEvents.has(e)}callOptionChangeHandler(e,t){if(!this.isOptionSubscribable(e))return;const n=e.split("."),i=n[n.length-1];if(i.startsWith("on"))return;const r=`on${o=i,o.length?`${o[0].toUpperCase()}${o.substr(1)}`:""}Change`;var o;n[n.length-1]=r;const s=nx(this.currentConfig,n);if(s){if("function"!==typeof s.value)throw new Error(`Invalid value for the ${r} property.\n                ${r} must be a function.`);s.value(t)}}wrapOptionValue(e,t){var n=this;return"on"===e.substr(0,2)&&"function"===typeof t?function(){n.isUpdating&&!n.isIndependentEvent(e)||t(...arguments)}:t}addGuard(e,t){if(void 0!==this.guards[e])return;this.guards[e]=()=>{this.setValue(e,t),delete this.guards[e]},hx()}execGuards(){Object.values(this.guards).forEach(e=>e())}resetOption(e){this.isCollectionOption(e)?this.setValue(e,[]):this.instance.resetOption(e)}isCollectionOption(e){const t=nx(this.currentConfig,e.split("."));return t?.type===ex.Array}setValue(e,t){this.guards[e]&&delete this.guards[e],this.instance.option(e,this.wrapOptionValue(e,t))}}const fx=(t,n,i)=>{const r={display:"none"};switch(t){case"TABLE":return e.createElement("tbody",{style:r,ref:n});case"TBODY":return e.createElement("tr",{style:r,ref:n});default:return e.createElement(i,{style:r,ref:n})}},mx=(0,e.memo)(t=>{let{templateFactory:n,data:i,index:r,container:o,onRemoved:s,onRendered:a}=t;const[l,c]=(0,e.useState)(!1),u=(0,e.useRef)(!1),d=(0,e.useMemo)(()=>({lock(){u.current=!0},unlock(){u.current=!1}}),[]),h=(0,e.useRef)(),p=(0,e.useRef)(),f=(0,e.useRef)(),m=(0,e.useCallback)((e,t)=>{t?.isUnmounting||u.current||(h.current&&PC(h.current,xx,m),f.current&&PC(f.current,xx,m),s())},[s]);(0,e.useLayoutEffect)(()=>{const e=h.current;return e&&e.nodeType===Node.ELEMENT_NODE?(PC(e,xx,m),AC(e,xx,m)):l?f.current&&(PC(f.current,xx,m),AC(f.current,xx,m)):c(!0),()=>{const t=e=>{e?.current&&o&&!o.contains(e.current)&&o.appendChild(e.current)};t(h),t(p),t(f),e&&PC(e,xx,m)}},[m,l,o]),(0,e.useEffect)(()=>{a()},[a]);const _=fx(o?.nodeName,e=>{p.current=e,h.current=e?.previousSibling},"div"),g=l?fx(o?.nodeName,e=>{f.current=e},"span"):void 0;return(0,BC.createPortal)(e.createElement(e.Fragment,null,e.createElement(jC.Provider,{value:d},n({data:i,index:r,onRendered:a}),_,g)),o)});let _x={useLegacyTemplateEngine:!1};function gx(e){if(_x["useLegacyTemplateEngine"]){const t=e.data;return t&&Object.prototype.hasOwnProperty.call(t,"key")&&(t.dxkey=t.key),t}return e}const vx=()=>`${ox()}${ox()}${ox()}`,yx=t=>{let{init:n,onTemplatesRendered:i}=t;const[r,o]=(0,e.useState)({collection:new ax}),[s,a]=(0,e.useState)(),l=(0,e.useRef)(""),c=(0,e.useRef)({}),{collection:u}=r,d=(0,e.useCallback)(e=>t=>{let{model:n,index:i,container:r,onRendered:s}=t;const a=(c=r).get?c.get(0):c;var c;const d={key1:n,key2:a};const h=()=>{u.get(d)&&(u.delete(d),o({collection:u}))},p=l.current;return u.set(d,{templateKey:e,index:i,componentKey:vx(),onRendered:()=>{((e,t)=>{e.nodeType===Node.ELEMENT_NODE&&PC(e,xx,t)})(a,h),p===l.current&&s?.()},onRemoved:h}),o({collection:u}),a},[u]);return(0,e.useMemo)(()=>{function t(t){switch(t.type){case"children":return()=>t.content;case"render":return e=>(gx(e),t.content(e.data,e.index));case"component":return n=>(n=gx(n),e.createElement.bind(null,t.content)(n));default:return()=>e.createElement(e.Fragment)}}n({createDXTemplates:function(e){const n=Object.entries(e).reduce((e,n)=>{let[i,r]=n;return{...e,[i]:t(r)}},{});c.current=n;const i=Object.keys(n).reduce((e,t)=>(e[t]={render:d(t)},e),{});return i},clearInstantiationModels:function(){l.current=vx(),r.collection.clear(),o({...r})},updateTemplates:function(e){a({onUpdated:e})}})},[n,d]),(0,e.useEffect)(()=>{s&&s.onUpdated(),i()},[s,i]),r.collection.empty?null:e.createElement(e.Fragment,null,Array.from(r.collection).map(t=>{let[{key1:n,key2:i},{index:r,templateKey:o,componentKey:s,onRendered:a,onRemoved:l}]=t;((e,t)=>{e.nodeType===Node.ELEMENT_NODE&&AC(e,xx,t)})(i,l);const u=c.current[o];return u?e.createElement(mx,{key:s,templateFactory:u,data:n,index:r,container:i,onRemoved:l,onRendered:a}):null}))};(0,e.memo)(t=>{const{onNamedTemplateReady:n,treeUpdateToken:i}=(0,e.useContext)(KC),{isTemplateRendering:r}=(0,e.useContext)(UC),o=function(e){return e.name?e.component?{optionName:e.name,isAnonymous:!1,type:"component",content:e.component}:e.render?{optionName:e.name,isAnonymous:!1,type:"render",content:e.render}:{optionName:e.name,isAnonymous:!1,type:"children",content:e.children}:null}(t);return(0,e.useLayoutEffect)(()=>{r||n(o,i)},[i]),null});var bx;!function(e){e[e.Option=0]="Option",e[e.Template=1]="Template",e[e.Unknown=2]="Unknown"}(bx||(bx={}));const Cx=new Set(["animationIterationCount","aspectRatio","borderImageOutset","borderImageSlice","borderImageWidth","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","columns","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridArea","gridRow","gridRowEnd","gridRowSpan","gridRowStart","gridColumn","gridColumnEnd","gridColumnSpan","gridColumnStart","fontWeight","lineClamp","lineHeight","opacity","order","orphans","scale","tabSize","widows","zIndex","zoom","fillOpacity","floodOpacity","stopOpacity","strokeDasharray","strokeDashoffset","strokeMiterlimit","strokeOpacity","strokeWidth","MozAnimationIterationCount","MozBoxFlex","MozBoxFlexGroup","MozLineClamp","msAnimationIterationCount","msFlex","msZoom","msFlexGrow","msFlexNegative","msFlexOrder","msFlexPositive","msFlexShrink","msGridColumn","msGridColumnSpan","msGridRow","msGridRowSpan","WebkitAnimationIterationCount","WebkitBoxFlex","WebKitBoxFlexGroup","WebkitBoxOrdinalGroup","WebkitColumnCount","WebkitColumns","WebkitFlex","WebkitFlexGrow","WebkitFlexPositive","WebkitFlexShrink","WebkitLineClamp"]),xx="dxremove";le({buyNowLink:"https://go.devexpress.com/Licensing_Installer_Watermark_DevExtremeReact.aspx",licensingDocLink:"https://go.devexpress.com/Licensing_Documentation_DevExtremeReact.aspx"});const Sx=(0,e.forwardRef)((t,n)=>{const{templateProps:i=[],defaults:r={},expectedChildren:o={},isPortalComponent:s=!1,useRequestAnimationFrameFlag:a=!1,subscribableOptions:l=[],WidgetClass:c,independentEvents:u=[],renderChildren:d,beforeCreateWidget:h=()=>{},afterCreateWidget:p=()=>{}}=t,[,f]=(0,e.useState)(Symbol("initial force update token")),m=(0,e.useContext)(jC),_=(0,e.useContext)(WC),g=(0,e.useRef)(),v=(0,e.useRef)(),y=(0,e.useRef)(),b=(0,e.useRef)(!1),C=(0,e.useRef)(!1),x=(0,e.useRef)(!1),S=(0,e.useRef)(!1),w=(0,e.useRef)(new px),E=(0,e.useRef)(),I=(0,e.useRef)(),k=(0,e.useRef)(),D=(0,e.useRef)(),O=(0,e.useRef)(),T=(0,e.useRef)(null),{parentType:A}=(0,e.useContext)(KC),[P,M]=YC({type:bx.Option,descriptor:{name:"",isCollection:!1,templates:i,initialValuesProps:r,predefinedValuesProps:{},expectedChildren:o},props:t},()=>!!T.current?.childNodes.length,Symbol("initial update token"),"component"),R=(0,e.useCallback)(()=>{x.current&&E.current?.length&&v.current&&(v.current.append(...E.current),x.current=!1),_&&v.current&&!v.current.isConnected&&_()},[E.current,v.current,x.current,_]),B=(0,e.useCallback)((e,t)=>{const n=e?zC(e):void 0,i=zC(t);if(n!==i){if(n){const e=n.split(" ").filter(e=>e);e.length&&v.current?.classList.remove(...e)}if(i){const e=i.split(" ").filter(e=>e);e.length&&v.current?.classList.add(...e)}}},[v.current]),N=(0,e.useCallback)(e=>{if(v.current){const t=v.current;Object.entries(e).forEach(e=>{let[n,i]=e;"number"!==typeof i||Cx.has(n)?t.style[n]=i:t.style[n]=`${i}px`})}},[v.current]),F=(0,e.useCallback)(e=>{let{createDXTemplates:t,clearInstantiationModels:n,updateTemplates:i}=e;I.current=t,k.current=n,D.current=i},[I.current,k.current,D.current]),$=(0,e.useCallback)(()=>{const e={ref:e=>{e&&(v.current=e)}};return FC.forEach(n=>{n in t&&(e[n]=t[n])}),e},[v.current,t]),H=(0,e.useCallback)(()=>{if(C.current)return;C.current=!0;(b.current?Ke:ha)(()=>{C.current=!1,D.current?.(()=>hx())}),dx()},[C.current,b.current,D.current]),L=(0,e.useCallback)(e=>{h(),e=e||v.current;let t={templatesRenderAsynchronously:!0,...w.current.getInitialOptions(P)};const n=w.current.getTemplateOptions(P),i=I.current?.(n);i&&Object.keys(i).length&&(t={...t,integrationOptions:{templates:i}}),k.current?.(),g.current=new c(e,t),a||(b.current=g.current.option("integrationOptions.useDeferUpdateForTemplates")),w.current.setInstance(g.current,P,l,u),g.current.on("optionChanged",w.current.onOptionChanged),p()},[h,p,v.current,w.current,I.current,k.current,c,a,b.current,g.current,l,u,P]),V=(0,e.useCallback)(()=>{S.current&&g.current?.focus&&(g.current.focus(),S.current=!1)},[S.current,g.current]),z=(0,e.useCallback)(()=>{if("option"===A)return;if(!w.current?.isInstanceSet)return;B(O.current,t);const e=w.current.getTemplateOptions(P),n=I.current?.(e)||{};w.current.update(P,n),H(),O.current=t},[w.current,O.current,I.current,H,B,t,P]),j=(0,e.useCallback)(()=>{if("option"===A)return;const{style:e}=t;x.current?R():v.current?.childNodes.length&&(E.current=Array.from(v.current?.childNodes)),B(void 0,t),e&&N(e),O.current=t},[E.current,v.current,x.current,B,N,t]),W=(0,e.useCallback)(()=>{if(m?.lock(),g.current){const e={isUnmounting:!0};if(S.current=!!v.current?.contains(document.activeElement),E.current?.forEach(e=>e.parentNode?.removeChild(e)),x.current=!0,v.current){const t=e=>e.stopPropagation();AC(v.current,"focusout",t),RC(v.current,xx,e),PC(v.current,"focusout",t)}g.current.dispose(),g.current=null}w.current.dispose(),m?.unlock()},[m,g.current,E.current,v.current,w.current,x.current,S.current]);(0,e.useLayoutEffect)(()=>(j(),()=>{W()}),[]),(0,e.useLayoutEffect)(()=>{z()}),(0,e.useImperativeHandle)(n,()=>({getInstance:()=>g.current,getElement:()=>v.current,createWidget(e){L(e)}}),[g.current,v.current,L]);const K=(0,e.useCallback)(()=>{if(d)return d();const{children:e}=t;return e},[t,d]),U=(0,e.useCallback)(()=>y.current&&(0,BC.createPortal)(K(),y.current),[y.current,K]),q=(0,e.useCallback)(()=>{const{children:n}=t;return s&&n?e.createElement("div",{ref:e=>{e&&y.current!==e&&(y.current=e,f(Symbol("force update token")))},style:{display:"contents"}}):K()},[t,s,y.current,K]),G=(0,e.useMemo)(()=>({isTemplateRendering:!1}),[]);return e.createElement(WC.Provider,{value:R},e.createElement(UC.Provider,{value:G},e.createElement("div",{ref:T,...$()},e.createElement(KC.Provider,{value:M},q()),e.createElement(yx,{init:F,onTemplatesRendered:V}),s&&e.createElement(KC.Provider,{value:M},U()))))});(0,e.forwardRef)((t,n)=>{const i=(0,e.useRef)(null),r=(0,e.useCallback)(e=>{i.current?.createWidget(e)},[i.current]);return(0,e.useLayoutEffect)(()=>{const{onMounted:e}=t;e?e(r):r()},[]),(0,e.useImperativeHandle)(n,()=>({getInstance:()=>i.current?.getInstance(),getElement:()=>i.current?.getElement(),createWidget(e){r(e)}}),[i.current,r]),e.createElement(Sx,{ref:i,...t})});const wx=(0,e.forwardRef)((t,n)=>{const i=(0,e.useRef)(null),r=(0,e.useRef)([]),o=(0,e.useCallback)(e=>{r.current.push(e)},[r.current]),s=(0,e.useCallback)(()=>{r.current.forEach(e=>e(i.current?.getElement()))},[r.current,i.current]),a=(0,e.useCallback)(()=>e.Children.map(t.children,t=>{return e.isValidElement(t)&&(n=t,"extension"===n.type?.componentType)?e.cloneElement(t,{onMounted:o}):t;var n}),[t,o]),l=(0,e.useCallback)(e=>{i.current?.createWidget(e)},[i.current]),c=(0,e.useCallback)(()=>{t.clearExtensions&&t.clearExtensions(),r.current=[]},[r.current,t.clearExtensions]);return(0,e.useLayoutEffect)(()=>(l(),s(),()=>{c()}),[]),(0,e.useImperativeHandle)(n,()=>({getInstance:()=>i.current?.getInstance(),getElement:()=>i.current?.getElement(),createWidget(e){l(e)},clearExtensions(){c()}}),[i.current,l,c]),e.createElement(Sx,{ref:i,renderChildren:a,...t})}),Ex=function(t){const{children:n}=t,{elementDescriptor:i,...r}=t,{isTemplateRendering:o}=(0,e.useContext)(UC);if(!i||"undefined"===typeof document||o)return null;const s=i.TemplateProps?.some(e=>t[e.tmplOption]&&"string"===typeof t[e.tmplOption]),{parentExpectedChildren:a,onChildOptionsReady:l,getOptionComponentKey:c,treeUpdateToken:u}=(0,e.useContext)(KC),[d]=(0,e.useState)(c()),h=function(e,t,n){let i=e.OptionName,r=e.IsCollectionItem;const o=n&&n[i];return o&&(r=o.isCollectionItem,o.optionName&&(i=o.optionName)),{type:bx.Option,descriptor:{name:i,isCollection:!!r,templates:e.TemplateProps||[],initialValuesProps:e.DefaultsProps||{},predefinedValuesProps:e.PredefinedProps||{},expectedChildren:e.ExpectedChildren||{}},props:t}}(i,r,a),p=(0,e.useMemo)(()=>document.createElement("div"),[]),f=function(e){return!!Object.keys(e.ExpectedChildren||{}).length}(i)||s,m=f?()=>!!p.childNodes.length:()=>!!n,[_,g]=YC(h,m,u,"option");return(0,e.useLayoutEffect)(()=>{l(_,h.descriptor,u,d)},[u]),f?e.createElement(e.Fragment,{},(0,BC.createPortal)(e.createElement(KC.Provider,{value:g},n),p)):null},Ix=(0,e.memo)((0,e.forwardRef)((t,n)=>{const i=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,()=>({instance:()=>i.current?.getInstance()}),[i.current]);const r=(0,e.useMemo)(()=>["items"],[]),o=(0,e.useMemo)(()=>["onContentReady","onDisposing","onInitialized","onItemClick","onItemCollapsed","onItemContextMenu","onItemExpanded","onItemHold","onItemRendered","onSelectAllValueChanged"],[]),s=(0,e.useMemo)(()=>({defaultItems:"items"}),[]),a=(0,e.useMemo)(()=>({item:{optionName:"items",isCollectionItem:!0},searchEditorOptions:{optionName:"searchEditorOptions",isCollectionItem:!1}}),[]),l=(0,e.useMemo)(()=>[{tmplOption:"itemTemplate",render:"itemRender",component:"itemComponent"}],[]);return e.createElement(wx,{WidgetClass:TC,ref:i,subscribableOptions:r,independentEvents:o,defaults:s,expectedChildren:a,templateProps:l,...t})})),kx=(Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"buttons",IsCollectionItem:!0,ExpectedChildren:{options:{optionName:"options",isCollectionItem:!1}}}}),{componentType:"option"}),Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"items",IsCollectionItem:!0,ExpectedChildren:{item:{optionName:"items",isCollectionItem:!0}},TemplateProps:[{tmplOption:"template",render:"render",component:"component"}]}}),{componentType:"option"}),Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"options",TemplateProps:[{tmplOption:"template",render:"render",component:"component"}]}}),{componentType:"option"}),Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"searchEditorOptions",DefaultsProps:{defaultValue:"value"},ExpectedChildren:{button:{optionName:"buttons",isCollectionItem:!0}}}}),{componentType:"option"}),Ix),Dx="dxswipestart",Ox="dxswipe",Tx="dxswipeend",Ax={horizontal:{defaultItemSizeFunc(){return $n(this.getElement())},getBounds(){return[this._maxLeftOffset,this._maxRightOffset]},calcOffsetRatio(e){return(Qi(e).x-(this._savedEventData&&this._savedEventData.x||0))/this._itemSizeFunc().call(this,e)},isFastSwipe(e){const t=Qi(e);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(t.x-this._tickData.x)>=t.time-this._tickData.time}},vertical:{defaultItemSizeFunc(){return Ln(this.getElement())},getBounds(){return[this._maxTopOffset,this._maxBottomOffset]},calcOffsetRatio(e){return(Qi(e).y-(this._savedEventData&&this._savedEventData.y||0))/this._itemSizeFunc().call(this,e)},isFastSwipe(e){const t=Qi(e);return this.FAST_SWIPE_SPEED_LIMIT*Math.abs(t.y-this._tickData.y)>=t.time-this._tickData.time}}},Px=uh.inherit({TICK_INTERVAL:300,FAST_SWIPE_SPEED_LIMIT:10,ctor(e){this.callBase(e),this.direction="horizontal",this.elastic=!0},_getStrategy(){return Ax[this.direction]},_defaultItemSizeFunc(){return this._getStrategy().defaultItemSizeFunc.call(this)},_itemSizeFunc(){return this.itemSizeFunc||this._defaultItemSizeFunc},_init(e){this._tickData=Qi(e)},_start(e){this._savedEventData=Qi(e),(e=this._fireEvent("dxswipestart",e)).cancel||(this._maxLeftOffset=e.maxLeftOffset,this._maxRightOffset=e.maxRightOffset,this._maxTopOffset=e.maxTopOffset,this._maxBottomOffset=e.maxBottomOffset)},_move(e){const t=this._getStrategy(),n=Qi(e);let i=t.calcOffsetRatio.call(this,e);i=this._fitOffset(i,this.elastic),n.time-this._tickData.time>this.TICK_INTERVAL&&(this._tickData=n),this._fireEvent("dxswipe",e,{offset:i}),!1!==e.cancelable&&e.preventDefault()},_end(e){const t=this._getStrategy(),n=t.calcOffsetRatio.call(this,e),i=t.isFastSwipe.call(this,e);let r=n,o=this._calcTargetOffset(n,i);r=this._fitOffset(r,this.elastic),o=this._fitOffset(o,!1),this._fireEvent("dxswipeend",e,{offset:r,targetOffset:o})},_fitOffset(e,t){const n=this._getStrategy().getBounds.call(this);return e<-n[0]?t?(-2*n[0]+e)/3:-n[0]:e>n[1]?t?(2*n[1]+e)/3:n[1]:e},_calcTargetOffset(e,t){let n;return t?(n=Math.ceil(Math.abs(e)),e<0&&(n=-n)):n=Math.round(e),n}});ec({emitter:Px,events:["dxswipestart","dxswipe","dxswipeend"]});class Mx extends Nh{_supportedKeys(){return K({},super._supportedKeys(),{escape:tt})}_getDefaultOptions(){return K({},super._getDefaultOptions(),{message:mr.format("Loading"),width:222,height:90,animation:null,showIndicator:!0,indicatorSrc:"",showPane:!0,delay:0,templatesRenderAsynchronously:!1,hideTopOverlayHandler:null,focusStateEnabled:!1,propagateOutsideClick:!0,preventScrollEvents:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:{platform:"generic"},options:{shadingColor:"transparent"}},{device:()=>na(),options:{message:"",width:60,height:60,maxHeight:60,maxWidth:60}},{device:()=>ia(),options:{width:"auto",height:"auto"}}])}_init(){super._init.apply(this,arguments)}_render(){super._render(),this.$element().addClass("dx-loadpanel"),this.$wrapper().addClass("dx-loadpanel-wrapper"),this._updateWrapperAria()}_updateWrapperAria(){this.$wrapper().removeAttr("aria-label").removeAttr("role");if(!this.option("showIndicator")){const e=this._getAriaAttributes();this.$wrapper().attr(e)}}_getAriaAttributes(){const{message:e}=this.option();return{role:"alert","aria-label":e||mr.format("Loading")}}_renderContentImpl(){super._renderContentImpl(),this.$content().addClass("dx-loadpanel-content"),this._$loadPanelContentWrapper=Si("<div>").addClass("dx-loadpanel-content-wrapper"),this._$loadPanelContentWrapper.appendTo(this.$content()),this._togglePaneVisible(),this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage()}_show(){const{delay:e}=this.option();if(!e)return super._show();const t=Re(),n=super._show.bind(this);return this._clearShowTimeout(),this._showTimeout=setTimeout(()=>{n().done(()=>{t.resolve()})},e),t.promise()}_hide(){return this._clearShowTimeout(),super._hide()}_clearShowTimeout(){clearTimeout(this._showTimeout)}_renderMessage(){if(!this._$loadPanelContentWrapper)return;const{message:e}=this.option();if(!e)return;const t=Si("<div>").addClass("dx-loadpanel-message").text(e);this._$loadPanelContentWrapper.append(t)}_renderLoadIndicator(){this._$loadPanelContentWrapper&&this.option("showIndicator")&&(this._$indicator||(this._$indicator=Si("<div>").addClass("dx-loadpanel-indicator").appendTo(this._$loadPanelContentWrapper)),this._createComponent(this._$indicator,xd,{elementAttr:this._getAriaAttributes(),indicatorSrc:this.option("indicatorSrc")}))}_cleanPreviousContent(){this.$content().find(".dx-loadpanel-message").remove(),this.$content().find(".dx-loadpanel-indicator").remove(),delete this._$indicator}_togglePaneVisible(){this.$content().toggleClass("dx-loadpanel-pane-hidden",!this.option("showPane"))}_optionChanged(e){switch(e.name){case"delay":break;case"message":case"showIndicator":this._cleanPreviousContent(),this._renderLoadIndicator(),this._renderMessage(),this._updateWrapperAria();break;case"showPane":this._togglePaneVisible();break;case"indicatorSrc":this._renderLoadIndicator();break;default:super._optionChanged(e)}}_dispose(){this._clearShowTimeout(),super._dispose()}}Mi("dxLoadPanel",Mx);const Rx=Mx;const Bx=class extends Db{_init(e){super._init(e),this._$topPocket=e._$topPocket,this._$pullDown=e._$pullDown,this._$refreshingText=e._$refreshingText,this._$scrollViewContent=Si(e.content()),this._$container=Si(e.container()),this._initCallbacks()}_initCallbacks(){this.pullDownCallbacks=s(),this.releaseCallbacks=s(),this.reachBottomCallbacks=s()}render(){super.render(),this._renderPullDown(),this._releaseState()}_renderPullDown(){const e=Si("<div>").addClass("dx-scrollview-pull-down-image"),t=Si("<div>").addClass("dx-scrollview-pull-down-indicator"),n=new xd(Si("<div>")).$element(),i=this._$pullDownText=Si("<div>").addClass("dx-scrollview-pull-down-text");this._$pullingDownText=Si("<div>").text(this.option("pullingDownText")).appendTo(i),this._$pulledDownText=Si("<div>").text(this.option("pulledDownText")).appendTo(i),this._$refreshingText=Si("<div>").text(this.option("refreshingText")).appendTo(i),this._$pullDown.empty().append(e).append(t.append(n)).append(i)}_releaseState(){this._state=0,this._refreshPullDownText()}_refreshPullDownText(){const e=this,t=[{element:this._$pullingDownText,visibleState:0},{element:this._$pulledDownText,visibleState:1},{element:this._$refreshingText,visibleState:2}];l(t,(t,n)=>{const i=e._state===n.visibleState?"addClass":"removeClass";n.element[i]("dx-scrollview-pull-down-text-visible")})}update(){super.update(),this._setTopPocketOffset()}_updateDimensions(){super._updateDimensions(),this._topPocketSize=this._$topPocket.get(0).clientHeight;const e=this._$scrollViewContent.get(0),t=this._$container.get(0);this._bottomBoundary=Math.max(e.clientHeight-t.clientHeight,0)}_allowedDirections(){const e=super._allowedDirections();return e.vertical=e.vertical||this._pullDownEnabled,e}_setTopPocketOffset(){this._$topPocket.css({top:-this._topPocketSize})}handleEnd(){super.handleEnd(),this._complete()}handleStop(){super.handleStop(),this._complete()}_complete(){1===this._state&&(this._setPullDownOffset(this._topPocketSize),clearTimeout(this._pullDownRefreshTimeout),this._pullDownRefreshTimeout=setTimeout(()=>{this._pullDownRefreshing()},400))}_setPullDownOffset(e){wa(this._$topPocket,{top:e}),wa(this._$scrollViewContent,{top:e})}handleScroll(e){if(super.handleScroll(e),2===this._state)return;const t=this.location().top,n=(this._location||0)-t;this._location=t,this._isPullDown()?this._pullDownReady():n>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}_isPullDown(){return this._pullDownEnabled&&this._location>=this._topPocketSize}_isReachBottom(){return this._reachBottomEnabled&&this.isBottomReached()}isBottomReached(){return Math.round(this._bottomBoundary+Math.floor(this._location))<=1}_reachBottom(){3!==this._state&&(this._state=3,this.reachBottomCallbacks.fire())}_pullDownReady(){1!==this._state&&(this._state=1,this._$pullDown.addClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText())}_stateReleased(){0!==this._state&&(this._$pullDown.removeClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this._releaseState())}_pullDownRefreshing(){2!==this._state&&(this._state=2,this._$pullDown.addClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText(),this.pullDownCallbacks.fire())}pullDownEnable(e){e&&(this._updateDimensions(),this._setTopPocketOffset()),this._pullDownEnabled=e}reachBottomEnable(e){this._reachBottomEnabled=e}pendingRelease(){this._state=1}release(){const e=Re();return this._updateDimensions(),clearTimeout(this._releaseTimeout),3===this._state&&(this._state=0),this._releaseTimeout=setTimeout(()=>{this._setPullDownOffset(0),this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),e.resolve()},400),e.promise()}dispose(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),super.dispose()}};const Nx=class extends Db{_init(e){super._init(e),this._$topPocket=e._$topPocket,this._$pullDown=e._$pullDown,this._$scrollViewContent=Si(e.content()),this._$container=Si(e.container()),this._initCallbacks(),this._location=0}_initCallbacks(){this.pullDownCallbacks=s(),this.releaseCallbacks=s(),this.reachBottomCallbacks=s()}render(){super.render(),this._renderPullDown(),this._releaseState()}_renderPullDown(){const e=Si("<div>").addClass("dx-scrollview-pull-down-indicator"),t=new xd(Si("<div>")).$element();this._$icon=Si("<div>").addClass("dx-icon-pulldown"),this._$pullDown.empty().append(this._$icon).append(e.append(t))}_releaseState(){this._state=0,this._releasePullDown(),this._updateDimensions()}_releasePullDown(){this._$pullDown.css({opacity:0})}_updateDimensions(){super._updateDimensions(),this._topPocketSize=this._$topPocket.get(0).clientHeight;const e=this._$scrollViewContent.get(0),t=this._$container.get(0);this._bottomBoundary=Math.max(e.clientHeight-t.clientHeight,0)}_allowedDirections(){const e=super._allowedDirections();return e.vertical=e.vertical||this._pullDownEnabled,e}handleInit(e){super.handleInit(e),0===this._state&&0===this._location&&(this._startClientY=Qi(e.originalEvent).y,this._state=4)}handleMove(e){super.handleMove(e),this._deltaY=Qi(e.originalEvent).y-this._startClientY,4===this._state&&(this._pullDownEnabled&&this._deltaY>0?this._state=5:this._complete()),5===this._state&&(e.preventDefault(),this._movePullDown())}_movePullDown(){const e=this._getPullDownHeight(),t=Math.min(3*e,this._deltaY+this._getPullDownStartPosition()),n=180*t/e/3;this._$pullDown.css({opacity:1}).toggleClass("dx-scrollview-pull-down-refreshing",t<e),wa(this._$pullDown,{top:t}),this._$icon.css({transform:`rotate(${n}deg)`})}_isPullDown(){return this._pullDownEnabled&&5===this._state&&this._deltaY>=this._getPullDownHeight()-this._getPullDownStartPosition()}_getPullDownHeight(){return Math.round(.05*jn(this._$element))}_getPullDownStartPosition(){return-Math.round(1.5*jn(this._$pullDown))}handleEnd(){this._isPullDown()&&this._pullDownRefreshing(),this._complete()}handleStop(){this._complete()}_complete(){4!==this._state&&5!==this._state||this._releaseState()}handleScroll(e){if(super.handleScroll(e),2===this._state)return;const t=this.location().top,n=this._location-t;this._location=t,n>0&&this._isReachBottom()?this._reachBottom():this._stateReleased()}_isReachBottom(){return this._reachBottomEnabled&&this.isBottomReached()}isBottomReached(){return Math.round(this._bottomBoundary+Math.floor(this._location))<=1}_reachBottom(){this.reachBottomCallbacks.fire()}_stateReleased(){0!==this._state&&(this._$pullDown.removeClass("dx-scrollview-pull-down-loading"),this._releaseState())}_pullDownRefreshing(){this._state=2,this._pullDownRefreshHandler()}_pullDownRefreshHandler(){this._refreshPullDown(),this.pullDownCallbacks.fire()}_refreshPullDown(){this._$pullDown.addClass("dx-scrollview-pull-down-loading"),wa(this._$pullDown,{top:this._getPullDownHeight()})}pullDownEnable(e){this._$topPocket.toggle(e),this._pullDownEnabled=e}reachBottomEnable(e){this._reachBottomEnabled=e}pendingRelease(){this._state=1}release(){const e=Re();return this._updateDimensions(),clearTimeout(this._releaseTimeout),this._releaseTimeout=setTimeout(()=>{this._stateReleased(),this.releaseCallbacks.fire(),this._updateAction(),e.resolve()},800),e.promise()}dispose(){clearTimeout(this._pullDownRefreshTimeout),clearTimeout(this._releaseTimeout),super.dispose()}};class Fx extends Gb{ctor(){this._topPocketSize=0,this._bottomPocketSize=0,super.ctor.apply(this,arguments),this._initCallbacks(),this._releaseState()}_releaseState(){this._state=0,this._refreshPullDownText()}_refreshPullDownText(){const e=this,t=[{element:this._$pullingDownText,visibleState:0},{element:this._$pulledDownText,visibleState:1},{element:this._$refreshingText,visibleState:2}];l(t,(t,n)=>{const i=e._state===n.visibleState?"addClass":"removeClass";n.element[i]("dx-scrollview-pull-down-text-visible")})}_initCallbacks(){this.pullDownCallbacks=s(),this.releaseCallbacks=s(),this.reachBottomCallbacks=s()}_updateBounds(){if("horizontal"!==this._direction){this._topPocketSize=this._$topPocket.get(0).clientHeight,this._bottomPocketSize=this._$bottomPocket.get(0).clientHeight;const e=this._$container.get(0),t=this._$content.get(0);this._bottomBoundary=Math.max(t.clientHeight-this._bottomPocketSize-e.clientHeight,0)}super._updateBounds()}_updateScrollbar(){this._scrollbar.option({containerSize:this._containerSize(),contentSize:this._contentSize()-this._topPocketSize-this._bottomPocketSize,scaleRatio:this._getScaleRatio()})}_moveContent(){super._moveContent(),this._isPullDown()?this._pullDownReady():this._isReachBottom()?this._reachBottomReady():0!==this._state&&this._stateReleased()}_moveScrollbar(){this._scrollbar.moveTo(this._topPocketSize+this._location)}_isPullDown(){return this._pullDownEnabled&&this._location>=0}_isReachBottom(){return this._reachBottomEnabled&&this.isBottomReached()}isBottomReached(){const e=this._$container.get(0);return Math.round(this._bottomBoundary-Math.ceil(e.scrollTop))<=1}_scrollComplete(){this._inBounds()&&1===this._state?this._pullDownRefreshing():this._inBounds()&&3===this._state?this._reachBottomLoading():super._scrollComplete()}_reachBottomReady(){3!==this._state&&(this._state=3,this._minOffset=this._getMinOffset())}_getMaxOffset(){return-this._topPocketSize}_getMinOffset(){return Math.min(super._getMinOffset(),-this._topPocketSize)}_reachBottomLoading(){this.reachBottomCallbacks.fire()}_pullDownReady(){1!==this._state&&(this._state=1,this._maxOffset=0,this._$pullDown.addClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText())}_stateReleased(){0!==this._state&&(this._releaseState(),this._updateBounds(),this._$pullDown.removeClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this.releaseCallbacks.fire())}_pullDownRefreshing(){2!==this._state&&(this._state=2,this._$pullDown.addClass("dx-scrollview-pull-down-loading").removeClass("dx-scrollview-pull-down-ready"),this._refreshPullDownText(),this.pullDownCallbacks.fire())}_releaseHandler(){var e;return 0===this._state&&this._moveToBounds(),this._update(),this._releaseTask&&this._releaseTask.abort(),this._releaseTask=$e(this._release.bind(this)),null===(e=this._releaseTask)||void 0===e?void 0:e.promise}_release(){this._stateReleased(),this._scrollComplete()}_reachBottomEnablingHandler(e){this._reachBottomEnabled!==e&&(this._reachBottomEnabled=e,this._updateBounds())}_pullDownEnablingHandler(e){this._pullDownEnabled!==e&&(this._pullDownEnabled=e,this._considerTopPocketChange(),this._updateHandler())}_considerTopPocketChange(){this._location-=Ln(this._$topPocket)||-this._topPocketSize,this._maxOffset=0,this._move()}_pendingReleaseHandler(){this._state=1}dispose(){this._releaseTask&&this._releaseTask.abort(),super.dispose()}}const $x={pullDown:Bx,swipeDown:Nx,simulated:class extends Qb{_init(e){super._init(e),this._$pullDown=e._$pullDown,this._$topPocket=e._$topPocket,this._$bottomPocket=e._$bottomPocket,this._initCallbacks()}_initCallbacks(){this.pullDownCallbacks=s(),this.releaseCallbacks=s(),this.reachBottomCallbacks=s()}render(){this._renderPullDown(),super.render()}_renderPullDown(){const e=Si("<div>").addClass("dx-scrollview-pull-down-image"),t=Si("<div>").addClass("dx-scrollview-pull-down-indicator"),n=new xd(Si("<div>")).$element(),i=this._$pullDownText=Si("<div>").addClass("dx-scrollview-pull-down-text");this._$pullingDownText=Si("<div>").text(this.option("pullingDownText")).appendTo(i),this._$pulledDownText=Si("<div>").text(this.option("pulledDownText")).appendTo(i),this._$refreshingText=Si("<div>").text(this.option("refreshingText")).appendTo(i),this._$pullDown.empty().append(e).append(t.append(n)).append(i)}pullDownEnable(e){this._eventHandler("pullDownEnabling",e)}reachBottomEnable(e){this._eventHandler("reachBottomEnabling",e)}_createScroller(e){const t=this,n=t._scrollers[e]=new Fx(t._scrollerOptions(e));n.pullDownCallbacks.add(()=>{t.pullDownCallbacks.fire()}),n.releaseCallbacks.add(()=>{t.releaseCallbacks.fire()}),n.reachBottomCallbacks.add(()=>{t.reachBottomCallbacks.fire()})}_scrollerOptions(e){return K({},super._scrollerOptions(e),{$topPocket:this._$topPocket,$bottomPocket:this._$bottomPocket,$pullDown:this._$pullDown,$pullDownText:this._$pullDownText,$pullingDownText:this._$pullingDownText,$pulledDownText:this._$pulledDownText,$refreshingText:this._$refreshingText})}pendingRelease(){this._eventHandler("pendingRelease")}release(){return this._eventHandler("release").done(this._updateAction)}location(){const e=super.location();return e.top+=Ln(this._$topPocket),e}isBottomReached(){return this._scrollers.vertical.isBottomReached()}dispose(){l(this._scrollers,function(){this.dispose()}),super.dispose()}}},Hx=!Ct();class Lx extends iC{finishLoading(){}release(){}refresh(){}scrollOffset(){return{top:0,left:0}}isBottomReached(){return!1}_optionChanged(e){const{name:t}=e;if("onUpdated"!==t)return super._optionChanged.apply(this,arguments)}}class Vx extends iC{_getDefaultOptions(){return K({},super._getDefaultOptions(),{pullingDownText:mr.format("dxScrollView-pullingDownText"),pulledDownText:mr.format("dxScrollView-pulledDownText"),refreshingText:mr.format("dxScrollView-refreshingText"),reachBottomText:mr.format("dxScrollView-reachBottomText"),onPullDown:null,onReachBottom:null,refreshStrategy:"pullDown"})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>"android"===Is.real().platform,options:{refreshStrategy:"swipeDown"}},{device:()=>ta(),options:{pullingDownText:"",pulledDownText:"",refreshingText:"",reachBottomText:""}}])}_init(){super._init(),this._loadingIndicatorEnabled=!0}_initScrollableMarkup(){super._initScrollableMarkup(),this.$element().addClass("dx-scrollview"),this._initContent(),this._initTopPocket(),this._initBottomPocket(),this._initLoadPanel()}_initContent(){const e=Si("<div>").addClass("dx-scrollview-content");this._$content.wrapInner(e)}_initTopPocket(){this._$topPocket=Si("<div>").addClass("dx-scrollview-top-pocket"),this._$pullDown=Si("<div>").addClass("dx-scrollview-pull-down"),this._$topPocket.append(this._$pullDown),this._$content.prepend(this._$topPocket)}_initBottomPocket(){this._$bottomPocket=Si("<div>").addClass("dx-scrollview-bottom-pocket"),this._$reachBottom=Si("<div>").addClass("dx-scrollview-scrollbottom");const e=Si("<div>").addClass("dx-scrollview-scrollbottom-indicator"),t=new xd(Si("<div>")).$element();this._$reachBottomText=Si("<div>").addClass("dx-scrollview-scrollbottom-text"),this._updateReachBottomText(),this._$reachBottom.append(e.append(t)).append(this._$reachBottomText),this._$bottomPocket.append(this._$reachBottom),this._$content.append(this._$bottomPocket)}_initLoadPanel(){const e=Si("<div>").addClass("dx-scrollview-loadpanel").appendTo(this.$element()),{refreshingText:t}=this.option();this._loadPanel=this._createComponent(e,Rx,{shading:!1,delay:400,message:t,position:{of:this.$element()}})}_updateReachBottomText(){const{reachBottomText:e}=this.option();this._$reachBottomText.text(e)}_createStrategy(){const{useNative:e,refreshStrategy:t}=this.option(),n=$x[e?t:"simulated"];this._strategy=new n(this),this._strategy.pullDownCallbacks.add(this._pullDownHandler.bind(this)),this._strategy.releaseCallbacks.add(this._releaseHandler.bind(this)),this._strategy.reachBottomCallbacks.add(this._reachBottomHandler.bind(this))}_createActions(){super._createActions(),this._pullDownAction=this._createActionByOption("onPullDown"),this._reachBottomAction=this._createActionByOption("onReachBottom"),this._tryRefreshPocketState()}_tryRefreshPocketState(){this._pullDownEnable(this.hasActionSubscription("onPullDown")),this._reachBottomEnable(this.hasActionSubscription("onReachBottom"))}on(e){const t=super.on.apply(this,arguments);return"pullDown"!==e&&"reachBottom"!==e||this._tryRefreshPocketState(),t}_pullDownEnable(e){if(0===arguments.length)return this._pullDownEnabled;this._$pullDown&&this._strategy&&(this._$pullDown.toggle(e),this._strategy.pullDownEnable(e),this._pullDownEnabled=e)}_reachBottomEnable(e){if(0===arguments.length)return this._reachBottomEnabled;this._$reachBottom&&this._strategy&&(this._$reachBottom.toggle(e),this._strategy.reachBottomEnable(e),this._reachBottomEnabled=e)}_pullDownHandler(){this._loadingIndicator(!1),this._pullDownLoading()}_loadingIndicator(e){if(arguments.length<1)return this._loadingIndicatorEnabled;this._loadingIndicatorEnabled=e}_pullDownLoading(){var e;this.startLoading(),null===(e=this._pullDownAction)||void 0===e||e.call(this)}_reachBottomHandler(){this._loadingIndicator(!1),this._reachBottomLoading()}_reachBottomLoading(){var e;this.startLoading(),null===(e=this._reachBottomAction)||void 0===e||e.call(this)}_releaseHandler(){this.finishLoading(),this._loadingIndicator(!0)}_optionChanged(e){switch(e.name){case"onPullDown":case"onReachBottom":this._createActions();break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"refreshStrategy":this._invalidate();break;case"reachBottomText":this._updateReachBottomText();break;default:super._optionChanged(e)}}content(){return ma(this._$content.children().eq(1))}release(e){return void 0!==e&&this.toggleLoading(!e),this._strategy.release()}toggleLoading(e){this._reachBottomEnable(e)}refresh(){this.hasActionSubscription("onPullDown")&&(this._strategy.pendingRelease(),this._pullDownLoading())}startLoading(){this._loadingIndicator()&&this.$element().is(":visible")&&this._loadPanel.show(),this._lock()}finishLoading(){this._loadPanel.hide(),this._unlock()}isBottomReached(){return this._strategy.isBottomReached()}_dispose(){this._strategy.dispose(),super._dispose(),this._loadPanel&&this._loadPanel.$element().remove()}}Mi("dxScrollView",Hx?Lx:Vx);const zx=Hx?Lx:Vx,jx="__dx_key__";const Wx=class extends tb{_getDefaultOptions(){return K({},super._getDefaultOptions(),{repaintChangesOnly:!1})}_customizeStoreLoadOptions(e){this._dataController.getDataSource()&&!this._dataController.isLoaded()&&(this._correctionIndex=0),this._correctionIndex&&e.storeLoadOptions&&(e.storeLoadOptions.skip+=this._correctionIndex)}reload(){this._correctionIndex=0}_init(){super._init(),this._refreshItemsCache(),this._correctionIndex=0,this._subscribeLoadOptionsCustomization(!0)}_findItemElementByKey(e){let t=Si();const n=this.key();return this.itemElements().each((i,r)=>{const o=Si(r),s=this._getItemData(o);if(n?Kg(n,this.keyOf(s),e):this._isItemEquals(s,e))return t=o,!1}),t}_dataSourceChangedHandler(e,t){null!==t&&void 0!==t&&t.changes?this._modifyByChanges(t.changes):(super._dataSourceChangedHandler(e,t),this._refreshItemsCache())}_isItemEquals(e,t){e&&e.__dx_key__&&(e=e.data);try{return JSON.stringify(e)===JSON.stringify(t)}catch(n){return e===t}}_isItemStrictEquals(e,t){return this._isItemEquals(e,t)}_shouldAddNewGroup(e,t){let n=!1;return this.option("grouped")&&(e.length||(n=!0),l(e,(e,i)=>{"insert"===i.type&&(n=!0,l(t,(e,t)=>{if(void 0!==i.data.key&&i.data.key===t.key)return n=!1,!1}))})),n}_partialRefresh(){if(this.option("repaintChangesOnly")){const e=e=>e&&void 0!==e.__dx_key__?e.__dx_key__:this.keyOf(e),t=function(e,t,n,i){const r={},o={};let s=0,a=0;const l=[];e.forEach(function(e,t){const i=qy(e,n);r[i]=t}),t.forEach(function(e,t){const i=qy(e,n);o[i]=t});const c=Math.max(e.length,t.length);for(let u=0;u<c+s;u++){const c=t[u],d=u-s+a,h=e[d];if(!c||h&&!Gy(h,t,o,n))h&&(l.push({type:"remove",key:n(h),index:u,oldItem:h}),a++,u--);else{const t=qy(c,n),o=r[t],a=e[o];if(a){if(o!==d)return;i(a,c)||l.push({type:"update",data:c,key:n(c),index:u,oldItem:a})}else s++,l.push({type:"insert",data:c,index:u})}}return l}(this._itemsCache,this._editStrategy.itemsGetter(),e,this._isItemStrictEquals.bind(this));if(t&&this._itemsCache.length&&!this._shouldAddNewGroup(t,this._itemsCache))return this._modifyByChanges(t,!0),this._renderEmptyMessage(),!0;this._refreshItemsCache()}return!1}_refreshItemsCache(){if(this.option("repaintChangesOnly")){const t=this._editStrategy.itemsGetter();try{this._itemsCache=A(!0,[],t),this.key()||(this._itemsCache=this._itemsCache.map((e,n)=>({[jx]:t[n],data:e})))}catch(e){this._itemsCache=A([],t)}}}_dispose(){this._subscribeLoadOptionsCustomization(!1),super._dispose()}_updateByChange(e,t,n,i){if(i)this._renderItem(n.index,n.data,null,this._findItemElementByKey(n.key));else{const i=t[ov(e,t,n.key)];i&&nv(e,t,n.key,n.data).done(()=>{this._renderItem(t.indexOf(i),i,null,this._findItemElementByKey(n.key))})}}_insertByChange(e,t,n,i){Be(i||iv(e,t,n.data,n.index)).done(()=>{this._beforeItemElementInserted(n),this._renderItem(n.index??t.length,n.data),this._afterItemElementInserted(),this._correctionIndex++})}_updateSelectionAfterRemoveByChange(e){const{selectedIndex:t,selectedItems:n}=this.option();t>e?this.option("selectedIndex",t-1):t===e&&1===n.length?this.option("selectedItems",[]):this._normalizeSelectedItems()}_beforeItemElementInserted(e){const{selectedIndex:t}=this.option();e.index<=t&&this.option("selectedIndex",t+1)}_afterItemElementInserted(){this._renderEmptyMessage()}_removeByChange(e,t,n,i){const r=i?n.index:ov(e,t,n.key);if(i?n.oldItem:t[r]){const e=this._findItemElementByKey(n.key),t=this._extendActionArgs(e);this._waitDeletingPrepare(e).done(()=>{i?(this._updateIndicesAfterIndex(r-1),this._afterItemElementDeleted(e,t),this._updateSelectionAfterRemoveByChange(r)):(this._deleteItemElementByIndex(r),this._afterItemElementDeleted(e,t))}),this._correctionIndex--}}_modifyByChanges(e,t){const n=this._editStrategy.itemsGetter(),i={key:this.key.bind(this),keyOf:this.keyOf.bind(this)},r=this._dataController,o=r.paginate(),s=r.group();(o||s)&&(e=e.filter(e=>"insert"!==e.type||void 0!==e.index)),e.forEach(e=>this[`_${e.type}ByChange`](i,n,e,t)),this._renderedItemsCount=n.length,this._refreshItemsCache(),this._fireContentReadyAction()}_appendItemToContainer(e,t,n){const i=e.children(this._itemSelector()).get(n);mt.insertElement(e.get(0),t.get(0),i)}_subscribeLoadOptionsCustomization(e){this._dataController&&(e?(this._correctionIndex=0,this._dataController.on("customizeStoreLoadOptions",this._customizeStoreLoadOptions.bind(this))):this._dataController.off("customizeStoreLoadOptions",this._customizeStoreLoadOptions.bind(this)))}_optionChanged(e){switch(e.name){case"items":this._partialRefresh(e.value)||super._optionChanged(e);break;case"dataSource":this.option("repaintChangesOnly")&&e.value||this.option("items",[]),this._subscribeLoadOptionsCustomization(!1),super._optionChanged(e),this._subscribeLoadOptionsCustomization(!0);break;case"repaintChangesOnly":break;default:super._optionChanged(e)}}};function Kx(e){var t,n;return e&&Ct()?null===(t=(n=St()).getComputedStyle)||void 0===t?void 0:t.call(n,e):null}function Ux(e,t){const n=Kx(e);return n?(i=n[`margin${ti(t)}`])?Number(i.replace("px","")):0:0;var i}const qx={_getSpecificDataSourceOption(){let e=this.option("dataSource"),t=!1,n={};return this._getGroupedOption()&&(e=>Array.isArray(e)&&e.every(e=>2===Object.keys(e).length&&"key"in e&&"items"in e&&Array.isArray(e.items)))(e)&&(n=e.reduce((e,n)=>{const i=n.items.map(e=>(b(e)||(e={text:e},t=!0),"key"in e||(e.key=n.key),e));return e.concat(i)},[]),e={store:{type:"array",data:n},group:{selector:"key",keepInitialKeyOrder:!0}},t&&(e.searchExpr="text")),e}};const Gx=class extends Fy{_renderWatchers(){super._renderWatchers(),this._startWatcher("badge",this._renderBadge.bind(this)),this._startWatcher("showChevron",this._renderShowChevron.bind(this))}_renderBadge(e){if(this._$element.children(".dx-list-item-badge-container").remove(),!e)return;const t=Si("<div>").addClass("dx-list-item-badge-container").append(Si("<div>").addClass("dx-list-item-badge").addClass("dx-badge").text(e)),n=this._$element.children(".dx-list-item-chevron-container").first();n.length>0?t.insertBefore(n):t.appendTo(this._$element)}_renderShowChevron(e){if(this._$element.children(".dx-list-item-chevron-container").remove(),!e)return;const t=Si("<div>").addClass("dx-list-item-chevron-container"),n=Si("<div>").addClass("dx-list-item-chevron");t.append(n).appendTo(this._$element)}},Zx=we("items");let Yx;class Qx extends Wx{_supportedKeys(){const e=this,t=function(t){let i=n(t);const{focusedElement:r}=e.option();i.is(r)&&(!function(t,n){let i=t.position().top;"prev"===n&&(i=t.position().top-Ln(e.$element())+jn(t)),e.scrollTo(i)}(i,t),i=n(t)),e.option("focusedElement",ma(i)),e.scrollToItem(i)};function n(t){const n=e.scrollTop(),i=Ln(e.$element()),{focusedElement:r}=e.option();let o=Si(r),s=!0;if(!o.length)return Si();for(;s;){const e=o[t]();if(!e.length)break;const r=e.position().top+jn(e)/2;s=r<i+n&&r>n,s&&(o=e)}return o}return K({},super._supportedKeys(),{leftArrow:tt,rightArrow:tt,pageUp:()=>(t("prev"),!1),pageDown:()=>(t("next"),!1)})}_getDefaultOptions(){return K({},super._getDefaultOptions(),{hoverStateEnabled:!0,pullRefreshEnabled:!1,scrollingEnabled:!0,selectByClick:!0,showScrollbar:"onScroll",useNativeScrolling:!0,bounceEnabled:!0,scrollByContent:!0,scrollByThumb:!1,pullingDownText:mr.format("dxList-pullingDownText"),pulledDownText:mr.format("dxList-pulledDownText"),refreshingText:mr.format("dxList-refreshingText"),pageLoadingText:mr.format("dxList-pageLoadingText"),onScroll:null,onPullRefresh:null,onPageLoading:null,pageLoadMode:"scrollBottom",nextButtonText:mr.format("dxList-nextButtonText"),onItemSwipe:null,grouped:!1,onGroupRendered:null,collapsibleGroups:!1,groupTemplate:"group",indicateLoading:!0,activeStateEnabled:!0,_itemAttributes:{role:"option"},useInkRipple:!1,wrapItemText:!1,_swipeEnabled:!0,showChevronExpr:e=>null===e||void 0===e?void 0:e.showChevron,badgeExpr:e=>null===e||void 0===e?void 0:e.badge,_onItemsRendered:()=>{}})}_defaultOptionsRules(){const e=Zs();return super._defaultOptionsRules().concat(mb(),[{device:()=>!go.nativeScrolling,options:{useNativeScrolling:!1}},{device:e=>!go.nativeScrolling&&!Is.isSimulator()&&"desktop"===Is.real().deviceType&&"generic"===e.platform,options:{showScrollbar:"onHover",pageLoadMode:"nextButton"}},{device:()=>"desktop"===Is.real().deviceType&&!Is.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>na(e),options:{useInkRipple:!0}},{device:()=>ta(e),options:{pullingDownText:"",pulledDownText:"",refreshingText:"",pageLoadingText:""}}])}_visibilityChanged(e){e&&this._updateLoadingState(!0)}_itemClass(){return"dx-list-item"}_itemDataKey(){return"dxListItemData"}_itemContainer(){return this._$container}_getItemsContainer(){return this._$listContainer}_cleanItemContainer(){super._cleanItemContainer();const e=this._getItemsContainer();Si(e).empty(),e.appendTo(this._$container)}_saveSelectionChangeEvent(e){this._selectionChangeEventInstance=e}_getSelectionChangeEvent(){return this._selectionChangeEventInstance}_refreshItemElements(){const{grouped:e}=this.option(),t=this._getItemsContainer();this._itemElementsCache=e?t.children(".dx-list-group").children(".dx-list-group-body").children(this._itemSelector()):t.children(this._itemSelector())}_getItemAndHeaderElements(){const e=`${`> .dx-list-group-body > ${this._itemSelector()}`}, > .dx-list-group-header`;return this._getItemsContainer().children(".dx-list-group").find(e)}_getAvailableItems(e){const{collapsibleGroups:t}=this.option();if(t){return this._getItemAndHeaderElements().filter((e,t)=>!!Si(t).hasClass("dx-list-group-header")||!Si(t).closest(".dx-list-group").hasClass("dx-list-group-collapsed"))}return super._getAvailableItems(e)}_modifyByChanges(){super._modifyByChanges.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)}reorderItem(e,t){return super.reorderItem(e,t).done(function(){this._refreshItemElements()})}deleteItem(e){return super.deleteItem(e).done(function(){this._refreshItemElements()})}_itemElements(){return this._itemElementsCache}_itemSelectHandler(e){const{selectionMode:t}=this.option();if("single"===t&&this.isItemSelected(e.currentTarget))return;const n=Si(e.target).closest(".dx-list-select-checkbox").length||Si(e.target).closest(".dx-list-select-radiobutton").length;return n&&this.option("focusedElement",e.currentTarget),super._itemSelectHandler(e,n)}_allowDynamicItemsAppend(){return!0}_updateActiveStateUnit(){const{collapsibleGroups:e}=this.option(),t=[".dx-list-item",".dx-list-select-all"];e&&t.push(".dx-list-group-header"),this._activeStateUnit=t.join(",")}_init(){super._init(),this._updateActiveStateUnit(),this._dataController.resetDataSourcePageIndex(),this._$container=this.$element(),this._$listContainer=Si("<div>").addClass("dx-list-items"),this._initScrollView(),this._feedbackShowTimeout=70,this._createGroupRenderAction()}_scrollBottomMode(){const{pageLoadMode:e}=this.option();return"scrollBottom"===e}_nextButtonMode(){const{pageLoadMode:e}=this.option();return"nextButton"===e}_dataSourceOptions(){const e=this._scrollBottomMode(),t=this._nextButtonMode();return A(super._dataSourceOptions(),{paginate:Fe(e||t,!0)})}_getGroupedOption(){return this.option("grouped")}_getGroupContainerByIndex(e){return this._getItemsContainer().find(".dx-list-group").eq(e).find(".dx-list-group-body")}_dataSourceFromUrlLoadMode(){return"raw"}_initScrollView(){const e=this.option("scrollingEnabled"),t=e&&this.option("pullRefreshEnabled"),n=e&&this._scrollBottomMode()&&!!this._dataController.getDataSource();this._scrollView=this._createComponent(this.$element(),Yx||zx,{height:this.option("height"),width:this.option("width"),disabled:this.option("disabled")||!e,onScroll:this._scrollHandler.bind(this),onPullDown:t?this._pullDownHandler.bind(this):null,onReachBottom:n?this._scrollBottomHandler.bind(this):null,showScrollbar:this.option("showScrollbar"),useNative:this.option("useNativeScrolling"),bounceEnabled:this.option("bounceEnabled"),scrollByContent:this.option("scrollByContent"),scrollByThumb:this.option("scrollByThumb"),pullingDownText:this.option("pullingDownText"),pulledDownText:this.option("pulledDownText"),refreshingText:this.option("refreshingText"),reachBottomText:this.option("pageLoadingText"),useKeyboard:!1}),this._$container=Si(this._scrollView.content()),this._$listContainer.appendTo(this._$container),this._toggleWrapItemText(this.option("wrapItemText")),this._createScrollViewActions()}_toggleWrapItemText(e){this._$listContainer.toggleClass("dx-wrap-item-text",e)}_createScrollViewActions(){this._scrollAction=this._createActionByOption("onScroll"),this._pullRefreshAction=this._createActionByOption("onPullRefresh"),this._pageLoadingAction=this._createActionByOption("onPageLoading")}_scrollHandler(e){var t;null===(t=this._scrollAction)||void 0===t||t.call(this,e)}_initTemplates(){this._templateManager.addDefaultTemplates({group:new Bg((e,t)=>{x(t)?t.key&&e.text(t.key):e.text(String(t))},["key"],this.option("integrationOptions.watchMethod"))}),super._initTemplates()}_prepareDefaultItemTemplate(e,t){if(super._prepareDefaultItemTemplate(e,t),e.icon){const n=pm(e.icon).addClass("dx-list-item-icon"),i=Si("<div>").addClass("dx-list-item-icon-container");i.append(n),t.prepend(i)}}_getBindableFields(){return["text","html","icon"]}_updateLoadingState(e){const t=this._dataController,n=this._scrollBottomMode()&&e&&!t.isLoading()&&!this._isLastPage();this._shouldContinueLoading(n)?this._infiniteDataLoading():(this._scrollView.release(!n&&!t.isLoading()),this._toggleNextButton(this._shouldRenderNextButton()&&!this._isLastPage()),this._loadIndicationSuppressed(!1))}_shouldRenderNextButton(){return this._nextButtonMode()&&this._dataController.isLoaded()}_isDataSourceFirstLoadCompleted(e){return _(e)&&(this._isFirstLoadCompleted=e),this._isFirstLoadCompleted}_dataSourceLoadingChangedHandler(e){if(!this._loadIndicationSuppressed()){var t;if(e&&this.option("indicateLoading"))this._showLoadingIndicatorTimer=setTimeout(()=>{var e;!this._itemElements().length&&!this._isDataSourceFirstLoadCompleted()||(null===(e=this._scrollView)||void 0===e||e.startLoading())});else clearTimeout(this._showLoadingIndicatorTimer),null===(t=this._scrollView)||void 0===t||t.finishLoading();e||this._isDataSourceFirstLoadCompleted(!1)}}_dataSourceChangedHandler(){var e;!this._shouldAppendItems()&&Ct()&&(null===(e=this._scrollView)||void 0===e||e.scrollTo(0));super._dataSourceChangedHandler.apply(this,arguments),this._isDataSourceFirstLoadCompleted(!0)}_refreshContent(){this._prepareContent(),this._fireContentReadyAction()}_hideLoadingIfLoadIndicationOff(){this.option("indicateLoading")||this._dataSourceLoadingChangedHandler(!1)}_loadIndicationSuppressed(e){if(!arguments.length)return this._isLoadIndicationSuppressed;this._isLoadIndicationSuppressed=e}_scrollViewIsFull(){const e=this._scrollView;return!e||Ln(e.content())>Ln(e.container())}_pullDownHandler(e){var t;null===(t=this._pullRefreshAction)||void 0===t||t.call(this,e);const n=this._dataController;n.getDataSource()&&!n.isLoading()?(this._clearSelectedItems(),n.pageIndex(0),n.reload()):this._updateLoadingState()}_shouldContinueLoading(e){var t;const n=Ln(this._scrollView.content())-Ln(this._scrollView.container())<((null===(t=this._scrollView.scrollOffset())||void 0===t?void 0:t.top)??0);return e&&(!this._scrollViewIsFull()||n)}_infiniteDataLoading(){this.$element().is(":visible")&&(clearTimeout(this._loadNextPageTimer),this._loadNextPageTimer=setTimeout(()=>{this._loadNextPage()}))}_scrollBottomHandler(e){var t;null===(t=this._pageLoadingAction)||void 0===t||t.call(this,e);this._dataController.isLoading()||this._isLastPage()?this._updateLoadingState():this._loadNextPage()}_renderItems(e){this.option("grouped")?(l(e,this._renderGroup.bind(this)),this._attachGroupCollapseEvent(),this._renderEmptyMessage(),na()&&this.attachGroupHeaderInkRippleEvents()):super._renderItems.apply(this,arguments),this._refreshItemElements(),this._updateLoadingState(!0)}_postProcessRenderItems(){const{_onItemsRendered:e}=this.option();null===e||void 0===e||e()}_attachGroupCollapseEvent(){const{collapsibleGroups:e}=this.option(),t=or(dc,this.NAME),n=this.$element();n.toggleClass("dx-list-collapsible-groups",e),rn.off(n,t,".dx-list-group-header"),e&&rn.on(n,t,".dx-list-group-header",e=>{this._processGroupCollapse(e)})}_processGroupCollapse(e){const t=this._createAction(e=>{const{focusStateEnabled:t}=this.option(),n=Si(e.event.currentTarget).parent();if(this._collapseGroupHandler(n),t){const e=ma(n.find(".dx-list-group-header"));this.option({focusedElement:e})}},{validatingTargetName:"element"});t({event:e})}_enterKeyHandler(e){const{collapsibleGroups:t,focusedElement:n}=this.option(),i=Si(n).hasClass("dx-list-group-header");if(t&&i){const t=this._getHandlerExtendedParams(e,Si(n));return void this._processGroupCollapse(t)}super._enterKeyHandler(e)}_collapseGroupHandler(e,t){const n=Re(),i=e.children(".dx-list-group-header"),r=e.hasClass("dx-list-group-collapsed");if(this._updateGroupHeaderAriaExpanded(i,r),r===t)return n.resolve();const o=e.children(".dx-list-group-body"),s=jn(o);let a=0;return r&&(Vn(o,"auto"),a=jn(o)),e.toggleClass("dx-list-group-collapsed",t),Dl.isAnimating(o)&&Dl.stop(o,!1),Dl.animate(o,{type:"custom",from:{height:s},to:{height:a},duration:200,complete:function(){this.updateDimensions(),this._updateLoadingState(!0),n.resolve()}.bind(this)}),n.promise()}_dataSourceLoadErrorHandler(){this._forgetNextPageLoading(),this._initialized&&(this._renderEmptyMessage(),this._updateLoadingState())}_initMarkup(){this._itemElementsCache=Si(),this.$element().addClass("dx-list"),super._initMarkup(),this.option("useInkRipple")&&this._renderInkRipple();const e={role:"group",roledescription:mr.format("dxList-ariaRoleDescription")};this.setAria(e,this.$element()),this.setAria({role:"application"},this._focusTarget()),this._setListAria()}_setListAria(){const{items:e,allowItemDeleting:t,collapsibleGroups:n}=this.option(),i=t?mr.format("dxList-listAriaLabel-deletable"):mr.format("dxList-listAriaLabel"),r=(null===e||void 0===e?void 0:e.length)&&!n,o={role:r?"listbox":void 0,label:r?i:void 0};this.setAria(o,this._$listContainer)}_focusTarget(){return this._itemContainer()}_renderInkRipple(){this._inkRipple=Um()}_toggleActiveState(e,t,n){super._toggleActiveState.apply(this,arguments);const i=this;if(!this._inkRipple)return;const r={element:e,event:n};var o;t?na()?this._inkRippleTimer=setTimeout(()=>{var e;null===(e=i._inkRipple)||void 0===e||e.showWave(r)},35):null===(o=i._inkRipple)||void 0===o||o.showWave(r):(clearTimeout(this._inkRippleTimer),this._inkRipple.hideWave(r))}_postprocessRenderItem(e){this._refreshItemElements(),super._postprocessRenderItem.apply(this,arguments),this.option("_swipeEnabled")&&this._attachSwipeEvent(Si(e.itemElement))}_getElementClassToSkipRefreshId(){return"dx-list-group-header"}_attachSwipeEvent(e){const t=or(Tx,this.NAME);rn.on(e,t,this._itemSwipeEndHandler.bind(this))}_itemSwipeEndHandler(e){this._itemDXEventHandler(e,"onItemSwipe",{direction:e.offset<0?"left":"right"})}_nextButtonHandler(e){var t;null===(t=this._pageLoadingAction)||void 0===t||t.call(this,e);const n=this._dataController;var i;n.getDataSource()&&!n.isLoading()&&(this._scrollView.toggleLoading(!0),null===(i=this._$nextButton)||void 0===i||i.detach(),this._loadIndicationSuppressed(!0),this._loadNextPage())}_setGroupAria(e,t){const{collapsibleGroups:n}=this.option(),i={role:n?void 0:"group",labelledby:n?void 0:t};this.setAria(i,e)}_updateGroupHeaderAriaExpanded(e,t){this.setAria({expanded:t},e)}_setGroupHeaderAria(e,t){const{collapsibleGroups:n}=this.option(),i={role:n?"button":void 0,expanded:!!n||void 0,controls:n?t:void 0};this.setAria(i,e)}_setGroupBodyAria(e,t){const{collapsibleGroups:n}=this.option(),i={role:n?"listbox":void 0,labelledby:n?t:void 0};this.setAria(i,e)}_renderGroup(e,t){const n=Si("<div>").addClass("dx-list-group").appendTo(this._getItemsContainer()),i=`dx-${(new ce).toString()}`,r=Si("<div>").addClass("dx-list-group-header").attr("id",i).appendTo(n),{groupTemplate:o}=this.option(),s=this._getTemplate(t.template||o,t,e,r),a={index:e,itemData:t,container:ma(r)};this._createItemByTemplate(s,a),Si("<div>").addClass("dx-list-group-header-indicator").prependTo(r);const c=`dx-${(new ce).toString()}`,u=Si("<div>").addClass("dx-list-group-body").attr("id",c).appendTo(n);l(Zx(t)||[],(t,n)=>{this._renderItem({group:e,item:t},n,u)}),this._groupRenderAction({groupElement:ma(n),groupIndex:e,groupData:t}),this._setGroupAria(n,i),this._setGroupHeaderAria(r,c),this._setGroupBodyAria(u,i)}downInkRippleHandler(e){this._toggleActiveState(Si(e.currentTarget),!0,e)}upInkRippleHandler(e){this._toggleActiveState(Si(e.currentTarget),!1)}attachGroupHeaderInkRippleEvents(){const e=this.$element();this._downInkRippleHandler=this._downInkRippleHandler||this.downInkRippleHandler.bind(this),this._upInkRippleHandler=this._upInkRippleHandler||this.upInkRippleHandler.bind(this);const t=[e,"dxpointerdown",".dx-list-group-header",this._downInkRippleHandler],n=[e,"dxpointerup dxpointerout",".dx-list-group-header",this._upInkRippleHandler];rn.off(...t),rn.on(...t),rn.off(...n),rn.on(...n)}_createGroupRenderAction(){this._groupRenderAction=this._createActionByOption("onGroupRendered")}_clean(){clearTimeout(this._inkRippleTimer),this._$nextButton&&(this._$nextButton.remove(),this._$nextButton=null),super._clean.apply(this,arguments)}_dispose(){this._isDataSourceFirstLoadCompleted(!1),clearTimeout(this._holdTimer),clearTimeout(this._loadNextPageTimer),clearTimeout(this._showLoadingIndicatorTimer),super._dispose()}_toggleDisabledState(e){super._toggleDisabledState(e),this._scrollView.option("disabled",e||!this.option("scrollingEnabled"))}_toggleNextButton(e){const t=this._dataController,n=this._getNextButton();this.$element().toggleClass("dx-has-next",e),e&&t.isLoaded()&&n.appendTo(this._itemContainer()),e||n.detach()}_getNextButton(){return this._$nextButton||(this._$nextButton=this._createNextButton()),this._$nextButton}_createNextButton(){const e=Si("<div>").addClass("dx-list-next-button"),t=Si("<div>").appendTo(e);return this._createComponent(t,g_,{text:this.option("nextButtonText"),onClick:this._nextButtonHandler.bind(this),type:ta()?"default":void 0,integrationOptions:{}}),e}_moveFocus(){super._moveFocus.apply(this,arguments),this.scrollToItem(this.option("focusedElement"))}_refresh(){if(Ct()){const e=this._scrollView.scrollTop();super._refresh(),e&&this._scrollView.scrollTo(e)}else super._refresh()}_optionChanged(e){switch(e.name){case"pageLoadMode":this._toggleNextButton(e.value),this._initScrollView();break;case"dataSource":super._optionChanged(e),this._initScrollView(),this._updateLoadingState(!0),this._isDataSourceFirstLoadCompleted(!1);break;case"items":super._optionChanged(e),this._isDataSourceFirstLoadCompleted(!1);break;case"pullingDownText":case"pulledDownText":case"refreshingText":case"pageLoadingText":case"showScrollbar":case"bounceEnabled":case"scrollByContent":case"scrollByThumb":case"useNativeScrolling":case"scrollingEnabled":case"pullRefreshEnabled":this._initScrollView(),this._updateLoadingState(!0);break;case"nextButtonText":case"onItemSwipe":case"useInkRipple":case"grouped":case"groupTemplate":case"showChevronExpr":case"badgeExpr":this._invalidate();break;case"onScroll":case"onPullRefresh":case"onPageLoading":this._createScrollViewActions();break;case"collapsibleGroups":this._updateActiveStateUnit(),this._invalidate();break;case"wrapItemText":this._toggleWrapItemText(e.value);break;case"onGroupRendered":this._createGroupRenderAction();break;case"width":case"height":super._optionChanged(e),this._scrollView.option(e.name,e.value),this._scrollView.update();break;case"indicateLoading":this._hideLoadingIfLoadIndicationOff();break;case"visible":super._optionChanged(e),this._scrollView.update();break;case"rtlEnabled":this._initScrollView(),super._optionChanged(e);break;case"_swipeEnabled":case"_onItemsRendered":case"selectByClick":break;default:super._optionChanged(e)}}_extendActionArgs(e){if(!this.option("grouped"))return super._extendActionArgs(e);const t=e.closest(".dx-list-group"),n=t.find(".dx-list-item");return A(super._extendActionArgs(e),{itemIndex:{group:t.index(),item:n.index(e)}})}expandGroup(e){const t=Re(),n=this._getItemsContainer().find(".dx-list-group").eq(e);return this._collapseGroupHandler(n,!1).done(()=>{t.resolveWith(this)}),t.promise()}collapseGroup(e){const t=Re(),n=this._getItemsContainer().find(".dx-list-group").eq(e);return this._collapseGroupHandler(n,!0).done(()=>{t.resolveWith(this)}),t}updateDimensions(){const e=this,t=Re();return e._scrollView?e._scrollView.update().done(()=>{!e._scrollViewIsFull()&&e._updateLoadingState(!0),t.resolveWith(e)}):t.resolveWith(e),t.promise()}reload(){super.reload(),this.scrollTo(0),this._pullDownHandler()}repaint(){this.scrollTo(0),super.repaint()}scrollTop(){return this._scrollView.scrollOffset().top}clientHeight(){return this._scrollView.clientHeight()}scrollHeight(){return this._scrollView.scrollHeight()}scrollBy(e){this._scrollView.scrollBy(e)}scrollTo(e){this._scrollView.scrollTo(e)}scrollToItem(e){const t=this._editStrategy.getItemElement(e),n=null===t||void 0===t?void 0:t.get(0);this._scrollView.scrollToElement(n,{bottom:Ux(n,"bottom")})}_dimensionChanged(){this.updateDimensions()}}Qx.include(qx),Qx.ItemClass=Gx;const Xx={};function Jx(e,t,n){const i=Xx,r={};r[e]=i[e]?i[e]:{},r[e][t]=n,A(i,r)}const eS=[],tS=function(e,t,n){eS.push({enabled:e,decoratorType:t,decoratorSubType:n})};tS(function(){return this.option("menuItems").length},()=>"menu",function(){return this.option("menuMode")}),tS(function(){return!this.option("menuItems").length&&this.option("allowItemDeleting")},function(){const e=this.option("itemDeleteMode");return"toggle"===e||"slideButton"===e||"swipe"===e||"static"===e?"delete":"menu"},function(){let e=this.option("itemDeleteMode");return"slideItem"===e&&(e="slide"),e}),tS(function(){return"none"!==this.option("selectionMode")&&this.option("showSelectionControls")},()=>"selection",()=>"default"),tS(function(){return this.option("itemDragging.allowReordering")||this.option("itemDragging.allowDropInsideItem")||this.option("itemDragging.group")},()=>"reorder",()=>"default");class nS extends(ie.inherit({})){ctor(e){this._list=e,this._fetchRequiredDecorators()}dispose(){var e;null!==(e=this._decorators)&&void 0!==e&&e.length&&l(this._decorators,(e,t)=>{t.dispose()})}_fetchRequiredDecorators(){this._decorators=[],l(eS,(e,t)=>{if(t.enabled.call(this._list)){const e=t.decoratorType.call(this._list),n=t.decoratorSubType.call(this._list),i=this._createDecorator(e,n);this._decorators.push(i)}})}_createDecorator(e,t){return new(this._findDecorator(e,t))(this._list)}_findDecorator(e,t){var n;const i=null===(n=Xx[e])||void 0===n?void 0:n[t];if(!i)throw Ps.Error("E1012",e,t);return i}modifyItemElement(e){const t=Si(e.itemElement),n={$itemElement:t};this._prependBeforeBags(t,n),this._appendAfterBags(t,n),this._applyDecorators("modifyElement",n)}afterItemsRendered(){this._applyDecorators("afterRender")}_prependBeforeBags(e,t){const n=this._collectDecoratorsMarkup("beforeBag",t,"dx-list-item-before-bag");e.prepend(n)}_appendAfterBags(e,t){const n=this._collectDecoratorsMarkup("afterBag",t,"dx-list-item-after-bag");e.append(n)}_collectDecoratorsMarkup(e,t,n){const i=Si("<div>");return l(this._decorators,function(){const r=Si("<div>").addClass(n);this[e](A({$container:r},t)),r.children().length&&i.append(r)}),i.children()}_applyDecorators(e,t){l(this._decorators,function(){this[e](t)})}_handlerExists(e){if(!this._decorators)return!1;const t=this._decorators,{length:n}=t;for(let i=0;i<n;i++)if(t[i][e]!==tt)return!0;return!1}_eventHandler(e,t,n){if(!this._decorators)return!1;let i=!1;const r=this._decorators,{length:o}=r;for(let s=0;s<o&&(i=r[s][e](t,n),!i);s++);return i}handleClick(e,t){return this._eventHandler("handleClick",e,t)}handleKeyboardEvents(e,t){return this._eventHandler("handleKeyboardEvents",e,t)}handleEnterPressing(e){return this._eventHandler("handleEnterPressing",e)}contextMenuHandlerExists(){return this._handlerExists("handleContextMenu")}handleContextMenu(e,t){return this._eventHandler("handleContextMenu",e,t)}getExcludedItemSelectors(){const e=[];return this._applyDecorators("getExcludedSelectors",e),e.join(",")}}const iS=nS,rS=e=>(e.group<<20)+e.item,oS=e=>({group:e>>20,item:1048575&e});const sS=class extends Wy{_groupElements(){return this._collectionWidget._itemContainer().find(".dx-list-group")}_groupItemElements(e){return e.find(".dx-list-item")}getIndexByItemData(e){var t;const n=this._collectionWidget.option("items");let i=!1;return!!e&&(null!==(t=e.items)&&void 0!==t&&t.length&&(e=e.items[0]),l(n,(t,n)=>!!n.items&&(l(n.items,(n,r)=>r!==e||(i={group:t,item:n},!1)),!i&&void 0)),i)}getItemDataByIndex(e){var t;const n=this._collectionWidget.option("items");return y(e)?this.itemsGetter()[e]:e&&(null===(t=n[e.group])||void 0===t?void 0:t.items[e.item])||null}itemsGetter(){let e=[];const{items:t}=this._collectionWidget.option();for(let i=0;i<t.length;i++){var n;null!==(n=t[i])&&void 0!==n&&n.items?e=e.concat(t[i].items):e.push(t[i])}return e}deleteItemAtIndex(e){const t=oS(e);this._collectionWidget.option("items")[t.group].items.splice(t.item,1)}getKeysByItems(e){let t,n=[];for(t=0;t<e.length;t++){var i;null!==(i=e[t])&&void 0!==i&&i.items?n=n.concat(e[t].items):n.push(e[t])}const r=[];for(t=0;t<n.length;t++)r.push(this._collectionWidget.keyOf(n[t]));return r}getIndexByKey(e,t){const n=t||this._collectionWidget.option("items");let i=-1;const r=this;return l(n,(t,n)=>{if(n.items)return l(n.items,(n,o)=>{const s=r._collectionWidget.keyOf(o);if(r._equalKeys(s,e))return i={group:t,item:n},!1}),-1===i&&void 0}),i}_getGroups(e){const t=this._collectionWidget._dataController.group();return t?bv.queryByOptions(Uv(e),{group:t}).toArray():this._collectionWidget.option("items")}getItemsByKeys(e,t){const n=[],i=this._getGroups(t),r={},o=e=>{const t=this.getIndexByKey(e,i),n=t&&i[t.group];if(n)return{groupKey:n.key,item:n.items[t.item]}};return l(e,(e,t)=>{const i=o(t);if(!i)return;const{groupKey:s}=i,{item:a}=i;let l=r[s];l||(l={key:s,items:[]},r[s]=l,n.push(l)),l.items.push(a)}),n}moveItemAtIndexToIndex(e,t){const n=this._collectionWidget.option("items"),i=oS(e),r=oS(t),o=n[i.group].items,s=n[r.group].items,a=o[i.item];o.splice(i.item,1),s.splice(r.item,0,a)}_isItemIndex(e){return e&&y(e.group)&&y(e.item)}_getNormalizedItemIndex(e){const t=Si(e),n=t.closest(".dx-list-group");return n.length?rS({group:this._groupElements().index(n),item:this._groupItemElements(n).index(t)}):-1}_normalizeItemIndex(e){return rS(e)}_denormalizeItemIndex(e){return oS(e)}_getItemByNormalizedIndex(e){const t=oS(e),n=this._groupElements().eq(t.group);return this._groupItemElements(n).eq(t.item)}_itemsFromSameParent(e,t){return oS(e).group===oS(t).group}};const aS=class extends Qx{_supportedKeys(){const e=this,t=super._supportedKeys(),n=(n,i)=>{const r=this._editStrategy,{focusedElement:o}=this.option(),s=r.getNormalizedIndex(o);if(!(s===this._getLastItemIndex())||!this._dataController.isLoading())if(n.shiftKey&&e.option("itemDragging.allowReordering")){const e=s+(i?-1:1),t=r.getItemElement(e);this.option("grouped")&&Si(o).parent().get(0)!==t.parent().get(0)||(this.reorderItem(o,t),this.scrollToItem(o)),n.preventDefault()}else{this._editProvider.handleKeyboardEvents(s,i)||(i?t.upArrow(n):t.downArrow(n))}};return K({},t,{del:t=>{e.option("allowItemDeleting")&&(t.preventDefault(),e.deleteItem(e.option("focusedElement")))},upArrow:e=>n(e,!0),downArrow:e=>n(e),enter:function(e){this._editProvider.handleEnterPressing(e)||t.enter.apply(this,arguments)},space:function(e){this._editProvider.handleEnterPressing(e)||t.space.apply(this,arguments)}})}_updateSelection(){this._editProvider.afterItemsRendered(),super._updateSelection()}_getLastItemIndex(){return this._itemElements().length-1}_refreshItemElements(){super._refreshItemElements();const e=this._editProvider.getExcludedItemSelectors();e.length&&(this._itemElementsCache=this._itemElementsCache.not(e))}_isItemStrictEquals(e,t){const n=null===e||void 0===e?void 0:e.__dx_key__;return!(n&&!this.key()&&this._selection.isItemSelected(n))&&super._isItemStrictEquals(e,t)}_getDefaultOptions(){return A(super._getDefaultOptions(),{showSelectionControls:!1,selectionMode:"none",selectAllMode:"page",onSelectAllValueChanged:null,selectAllText:mr.format("dxList-selectAll"),menuItems:[],menuMode:"context",allowItemDeleting:!1,itemDeleteMode:"static",itemDragging:{}})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:e=>"ios"===e.platform,options:{menuMode:"slide",itemDeleteMode:"slideItem"}},{device:{platform:"android"},options:{itemDeleteMode:"swipe"}}])}_init(){super._init(),this._initEditProvider()}_initDataSource(){var e;(super._initDataSource(),this._isPageSelectAll())||(null===(e=this._dataSource)||void 0===e||e.requireTotalCount(!0))}_isPageSelectAll(){const{selectAllMode:e}=this.option();return"page"===e}_initEditProvider(){this._editProvider=new iS(this)}_disposeEditProvider(){this._editProvider&&this._editProvider.dispose()}_refreshEditProvider(){this._disposeEditProvider(),this._initEditProvider()}_initEditStrategy(){this.option("grouped")?this._editStrategy=new sS(this):super._initEditStrategy()}_initMarkup(){this._refreshEditProvider(),super._initMarkup()}_renderItems(){super._renderItems(...arguments),this._editProvider.afterItemsRendered()}_renderItem(e,t,n,i){const{showSelectionControls:r,selectionMode:o}=this.option(),s=super._renderItem(e,t,n,i);return r&&"none"!==o&&this._updateItemAriaLabel(s,t),s}_updateItemAriaLabel(e,t){var n;const i=(null===(n=this._displayGetter)||void 0===n?void 0:n.call(this,t))??(null===t||void 0===t?void 0:t.text)??t;this.setAria("label",b(i)?mr.format("dxList-listAriaLabel-itemContent"):i,e)}_selectedItemClass(){return"dx-list-item-selected"}_itemResponseWaitClass(){return"dx-list-item-response-wait"}_itemClickHandler(e){const t=Si(e.currentTarget);if(t.is(".dx-state-disabled, .dx-state-disabled *"))return;this._editProvider.handleClick(t,e)||(this._saveSelectionChangeEvent(e),super._itemClickHandler(...arguments))}_shouldFireContextMenuEvent(){return super._shouldFireContextMenuEvent(...arguments)||this._editProvider.contextMenuHandlerExists()}_itemHoldHandler(e){const t=Si(e.currentTarget);if(t.is(".dx-state-disabled, .dx-state-disabled *"))return;Yi(e)&&this._editProvider.handleContextMenu(t,e)?e.handledByEditProvider=!0:super._itemHoldHandler(...arguments)}_itemContextMenuHandler(e){const t=Si(e.currentTarget);if(t.is(".dx-state-disabled, .dx-state-disabled *"))return;!e.handledByEditProvider&&this._editProvider.handleContextMenu(t,e)?e.preventDefault():super._itemContextMenuHandler(...arguments)}_postprocessRenderItem(e){super._postprocessRenderItem(...arguments),this._editProvider.modifyItemElement(e)}_clean(){this._disposeEditProvider(),super._clean()}focusListItem(e){const t=this._editStrategy.getItemElement(e);this.option("focusedElement",t),this.focus(),this.scrollToItem(this.option("focusedElement"))}_getFlatIndex(){const{selectedIndex:e=Xy}=this.option();if(y(e)||!e)return e;const t=this._editStrategy.getItemElement(e);return this.getFlatIndexByItemElement(t)}_optionChanged(e){switch(e.name){case"selectAllMode":this._initDataSource(),this._dataController.pageIndex(0),this._dataController.load();break;case"grouped":this._clearSelectedItems(),this._initEditStrategy(),super._optionChanged(e);break;case"showSelectionControls":case"menuItems":case"menuMode":case"allowItemDeleting":case"itemDeleteMode":case"itemDragging":case"selectAllText":this._invalidate();break;case"onSelectAllValueChanged":break;default:super._optionChanged(e)}}selectAll(){return this._selection.selectAll(this._isPageSelectAll())}unselectAll(){return this._selection.deselectAll(this._isPageSelectAll())}isSelectAll(){return this._selection.getSelectAllState(this._isPageSelectAll())}getFlatIndexByItemElement(e){return this._itemElements().index(e)}getItemElementByFlatIndex(e){const t=this._itemElements();return e<0||e>=t.length?Si():t.eq(e)}getItemByIndex(e){return this._editStrategy.getItemDataByIndex(e)}deleteItem(e){const t=this._editStrategy,n=t.getNormalizedIndex(e),{focusedElement:i,focusStateEnabled:r}=this.option(),o=i?t.getNormalizedIndex(i):n,s=o===this._getLastItemIndex()||n<o?o-1:o;return super.deleteItem(e).done(function(){r&&this.focusListItem(s)})}},lS=aS.inherit(J_).inherit({_addWidgetPrefix:e=>`dx-list-${e}`,_getCombinedFilter(){const e=this._dataController,t={filter:e.filter()};e.addSearchFilter(t);const{filter:n}=t;return n},_initDataSource(){const e=this.option("searchValue"),t=this.option("searchExpr"),n=this.option("searchMode");this.callBase();const i=this._dataController;(null===e||void 0===e?void 0:e.length)&&i.searchValue(e),n.length&&i.searchOperation(J_.getOperationBySearchMode(n)),t&&i.searchExpr(t)}}),cS=lS;Mi("dxList",cS);const uS=cS;class dS extends Kh{_supportedKeys(){return K({},super._supportedKeys(),{space:function(e){e.preventDefault(),this._clickAction({event:e})}})}_getDefaultOptions(){return K({},super._getDefaultOptions(),{hoverStateEnabled:!0,activeStateEnabled:!0,value:!1})}_canValueBeChangedByClick(){return!0}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>"desktop"===Is.real().deviceType&&!Is.isSimulator(),options:{focusStateEnabled:!0}}])}_init(){super._init(),this.$element().addClass("dx-radiobutton")}_initMarkup(){super._initMarkup(),this._renderIcon(),this._renderCheckedState(this.option("value")),this._renderClick(),this.setAria("role","radio")}_renderIcon(){this._$icon=Si("<div>").addClass("dx-radiobutton-icon"),Si("<div>").addClass("dx-radiobutton-icon-dot").appendTo(this._$icon),this.$element().append(this._$icon)}_renderCheckedState(e){this.$element().toggleClass("dx-radiobutton-checked",e).find(".dx-radiobutton-icon").toggleClass("dx-radiobutton-icon-checked",e),this.setAria("checked",e)}_renderClick(){const e=or(dc,this.NAME);this._clickAction=this._createAction(e=>{this._clickHandler(e.event)}),rn.off(this.$element(),e),rn.on(this.$element(),e,e=>{var t;null===(t=this._clickAction)||void 0===t||t.call(this,{event:e})})}_clickHandler(e){this._saveValueChangeEvent(e),this.option("value",!0)}_optionChanged(e){"value"===e.name?(this._renderCheckedState(e.value),super._optionChanged(e)):super._optionChanged(e)}}Mi("dxRadioButton",dS);const hS=dS,pS="dxListEditDecorator",fS=or(Dx,pS),mS=or(Ox,pS),_S=or(Tx,pS);class gS extends(ie.inherit({})){ctor(e){this._list=e,this._init()}_shouldHandleSwipe(){return!1}_init(){}_attachSwipeEvent(e){const t={itemSizeFunc:function(){return this._clearSwipeCache&&(this._itemWidthCache=$n(this._list.$element()),this._clearSwipeCache=!1),this._itemWidthCache}.bind(this)};rn.on(e.$itemElement,fS,t,this._itemSwipeStartHandler.bind(this)),rn.on(e.$itemElement,mS,this._itemSwipeUpdateHandler.bind(this)),rn.on(e.$itemElement,_S,this._itemSwipeEndHandler.bind(this))}_itemSwipeStartHandler(e){const t=Si(e.currentTarget);t.is(".dx-state-disabled, .dx-state-disabled *")?e.cancel=!0:(clearTimeout(this._list._inkRippleTimer),this._swipeStartHandler(t,e))}_itemSwipeUpdateHandler(e){const t=Si(e.currentTarget);this._swipeUpdateHandler(t,e)}_itemSwipeEndHandler(e){const t=Si(e.currentTarget);this._swipeEndHandler(t,e),this._clearSwipeCache=!0}beforeBag(e){}afterBag(){}_commonOptions(){return{activeStateEnabled:this._list.option("activeStateEnabled"),hoverStateEnabled:this._list.option("hoverStateEnabled"),focusStateEnabled:this._list.option("focusStateEnabled")}}modifyElement(e){this._shouldHandleSwipe()&&(this._attachSwipeEvent(e),this._clearSwipeCache=!0)}afterRender(){}handleClick(e,t){}handleKeyboardEvents(e,t){}handleEnterPressing(){}handleContextMenu(e){}_swipeStartHandler(e,t){}_swipeUpdateHandler(e,t){}_swipeEndHandler(e,t){}visibilityChange(){}getExcludedSelectors(){}dispose(){}}const vS=gS,yS="dx-list-select-decorator-enabled",bS=or(dc,"dxListEditDecorator");Jx("selection","default",class extends vS{_init(){super._init.apply(this,arguments);const e=this._list.option("selectionMode");this._singleStrategy="single"===e,this._containerClass=this._singleStrategy?"dx-list-select-radiobutton-container":"dx-list-select-checkbox-container",this._controlClass=this._singleStrategy?"dx-list-select-radiobutton":"dx-list-select-checkbox",this._controlWidget=this._singleStrategy?hS:Rg,this._list.$element().addClass(yS)}beforeBag(e){const{$itemElement:t}=e,n=e.$container.addClass(this._containerClass),i=Si("<div>").addClass(this._controlClass).appendTo(n);new this._controlWidget(i,A(this._commonOptions(),{value:this._isSelected(t),elementAttr:{"aria-label":mr.format("CheckState")},focusStateEnabled:!1,hoverStateEnabled:!1,onValueChanged:e=>{let{value:t,component:n,event:i}=e;!!i&&(n._valueChangeEventInstance=void 0,n.option("value",!t))}}))}modifyElement(e){super.modifyElement.apply(this,arguments);const{$itemElement:t}=e,n=this._controlWidget.getInstance(t.find(`.${this._controlClass}`));rn.on(t,"stateChanged",(e,t)=>{n.option("value",t)})}_updateSelectAllState(){this._$selectAll&&this._selectAllCheckBox.option("value",this._list.isSelectAll())}afterRender(){"all"===this._list.option("selectionMode")&&(this._$selectAll?this._updateSelectAllState():this._renderSelectAll())}handleKeyboardEvents(e,t){const n=!t,i=this._list,r=this._$selectAll,o=i._getLastItemIndex();return!(!r||!(t&&0===e||n&&e===o))&&(i.option("focusedElement",r),i.scrollToItem(i.option("focusedElement")),!0)}handleEnterPressing(e){var t;if(null!==(t=this._$selectAll)&&void 0!==t&&t.hasClass("dx-state-focused"))return e.target=this._$selectAll.get(0),this._selectAllHandler(e),!0}_renderSelectAll(){this._$selectAll=Si("<div>").addClass("dx-list-select-all");const e=this._list._supportedKeys().downArrow.bind(this._list),t=Si("<div>").addClass("dx-list-select-all-checkbox").appendTo(this._$selectAll);this._selectAllCheckBox=this._list._createComponent(t,Rg,{elementAttr:{"aria-label":mr.format("dxList-selectAll")},focusStateEnabled:!1,hoverStateEnabled:!1}),this._selectAllCheckBox.registerKeyHandler("downArrow",e),Si("<div>").addClass("dx-list-select-all-label").text(this._list.option("selectAllText")).appendTo(this._$selectAll),this._list.itemsContainer().prepend(this._$selectAll),this._updateSelectAllState(),this._updateSelectAllAriaLabel(),this._attachSelectAllHandler()}_attachSelectAllHandler(){this._selectAllCheckBox.option("onValueChanged",e=>{let{value:t,event:n,component:i}=e;!n?(this._updateSelectAllAriaLabel(),this._list._createActionByOption("onSelectAllValueChanged")({value:t})):i._setOptionWithoutOptionChange("value",!t)}),rn.off(this._$selectAll,bS),rn.on(this._$selectAll,bS,this._selectAllHandler.bind(this))}_updateSelectAllAriaLabel(){if(!this._$selectAll)return;const{value:e}=this._selectAllCheckBox.option(),t=void 0===e?"indeterminate":e?"checked":"notChecked",n=`${mr.format("dxList-selectAll")}, ${mr.format(`dxList-selectAll-${t}`)}`;this._$selectAll.attr({"aria-label":n})}_selectAllHandler(e){var t;e.stopPropagation(),this._list._saveSelectionChangeEvent(e);const{value:n}=this._selectAllCheckBox.option();let i;return i=!0!==n?this._selectAllItems():this._unselectAllItems(),this._list.option("focusedElement",null===(t=this._$selectAll)||void 0===t?void 0:t.get(0)),i}_checkSelectAllCapability(){const e=this._list,t=e._dataController;return!("allPages"===e.option("selectAllMode")&&e.option("grouped")&&!t.group())||(Ps.log("W1010"),!1)}_selectAllItems(){return this._checkSelectAllCapability()?this._list._selection.selectAll("page"===this._list.option("selectAllMode")):Re().resolve()}_unselectAllItems(){return this._checkSelectAllCapability()?this._list._selection.deselectAll("page"===this._list.option("selectAllMode")):Re().resolve()}_isSelected(e){return this._list.isItemSelected(e)}dispose(){this._disposeSelectAll(),this._list.$element().removeClass(yS),super.dispose.apply(this,arguments)}_disposeSelectAll(){this._$selectAll&&(this._$selectAll.remove(),this._$selectAll=null)}});const CS={_menuEnabled(){return!!this._menuItems().length},_menuItems(){return this._list.option("menuItems")},_deleteEnabled(){return this._list.option("allowItemDeleting")},_fireMenuAction(e,t){this._list._itemEventHandlerByHandler(e,t,{},{excludeValidators:["disabled","readOnly"]})}},xS="dx-list-context-menu";Jx("menu","context",class extends vS{_init(){const e=Si("<div>").addClass(xS);this._list.$element().append(e),this._menu=this._renderOverlay(e)}_renderOverlay(e){return this._list._createComponent(e,Nh,{shading:!1,deferRendering:!0,hideOnParentScroll:!0,hideOnOutsideClick:e=>!Si(e.target).closest(`.${xS}`).length,animation:{show:{type:"slide",duration:300,from:{height:0,opacity:1},to:{height:function(){return jn(this._$menuList)}.bind(this),opacity:1}},hide:{type:"slide",duration:0,from:{opacity:1},to:{opacity:0}}},_ignoreFunctionValueDeprecation:!0,height:function(){return this._$menuList?jn(this._$menuList):0}.bind(this),width:function(){return zn(this._list.$element())}.bind(this),onContentReady:this._renderMenuContent.bind(this)})}_renderMenuContent(e){const t=e.component.$content(),n=this._menuItems().slice();this._deleteEnabled()&&n.push({text:mr.format("dxListEditDecorator-delete"),action:this._deleteItem.bind(this)}),this._$menuList=Si("<div>"),this._list._createComponent(this._$menuList,Qx,{items:n,onItemClick:this._menuItemClickHandler.bind(this),height:"auto",integrationOptions:{}}),t.addClass("dx-list-context-menucontent"),t.append(this._$menuList)}_menuItemClickHandler(e){this._menu.hide(),this._fireMenuAction(this._$itemWithMenu,e.itemData.action)}_deleteItem(){this._list.deleteItem(this._$itemWithMenu)}handleContextMenu(e){return this._$itemWithMenu=e,this._menu.option({position:{my:"top",at:"bottom",of:e,collision:"flip"}}),this._menu.show(),!0}dispose(){this._menu&&this._menu.$element().remove(),super.dispose.apply(this,arguments)}}.include(CS));const SS="dxListEditDecorator",wS=or(yo.down,SS),ES=or(gc,SS),IS="dx-list-switchable-delete-ready",kS="dx-list-switchable-menu-item-shield-positioning";const DS=class extends vS{_init(){this._$topShield=Si("<div>").addClass("dx-list-switchable-delete-top-shield"),this._$bottomShield=Si("<div>").addClass("dx-list-switchable-delete-bottom-shield"),this._$itemContentShield=Si("<div>").addClass("dx-list-switchable-delete-item-content-shield"),rn.on(this._$topShield,wS,this._cancelDeleteReadyItem.bind(this)),rn.on(this._$bottomShield,wS,this._cancelDeleteReadyItem.bind(this)),this._list.$element().append(this._$topShield.toggle(!1)).append(this._$bottomShield.toggle(!1))}handleClick(e,t){return this._cancelDeleteReadyItem()}_cancelDeleteReadyItem(){return!!this._$readyToDeleteItem&&(this._cancelDelete(this._$readyToDeleteItem),!0)}_cancelDelete(e){this._toggleDeleteReady(e,!1)}_toggleDeleteReady(e,t){void 0===t&&(t=!this._isReadyToDelete(e)),this._toggleShields(e,t),this._toggleScrolling(t),this._cacheReadyToDeleteItem(e,t),this._animateToggleDelete(e,t)}_isReadyToDelete(e){return e.hasClass(IS)}_toggleShields(e,t){this._list.$element().toggleClass("dx-list-switchable-menu-shield-positioning",t),this._$topShield.toggle(t),this._$bottomShield.toggle(t),t&&this._updateShieldsHeight(e),this._toggleContentShield(e,t)}_updateShieldsHeight(e){const t=this._list.$element(),n=t.offset().top,i=jn(t),r=e.offset().top-n,o=i-jn(e)-r;Vn(this._$topShield,Math.max(r,0)),Vn(this._$bottomShield,Math.max(o,0))}_toggleContentShield(e,t){t?e.find(".dx-list-item-content").first().append(this._$itemContentShield):this._$itemContentShield.detach()}_toggleScrolling(e){const t=this._list.$element().dxScrollView("instance");e?t.on("start",this._cancelScrolling):t.off("start",this._cancelScrolling)}_cancelScrolling(e){e.event.cancel=!0}_cacheReadyToDeleteItem(e,t){t?this._$readyToDeleteItem=e:delete this._$readyToDeleteItem}_animateToggleDelete(e,t){t?(this._enablePositioning(e),this._prepareDeleteReady(e),this._animatePrepareDeleteReady(e),rn.off(e,yo.up)):(this._forgetDeleteReady(e),this._animateForgetDeleteReady(e).done(this._disablePositioning.bind(this,e)))}_enablePositioning(e){e.addClass(kS),rn.on(e,ES,tt),rn.one(e,yo.up,this._disablePositioning.bind(this,e))}_disablePositioning(e){e.removeClass(kS),rn.off(e,ES)}_prepareDeleteReady(e){e.addClass(IS)}_forgetDeleteReady(e){e.removeClass(IS)}_animatePrepareDeleteReady(e){ie.abstract()}_animateForgetDeleteReady(e){ie.abstract()}_getDeleteButtonContainer(e){return(e=e||this._$readyToDeleteItem).children(".dx-list-switchable-delete-button-container")}_deleteItem(e){e=e||this._$readyToDeleteItem,this._getDeleteButtonContainer(e).detach(),e.is(".dx-state-disabled, .dx-state-disabled *")||this._list.deleteItem(e).always(this._cancelDelete.bind(this,e))}_isRtlEnabled(){return this._list.option("rtlEnabled")}dispose(){this._$topShield&&this._$topShield.remove(),this._$bottomShield&&this._$bottomShield.remove(),super.dispose.apply(this,arguments)}};class OS extends DS{_init(){super._init.apply(this,arguments);const e=Si("<div>").addClass("dx-list-switchable-delete-button-container"),t=Si("<div>").addClass("dx-list-switchable-delete-button-wrapper"),n=Si("<div>").addClass("dx-list-switchable-delete-button-inner-wrapper"),i=Si("<div>").addClass("dx-list-switchable-delete-button");this._list._createComponent(i,g_,{text:mr.format("dxListEditDecorator-delete"),type:"danger",stylingMode:ta()?"text":"contained",onClick:function(e){this._deleteItem(),e.event.stopPropagation()}.bind(this),integrationOptions:{},elementAttr:{role:null,"aria-label":null},tabIndex:-1}),e.append(t),t.append(n),n.append(i),this._$buttonContainer=e}_enablePositioning(e){super._enablePositioning.apply(this,arguments),Dl.stop(this._$buttonContainer,!0),this._$buttonContainer.appendTo(e)}_disablePositioning(){super._disablePositioning.apply(this,arguments),this._$buttonContainer.detach()}_animatePrepareDeleteReady(){const e=this._isRtlEnabled(),t=$n(this._list.$element()),n=this._buttonWidth(),i=e?t:-n,r=e?t-n:0;return Dl.animate(this._$buttonContainer,{type:"custom",duration:200,from:{right:i},to:{right:r}})}_animateForgetDeleteReady(){const e=this._isRtlEnabled(),t=$n(this._list.$element()),n=this._buttonWidth(),i=e?t-n:0,r=e?t:-n;return Dl.animate(this._$buttonContainer,{type:"custom",duration:200,from:{right:i},to:{right:r}})}_buttonWidth(){return this._buttonContainerWidth||(this._buttonContainerWidth=zn(this._$buttonContainer)),this._buttonContainerWidth}dispose(){this._$buttonContainer&&this._$buttonContainer.remove(),super.dispose.apply(this,arguments)}}Jx("delete","toggle",class extends OS{beforeBag(e){const{$itemElement:t}=e,{$container:n}=e,i=Si("<div>").addClass("dx-list-toggle-delete-switch");this._list._createComponent(i,g_,{icon:"toggle-delete",onClick:function(e){Dl.stop(this._$buttonContainer,!1),this._toggleDeleteReady(t),e.event.stopPropagation()}.bind(this),integrationOptions:{},elementAttr:{role:null,"aria-label":null},tabIndex:-1}),n.addClass("dx-list-toggle-delete-switch-container"),n.append(i)}});Jx("delete","slideButton",class extends OS{_shouldHandleSwipe(){return!0}_swipeEndHandler(e,t){return 0!==t.targetOffset&&(Dl.stop(this._$buttonContainer,!1),this._toggleDeleteReady(e)),!0}});const TS="dx-toolbar";class AS extends tb{_getSynchronizableOptionsForCreateComponent(){return super._getSynchronizableOptionsForCreateComponent().filter(e=>"disabled"!==e)}_initTemplates(){super._initTemplates();const e=new Bg((e,t,n)=>{if(x(t)){const{text:n,html:i,widget:r}=t;n&&e.text(n).wrapInner("<div>"),i&&e.html(i),"dxDropDownButton"===r&&(t.options=t.options??{},_(t.options.stylingMode)||(t.options.stylingMode=this.option("useFlatButtons")?"text":"contained")),"dxButton"===r&&(this.option("useFlatButtons")&&(t.options=t.options??{},t.options.stylingMode=t.options.stylingMode??"text"),this.option("useDefaultButtons")&&(t.options=t.options??{},t.options.type=t.options.type??"default"))}else e.text(String(t));this._getTemplate("dx-polymorph-widget").render({container:e,model:n,parent:this})},["text","html","widget","options"],this.option("integrationOptions.watchMethod"));this._templateManager.addDefaultTemplates({item:e,menuItem:e})}_getDefaultOptions(){return K({},super._getDefaultOptions(),{renderAs:"topToolbar",grouped:!1,useFlatButtons:!1,useDefaultButtons:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>ta(),options:{useFlatButtons:!0}}])}_itemContainer(){return this._$toolbarItemsContainer.find([".dx-toolbar-before",".dx-toolbar-center",".dx-toolbar-after"].join(","))}_itemClass(){return"dx-toolbar-item"}_itemDataKey(){return"dxToolbarItemDataKey"}_dimensionChanged(e){this._disposed||(this._arrangeItems(),this._applyCompactMode())}_initMarkup(){this._renderToolbar(),this._renderSections(),super._initMarkup()}_render(){super._render(),this._updateDimensionsInMaterial()}_postProcessRenderItems(){this._arrangeItems()}_renderToolbar(){this.$element().addClass(TS),this._$toolbarItemsContainer=Si("<div>").addClass("dx-toolbar-items-container").appendTo(this.$element()),this.setAria("role","toolbar")}_renderSections(){const e=this._$toolbarItemsContainer;l(["before","center","after"],(t,n)=>{const i=`dx-toolbar-${n}`;e.find(`.${i}`).length||(this[`_$${n}Section`]=Si("<div>").addClass(i).attr("role","presentation").appendTo(e))})}_arrangeItems(e){var t,n;const i=e??$n(this.$element());this._$centerSection.css({margin:"0 auto",float:"none"});const r=Aa(null===(t=this._$beforeSection)||void 0===t?void 0:t.get(0)),o=Aa(null===(n=this._$afterSection)||void 0===n?void 0:n.get(0));this._alignCenterSection(r,o,i);const s=this._$toolbarItemsContainer.find(".dx-toolbar-label").eq(0),a=s.parent();if(!s.length)return;const l=r.width?r.width:s.position().left,c=a.hasClass("dx-toolbar-before")?0:l,u=a.hasClass("dx-toolbar-after")?0:o.width;let d=0;a.children().not(".dx-toolbar-label").each((e,t)=>{d+=zn(t)});const h=i-d,p=Math.max(h-c-u,0);if(a.hasClass("dx-toolbar-before"))this._alignSection(this._$beforeSection,p);else{const e=zn(s)-$n(s);s.css("maxWidth",p-e)}}_alignCenterSection(e,t,n){var i;this._alignSection(this._$centerSection,n-e.width-t.width);const r=this.option("rtlEnabled"),o=r?t:e,s=r?e:t,a=Aa(null===(i=this._$centerSection)||void 0===i?void 0:i.get(0));(o.right>a.left||a.right>s.left)&&this._$centerSection.css({marginLeft:o.width,marginRight:s.width,float:o.width>s.width?"none":"right"})}_alignSection(e,t){let n=e.find(".dx-toolbar-label").toArray();t-=this._getCurrentLabelsPaddings(n);const i=this._getCurrentLabelsWidth(n),r=Math.abs(i-t);t<i?(n=n.reverse(),this._alignSectionLabels(n,r,!1)):this._alignSectionLabels(n,r,!0)}_alignSectionLabels(e,t,n){const i=function(e){return Aa(e).width};for(let r=0;r<e.length;r++){const o=Si(e[r]),s=Math.ceil(i(e[r]));let a;n&&o.css("maxWidth","inherit");const l=Math.ceil(n?i(e[r]):s);if(!(l<t)){a=n?s+t:s-t,o.css("maxWidth",a);break}a=n?l:0,t-=l,o.css("maxWidth",a)}}_applyCompactMode(){const e=Si(this.element());e.removeClass("dx-toolbar-compact"),this.option("compactMode")&&this._getSummaryItemsSize("width",this._itemElements(),!0)>$n(e)&&e.addClass("dx-toolbar-compact")}_getCurrentLabelsWidth(e){let t=0;return e.forEach(e=>{t+=zn(e)}),t}_getCurrentLabelsPaddings(e){let t=0;return e.forEach(e=>{t+=zn(e)-$n(e)}),t}_renderItem(e,t,n,i){const r=t.location??"center",o=n??this[`_$${r}Section`],s=!!(t.text??t.html),a=super._renderItem(e,t,o,i);return a.toggleClass("dx-toolbar-button",!s).toggleClass("dx-toolbar-label",s).addClass(t.cssClass),a}_renderGroupedItems(){l(this.option("items"),(e,t)=>{const n=t.items,i=Si("<div>").addClass("dx-toolbar-group"),r=t.location??"center";n&&n.length&&(l(n,(e,t)=>{this._renderItem(e,t,i,null)}),this._$toolbarItemsContainer.find(`.dx-toolbar-${r}`).append(i))})}_renderItems(e){this.option("grouped")&&e.length&&e[0].items?this._renderGroupedItems():super._renderItems(e)}_getToolbarItems(){return this.option("items")??[]}_renderContentImpl(){const e=this._getToolbarItems();this.$element().toggleClass("dx-toolbar-mini",0===e.length),this._renderedItemsCount?this._renderItems(e.slice(this._renderedItemsCount)):this._renderItems(e),this._applyCompactMode()}_renderEmptyMessage(){}_clean(){this._$toolbarItemsContainer.children().empty(),this.$element().empty(),delete this._$beforeSection,delete this._$centerSection,delete this._$afterSection}_visibilityChanged(e){e&&this._arrangeItems()}_isVisible(){return $n(this.$element())>0&&Ln(this.$element())>0}_getIndexByItem(e){return this._getToolbarItems().indexOf(e)}_itemOptionChanged(e,t,n,i){super._itemOptionChanged(e,t,n,i),this._arrangeItems()}_optionChanged(e){const{name:t}=e;switch(t){case"width":super._optionChanged(e),this._dimensionChanged();break;case"renderAs":case"useFlatButtons":case"useDefaultButtons":this._invalidate();break;case"compactMode":this._applyCompactMode();break;case"grouped":break;default:super._optionChanged(e)}}_dispose(){super._dispose(),clearTimeout(this._waitParentAnimationTimeout)}_updateDimensionsInMaterial(){if(na()){const e=()=>new Promise(e=>{const t=()=>{let t=!0;return this.$element().parents().each((e,n)=>{if(Dl.isAnimating(Si(n)))return t=!1,!1}),t&&e(),t},n=()=>{clearTimeout(this._waitParentAnimationTimeout),this._waitParentAnimationTimeout=setTimeout(()=>t()||n(),15)};n()}),t=()=>{const e=this.$element().find(".dx-toolbar-label"),t=[];return e.each((e,n)=>{const i=Si(n).text(),r=Si(n).css("fontWeight");t.push(sa(i,r))}),Promise.all(t)};Promise.all([e(),t()]).then(()=>{this._dimensionChanged()})}}}Mi("dxToolbarBase",AS);const PS=AS,MS="dxResizable",RS=or(dh,MS),BS=or(hh,MS),NS=or(ph,MS),FS={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"};class $S extends _d{_getDefaultOptions(){return K({},super._getDefaultOptions(),{handles:"all",step:"1",stepPrecision:"simple",minWidth:30,maxWidth:1/0,minHeight:30,maxHeight:1/0,onResizeStart:null,onResize:null,onResizeEnd:null,roundStepValue:!0,keepAspectRatio:!0})}_init(){super._init(),this.$element().addClass("dx-resizable")}_initMarkup(){super._initMarkup(),this._renderHandles()}_render(){super._render(),this._renderActions()}_renderActions(){this._resizeStartAction=this._createActionByOption("onResizeStart"),this._resizeEndAction=this._createActionByOption("onResizeEnd"),this._resizeAction=this._createActionByOption("onResize")}_renderHandles(){this._handles=[];const{handles:e}=this.option();if("none"===e||!e)return;const t="all"===e?["top","bottom","left","right"]:e.split(" "),n={};l(t,(e,t)=>{n[t]=!0,this._renderHandle(t)}),n.bottom&&n.right&&this._renderHandle("corner-bottom-right"),n.bottom&&n.left&&this._renderHandle("corner-bottom-left"),n.top&&n.right&&this._renderHandle("corner-top-right"),n.top&&n.left&&this._renderHandle("corner-top-left"),this._attachEventHandlers()}_renderHandle(e){const t=Si("<div>").addClass("dx-resizable-handle").addClass(`dx-resizable-handle-${e}`).appendTo(this.$element());this._handles.push(t)}_attachEventHandlers(){if(this.option("disabled"))return;const e={};e[RS]=this._dragStartHandler.bind(this),e[BS]=this._dragHandler.bind(this),e[NS]=this._dragEndHandler.bind(this),this._handles.forEach(t=>{rn.on(t,e,{direction:"both",immediate:!0})})}_detachEventHandlers(){this._handles.forEach(e=>{rn.off(e)})}_toggleEventHandlers(e){e?this._attachEventHandlers():this._detachEventHandlers()}_getElementSize(){const e=this.$element();return"border-box"===e.css("boxSizing")?{width:zn(e),height:jn(e)}:{width:$n(e),height:Ln(e)}}_dragStartHandler(e){var t;const n=this.$element();n.is(".dx-state-disabled, .dx-state-disabled *")?e.cancel=!0:(this._toggleResizingClass(!0),this._movingSides=this._getMovingSides(e),this._elementLocation=va(n),this._elementSize=this._getElementSize(),this._renderDragOffsets(e),null===(t=this._resizeStartAction)||void 0===t||t.call(this,{event:e,width:this._elementSize.width,height:this._elementSize.height,handles:this._movingSides}),e.targetElements=null)}_toggleResizingClass(e){this.$element().toggleClass("dx-resizable-resizing",e)}_renderDragOffsets(e){const t=this._getArea();if(!t)return;const n=Si(e.target).closest(".dx-resizable-handle"),i=zn(n),r=jn(n),o=n.offset(),s=t.offset,a=this._getAreaScrollOffset();e.maxLeftOffset=this._leftMaxOffset=o.left-s.left-a.scrollX,e.maxRightOffset=this._rightMaxOffset=s.left+t.width-o.left-i+a.scrollX,e.maxTopOffset=this._topMaxOffset=o.top-s.top-a.scrollY,e.maxBottomOffset=this._bottomMaxOffset=s.top+t.height-o.top-r+a.scrollY}_getBorderWidth(e,t){if(w(e.get(0)))return 0;const n=e.css(FS[t]);return parseInt(n)||0}_proportionate(e,t){const n=this._elementSize;return t*("x"===e?n.width/n.height:n.height/n.width)}_getProportionalDelta(e){let{x:t,y:n}=e;const i=this._proportionate("y",t);if(i>=n)return{x:t,y:i};const r=this._proportionate("x",n);return r>=t?{x:r,y:n}:{x:0,y:0}}_getDirectionName(e){const t=this._movingSides;return"x"===e?t.left?"left":"right":t.top?"top":"bottom"}_fitIntoArea(e,t){const n=this._getDirectionName(e);return Math.min(t,this[`_${n}MaxOffset`]??1/0)}_fitDeltaProportionally(e){let t=K({},e);const n=this._elementSize,{minWidth:i,minHeight:r,maxWidth:o,maxHeight:s}=this.option(),a=()=>n.width+t.x,l=()=>n.height+t.y,c=e=>t[e]===this._fitIntoArea(e,t[e]),u=()=>zo(a(),i,o)&&c("x"),d=()=>zo(l(),r,s)&&c("y");if(!u()){const e=this._fitIntoArea("x",Vo(a(),i,o)-n.width);t={x:e,y:this._proportionate("y",e)}}if(!d()){const e=this._fitIntoArea("y",Vo(l(),r,s)-n.height);t={x:this._proportionate("x",e),y:e}}return u()&&d()?t:{x:0,y:0}}_fitDelta(e){let{x:t,y:n}=e;const i=this._elementSize,{minWidth:r,minHeight:o,maxWidth:s,maxHeight:a}=this.option();return{x:Vo(i.width+t,r,s)-i.width,y:Vo(i.height+n,o,a)-i.height}}_getDeltaByOffset(e){const t=this._movingSides,n=this._isCornerHandler(t)&&this.option("keepAspectRatio");let i={x:e.x*(t.left?-1:1),y:e.y*(t.top?-1:1)};if(n){const e=this._getProportionalDelta(i);i=this._fitDeltaProportionally(e)}else{const e=this._fitDelta(i);i=this._roundByStep(e)}return i}_updatePosition(e,t){let{width:n,height:i}=t;const r=this._elementLocation,o=this._movingSides,s=this.$element(),a=this._getElementSize(),l=e.y*(o.top?-1:1)-((a.height||i)-i),c=e.x*(o.left?-1:1)-((a.width||n)-n);wa(s,{top:r.top+(o.top?l:0),left:r.left+(o.left?c:0)})}_dragHandler(e){const t=this._getOffset(e),n=this._getDeltaByOffset(t),i=this._updateDimensions(n);this._updatePosition(n,i),this._triggerResizeAction(e,i)}_updateDimensions(e){const t=e=>"px"===e.substring(e.length-2),{stepPrecision:n}=this.option(),i="strict"===n,r=this._elementSize,o=r.width+e.x,s=r.height+e.y,a=this.$element().get(0).style,l=e.x||i||t(a.width),c=e.y||i||t(a.height);return l&&this.option({width:o}),c&&this.option({height:s}),{width:l?o:r.width,height:c?s:r.height}}_triggerResizeAction(e,t){var n;let{width:i,height:r}=t;null===(n=this._resizeAction)||void 0===n||n.call(this,{event:e,width:this.option("width")||i,height:this.option("height")||r,handles:this._movingSides}),Uu(this.$element())}_isCornerHandler(e){return 0===Object.values(e).reduce((e,t)=>e^t,0)}_getOffset(e){const{offset:t}=e,n=this._movingSides;return n.left||n.right||(t.x=0),n.top||n.bottom||(t.y=0),t}_roundByStep(e){const{stepPrecision:t}=this.option();return"strict"===t?this._roundStrict(e):this._roundNotStrict(e)}_getSteps(){return Qe(this.option("step"),!this.option("roundStepValue"))}_roundNotStrict(e){const t=this._getSteps();return{x:e.x-e.x%t.h,y:e.y-e.y%t.v}}_roundStrict(e){const t=this._movingSides,n={x:e.x*(t.left?-1:1),y:e.y*(t.top?-1:1)},i=this._getSteps(),r=this._elementLocation,o=this._elementSize,s=t.left?r.left:r.left+o.width,a=t.top?r.top:r.top+o.height,l=(s+n.x)%i.h,c=(a+n.y)%i.v,u=Math.sign||(e=>0===(e=+e)||isNaN(e)?e:e>0?1:-1),d=(e,t)=>(1+.2*u(t))%1*e,h=(e,t)=>Math.abs(e)<.2*t;let p=n.x-l,f=n.y-c;l>d(i.h,n.x)&&(p+=i.h),c>d(i.v,n.y)&&(f+=i.v);const m=!t.left&&!t.right||h(n.x,i.h)?0:p,_=!t.top&&!t.bottom||h(n.y,i.v)?0:f;return{x:m*(t.left?-1:1),y:_*(t.top?-1:1)}}_getMovingSides(e){const t=Si(e.target),n=t.hasClass("dx-resizable-handle-corner-top-left"),i=t.hasClass("dx-resizable-handle-corner-top-right"),r=t.hasClass("dx-resizable-handle-corner-bottom-left"),o=t.hasClass("dx-resizable-handle-corner-bottom-right");return{top:t.hasClass("dx-resizable-handle-top")||n||i,left:t.hasClass("dx-resizable-handle-left")||n||r,bottom:t.hasClass("dx-resizable-handle-bottom")||r||o,right:t.hasClass("dx-resizable-handle-right")||i||o}}_getArea(){let e=this.option("area");return g(e)&&(e=e.call(this)),x(e)?this._getAreaFromObject(e):this._getAreaFromElement(e)}_getAreaScrollOffset(){const e=this.option("area"),t={scrollY:0,scrollX:0};if(!g(e)&&!x(e)){const n=Si(e)[0];w(n)&&(t.scrollX=n.pageXOffset,t.scrollY=n.pageYOffset)}return t}_getAreaFromObject(e){const t={width:e.right-e.left,height:e.bottom-e.top,offset:{left:e.left,top:e.top}};return this._correctAreaGeometry(t),t}_getAreaFromElement(e){const t=Si(e);let n;return t.length&&(n={width:Wn(t),height:Kn(t),offset:A({top:0,left:0},w(t[0])?{}:t.offset())},this._correctAreaGeometry(n,t)),n}_correctAreaGeometry(e,t){const n=t?this._getBorderWidth(t,"left"):0,i=t?this._getBorderWidth(t,"top"):0;e.offset.left+=n+this._getBorderWidth(this.$element(),"left"),e.offset.top+=i+this._getBorderWidth(this.$element(),"top"),e.width-=zn(this.$element())-Wn(this.$element()),e.height-=jn(this.$element())-Kn(this.$element())}_dragEndHandler(e){var t;const n=this.$element();null===(t=this._resizeEndAction)||void 0===t||t.call(this,{event:e,width:zn(n),height:jn(n),handles:this._movingSides}),this._toggleResizingClass(!1)}_renderWidth(e){this.option("width",Vo(e,this.option("minWidth"),this.option("maxWidth")))}_renderHeight(e){this.option("height",Vo(e,this.option("minHeight"),this.option("maxHeight")))}_optionChanged(e){switch(e.name){case"disabled":this._toggleEventHandlers(!e.value),super._optionChanged(e);break;case"handles":this._invalidate();break;case"minWidth":case"maxWidth":Ct()&&this._renderWidth(zn(this.$element()));break;case"minHeight":case"maxHeight":Ct()&&this._renderHeight(jn(this.$element()));break;case"onResize":case"onResizeStart":case"onResizeEnd":this._renderActions();break;case"area":case"stepPrecision":case"step":case"roundStepValue":case"keepAspectRatio":break;default:super._optionChanged(e)}}_clean(){this.$element().find(".dx-resizable-handle").remove()}_useTemplates(){return!1}}Mi(MS,$S);const HS=$S;const LS=class{constructor(e){this.init(e)}init(e){let{dragEnabled:t,handle:n,draggableElement:i,positionController:r}=e;this._positionController=r,this._draggableElement=i,this._handle=n,this._dragEnabled=t,this.unsubscribe(),t&&this.subscribe()}moveDown(e){this._moveTo(5,0,e)}moveUp(e){this._moveTo(-5,0,e)}moveLeft(e){this._moveTo(0,-5,e)}moveRight(e){this._moveTo(0,5,e)}subscribe(){const e=this._getEventNames();rn.on(this._handle,e.startEventName,e=>{this._dragStartHandler(e)}),rn.on(this._handle,e.updateEventName,e=>{this._dragUpdateHandler(e)}),rn.on(this._handle,e.endEventName,e=>{this._dragEndHandler(e)})}unsubscribe(){const e=this._getEventNames();rn.off(this._handle,e.startEventName),rn.off(this._handle,e.updateEventName),rn.off(this._handle,e.endEventName)}_getEventNames(){return{startEventName:or(dh,"overlayDrag"),updateEventName:or(hh,"overlayDrag"),endEventName:or(ph,"overlayDrag")}}_dragStartHandler(e){const t=this._getAllowedOffsets();this._prevOffset={x:0,y:0},e.targetElements=[],e.maxTopOffset=t.top,e.maxBottomOffset=t.bottom,e.maxLeftOffset=t.left,e.maxRightOffset=t.right}_dragUpdateHandler(e){const t={top:e.offset.y-this._prevOffset.y,left:e.offset.x-this._prevOffset.x};this._moveByOffset(t),this._prevOffset=e.offset}_dragEndHandler(e){this._positionController.dragHandled(),this._positionController.detectVisualPositionChange(e)}_moveTo(e,t,n){if(!this._dragEnabled)return;n.preventDefault(),n.stopPropagation();const i=this._fitOffsetIntoAllowedRange(e,t);this._moveByOffset(i),this._dragEndHandler(n)}_fitOffsetIntoAllowedRange(e,t){const n=this._getAllowedOffsets();return{top:Vo(e,-n.top,n.bottom),left:Vo(t,-n.left,n.right)}}_getContainerDimensions(){const e=mt.getDocument(),t=this._positionController.$dragResizeContainer.get(0);let n=zn(t),i=jn(t);return w(t)&&(i=Math.max(e.body.clientHeight,i),n=Math.max(e.body.clientWidth,n)),{width:n,height:i}}_getContainerPosition(){const e=this._positionController.$dragResizeContainer.get(0);return w(e)?{top:0,left:0}:Gn(e)}_getElementPosition(){return Gn(this._draggableElement)}_getInnerDelta(){const e=this._getContainerDimensions(),t=this._getElementDimensions();return{x:e.width-t.width,y:e.height-t.height}}_getOuterDelta(){const{width:e,height:t}=this._getElementDimensions(),{outsideDragFactor:n}=this._positionController;return{x:e*n,y:t*n}}_getFullDelta(){const e=this._getInnerDelta(),t=this._getOuterDelta();return{x:e.x+t.x,y:e.y+t.y}}_getElementDimensions(){return{width:this._draggableElement.offsetWidth,height:this._draggableElement.offsetHeight}}_getAllowedOffsets(){const e=this._getFullDelta();if(!(e.y>=0&&e.x>=0))return{top:0,bottom:0,left:0,right:0};const t=this._getElementPosition(),n=this._getContainerPosition(),i=this._getOuterDelta();return{top:t.top-n.top+i.y,bottom:-t.top+n.top+e.y,left:t.left-n.left+i.x,right:-t.left+n.left+e.x}}_moveByOffset(e){const t=va(this._draggableElement),n={left:t.left+e.left,top:t.top+e.top};wa(this._draggableElement,n)}},VS={setOverflow:tt,restoreOverflow:tt},zS=["fullScreen","forceApplyBindings","dragOutsideBoundary","dragAndResizeArea","outsideDragFactor"],jS=Dt();class WS extends Ih{constructor(e){let{fullScreen:t,forceApplyBindings:n,dragOutsideBoundary:i,dragAndResizeArea:r,outsideDragFactor:o}=e;super(tu(e,zS)),this._props=K({},this._props,{fullScreen:t,forceApplyBindings:n,dragOutsideBoundary:i,dragAndResizeArea:r,outsideDragFactor:o}),this._$dragResizeContainer=void 0,this._updateDragResizeContainer()}set fullScreen(e){this._props.fullScreen=e,e?this._fullScreenEnabled():this._fullScreenDisabled()}get $dragResizeContainer(){return this._$dragResizeContainer}get outsideDragFactor(){return this._props.dragOutsideBoundary?1:this._props.outsideDragFactor}set dragAndResizeArea(e){this._props.dragAndResizeArea=e,this._updateDragResizeContainer()}set dragOutsideBoundary(e){this._props.dragOutsideBoundary=e,this._updateDragResizeContainer()}set outsideDragFactor(e){this._props.outsideDragFactor=e}updateContainer(e){super.updateContainer(e),this._updateDragResizeContainer()}dragHandled(){this.restorePositionOnNextRender(!1)}resizeHandled(){this.restorePositionOnNextRender(!1)}positionContent(){var e,t;this._props.fullScreen?(wa(this._$content,{top:0,left:0}),this.detectVisualPositionChange()):(null===(e=(t=this._props).forceApplyBindings)||void 0===e||e.call(t),super.positionContent())}_updateDragResizeContainer(){this._$dragResizeContainer=this._getDragResizeContainer()}_getDragResizeContainer(){if(this._props.dragOutsideBoundary)return Si(jS);if(this._props.dragAndResizeArea)return Si(this._props.dragAndResizeArea);return Kr().get(0)||this._props.container?this._$markupContainer:Si(jS)}_getVisualContainer(){return this._props.fullScreen?Si(jS):super._getVisualContainer()}_fullScreenEnabled(){this.restorePositionOnNextRender(!1)}_fullScreenDisabled(){this.restorePositionOnNextRender(!0)}}const KS=Dt(),US=["cancel","clear","done"],qS=br.safari&&eu(br.version,[11])<0,GS={static:"",inherit:"dx-popup-inherit-height",flex:"dx-popup-flex-height"};class ZS extends Nh{_supportedKeys(){return K({},super._supportedKeys(),{upArrow:e=>{var t;null===(t=this._drag)||void 0===t||t.moveUp(e)},downArrow:e=>{var t;null===(t=this._drag)||void 0===t||t.moveDown(e)},leftArrow:e=>{var t;null===(t=this._drag)||void 0===t||t.moveLeft(e)},rightArrow:e=>{var t;null===(t=this._drag)||void 0===t||t.moveRight(e)}})}_getDefaultOptions(){return K({},super._getDefaultOptions(),{fullScreen:!1,title:"",showTitle:!0,titleTemplate:"title",onTitleRendered:null,dragOutsideBoundary:!1,dragEnabled:!1,enableBodyScroll:!0,outsideDragFactor:0,onResizeStart:null,onResize:null,onResizeEnd:null,resizeEnabled:!1,toolbarItems:[],showCloseButton:!1,bottomTemplate:"bottom",useDefaultToolbarButtons:!1,useFlatToolbarButtons:!1,autoResizeEnabled:!0})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:{platform:"ios"},options:{animation:this._iosAnimation}},{device:{platform:"android"},options:{animation:this._androidAnimation}},{device:{platform:"generic"},options:{showCloseButton:!0}},{device:e=>"desktop"===Is.real().deviceType&&"generic"===e.platform,options:{dragEnabled:!0}},{device:()=>"desktop"===Is.real().deviceType&&!Is.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>ta(),options:{useFlatToolbarButtons:!0}},{device:()=>na(),options:{useDefaultToolbarButtons:!0,showCloseButton:!1}}])}_iosAnimation(){return{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom"}},to:{position:{my:"center",at:"center"}}},hide:{type:"slide",duration:400,from:{opacity:1,position:{my:"center",at:"center"}},to:{opacity:1,position:{my:"top",at:"bottom"}}}}}_androidAnimation(){return this.option("fullScreen")?{show:{type:"slide",duration:300,from:{top:"30%",opacity:0},to:{top:0,opacity:1}},hide:{type:"slide",duration:300,from:{top:0,opacity:1},to:{top:"30%",opacity:0}}}:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}}}_init(){const{_wrapperClassExternal:e}=this.option(),t=e?`dx-popup-wrapper ${e}`:"dx-popup-wrapper";super._init(),this._createBodyOverflowManager(),this._updateResizeCallbackSkipCondition(),this.$element().addClass("dx-popup"),this.$wrapper().addClass(t),this._$popupContent=this._$content.wrapInner(Si("<div>").addClass("dx-popup-content")).children().eq(0),this._toggleContentScrollClass(),this.$overlayContent().attr("role","dialog")}_render(){const e=this.option("fullScreen");this._toggleFullScreenClass(e),super._render()}_createBodyOverflowManager(){this._bodyOverflowManager=(()=>{if(!Ot())return VS;const e=Dt(),{documentElement:t}=mt.getDocument(),n=mt.getBody(),i="ios"===Is.real().platform,r={overflow:null,overflowX:null,overflowY:null,paddingRight:null,position:null,top:null,left:null};return{setOverflow:i?()=>{if(_(r.position)||"fixed"===n.style.position)return;const{scrollY:t,scrollX:i}=e;r.position=n.style.position,r.top=n.style.top,r.left=n.style.left,n.style.setProperty("position","fixed"),n.style.setProperty("top",-t+"px"),n.style.setProperty("left",-i+"px")}:()=>{(()=>{const i=e.innerWidth-t.clientWidth;if(r.paddingRight||i<=0)return;const o=e.getComputedStyle(n).getPropertyValue("padding-right"),s=parseInt(o,10);r.paddingRight=s,n.style.setProperty("padding-right",`${s+i}px`)})(),r.overflow||"hidden"===n.style.overflow||(r.overflow=n.style.overflow,r.overflowX=n.style.overflowX,r.overflowY=n.style.overflowY,n.style.setProperty("overflow","hidden"))},restoreOverflow:i?()=>{if(!_(r.position))return;const t=-parseInt(n.style.top,10),i=-parseInt(n.style.left,10);["position","top","left"].forEach(e=>{r[e]?n.style.setProperty(e,r[e]):n.style.removeProperty(e)}),e.scrollTo(i,t),r.position=null}:()=>{_(r.paddingRight)&&(r.paddingRight?n.style.setProperty("padding-right",`${r.paddingRight}px`):n.style.removeProperty("padding-right"),r.paddingRight=null),["overflow","overflowX","overflowY"].forEach(e=>{if(!_(r[e]))return;const t=e.replace(/(X)|(Y)/,e=>`-${e.toLowerCase()}`);r[e]?n.style.setProperty(t,r[e]):n.style.removeProperty(t),r[e]=null})}}})()}_toggleFullScreenClass(e){this.$overlayContent().toggleClass("dx-popup-fullscreen",e).toggleClass("dx-popup-normal",!e)}_initTemplates(){super._initTemplates(),this._templateManager.addDefaultTemplates({title:new Zu,bottom:new Zu})}_getActionsList(){return super._getActionsList().concat(["onResizeStart","onResize","onResizeEnd"])}_contentResizeHandler(e){this._shouldSkipContentResize(e)||this._renderGeometry({shouldOnlyReposition:!0})}_doesShowAnimationChangeDimensions(){const e=this.option("animation");return["to","from"].some(t=>{var n;const i=null===e||void 0===e||null===(n=e.show)||void 0===n?void 0:n[t];return b(i)&&("width"in i||"height"in i)})}_updateResizeCallbackSkipCondition(){const e=this._doesShowAnimationChangeDimensions();this._shouldSkipContentResize=t=>e&&this._showAnimationProcessing||this._areContentDimensionsRendered(t)}_observeContentResize(e){if(!this.option("useResizeObserver"))return;const t=this._$content.get(0);e?Ts.observe(t,e=>{this._contentResizeHandler(e)}):Ts.unobserve(t)}_areContentDimensionsRendered(e){var t,n,i;const r=null===(t=e.contentBoxSize)||void 0===t?void 0:t[0];var o,s;if(r)return parseInt(r.inlineSize,10)===(null===(o=this._renderedDimensions)||void 0===o?void 0:o.width)&&parseInt(r.blockSize,10)===(null===(s=this._renderedDimensions)||void 0===s?void 0:s.height);const{contentRect:a}=e;return parseInt(a.width,10)===(null===(n=this._renderedDimensions)||void 0===n?void 0:n.width)&&parseInt(a.height,10)===(null===(i=this._renderedDimensions)||void 0===i?void 0:i.height)}_renderContent(){super._renderContent(),this._observeContentResize(!0)}_renderContentImpl(){this._renderTitle(),super._renderContentImpl(),this._renderResize(),this._renderBottom()}_renderTitle(){const e=this._getToolbarItems("top"),{title:t,showTitle:n}=this.option();if(n&&t&&e.unshift({location:Is.current().ios?"center":"before",text:t}),n||e.length>0){this._$title&&this._$title.remove();const t=Si("<div>").addClass("dx-popup-title").insertBefore(this.$content());this._$title=this._renderTemplateByType("titleTemplate",e,t).addClass("dx-popup-title"),this._renderDrag(),this._executeTitleRenderAction(this._$title),this._$title.toggleClass("dx-has-close-button",this._hasCloseButton())}else this._$title&&this._$title.detach();this._toggleAriaLabel()}_toggleAriaLabel(){var e;const{title:t,showTitle:n}=this.option(),i=n&&!!t?new ce:null;null===(e=this._$title)||void 0===e||e.find(".dx-toolbar-label").eq(0).attr("id",i),this.$overlayContent().attr("aria-labelledby",i)}_renderTemplateByType(e,t,n,i){const{rtlEnabled:r,useDefaultToolbarButtons:o,useFlatToolbarButtons:s,disabled:a}=this.option(),l=this._getTemplateByOption(e);if(l instanceof Zu){const e=A({},this.option("integrationOptions"),{skipTemplates:["content","title"]}),l=A(i,{items:t,rtlEnabled:r,useDefaultButtons:o,useFlatButtons:s,disabled:a,integrationOptions:e});this._getTemplate("dx-polymorph-widget").render({container:n,model:{widget:this._getToolbarName(),options:l}});const c=n.children("div");return n.replaceWith(c),c}const c=Si(l.render({container:ma(n)}));return c.hasClass("dx-template-wrapper")&&(n.replaceWith(c),n=c),n}_getToolbarName(){return"dxToolbarBase"}_renderVisibilityAnimate(e){return super._renderVisibilityAnimate(e)}_hide(){return this._observeContentResize(!1),super._hide()}_executeTitleRenderAction(e){this._getTitleRenderAction()({titleElement:ma(e)})}_getTitleRenderAction(){return this._titleRenderAction||this._createTitleRenderAction()}_createTitleRenderAction(){return this._titleRenderAction=this._createActionByOption("onTitleRendered",{element:this.element(),excludeValidators:["disabled","readOnly"]})}_getCloseButton(){return{toolbar:"top",location:"after",template:this._getCloseButtonRenderer()}}_getCloseButtonRenderer(){return(e,t,n)=>{const i=Si("<div>").addClass("dx-closebutton");this._createComponent(i,g_,{icon:"close",onClick:this._createToolbarItemAction(void 0),stylingMode:"text",integrationOptions:{}}),Si(n).append(i)}}_getToolbarItems(e){const t=this.option("toolbarItems"),n=[];this._toolbarItemClasses=[];const i=Is.current().platform;let r=0;return l(t,(t,o)=>{const s=_(o.shortcut),a=s?(e=>{const t=Is.current(),{platform:n}=t;let i="bottom",r="before";if("ios"===n)switch(e){case"cancel":i="top";break;case"clear":i="top",r="after";break;case"done":r="after"}else if("android"===n)switch(e){case"cancel":case"done":r="after"}return{toolbar:i,location:r}})(o.shortcut):o;if(s&&"ios"===i&&r<2&&(a.toolbar="top",r++),a.toolbar=o.toolbar||a.toolbar||"top",a&&a.toolbar===e){s&&A(a,{location:o.location},this._getToolbarItemByAlias(o));const e="generic"===i;"done"===o.shortcut&&e||"cancel"===o.shortcut&&!e?n.unshift(a):n.push(a)}}),"top"===e&&this._hasCloseButton()&&n.push(this._getCloseButton()),n}_hasCloseButton(){const{showCloseButton:e,showTitle:t}=this.option();return e&&t}_getLocalizationKey(e){return"done"===e.toLowerCase()?"OK":Jn(e,!0)}_getToolbarButtonStylingMode(e){return ia()?"done"===e?"contained":"outlined":this.option("useFlatToolbarButtons")?"text":"contained"}_getToolbarButtonType(e){return ia()&&"done"===e||this.option("useDefaultToolbarButtons")?"default":"normal"}_getToolbarItemByAlias(e){const t=this,n=e.shortcut;if(!US.includes(n))return!1;const i=A({text:mr.format(this._getLocalizationKey(n)),onClick:this._createToolbarItemAction(e.onClick),integrationOptions:{},type:this._getToolbarButtonType(n),stylingMode:this._getToolbarButtonStylingMode(n)},e.options||{}),r=`dx-popup-${n}`;return this._toolbarItemClasses.push(r),{template(e,n,o){const s=Si("<div>").addClass(r).appendTo(o);t._createComponent(s,g_,i)}}}_createToolbarItemAction(e){return this._createAction(e,{afterExecute(e){e.component.hide()}})}_renderBottom(){const e=this._getToolbarItems("bottom");if(e.length){var t;null===(t=this._$bottom)||void 0===t||t.remove();const n=Si("<div>").addClass("dx-popup-bottom").insertAfter(this.$content());this._$bottom=this._renderTemplateByType("bottomTemplate",e,n,{compactMode:!0}).addClass("dx-popup-bottom"),this._toggleClasses()}else{var n;null===(n=this._$bottom)||void 0===n||n.detach()}}_toggleDisabledState(e){super._toggleDisabledState(...arguments),this.$content().toggleClass("dx-state-disabled",Boolean(e))}_toggleClasses(){l(US,(e,t)=>{const n=`dx-popup-${t}`;var i,r;this._toolbarItemClasses.includes(n)?(this.$wrapper().addClass(`${n}-visible`),null===(i=this._$bottom)||void 0===i||i.addClass(n)):(this.$wrapper().removeClass(`${n}-visible`),null===(r=this._$bottom)||void 0===r||r.removeClass(n))})}_toggleFocusClass(e,t){if(super._toggleFocusClass(e,t),e&&(n=this._zIndex,!Dh.length||Dh[Dh.length-1]!==n)){const e=Oh(this._zIndexInitValue());Th(this._zIndex),this._zIndex=e,this._$wrapper.css("zIndex",e),this._$content.css("zIndex",e)}var n}_toggleContentScrollClass(){const e=!this.option("preventScrollEvents");this.$content().toggleClass("dx-popup-content-scrollable",e)}_getPositionControllerConfig(){const{fullScreen:e,forceApplyBindings:t,dragOutsideBoundary:n,dragAndResizeArea:i,outsideDragFactor:r}=this.option();return K({},super._getPositionControllerConfig(),{fullScreen:e,forceApplyBindings:t,dragOutsideBoundary:n,dragAndResizeArea:i,outsideDragFactor:r})}_initPositionController(){this._positionController=new WS(this._getPositionControllerConfig())}_getDragTarget(){return this.topToolbar()}_renderGeometry(e){const{visible:t,useResizeObserver:n}=this.option();if(t&&Ot()){const t=this._showAnimationProcessing&&!(null!==e&&void 0!==e&&e.forceStopAnimation)&&n;this._isAnimationPaused=t||void 0,this._stopAnimation(),null!==e&&void 0!==e&&e.shouldOnlyReposition?this._renderPosition(!1):this._renderGeometryImpl(null===e||void 0===e?void 0:e.isDimensionChange),t&&(this._animateShowing(),this._isAnimationPaused=void 0)}}_cacheDimensions(){this.option("useResizeObserver")&&(this._renderedDimensions={width:parseInt($n(this._$content),10),height:parseInt(Ln(this._$content),10)})}_renderGeometryImpl(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this._resetContentHeight(),super._renderGeometryImpl(),this._cacheDimensions(),this._setContentHeight()}_resetContentHeight(){"auto"===this._getOptionValue("height")&&this.$content().css({height:"auto",maxHeight:"none"})}_renderDrag(){const e=this._getDragTarget(),{dragEnabled:t}=this.option();if(!e)return;const n={dragEnabled:t,handle:e.get(0),draggableElement:this._$content.get(0),positionController:this._positionController};this._drag?this._drag.init(n):this._drag=new LS(n),this.$overlayContent().toggleClass("dx-popup-draggable",t)}_renderResize(){this._resizable=this._createComponent(this._$content,HS,{handles:this.option("resizeEnabled")?"all":"none",onResizeEnd:e=>{this._resizeEndHandler(e),this._observeContentResize(!0)},onResize:e=>{this._setContentHeight(),this._actions.onResize(e)},onResizeStart:e=>{this._observeContentResize(!1),this._actions.onResizeStart(e)},minHeight:100,minWidth:100,area:this._positionController.$dragResizeContainer,keepAspectRatio:!1})}_resizeEndHandler(e){const t=this._resizable.option("width"),n=this._resizable.option("height");t&&this._setOptionWithoutOptionChange("width",t),n&&this._setOptionWithoutOptionChange("height",n),this._cacheDimensions(),this._positionController.resizeHandled(),this._positionController.detectVisualPositionChange(e.event),this._actions.onResizeEnd(e)}_setContentHeight(){const{forceApplyBindings:e}=this.option();(e||tt)();const t=this.$overlayContent().get(0),n=this._chooseHeightStrategy(t);this.$content().css(this._getHeightCssStyles(n,t)),this._setHeightClasses(this.$overlayContent(),n)}_heightStrategyChangeOffset(e,t){return e===GS.flex?-t:0}_chooseHeightStrategy(e){const t="auto"===e.style.width||""===e.style.width;let n=GS.static;return this._isAutoHeight()&&this.option("autoResizeEnabled")&&(n=t||qS?GS.inherit:GS.flex),n}_getHeightCssStyles(e,t){let n={};const i=this._getOptionValue("maxHeight",t),r=this._getOptionValue("minHeight",t),o=this._splitPopupHeight(),s=o.header+o.footer+o.contentVerticalOffsets+o.popupVerticalOffsets+this._heightStrategyChangeOffset(e,o.popupVerticalPaddings);if(e===GS.static){if(!this._isAutoHeight()||i||r){const e=(this.option("fullScreen")?Math.min(Aa(t).height,Dt().innerHeight):Aa(t).height)-s;n={height:Math.max(0,e),minHeight:"auto",maxHeight:"auto"}}}else{const e=Si(this._positionController.$visualContainer).get(0),t=function(e,t,n){const i=In(e,t,n);return null!==i?i:"none"}(i,-s,e),o=function(e,t,n){const i=In(e,t,n);return null!==i?i:0}(r,-s,e);n={height:"auto",minHeight:o,maxHeight:t}}return n}_setHeightClasses(e,t){let n="";for(const i in GS)GS[i]!==t&&(n+=` ${GS[i]}`);e.removeClass(n).addClass(t)}_isAutoHeight(){return"auto"===this.$overlayContent().get(0).style.height}_splitPopupHeight(){const e=this.topToolbar(),t=this.bottomToolbar();return{header:Dn(null===e||void 0===e?void 0:e.get(0)),footer:Dn(null===t||void 0===t?void 0:t.get(0)),contentVerticalOffsets:kn(this.$overlayContent().get(0),!0),popupVerticalOffsets:kn(this.$content().get(0),!0),popupVerticalPaddings:kn(this.$content().get(0),!1)}}_isAllWindowCovered(){const{fullScreen:e}=this.option();return super._isAllWindowCovered()||e}_renderDimensions(){this.option("fullScreen")?this.$overlayContent().css({width:"100%",height:"100%",minWidth:"",maxWidth:"",minHeight:"",maxHeight:""}):super._renderDimensions(),Ot()&&this._renderFullscreenWidthClass()}_dimensionChanged(){this._renderGeometry({isDimensionChange:!0})}_clean(){super._clean(),this._observeContentResize(!1)}_dispose(){super._dispose(),this._toggleBodyScroll(!0)}_renderFullscreenWidthClass(){const e=zn(this.$overlayContent())===$n(KS);this.$overlayContent().toggleClass("dx-popup-fullscreen-width",e)}_toggleSafariScrolling(){this.option("enableBodyScroll")&&super._toggleSafariScrolling()}_toggleBodyScroll(e){if(!this._bodyOverflowManager)return;const{setOverflow:t,restoreOverflow:n}=this._bodyOverflowManager;e?n():t()}refreshPosition(){this._renderPosition()}_optionChanged(e){var t;const{value:n,name:i}=e;switch(i){case"disabled":super._optionChanged(e),this._renderTitle(),this._renderBottom();break;case"animation":this._updateResizeCallbackSkipCondition();break;case"enableBodyScroll":this.option("visible")&&this._toggleBodyScroll(n);break;case"showTitle":case"title":case"titleTemplate":this._renderTitle(),this._renderGeometry(),Uu(this.$overlayContent());break;case"bottomTemplate":this._renderBottom(),this._renderGeometry(),Uu(this.$overlayContent());break;case"container":var r;if(super._optionChanged(e),this.option("resizeEnabled"))null===(r=this._resizable)||void 0===r||r.option("area",this._positionController.$dragResizeContainer);break;case"width":case"height":super._optionChanged(e),null===(t=this._resizable)||void 0===t||t.option(i,n);break;case"onTitleRendered":this._createTitleRenderAction();break;case"toolbarItems":case"useDefaultToolbarButtons":case"useFlatToolbarButtons":{const t=!e.fullName.match(/^toolbarItems((\[\d+\])(\.(options|visible).*)?)?$/);this._renderTitle(),this._renderBottom(),t&&(this._renderGeometry(),Uu(this.$overlayContent()));break}case"dragEnabled":this._renderDrag();break;case"dragAndResizeArea":this._positionController.dragAndResizeArea=n,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer),this._positionController.positionContent();break;case"dragOutsideBoundary":this._positionController.dragOutsideBoundary=n,this.option("resizeEnabled")&&this._resizable.option("area",this._positionController.$dragResizeContainer);break;case"outsideDragFactor":this._positionController.outsideDragFactor=n;break;case"resizeEnabled":this._renderResize(),this._renderGeometry();break;case"autoResizeEnabled":this._renderGeometry(),Uu(this.$overlayContent());break;case"fullScreen":this._positionController.fullScreen=n,this._toggleFullScreenClass(n),this._toggleSafariScrolling(),this._renderGeometry(),Uu(this.$overlayContent());break;case"showCloseButton":this._renderTitle();break;case"preventScrollEvents":super._optionChanged(e),this._toggleContentScrollClass();break;default:super._optionChanged(e)}}bottomToolbar(){return this._$bottom}topToolbar(){return this._$title}$content(){return this._$popupContent}content(){return ma(this.$content())}$overlayContent(){return this._$content}getFocusableElements(){return this.$wrapper().find("[tabindex]").filter((e,t)=>t.getAttribute("tabindex")>=0)}}Mi("dxPopup",ZS);const YS=ZS,QS={left:"borderLeftWidth",top:"borderTopWidth",right:"borderRightWidth",bottom:"borderBottomWidth"};const XS=["shading","target","$arrow"],JS={left:-1,top:-1,center:0,right:1,bottom:1},ew={top:{my:"bottom center",at:"top center",collision:"fit flip"},bottom:{my:"top center",at:"bottom center",collision:"fit flip"},right:{my:"left center",at:"right center",collision:"flip fit"},left:{my:"right center",at:"left center",collision:"flip fit"}},tw={h:10,v:10};class nw extends Ih{constructor(e){let{shading:t,target:n,$arrow:i}=e;super(tu(e,XS)),this._props=K({},this._props,{shading:t,target:n}),this._$arrow=i,this._positionSide=void 0,this.updatePosition(this._props.position)}positionWrapper(){this._props.shading&&this._$wrapper.css({top:0,left:0})}updateTarget(e){this._props.target=e,this.updatePosition(this._props.position)}_renderBoundaryOffset(){}_getContainerPosition(){const e=Qe(this._position.offset||"");let{h:t,v:n}=e;const i=this._isVerticalSide(),r=this._isHorizontalSide();if(i||r){const e=(this._isPopoverInside()?-1:1)*JS[this._positionSide]*((i?Ln(this._$arrow):$n(this._$arrow))-this._getContentBorderWidth(this._positionSide));i?n+=e:t+=e}return A({},this._position,{offset:`${t} ${n}`})}_getContentBorderWidth(e){const t=this._$content.css(QS[e]);return parseInt(t)||0}_isPopoverInside(){const e=Ja.setup.normalizeAlign(this._position.my),t=Ja.setup.normalizeAlign(this._position.at);return e.h===t.h&&e.v===t.v}_isVerticalSide(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._positionSide;return"top"===e||"bottom"===e}_isHorizontalSide(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._positionSide;return"left"===e||"right"===e}_getDisplaySide(e){const t=Ja.setup.normalizeAlign(e.my),n=Ja.setup.normalizeAlign(e.at),i=JS[t.h]===JS[n.h]&&JS[t.v]===JS[n.v]?-1:1;return Math.abs(JS[t.h]-i*JS[n.h])>Math.abs(JS[t.v]-i*JS[n.v])?n.h:n.v}_normalizePosition(e){const t={of:this._props.target,boundaryOffset:tw};let n;return n=_(e)?A(!0,{},t,this._positionToObject(e)):t,this._positionSide=this._getDisplaySide(n),n}_positionToObject(e){return v(e)?A({},ew[e]):e}}const iw={left:"right",top:"bottom",right:"left",bottom:"top",center:"center"},rw=function(e){return b(e)?e.name:e},ow=function(e,t){const n=e.option(t);return rw(n)},sw=function(e,t){const{target:n,shading:i,disabled:r,hideEvent:o}=e.option(),s=v(n),a=i&&"hide"===t,l=a?null:ow(e,`${t}Event`);if(a&&o&&Ps.log("W1020"),!l||r)return;const c=or(l,e.NAME),u=e._createAction(function(){const n=function(e,t){const n=e.option(t);return b(n)&&n.delay}(e,`${t}Event`);this._clearEventsTimeouts(),n?this._timeouts[t]=setTimeout(()=>{e[t]()},n):e[t]()}.bind(e),{validatingTargetName:"target"}),d=function(e){u({event:e,target:Si(e.currentTarget)})},h=`_${t}EventHandler`;if(s)e[h]=d,rn.on(mt.getDocument(),c,n,d);else{const t=ma(Si(n));e[h]=void 0,rn.on(t,c,d)}},aw=function(e,t,n,i){let r=i||ow(e,`${n}Event`);if(!r)return;r=or(r,e.NAME);const o=`_${n}EventHandler`;e[o]?rn.off(mt.getDocument(),r,t,e[o]):rn.off(ma(Si(t)),r)};class lw extends YS{_getDefaultOptions(){return K({},super._getDefaultOptions(),{shading:!1,position:A({},ew.bottom),hideOnOutsideClick:!0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",from:1,to:0}},showTitle:!1,width:"auto",height:"auto",dragEnabled:!1,resizeEnabled:!1,fullScreen:!1,hideOnParentScroll:!0,arrowPosition:"",arrowOffset:0,_fixWrapperPosition:!0})}_defaultOptionsRules(){return[{device:{platform:"ios"},options:{arrowPosition:{boundaryOffset:{h:20,v:-10},collision:"fit"}}},{device:()=>!Ct(),options:{animation:null}},{device:()=>ta(),options:{useFlatToolbarButtons:!0}},{device:()=>na(),options:{useDefaultToolbarButtons:!0,showCloseButton:!1}}]}_init(){super._init(),this._renderArrow(),this._timeouts={},this.$element().addClass("dx-popover"),this.$wrapper().addClass("dx-popover-wrapper");const{toolbarItems:e}=this.option(),t=null===e||void 0===e?void 0:e.length;this.setAria("role",t?"dialog":"tooltip")}_render(){super._render.apply(this,arguments),this._detachEvents(this.option("target")),this._attachEvents()}_detachEvents(e){aw(this,e,"show"),aw(this,e,"hide")}_attachEvents(){sw(this,"show"),sw(this,"hide")}_renderArrow(){this._$arrow=Si("<div>").addClass("dx-popover-arrow").prependTo(this.$overlayContent())}_documentDownHandler(e){return!this._isOutsideClick(e)||super._documentDownHandler(e)}_isOutsideClick(e){const{target:t}=this.option();return!Si(e.target).closest(t).length}_animate(e){null!==e&&void 0!==e&&e.to&&"object"===typeof e.to&&A(e.to,{position:this._getContainerPosition()}),super._animate.apply(this,arguments)}_stopAnimation(){super._stopAnimation.apply(this,arguments)}_renderTitle(){this.$wrapper().toggleClass("dx-popover-without-title",!this.option("showTitle")),super._renderTitle()}_renderPosition(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];super._renderPosition(),this._renderOverlayPosition(e),this._actions.onPositioned()}_renderOverlayPosition(e){this._resetOverlayPosition(e),this._updateContentSize(e);const t=this._getContainerPosition(),n=Ja.setup(this.$overlayContent(),t),i=this._getSideByLocation(n);this._togglePositionClass(`dx-position-${i}`),this._toggleFlippedClass(n.h.flip,n.v.flip);(this._isHorizontalSide()||this._isVerticalSide())&&this._renderArrowPosition(i)}_resetOverlayPosition(e){this._setContentHeight(e),this._togglePositionClass(`dx-position-${this._positionController._positionSide}`),wa(this.$overlayContent(),{left:0,top:0}),this._$arrow.css({top:"auto",right:"auto",bottom:"auto",left:"auto"})}_updateContentSize(e){if(!this.$content()||!e)return;const t=Ja.calculate(this.$overlayContent(),this._getContainerPosition());if(t.h.oversize>0&&this._isHorizontalSide()&&!t.h.fit){const e=$n(this.$overlayContent())-t.h.oversize;Hn(this.$overlayContent(),e)}if(t.v.oversize>0&&this._isVerticalSide()&&!t.v.fit){const e=Ln(this.$overlayContent())-t.v.oversize,n=Ln(this.$content())-t.v.oversize;Vn(this.$overlayContent(),e),Vn(this.$content(),n)}}_getContainerPosition(){return this._positionController._getContainerPosition()}_getHideOnParentScrollTarget(){return Si(this._positionController._position.of||super._getHideOnParentScrollTarget())}_getSideByLocation(e){const t=e.v.flip,n=e.h.flip;return this._isVerticalSide()&&t||this._isHorizontalSide()&&n||this._isPopoverInside()?iw[this._positionController._positionSide]:this._positionController._positionSide}_togglePositionClass(e){this.$wrapper().removeClass("dx-position-left dx-position-right dx-position-top dx-position-bottom").addClass(e)}_toggleFlippedClass(e,t){this.$wrapper().toggleClass("dx-popover-flipped-horizontal",e).toggleClass("dx-popover-flipped-vertical",t)}_renderArrowPosition(e){const t=Aa(this._$arrow.get(0)),n=-(this._isVerticalSide(e)?t.height:t.width);this._$arrow.css(iw[e],n);const i=this._isVerticalSide(e)?"left":"top",r=this._isVerticalSide(e)?"width":"height",o=Si(this._positionController._position.of),s=Ja.offset(o)??{top:0,left:0},a=Ja.offset(this.$overlayContent()),l=t[r],c=null===a||void 0===a?void 0:a[i],u=Aa(this.$overlayContent().get(0))[r],d=s[i],h=o.get(0),p=h&&!h.preventDefault?Aa(h)[r]:0,f=Math.max(c,d),m=Math.min(c+u,d+p);let _;const{arrowPosition:g}=this.option();_="start"===g?f-c:"end"===g?m-c-l:(f+m)/2-c-l/2;const v=this._positionController._getContentBorderWidth(e),{arrowOffset:y}=this.option(),b=Vo(_-v+y,v,u-l-2*v);this._$arrow.css(i,b)}_isPopoverInside(){return this._positionController._isPopoverInside()}_setContentHeight(e){e&&super._setContentHeight()}_getPositionControllerConfig(){const{shading:e,target:t}=this.option();return A({},super._getPositionControllerConfig(),{target:t,shading:e,$arrow:this._$arrow})}_initPositionController(){this._positionController=new nw(this._getPositionControllerConfig())}_renderWrapperDimensions(){this.option("shading")&&this.$wrapper().css({width:"100%",height:"100%"})}_isVerticalSide(e){return this._positionController._isVerticalSide(e)}_isHorizontalSide(e){return this._positionController._isHorizontalSide(e)}_clearEventTimeout(e){clearTimeout(this._timeouts[e])}_clearEventsTimeouts(){this._clearEventTimeout("show"),this._clearEventTimeout("hide")}_clean(){this._detachEvents(this.option("target")),super._clean.apply(this,arguments)}_optionChanged(e){switch(e.name){case"arrowPosition":case"arrowOffset":this._renderGeometry();break;case"fullScreen":e.value&&this.option("fullScreen",!1);break;case"target":e.previousValue&&this._detachEvents(e.previousValue),this._positionController.updateTarget(e.value),this._invalidate();break;case"showEvent":case"hideEvent":{const t=e.name.substring(0,4),n=rw(e.previousValue);this.hide(),aw(this,this.option("target"),t,n),sw(this,t);break}case"visible":this._clearEventTimeout(e.value?"show":"hide"),super._optionChanged(e);break;case"disabled":this._detachEvents(this.option("target")),this._attachEvents(),super._optionChanged(e);break;default:super._optionChanged(e)}}show(e){return e&&this.option("target",e),super.show()}}Mi("dxPopover",lw);const cw=lw,uw=St();class dw extends eb{_getDefaultOptions(){return K({},super._getDefaultOptions(),{usePopover:!1,target:null,title:"",showTitle:!0,showCancelButton:!0,cancelText:mr.format("Cancel"),onCancelClick:null,visible:!1,noDataText:"",focusStateEnabled:!1,selectByClick:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:{platform:"ios",tablet:!0},options:{usePopover:!0}}])}_initTemplates(){super._initTemplates(),this._templateManager.addDefaultTemplates({item:new Bg((e,t)=>{const n=new g_(Si("<div>"),A({onClick:null===t||void 0===t?void 0:t.click,stylingMode:(null===t||void 0===t?void 0:t.stylingMode)||"outlined"},t));e.append(n.$element())},["disabled","icon","text","type","onClick","click","stylingMode"],this.option("integrationOptions.watchMethod"))})}_itemContainer(){return this._$itemContainer}_itemClass(){return"dx-actionsheet-item"}_itemDataKey(){return"dxActionSheetItemData"}_toggleVisibility(){}_renderDimensions(){}_initMarkup(){super._initMarkup(),this.$element().addClass("dx-actionsheet"),this._createItemContainer()}_render(){this._renderPopup()}_createItemContainer(){this._$itemContainer=Si("<div>").addClass("dx-actionsheet-container"),this._renderDisabled()}_renderDisabled(){const{disabled:e}=this.option();this._$itemContainer.toggleClass("dx-state-disabled",e)}_renderPopup(){this._$popup=Si("<div>").appendTo(this.$element()),this._isPopoverMode()?this._createPopover():this._createPopup(),this._renderPopupTitle(),this._mapPopupOption("visible")}_mapPopupOption(e){var t;null===(t=this._popup)||void 0===t||t.option(e,this.option(e))}_isPopoverMode(){const{usePopover:e,target:t}=this.option();return e&&t}_renderPopupTitle(){var e;this._mapPopupOption("showTitle"),null===(e=this._popup)||void 0===e||e.$wrapper().toggleClass("dx-actionsheet-without-title",!this.option("showTitle"))}_clean(){this._$popup&&this._$popup.remove(),super._clean()}_overlayConfig(){return{onInitialized:function(e){this._popup=e.component}.bind(this),disabled:!1,showTitle:!0,title:this.option("title"),deferRendering:!0,onContentReady:this._popupContentReadyAction.bind(this),onHidden:this.hide.bind(this)}}_createPopover(){this._createComponent(this._$popup,cw,A(this._overlayConfig(),{width:this.option("width")||200,height:this.option("height")||"auto",target:this.option("target")})),this._popup.$overlayContent().attr("role","dialog"),this._popup.$wrapper().addClass("dx-actionsheet-popover-wrapper")}_createPopup(){this._createComponent(this._$popup,YS,A(this._overlayConfig(),{dragEnabled:!1,width:this.option("width")||"100%",height:this.option("height")||"auto",showCloseButton:!1,position:{my:"bottom",at:"bottom",of:uw},animation:{show:{type:"slide",duration:400,from:{position:{my:"top",at:"bottom",of:uw}},to:{position:{my:"bottom",at:"bottom",of:uw}}},hide:{type:"slide",duration:400,from:{position:{my:"bottom",at:"bottom",of:uw}},to:{position:{my:"top",at:"bottom",of:uw}}}}})),this._popup.$wrapper().addClass("dx-actionsheet-popup-wrapper")}_popupContentReadyAction(){this._popup.$content().append(this._$itemContainer),this._attachClickEvent(),this._attachHoldEvent(),this._prepareContent(),this._renderContent(),this._renderCancelButton()}_renderCancelButton(){if(!this._isPopoverMode()&&(this._$cancelButton&&this._$cancelButton.remove(),this.option("showCancelButton"))){var e;const t=this._createActionByOption("onCancelClick")||tt,n=this;this._$cancelButton=Si("<div>").addClass("dx-actionsheet-cancel").appendTo(null===(e=this._popup)||void 0===e?void 0:e.$content()),this._createComponent(this._$cancelButton,g_,{disabled:!1,stylingMode:"outlined",text:this.option("cancelText"),onClick(e){const i={event:e,cancel:!1};t(i),i.cancel||n.hide()},integrationOptions:{}})}}_attachItemClickEvent(){}_itemClickHandler(e){super._itemClickHandler(e),Si(e.target).is(".dx-state-disabled, .dx-state-disabled *")||this.hide()}_itemHoldHandler(e){super._itemHoldHandler(e),Si(e.target).is(".dx-state-disabled, .dx-state-disabled *")||this.hide()}_optionChanged(e){switch(e.name){case"width":case"height":case"visible":case"title":this._mapPopupOption(e.name);break;case"disabled":this._renderDisabled();break;case"showTitle":this._renderPopupTitle();break;case"showCancelButton":case"onCancelClick":case"cancelText":this._renderCancelButton();break;case"target":case"usePopover":case"items":this._invalidate();break;default:super._optionChanged(e)}}toggle(e){const t=this,n=Re();return t._popup.toggle(e).done(()=>{t.option("visible",e),n.resolveWith(t)}),n.promise()}show(){return this.toggle(!0)}hide(){return this.toggle(!1)}}Mi("dxActionSheet",dw);const hw=dw,pw="dxListEditDecorator",fw=or(dc,pw),mw=or(gc,pw),_w="dx-list-slide-menu-content",gw="dx-list-slide-menu-button";Jx("menu","slide",class extends DS{_shouldHandleSwipe(){return!0}_init(){super._init.apply(this,arguments),this._$buttonsContainer=Si("<div>").addClass("dx-list-slide-menu-buttons-container"),rn.on(this._$buttonsContainer,mw,tt),this._$buttons=Si("<div>").addClass("dx-list-slide-menu-buttons").appendTo(this._$buttonsContainer),this._renderMenu(),this._renderDeleteButton()}_renderMenu(){if(!this._menuEnabled())return;const e=this._menuItems();if(1===e.length){const t=e[0];this._renderMenuButton(t.text,e=>{e.stopPropagation(),this._fireAction(t)})}else{const t=Si("<div>").addClass("dx-list-slide-menu");this._menu=this._list._createComponent(t,hw,{showTitle:!1,items:e,onItemClick:function(e){this._fireAction(e.itemData)}.bind(this),integrationOptions:{}}),t.appendTo(this._list.$element());const n=this._renderMenuButton(mr.format("dxListEditDecorator-more"),e=>{e.stopPropagation(),this._menu.show()});this._menu.option("target",n)}}_renderMenuButton(e,t){const n=Si("<div>").addClass(gw).addClass("dx-list-slide-menu-button-menu").text(e);return this._$buttons.append(n),rn.on(n,fw,t),n}_renderDeleteButton(){if(!this._deleteEnabled())return;const e=Si("<div>").addClass(gw).addClass("dx-list-slide-menu-button-delete").text(ta()?"":mr.format("dxListEditDecorator-delete"));rn.on(e,fw,e=>{e.stopPropagation(),this._deleteItem()}),this._$buttons.append(e)}_fireAction(e){this._fireMenuAction(Si(this._cachedNode),e.action),this._cancelDeleteReadyItem()}modifyElement(e){super.modifyElement.apply(this,arguments);const{$itemElement:t}=e;t.addClass("dx-list-slide-menu-wrapper");const n=Si("<div>").addClass(_w);t.wrapInner(n)}_getDeleteButtonContainer(){return this._$buttonsContainer}handleClick(e,t){return!!Si(t.target).closest(`.${_w}`).length&&super.handleClick.apply(this,arguments)}_swipeStartHandler(e){this._enablePositioning(e),this._cacheItemData(e),this._setPositions(this._getPositions(0))}_swipeUpdateHandler(e,t){const n=this._isRtlEnabled()?-1:1,i=this._isReadyToDelete(e);if(this._getCurrentPositions().content===this._getStartPositions().content&&!i&&t.offset*n>0)return void(t.cancel=!0);const r=this._cachedItemWidth*t.offset,o=i?-this._cachedButtonWidth*n:0,s=(r+o)*n<0?Math.abs((r+o)/this._cachedButtonWidth):0;return this._setPositions(this._getPositions(s)),!0}_getStartPositions(){const e=this._isRtlEnabled(),t=e?-1:1;return{content:0,buttonsContainer:e?-this._cachedButtonWidth:this._cachedItemWidth,buttons:-this._cachedButtonWidth*t}}_getPositions(e){const t=this._isRtlEnabled()?-1:1,n=this._getStartPositions();return{content:n.content-e*this._cachedButtonWidth*t,buttonsContainer:n.buttonsContainer-Math.min(e,1)*this._cachedButtonWidth*t,buttons:n.buttons+Math.min(e,1)*this._cachedButtonWidth*t}}_getCurrentPositions(){return{content:va(this._$cachedContent).left,buttonsContainer:va(this._$buttonsContainer).left,buttons:va(this._$buttons).left}}_setPositions(e){wa(this._$cachedContent,{left:e.content}),wa(this._$buttonsContainer,{left:e.buttonsContainer}),wa(this._$buttons,{left:e.buttons})}_cacheItemData(e){var t;e[0]!==this._cachedNode&&(this._$cachedContent=e.find(`.${_w}`),this._cachedItemWidth=zn(e),this._cachedButtonWidth=this._cachedButtonWidth||zn(this._$buttons),Hn(this._$buttonsContainer,this._cachedButtonWidth),null!==(t=this._$cachedContent)&&void 0!==t&&t.length&&(this._cachedNode=e[0]))}_minButtonContainerLeftOffset(){return this._cachedItemWidth-this._cachedButtonWidth}_swipeEndHandler(e,t){this._cacheItemData(e);const n=this._isRtlEnabled()?1:-1,i=this._cachedItemWidth*t.offset,r=!this._isReadyToDelete(e)&&i*n>.2*this._cachedButtonWidth,o=t.targetOffset===n&&r;return this._toggleDeleteReady(e,o),!0}_enablePositioning(e){Dl.stop(this._$cachedContent,!0),super._enablePositioning.apply(this,arguments),this._$buttonsContainer.appendTo(e)}_disablePositioning(){super._disablePositioning.apply(this,arguments),this._$buttonsContainer.detach()}_animatePrepareDeleteReady(){return this._animateToPositions(this._getPositions(1))}_animateForgetDeleteReady(e){return this._cacheItemData(e),this._animateToPositions(this._getPositions(0))}_animateToPositions(e){const t=this,n=this._getCurrentPositions(),i=Math.min(Math.abs(n.content-e.content)/this._cachedButtonWidth,1);return Dl.animate(this._$cachedContent,{from:n,to:e,easing:"cubic-bezier(0.075, 0.82, 0.165, 1)",duration:400*i,strategy:"frame",draw(e){t._setPositions(e)}})}dispose(){this._menu&&this._menu.$element().remove(),this._$buttonsContainer&&this._$buttonsContainer.remove(),super.dispose.apply(this,arguments)}}.include(CS));Jx("delete","static",class extends vS{afterBag(e){const{$itemElement:t}=e,{$container:n}=e,i=Si("<div>").addClass("dx-list-static-delete-button");this._list._createComponent(i,g_,{icon:"remove",onClick:function(e){e.event.stopPropagation(),this._deleteItem(t)}.bind(this),integrationOptions:{},elementAttr:{role:null,"aria-label":null},tabIndex:-1}),n.addClass("dx-list-static-delete-button-container").append(i)}_deleteItem(e){e.is(".dx-state-disabled, .dx-state-disabled *")||this._list.deleteItem(e)}});Jx("delete","swipe",class extends vS{_shouldHandleSwipe(){return!0}_renderItemPosition(e,t,n){const i=Re(),r=t*this._itemElementWidth;return n?Dl.animate(e,{to:{left:r},type:"slide",complete(){i.resolve(e,t)}}):(wa(e,{left:r}),i.resolve()),i.promise()}_swipeStartHandler(e){return this._itemElementWidth=$n(e),!0}_swipeUpdateHandler(e,t){return this._renderItemPosition(e,t.offset),!0}_swipeEndHandler(e,t){const n=t.targetOffset;return this._renderItemPosition(e,n,!0).done((e,t)=>{Math.abs(t)&&this._list.deleteItem(e).fail(()=>{this._renderItemPosition(e,0,!0)})}),!0}});const vw=St(),yw="dxDraggable",bw=or(dh,yw),Cw=or(hh,yw),xw=or(ph,yw),Sw=or(fh,yw),ww=or(mh,yw),Ew=or(yo.down,yw),Iw=or("keydown",yw);let kw,Dw;const Ow=e=>({x:e.pageX-Si(vw).scrollLeft(),y:e.pageY-Si(vw).scrollTop()});class Tw{constructor(e,t){this._$scrollableAtPointer=null,this._preventScroll=!0,this._component=t,"vertical"===e?(this._scrollValue="scrollTop",this._overFlowAttr="overflowY",this._sizeAttr="height",this._scrollSizeProp="scrollHeight",this._clientSizeProp="clientHeight",this._limitProps={start:"top",end:"bottom"}):(this._scrollValue="scrollLeft",this._overFlowAttr="overflowX",this._sizeAttr="width",this._scrollSizeProp="scrollWidth",this._clientSizeProp="clientWidth",this._limitProps={start:"left",end:"right"})}updateScrollable(e,t){let n=!1;e.some(e=>{const i=Si(e),r=i.hasClass("dx-overlay-wrapper"),o=i.hasClass("dx-overlay-content");return!(!r&&!o)||(n=this._trySetScrollable(e,t),n)}),n||(this._$scrollableAtPointer=null,this._scrollSpeed=0)}isScrolling(){return!!this._scrollSpeed}isScrollable(e){return("auto"===e.css(this._overFlowAttr)||e.hasClass("dx-scrollable-container"))&&e.prop(this._scrollSizeProp)>Math.ceil("width"===this._sizeAttr?$n(e):Ln(e))}_trySetScrollable(e,t){const n=this,i=Si(e);let r;const o=n._component.option("scrollSensitivity");let s=n.isScrollable(i);return s&&(r=n._calculateDistanceToBorders(i,t),o>r[n._limitProps.start]?n._preventScroll||(n._scrollSpeed=-n._calculateScrollSpeed(r[n._limitProps.start]),n._$scrollableAtPointer=i):o>r[n._limitProps.end]?n._preventScroll||(n._scrollSpeed=n._calculateScrollSpeed(r[n._limitProps.end]),n._$scrollableAtPointer=i):(s=!1,n._preventScroll=!1)),s}_calculateDistanceToBorders(e,t){const n=e.get(0);let i;return n?(i=Aa(n),{left:t.x-i.left,top:t.y-i.top,right:i.right-t.x,bottom:i.bottom-t.y}):{}}_calculateScrollSpeed(e){const t=this._component,n=t.option("scrollSensitivity"),i=t.option("scrollSpeed");return Math.ceil(((n-e)/n)**2*i)}scrollByStep(){const e=this;if(e._$scrollableAtPointer&&e._scrollSpeed){if(e._$scrollableAtPointer.hasClass("dx-scrollable-container")){const t=e._$scrollableAtPointer.closest(".dx-scrollable"),n=t.data("dxScrollable")||t.data("dxScrollView");if(n){const t=n.scrollOffset()[e._limitProps.start]+e._scrollSpeed;n.scrollTo({[e._limitProps.start]:t})}}else{const t=e._$scrollableAtPointer[e._scrollValue]()+e._scrollSpeed;e._$scrollableAtPointer[e._scrollValue](t)}const t=e._component._dragMoveArgs;t&&e._component._dragMoveHandler(t)}}reset(){this._$scrollableAtPointer=null,this._scrollSpeed=0,this._preventScroll=!0}isOutsideScrollable(e,t){if(!e)return!1;const n=Aa(e.get(0)),i=n[this._limitProps.start],r=n[this._sizeAttr],o=Ow(t),s="width"===this._sizeAttr?o.x:o.y;return s<i||s>i+r}}class Aw extends Tb{ctor(e){super.ctor(),this._strategy=e}_step(){const e=this._strategy._horizontalScrollHelper,t=this._strategy._verticalScrollHelper;null===e||void 0===e||e.scrollByStep(),null===t||void 0===t||t.scrollByStep()}}class Pw extends _d{reset(){}dragMove(e){}dragEnter(){}dragLeave(){}dragEnd(e){return this._getSourceDraggable()._fireRemoveEvent(e),Re().resolve()}_fireRemoveEvent(e){}_getDefaultOptions(){return K({},super._getDefaultOptions(),{onDragStart:null,onDragMove:null,onDragEnd:null,onDragEnter:null,onDragLeave:null,onDragCancel:null,onCancelByEsc:!1,onDrop:null,immediate:!0,dragDirection:"both",boundOffset:0,allowMoveByClick:!1,itemData:null,contentTemplate:"content",handle:"",filter:"",clone:!1,autoScroll:!0,scrollSpeed:30,scrollSensitivity:60})}_setOptionsByReference(){super._setOptionsByReference.apply(this,arguments),A(this._optionsByReference,{component:!0,group:!0,itemData:!0,data:!0})}_init(){super._init(),this._attachEventHandlers(),this._scrollAnimator=new Aw(this),this._horizontalScrollHelper=new Tw("horizontal",this),this._verticalScrollHelper=new Tw("vertical",this),this._initScrollTop=0,this._initScrollLeft=0}_normalizeCursorOffset(e){return b(e)&&(e={h:e.x,v:e.y}),e=Ye(e).map(e=>parseFloat(e)),{left:e[0],top:1===e.length?e[0]:e[1]}}_getNormalizedCursorOffset(e,t){return g(e)&&(e=e.call(this,t)),this._normalizeCursorOffset(e)}_calculateElementOffset(e){let t,n;const{event:i}=e,r=Si(e.itemElement),o=Si(e.dragElement),s=this._dragElementIsCloned(),a=this.option("cursorOffset");let l={left:0,top:0};const c=this._initialLocate=va(o);return(s||e.initialOffset||a)&&(t=e.initialOffset||r.offset(),a&&(l=this._getNormalizedCursorOffset(a,e),isFinite(l.left)&&(t.left=i.pageX),isFinite(l.top)&&(t.top=i.pageY)),n=o.offset(),t.top-=n.top+(l.top||0)-c.top,t.left-=n.left+(l.left||0)-c.left),t}_initPosition(e){const t=Si(e.dragElement),n=this._calculateElementOffset(e);n&&this._move(n,t),this._startPosition=va(t)}_startAnimator(){this._scrollAnimator.inProgress()||this._scrollAnimator.start()}_stopAnimator(){this._scrollAnimator.stop()}_addWidgetPrefix(e){const t=this.NAME;return Xn(t)+(e?`-${e}`:"")}_getItemsSelector(){return this.option("filter")||""}_$content(){const e=this.$element(),t=e.children(".dx-template-wrapper");return t.length?t:e}_attachEventHandlers(){if(this.option("disabled"))return;let e=this._$content(),t=this._getItemsSelector();const n=this.option("allowMoveByClick"),i={direction:this.option("dragDirection"),immediate:this.option("immediate"),checkDropTarget:(e,t)=>{const n=this.option("group"),i=this._getSourceDraggable().option("group"),r=this._getScrollable(e);return!this._verticalScrollHelper.isOutsideScrollable(r,t)&&!this._horizontalScrollHelper.isOutsideScrollable(r,t)&&(i&&i===n)}};n&&(e=this._getArea(),rn.on(e,Ew,i,this._pointerDownHandler.bind(this))),">"===t[0]&&(t=t.slice(1)),rn.on(e,bw,t,i,this._dragStartHandler.bind(this)),rn.on(e,Cw,i,this._dragMoveHandler.bind(this)),rn.on(e,xw,i,this._dragEndHandler.bind(this)),rn.on(e,Sw,i,this._dragEnterHandler.bind(this)),rn.on(e,ww,i,this._dragLeaveHandler.bind(this)),this.option("onCancelByEsc")&&rn.on(e,Iw,this._keydownHandler.bind(this))}_dragElementIsCloned(){var e;return null===(e=this._$dragElement)||void 0===e?void 0:e.hasClass(this._addWidgetPrefix("clone"))}_getDragTemplateArgs(e,t){return{container:ma(t),model:{itemData:this.option("itemData"),itemElement:ma(e)}}}_createDragElement(e){let t=e;const n=this.option("clone"),i=this._getContainer();let r=this.option("dragTemplate");return r?(r=this._getTemplate(r),t=Si("<div>").appendTo(i),r.render(this._getDragTemplateArgs(e,t))):n&&(t=Si("<div>").appendTo(i),e.clone().css({width:e.css("width"),height:e.css("height")}).appendTo(t)),t.toggleClass(this._addWidgetPrefix("clone"),t.get(0)!==e.get(0)).toggleClass("dx-rtl",this.option("rtlEnabled"))}_resetDragElement(){var e;this._dragElementIsCloned()?null===(e=this._$dragElement)||void 0===e||e.remove():this._toggleDraggingClass(!1);this._$dragElement=null}_resetSourceElement(){this._toggleDragSourceClass(!1),this._$sourceElement=null}_detachEventHandlers(){rn.off(this._$content(),`.${yw}`),rn.off(this._getArea(),`.${yw}`)}_move(e,t){wa(t||this._$dragElement,e)}_getDraggableElement(e){const t=this._getSourceElement();if(t)return t;if(this.option("allowMoveByClick"))return this.$element();let n=Si(null===e||void 0===e?void 0:e.target);const i=this._getItemsSelector();if(">"===i[0]){const e=this._$content().find(i);e.is(n)||(n=n.closest(e))}return n}_getSourceElement(){return this._getSourceDraggable()._$sourceElement}_pointerDownHandler(e){if(er(e))return;const t={},n=this.$element(),{dragDirection:i}=this.option();"horizontal"!==i&&"both"!==i||(t.left=e.pageX-n.offset().left+va(n).left-$n(n)/2),"vertical"!==i&&"both"!==i||(t.top=e.pageY-n.offset().top+va(n).top-Ln(n)/2),this._move(t,n),this._getAction("onDragMove")(this._getEventArgs(e))}_isValidElement(e,t){var n;const{handle:i}=this.option(),r=Si(null===(n=e.originalEvent)||void 0===n?void 0:n.target);return!(i&&!r.closest(i).length)&&(!!t.length&&!t.is(".dx-state-disabled, .dx-state-disabled *"))}_dragStartHandler(e){const t=this._getDraggableElement(e);if(this.dragInProgress=!0,!this._isValidElement(e,t))return void(e.cancel=!0);if(this._$sourceElement)return;const n=this._getDragStartArgs(e,t);if(this._getAction("onDragStart")(n),n.cancel)return void(e.cancel=!0);this.option("itemData",n.itemData),this._setSourceDraggable(),this._$sourceElement=t;let i=t.offset();!this._hasClonedDraggable()&&this.option("autoScroll")&&(this._initScrollTop=this._getScrollableScrollTop(),this._initScrollLeft=this._getScrollableScrollLeft(),i=this._getDraggableElementOffset(i.left,i.top));const r=this._$dragElement=this._createDragElement(t);this._toggleDraggingClass(!0),this._toggleDragSourceClass(!0),this._setGestureCoverCursor(r.children());const o="fixed"===r.css("position");this._initPosition(A({},n,{dragElement:r.get(0),initialOffset:o&&i})),this._getAction("onDraggableElementShown")(K({},n,{dragElement:r}));const s=this._getArea(),a=this._getAreaOffset(s),l=this._getBoundOffset(),c=zn(s),u=jn(s),d=$n(r),h=Ln(r),p=r.offset().left-a.left,f=r.offset().top-a.top;s.length&&(e.maxLeftOffset=p-l.left,e.maxRightOffset=c-p-d-l.right,e.maxTopOffset=f-l.top,e.maxBottomOffset=u-f-h-l.bottom),this.option("autoScroll")&&this._startAnimator()}_getAreaOffset(e){return e&&Ja.offset(e)||{left:0,top:0}}_toggleDraggingClass(e){var t;null===(t=this._$dragElement)||void 0===t||t.toggleClass(this._addWidgetPrefix("dragging"),e)}_toggleDragSourceClass(e,t){const n=t||this._$sourceElement;null===n||void 0===n||n.toggleClass(this._addWidgetPrefix("source"),e)}_setGestureCoverCursor(e){Si(".dx-gesture-cover").css("cursor",e.css("cursor"))}_getBoundOffset(){let e=this.option("boundOffset");return g(e)&&(e=e.call(this)),function(e){const t=function(e){switch(typeof e){case"string":return e.split(/\s+/,4);case"object":return[e.x||e.h||e.left,e.y||e.v||e.top,e.x||e.h||e.right,e.y||e.v||e.bottom];case"number":return[e];default:return e}}(e);let n=parseInt(t&&t[0],10),i=parseInt(t&&t[1],10),r=parseInt(t&&t[2],10),o=parseInt(t&&t[3],10);return isFinite(n)||(n=0),isFinite(i)||(i=n),isFinite(r)||(r=n),isFinite(o)||(o=i),{top:i,right:r,bottom:o,left:n}}(e)}_getArea(){let e=this.option("boundary");return g(e)&&(e=e.call(this)),Si(e)}_getContainer(){let{container:e}=this.option();return void 0===e&&(e=Wr()),Si(e)}_getDraggableElementOffset(e,t){var n,i;const r=this._initScrollTop,o=this._initScrollLeft,s=this._getScrollableScrollTop(),a=this._getScrollableScrollLeft(),l="fixed"===Si(this.element()).css("position"),c={left:((null===(n=this._startPosition)||void 0===n?void 0:n.left)??0)+e,top:((null===(i=this._startPosition)||void 0===i?void 0:i.top)??0)+t};return l||this._hasClonedDraggable()?c:{left:y(a)?c.left+a-o:c.left,top:y(s)?c.top+s-r:c.top}}_hasClonedDraggable(){return this.option("clone")||this.option("dragTemplate")}_dragMoveHandler(e){if(this._dragMoveArgs=e,!this._$dragElement)return void(e.cancel=!0);const t=this._getDraggableElementOffset(e.offset.x,e.offset.y);this._move(t),this._updateScrollable(e);const n=this._getEventArgs(e);if(this._getAction("onDragMove")(n),!0===n.cancel)return;this._getTargetDraggable().dragMove(e,scrollBy)}_updateScrollable(e){const t=this;if(t.option("autoScroll")){const n=Ow(e),i=mt.elementsFromPoint(n.x,n.y,this.$element().get(0));t._verticalScrollHelper.updateScrollable(i,n),t._horizontalScrollHelper.updateScrollable(i,n)}}_getScrollable(e){let t;return e.parents().toArray().some(e=>{const n=Si(e);return!(!this._horizontalScrollHelper.isScrollable(n)&&!this._verticalScrollHelper.isScrollable(n))&&(t=n,!0)}),t}_getScrollableScrollTop(){var e;return(null===(e=this._getScrollable(Si(this.element())))||void 0===e?void 0:e.scrollTop())??0}_getScrollableScrollLeft(){var e;return(null===(e=this._getScrollable(Si(this.element())))||void 0===e?void 0:e.scrollLeft())??0}_defaultActionArgs(){const e=super._defaultActionArgs.apply(this,arguments),t=this.option("component");return t&&(e.component=t,e.element=t.element()),e}_getEventArgs(e){const t=this._getSourceDraggable(),n=this._getTargetDraggable();return{event:e,itemData:t.option("itemData"),itemElement:ma(t._$sourceElement),fromComponent:t.option("component")||t,toComponent:n.option("component")||n,fromData:t.option("data"),toData:n.option("data")}}_getDragStartArgs(e,t){const n=this._getEventArgs(e);return{event:n.event,itemData:n.itemData,itemElement:t,fromData:n.fromData}}_revertItemToInitialPosition(){!this._dragElementIsCloned()&&this._move(this._initialLocate,this._$sourceElement)}_dragEndHandler(e){const t=Re(),n=this._getEventArgs(e),i=this._getEventArgs(e),r=this._getTargetDraggable();let o=!0;this.dragInProgress=!1;try{this._getAction("onDragEnd")(n)}finally{Be(Pe(n.cancel)).done(e=>{if(!e&&(r!==this&&r._getAction("onDrop")(i),!i.cancel))return o=!1,void Be(Pe(r.dragEnd(n))).always(t.resolve);t.resolve()}).fail(t.resolve),t.done(()=>{o&&this._revertItemToInitialPosition(),this._resetDragOptions(r)})}}_isTargetOverAnotherDraggable(e){const t=this._getSourceDraggable();if(this===t)return!1;const n=t._$dragElement,i=t.$element(),r=this.$element(),o=Ow(e),s=mt.elementsFromPoint(o.x,o.y,this.element()).filter(e=>{const t=Si(e);return!!t.hasClass(this._addWidgetPrefix())&&!t.closest(n).length})[0],a=this._getSourceElement(),l=s===i.get(0),c=Si(s).closest(a).length;return!s||s===r.get(0)&&!l&&!c}_dragEnterHandler(e){this._fireDragEnterEvent(e),this._isTargetOverAnotherDraggable(e)&&this._setTargetDraggable();this._getSourceDraggable().dragEnter(e)}_dragLeaveHandler(e){this._fireDragLeaveEvent(e),this._resetTargetDraggable(),this!==this._getSourceDraggable()&&this.reset();this._getSourceDraggable().dragLeave(e)}_keydownHandler(e){this.dragInProgress&&"Escape"===e.key&&this._keydownEscapeHandler(e)}_keydownEscapeHandler(e){var t;if(!this._getSourceElement())return;const n=this._getEventArgs(e);if(this._getAction("onDragCancel")(n),n.cancel)return;this.dragInProgress=!1,null===(t=Dw)||void 0===t||t._toggleDraggingClass(!1),this._detachEventHandlers(),this._revertItemToInitialPosition();const i=this._getTargetDraggable();this._resetDragOptions(i),this._attachEventHandlers()}_getAction(e){return this[`_${e}Action`]||this._createActionByOption(e)}_getAnonymousTemplateName(){return"content"}_initTemplates(){this.option("contentTemplate")&&(this._templateManager.addDefaultTemplates({content:new Zu}),super._initTemplates.apply(this,arguments))}_render(){super._render(),this.$element().addClass(this._addWidgetPrefix());const e=this._templateManager.anonymousTemplateName===this.option("contentTemplate"),t=this._getTemplateByOption("contentTemplate");t&&Si(t.render({container:this.element(),transclude:e}))}_optionChanged(e){const{name:t}=e;switch(t){case"onDragStart":case"onDragMove":case"onDragEnd":case"onDrop":case"onDragEnter":case"onDragLeave":case"onDragCancel":case"onDraggableElementShown":this[`_${t}Action`]=this._createActionByOption(t);break;case"dragTemplate":case"contentTemplate":case"container":case"clone":case"scrollSensitivity":case"scrollSpeed":case"boundOffset":case"handle":case"group":case"data":case"itemData":break;case"allowMoveByClick":case"dragDirection":case"disabled":case"boundary":case"filter":case"immediate":this._resetDragElement(),this._detachEventHandlers(),this._attachEventHandlers();break;case"onCancelByEsc":this._keydownHandler();break;case"autoScroll":this._verticalScrollHelper.reset(),this._horizontalScrollHelper.reset();break;default:super._optionChanged(e)}}_getTargetDraggable(){return kw||this}_getSourceDraggable(){return Dw||this}_setTargetDraggable(){const e=this.option("group"),t=this._getSourceDraggable();e&&e===t.option("group")&&(kw=this)}_setSourceDraggable(){Dw=this}_resetSourceDraggable(){Dw=null}_resetTargetDraggable(){kw=null}_resetDragOptions(e){this.reset(),e.reset(),this._stopAnimator(),this._horizontalScrollHelper.reset(),this._verticalScrollHelper.reset(),this._resetDragElement(),this._resetSourceElement(),this._resetTargetDraggable(),this._resetSourceDraggable()}_dispose(){super._dispose(),this._detachEventHandlers(),this._resetDragElement(),this._resetTargetDraggable(),this._resetSourceDraggable(),this._$sourceElement=null,this._stopAnimator()}_fireDragEnterEvent(e){const t=this._getEventArgs(e);this._getAction("onDragEnter")(t)}_fireDragLeaveEvent(e){const t=this._getEventArgs(e);this._getAction("onDragLeave")(t)}}Mi(yw,Pw);const Mw=Pw,Rw=St(),Bw=e=>Si(e).is(":visible"),Nw=(e,t)=>{var n,i;if(!e)return;const r=(null===(n=t.to)||void 0===n?void 0:n.left)||0,o=(null===(i=t.to)||void 0===i?void 0:i.top)||0;e.style.transform=`translate(${r}px,${o}px)`,e.style.transition=Dl.off?"":`transform ${t.duration}ms ${t.easing}`},Fw=e=>{e&&(e.style.transform="",e.style.transition="")};class $w extends Mw{_init(){super._init(),this._sourceScrollHandler=this._handleSourceScroll.bind(this),this._sourceScrollableInfo=null}_getDefaultOptions(){return K({},super._getDefaultOptions(),{clone:!0,filter:"> *",itemOrientation:"vertical",dropFeedbackMode:"push",allowDropInsideItem:!1,allowReordering:!0,moveItemOnDrop:!1,onDragChange:null,onAdd:null,onRemove:null,onReorder:null,onPlaceholderPrepared:null,animation:{type:"slide",duration:300,easing:"ease"},fromIndex:null,toIndex:null,dropInsideItem:!1,itemPoints:null,fromIndexOffset:0,offset:0,autoUpdate:!1,draggableElementSize:0})}reset(){this.option({dropInsideItem:!1,toIndex:null,fromIndex:null,itemPoints:null,fromIndexOffset:0,draggableElementSize:0}),this._$placeholderElement&&this._$placeholderElement.remove(),this._$placeholderElement=null,!this._isIndicateMode()&&this._$modifiedItem&&(this._$modifiedItem.css("marginBottom",this._modifiedItemMargin),this._$modifiedItem=null)}_getPrevVisibleItem(e,t){return e.slice(0,t).reverse().filter(Bw)[0]}_dragStartHandler(e){if(super._dragStartHandler.apply(this,arguments),!0===e.cancel)return;const t=this._getSourceElement();this._updateItemPoints(),this._subscribeToSourceScroll(e),this.option("fromIndex",this._getElementIndex(t)),this.option("fromIndexOffset",this.option("offset"))}_subscribeToSourceScroll(e){const t=this._getScrollable(Si(e.target));t&&(this._sourceScrollableInfo={element:t,scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop()},rn.off(t,"scroll",this._sourceScrollHandler),rn.on(t,"scroll",this._sourceScrollHandler))}_unsubscribeFromSourceScroll(){this._sourceScrollableInfo&&(rn.off(this._sourceScrollableInfo.element,"scroll",this._sourceScrollHandler),this._sourceScrollableInfo=null)}_handleSourceScroll(e){const t=this._sourceScrollableInfo;t&&["scrollLeft","scrollTop"].forEach(n=>{if(e.target[n]!==t[n]){const i=e.target[n]-t[n];this._correctItemPoints(i),this._movePlaceholder(),t[n]=e.target[n]}})}_dragEnterHandler(e){if(super._dragEnterHandler.apply(this,arguments),this!==this._getSourceDraggable()&&(this._subscribeToSourceScroll(e),this._updateItemPoints(),this.option("fromIndex",-1),!this._isIndicateMode())){const e=this.option("itemPoints"),t=e[e.length-1];if(t){const e=this.$element(),n=this._getSourceElement(),i=this._isVerticalOrientation(),r=i?jn(n,!0):zn(n,!0),o=e.get(0)[i?"scrollHeight":"scrollWidth"],s=e.get(0)[i?"scrollTop":"scrollLeft"],a=i?"top":"left",l=t[a],c=e.offset()[a]+o-s-l;if(c<r&&i){const e=this._getItems(),t=Si(this._getPrevVisibleItem(e));this._$modifiedItem=t,this._modifiedItemMargin=t.get(0).style.marginBottom,t.css("marginBottom",r-c);const n=t.closest(".dx-sortable"),i=n.data("dxScrollable")||n.data("dxScrollView");null===i||void 0===i||i.update()}}}}_dragLeaveHandler(){super._dragLeaveHandler.apply(this,arguments),this!==this._getSourceDraggable()&&this._unsubscribeFromSourceScroll()}dragEnter(){this!==this._getTargetDraggable()&&this.option("toIndex",-1)}dragLeave(){this!==this._getTargetDraggable()&&this.option("toIndex",this.option("fromIndex"))}_allowDrop(e){const t=this._getTargetDraggable().$element(),n=this._getScrollable(t);if(n){const{left:e,right:t,top:i,bottom:r}=function(e){const t=e.offset(),{style:n}=e[0],i=parseFloat(n.paddingLeft)||0,r=parseFloat(n.paddingRight)||0,o=parseFloat(n.paddingTop)||0,s=e[0].clientWidth-(i+r),a=Ln(e),l=t.left+i,c=t.top+o;return{left:l,right:l+s,top:c,bottom:c+a}}(n),o=this.option("toIndex"),s=this.option("itemPoints"),a=null===s||void 0===s?void 0:s.filter(e=>e.index===o)[0];if(a&&void 0!==a.top){return this._isVerticalOrientation()?i<=Math.ceil(a.top)&&Math.floor(a.top)<=r:e<=Math.ceil(a.left)&&Math.floor(a.left)<=t}}return!0}dragEnd(e){this._unsubscribeFromSourceScroll();const t=this._getSourceElement(),n=this._getSourceDraggable(),i=n.NAME!==this.NAME,r=this.option("toIndex"),{event:o}=e,s=this._allowDrop(o);if(null!==r&&r>=0&&s){let e,s;if(n!==this&&(e=this._fireAddEvent(o),e||(s=this._fireRemoveEvent(o))),i&&Ea(t),this.option("moveItemOnDrop")&&!e&&this._moveItem(t,r,s),n===this)return this._fireReorderEvent(o)}return Re().resolve()}dragMove(e){const t=this.option("itemPoints");if(!t)return;const n=this._isVerticalOrientation(),i=n?"top":"left",r=n?e.pageY:e.pageX,o=this.option("rtlEnabled");let s;for(let a=t.length-1;a>=0;a--){const e=t[a+1]&&(t[a][i]+t[a+1][i])/2;if(!(!n&&o?r>e:e>r)&&void 0!==e)break;s=t[a]}s&&(this._updatePlaceholderPosition(e,s),this._verticalScrollHelper.isScrolling()&&this._isIndicateMode()&&this._movePlaceholder())}_isIndicateMode(){return"indicate"===this.option("dropFeedbackMode")||this.option("allowDropInsideItem")}_createPlaceholder(){let e;return this._isIndicateMode()&&(e=Si("<div>").addClass(this._addWidgetPrefix("placeholder")).insertBefore(this._getSourceDraggable()._$dragElement)),this._$placeholderElement=e,e}_getItems(){const e=this._getItemsSelector();return this._$content().find(e).not(`.${this._addWidgetPrefix("placeholder")}`).not(`.${this._addWidgetPrefix("clone")}`).toArray()}_allowReordering(){return this._getSourceDraggable()!==this._getTargetDraggable()||this.option("allowReordering")}_isValidPoint(e,t,n){const i=this.option("allowDropInsideItem");return!!(n||this._allowReordering()||0===e&&i)&&(!this._isIndicateMode()||(-1===t||e!==t&&(n||e!==t+1)))}_getItemPoints(){const e=this;let t,n,i,r=[];const{rtlEnabled:o}=e.option(),s=e._isVerticalOrientation(),a=e._getItems(),l=a.filter(Bw),c=l.length,u=this._getDraggableElement(),d=l.indexOf(u.get(0));if(c){for(let u=0;u<=c;u++){const h=!s&&o^u===c,p=s&&u===c;u<c&&(t=Si(l[u]),n=t.offset(),i=zn(t)),r.push({dropInsideItem:!1,left:n.left+(h?i:0),top:n.top+(p?r[u-1].height:0),index:u===c?a.length:a.indexOf(t.get(0)),$item:t,width:zn(t),height:jn(t),isValid:e._isValidPoint(u,d)})}if(this.option("allowDropInsideItem")){const e=r;r=[];for(let t=0;t<e.length;t++)r.push(e[t]),e[t+1]&&r.push(A({},e[t],{dropInsideItem:!0,top:Math.floor((e[t].top+e[t+1].top)/2),left:Math.floor((e[t].left+e[t+1].left)/2),isValid:this._isValidPoint(t,d,!0)}))}}else r.push({dropInsideItem:!1,index:0,isValid:!0});return r}_updateItemPoints(e){(e||this.option("autoUpdate")||!this.option("itemPoints"))&&this.option("itemPoints",this._getItemPoints())}_correctItemPoints(e){const t=this.option("itemPoints");if(e&&t&&!this.option("autoUpdate")){const n=this._isVerticalOrientation()?"top":"left";t.forEach(t=>{t[n]-=e})}}_getElementIndex(e){return this._getItems().indexOf(e.get(0))}_getDragTemplateArgs(e){const t=super._getDragTemplateArgs.apply(this,arguments);return t.model.fromIndex=this._getElementIndex(e),t}_togglePlaceholder(e){var t;null===(t=this._$placeholderElement)||void 0===t||t.toggle(e)}_isVerticalOrientation(){const{itemOrientation:e}=this.option();return"vertical"===e}_normalizeToIndex(e,t){const n=this._getSourceDraggable()!==this._getTargetDraggable(),i=this._getActualFromIndex();return null===e?i:Math.max(n||i>=e||t?e:e-1,0)}_updatePlaceholderPosition(e,t){const n=this._getSourceDraggable(),i=this._normalizeToIndex(t.index,t.dropInsideItem),r=A(this._getEventArgs(e),{toIndex:i,dropInsideItem:t.dropInsideItem});t.isValid&&this._getAction("onDragChange")(r),!r.cancel&&t.isValid?(this.option({dropInsideItem:t.dropInsideItem,toIndex:t.index}),this._getAction("onPlaceholderPrepared")(A(this._getEventArgs(e),{placeholderElement:ma(this._$placeholderElement),dragElement:ma(n._$dragElement)})),this._updateItemPoints()):t.isValid||this.option({dropInsideItem:!1,toIndex:null})}_makeWidthCorrection(e,t){if(this._$scrollable=this._getScrollable(e),this._$scrollable){const n=$n(this._$scrollable),i=this._$scrollable.offset().left-e.offset().left,r=zn(e)-i-n;i>0&&(t-=i),r>0&&(t-=r)}return t}_updatePlaceholderSizes(e,t){const n=this.option("dropInsideItem"),i=Si(t),r=this._isVerticalOrientation();let o="",s="";e.toggleClass(this._addWidgetPrefix("placeholder-inside"),n),(r||n)&&(o=zn(i)),r&&!n||(s=jn(i)),o=this._makeWidthCorrection(i,o),e.css({width:o,height:s})}_moveItem(e,t,n){let i;const r=this._getItems(),o=r[t],s=this._getSourceDraggable();n&&(e=e.clone(),s._toggleDragSourceClass(!1,e)),o||(i=r[t-1]),this._moveItemCore(e,o,i)}_moveItemCore(e,t,n){t||n?n?e.insertAfter(Si(n)):e.insertBefore(Si(t)):e.appendTo(this.$element())}_getDragStartArgs(e,t){return A(super._getDragStartArgs.apply(this,arguments),{fromIndex:this._getElementIndex(t)})}_getEventArgs(e){const t=this._getSourceDraggable(),n=this._getTargetDraggable(),i=n.option("dropInsideItem");return A(super._getEventArgs.apply(this,arguments),{fromIndex:t.option("fromIndex"),toIndex:this._normalizeToIndex(n.option("toIndex"),i),dropInsideItem:i})}_optionChanged(e){const{name:t}=e;switch(t){case"onDragChange":case"onPlaceholderPrepared":case"onAdd":case"onRemove":case"onReorder":this[`_${t}Action`]=this._createActionByOption(t);break;case"itemOrientation":case"allowDropInsideItem":case"moveItemOnDrop":case"dropFeedbackMode":case"itemPoints":case"animation":case"allowReordering":case"fromIndexOffset":case"offset":case"draggableElementSize":case"autoUpdate":break;case"fromIndex":[!1,!0].forEach(t=>{const n=t?e.value:e.previousValue;if(null!==n){const e=Si(this._getItems()[n]);this._toggleDragSourceClass(t,e)}});break;case"dropInsideItem":this._optionChangedDropInsideItem(e);break;case"toIndex":this._optionChangedToIndex(e);break;default:super._optionChanged(e)}}_optionChangedDropInsideItem(){this._isIndicateMode()&&this._$placeholderElement&&this._movePlaceholder()}_isPositionVisible(e){const t=this.$element();let n;if("hidden"!==t.css("overflow")?n=t.get(0):t.parents().each(function(){if("visible"!==Si(this).css("overflow"))return n=this,!1}),n){const t=Aa(n),i=this._isVerticalOrientation(),r=i?"top":"left",o=i?"bottom":"right",s=i?Rw.pageYOffset:Rw.pageXOffset;if(e[r]<t[r]+s||e[r]>t[o]+s)return!1}return!0}_optionChangedToIndex(e){const t=e.value;if(this._isIndicateMode()){const e=null!==t&&t>=0;this._togglePlaceholder(e),e&&this._movePlaceholder()}else this._moveItems(e.previousValue,e.value,e.fullUpdate)}update(){if(null===this.option("fromIndex")&&null===this.option("toIndex"))return;this._updateItemPoints(!0),this._updateDragSourceClass();const e=this.option("toIndex");this._optionChangedToIndex({value:e,fullUpdate:!0})}_updateDragSourceClass(){const e=this._getActualFromIndex(),t=Si(this._getItems()[e]);t.length&&(this._$sourceElement=t,this._toggleDragSourceClass(!0,t))}_makeLeftCorrection(e){const t=this._$scrollable;if(t&&this._isVerticalOrientation()){const n=t.offset().left-e;n>0&&(e+=n)}return e}_movePlaceholder(){const e=this,t=e._$placeholderElement||e._createPlaceholder();if(!t)return;const n=e._getItems(),i=e.option("toIndex"),r=e._isVerticalOrientation(),o=this.option("rtlEnabled"),s=e.option("dropInsideItem");let a=null,l=n[i];if(l){const e=Si(l);a=e.offset(),r||!o||s||(a.left+=zn(e,!0))}else{const e=l=this._getPrevVisibleItem(n,i);e&&(a=Si(e).offset(),r?a.top+=jn(e,!0):o||(a.left+=zn(e,!0)))}if(e._updatePlaceholderSizes(t,l),a&&!e._isPositionVisible(a)&&(a=null),a){const o=r&&i===n.length,s=jn(t);a.left=e._makeLeftCorrection(a.left),a.top=o&&a.top>=s?a.top-s:a.top,e._move(a,t)}t.toggle(!!a)}_getPositions(e,t,n,i){const r=[];for(let o=0;o<e.length;o++){let e=0;null!==i&&null!==n?(-1===n?o>=i&&(e=t):-1===i?o>n&&(e=-t):n<i?o>n&&o<i&&(e=-t):n>i&&o>=i&&o<n&&(e=t),r.push(e)):r.push(e)}return r}_getDraggableElementSize(e){const t=this._getDraggableElement();let n=this.option("draggableElementSize");return n||(n=e?(jn(t)+jn(t,!0))/2:(zn(t)+zn(t,!0))/2,this.option("autoUpdate")||this.option("draggableElementSize",n)),n}_getActualFromIndex(){const{fromIndex:e,fromIndexOffset:t,offset:n}=this.option();return null==e?null:e+t-n}_moveItems(e,t,n){const i=this._getActualFromIndex(),r=this._isVerticalOrientation(),o=r?"top":"left",s=this._getDraggableElementSize(r),a=this._getItems(),l=this._getPositions(a,s,i,e),c=this._getPositions(a,s,i,t),u=this.option("animation"),d=this.option("rtlEnabled");for(let h=0;h<a.length;h++){const e=a[h],s=l[h],p=c[h];null===t||null===i?Fw(e):(s!==p||n&&_(p))&&Nw(e,A({},u,{to:{[o]:!r&&d?-p:p}}))}}_toggleDragSourceClass(e,t){const n=t||this._$sourceElement;super._toggleDragSourceClass.apply(this,arguments),this._isIndicateMode()||null===n||void 0===n||n.toggleClass(this._addWidgetPrefix("source-hidden"),e)}_dispose(){this.reset(),super._dispose()}_fireAddEvent(e){const t=this._getEventArgs(e);return this._getAction("onAdd")(t),t.cancel}_fireRemoveEvent(e){const t=this._getSourceDraggable(),n=this._getEventArgs(e);return t._getAction("onRemove")(n),n.cancel}_fireReorderEvent(e){const t=this._getEventArgs(e);return this._getAction("onReorder")(t),t.promise||Re().resolve()}}Mi("dxSortable",$w);const Hw=$w,Lw="dx-list-reorder-handle";Jx("reorder","default",class extends vS{_init(){const e=this._list;this._groupedEnabled=this._list.option("grouped"),this._lockedDrag=!1;const t=this._groupedEnabled?"> .dx-list-items > .dx-list-group > .dx-list-group-body > .dx-list-item":"> .dx-list-items > .dx-list-item";this._sortable=e._createComponent(e._scrollView.content(),Hw,A({component:e,contentTemplate:null,allowReordering:!1,filter:t,container:e.$element(),dragDirection:e.option("itemDragging.group")?"both":"vertical",handle:`.${Lw}`,dragTemplate:this._dragTemplate,onDragStart:this._dragStartHandler.bind(this),onDragChange:this._dragChangeHandler.bind(this),onReorder:this._reorderHandler.bind(this)},e.option("itemDragging")))}afterRender(){this._sortable.update()}_dragTemplate(e){const t=Si(e.itemElement).clone().addClass("dx-list-item-ghost-reordering").addClass("dx-state-hover");return Hn(t,$n(e.itemElement)),t}_dragStartHandler(e){this._lockedDrag&&(e.cancel=!0)}_dragChangeHandler(e){this._groupedEnabled&&!this._sameParent(e.fromIndex,e.toIndex)&&(e.cancel=!0)}_sameParent(e,t){const n=this._list.getItemElementByFlatIndex(e);return this._list.getItemElementByFlatIndex(t).parent().get(0)===n.parent().get(0)}_reorderHandler(e){const t=this._list.getItemElementByFlatIndex(e.toIndex);this._list.reorderItem(Si(e.itemElement),t)}afterBag(e){const t=Si("<div>").addClass(Lw);rn.on(t,"dxpointerdown",e=>{this._lockedDrag=!Gi(e)}),rn.on(t,"dxhold",{timeout:30},e=>{e.cancel=!0,this._lockedDrag=!1}),e.$container.addClass("dx-list-reorder-handle-container").append(t)}}),J_.setEditorClass(Z_);const Vw=uS,zw=(0,e.memo)((0,e.forwardRef)((t,n)=>{const i=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,()=>({instance:()=>i.current?.getInstance()}),[i.current]);const r=(0,e.useMemo)(()=>["items","selectedItemKeys","selectedItems"],[]),o=(0,e.useMemo)(()=>["onContentReady","onDisposing","onGroupRendered","onInitialized","onItemClick","onItemContextMenu","onItemDeleted","onItemDeleting","onItemHold","onItemRendered","onItemReordered","onItemSwipe","onPageLoading","onPullRefresh","onScroll","onSelectAllValueChanged","onSelectionChanging"],[]),s=(0,e.useMemo)(()=>({defaultItems:"items",defaultSelectedItemKeys:"selectedItemKeys",defaultSelectedItems:"selectedItems"}),[]),a=(0,e.useMemo)(()=>({item:{optionName:"items",isCollectionItem:!0},itemDragging:{optionName:"itemDragging",isCollectionItem:!1},menuItem:{optionName:"menuItems",isCollectionItem:!0},searchEditorOptions:{optionName:"searchEditorOptions",isCollectionItem:!1}}),[]),l=(0,e.useMemo)(()=>[{tmplOption:"groupTemplate",render:"groupRender",component:"groupComponent"},{tmplOption:"itemTemplate",render:"itemRender",component:"itemComponent"}],[]);return e.createElement(wx,{WidgetClass:Vw,ref:i,subscribableOptions:r,independentEvents:o,defaults:s,expectedChildren:a,templateProps:l,...t})})),jw=(Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"buttons",IsCollectionItem:!0,ExpectedChildren:{options:{optionName:"options",isCollectionItem:!1}}}}),{componentType:"option"}),Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"cursorOffset"}}),{componentType:"option"}),Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"items",IsCollectionItem:!0,TemplateProps:[{tmplOption:"template",render:"render",component:"component"}]}}),{componentType:"option"}),Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"itemDragging",ExpectedChildren:{cursorOffset:{optionName:"cursorOffset",isCollectionItem:!1}},TemplateProps:[{tmplOption:"dragTemplate",render:"dragRender",component:"dragComponent"}]}}),{componentType:"option"}),Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"menuItems",IsCollectionItem:!0}}),{componentType:"option"}),Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"options",TemplateProps:[{tmplOption:"template",render:"render",component:"component"}]}}),{componentType:"option"}),Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"searchEditorOptions",DefaultsProps:{defaultValue:"value"},ExpectedChildren:{button:{optionName:"buttons",isCollectionItem:!0}}}}),{componentType:"option"}),zw);const Ww=new class{constructor(){this._converters={},this._converters={}}addConverter(e,t){this._converters[e]=t}getConverter(e){return this._converters[e]}},Kw=Ww;class Uw{setQuillInstance(e){this.quillInstance=e}toHtml(){if(this.quillInstance)return this._isQuillEmpty()?"":this.quillInstance.getSemanticHTML(0,this.quillInstance.getLength()+1)}_isQuillEmpty(){const e=this.quillInstance.getContents();return 1===e.length()&&this._isDeltaEmpty(e)}_isDeltaEmpty(e){return e.reduce((e,t)=>{let{insert:n}=t;return-1!==n.indexOf("\n")})}}Kw.addConverter("delta",Uw);var qw=n(132),Gw=n.n(qw);function Zw(){if(!Gw())throw Ps.Error("E1041","Quill");return Gw()}let Yw={};Gw()&&(Yw=Gw().import("attributors/style/align"),Yw.whitelist.push("left"));const Qw=Yw;let Xw={};Gw()&&(Xw=Gw().import("attributors/style/font"),Xw.whitelist=null);const Jw=Xw;let eE={};if(Gw()){const e=Gw().import("formats/image");eE=class extends e{static create(e){const t=e&&e.src||e,n=super.create(t);if(b(e)){const t=(t,i)=>{e[t]&&n.setAttribute(t,i)};t("alt",e.alt),t("width",e.width),t("height",e.height)}return n}static formats(e){const t=super.formats(e);return t.imageSrc=e.getAttribute("src"),t}formats(){const e=super.formats(),t=this.domNode.style.float;return t&&(e.float=t),e}format(e,t){"float"===e?this.domNode.style[e]=t:super.format(e,t)}static value(e){return{src:e.getAttribute("src"),width:e.getAttribute("width"),height:e.getAttribute("height"),alt:e.getAttribute("alt")}}},eE.blotName="extendedImage"}const tE=eE;let nE={};if(Gw()){const e=Gw().import("formats/link");nE=class t extends e{static create(e){const t=(null===e||void 0===e?void 0:e.href)??e,n=super.create(t);return b(e)&&(e.text&&(n.innerText=e.text),e.target||n.removeAttribute("target")),n}static formats(e){return{href:e.getAttribute("href"),target:e.getAttribute("target")}}formats(){const e=super.formats(),{href:n,target:i}=t.formats(this.domNode);return e.link=n,e.target=i,e}format(e,t){"link"===e&&b(t)?(t.text&&(this.domNode.innerText=t.text),t.target?this.domNode.setAttribute("target","_blank"):this.domNode.removeAttribute("target"),this.domNode.setAttribute("href",t.href)):super.format(e,t)}static value(e){return{href:e.getAttribute("href"),text:e.innerText,target:!!e.getAttribute("target")}}}}const iE=nE;let rE={};Gw()&&(rE=Gw().import("attributors/style/size"),rE.whitelist=null);const oE=rE;let sE=class{};if(Gw()){const e=Gw().import("core/module");sE=class extends e{constructor(e,t){super(e,t),this.editorInstance=t.editorInstance}saveValueChangeEvent(e){this.editorInstance._saveValueChangeEvent(e)}addCleanCallback(e){this.editorInstance.addCleanCallback(e)}handleOptionChangeValue(e){b(e)?Object.entries(e).forEach(e=>{let[t,n]=e;return this.option(t,n)}):_(e)||null===this||void 0===this||this.clean()}}}const aE=sE;let lE=aE;Gw()&&(lE=class extends aE{constructor(e,t){super(e,t);const n=this.editorInstance.NAME;rn.on(this.quill.root,or("drop",n),this._dropHandler.bind(this)),rn.on(this.quill.root,or("paste",n),this._pasteHandler.bind(this))}_dropHandler(e){var t;const{dataTransfer:n}=e.originalEvent,i=null===n||void 0===n||null===(t=n.files)||void 0===t?void 0:t.length;this.saveValueChangeEvent(e),e.preventDefault(),i&&this._getImage(n.files,this._addImage.bind(this))}_pasteHandler(e){var t;const{clipboardData:n}=e.originalEvent;if(this.saveValueChangeEvent(e),!n)return;const i=null===(t=n.items)||void 0===t?void 0:t.length;!n.getData("text/html")&&i&&this._getImage(n.items,e=>{br.mozilla||this._addImage(e)})}_isImage(e){return!!e.type.match(/^image\/(a?png|bmp|gif|p?jpe?g|svg|vnd\.microsoft\.icon|webp)/i)}_getImage(e,t){const n=St();l(e,(e,i)=>{if(!this._isImage(i))return;const r=new n.FileReader;r.onload=e=>{let{target:n}=e;t(n.result)};const o=i.getAsFile?i.getAsFile():i;o instanceof n.Blob&&r.readAsDataURL(o)})}_addImage(e){const t=this.quill.getSelection(),n=t?t.index:this.quill.getLength();this.quill.insertEmbed(n,"extendedImage",e,"user")}});const cE=lE,uE=or("dxclick","dxHtmlEditorImageCursor");let dE=aE;Gw()&&(dE=class extends aE{constructor(e,t){super(e,t),this.addCleanCallback(this.clean.bind(this)),this._attachEvents()}_attachEvents(){rn.on(this.quill.root,uE,this._clickHandler.bind(this))}_detachEvents(){rn.off(this.quill.root,uE)}_clickHandler(e){this._isAllowedTarget(e.target)&&this._adjustSelection(e)}_isAllowedTarget(e){return this._isImage(e)}_isImage(e){return"IMG"===e.tagName.toUpperCase()}_adjustSelection(e){const t=this.quill.scroll.find(e.target);if(t){const e=t.offset(this.quill.scroll);this.quill.setSelection(e+1,0)}else this.quill.setSelection(0,0)}clean(){this._detachEvents()}});const hE=dE;class pE extends Kh{_getDefaultOptions(){return K({},super._getDefaultOptions(),{min:0,max:100,value:0})}_initMarkup(){this.$element().addClass("dx-trackbar"),this._renderWrapper(),this._renderContainer(),this._renderRange(),this._renderValue(),this._setRangeStyles(),super._initMarkup()}_render(){super._render(),this._setRangeStyles(this._rangeStylesConfig())}_renderWrapper(){this._$wrapper=Si("<div>").addClass("dx-trackbar-wrapper").appendTo(this.$element())}_renderContainer(){this._$bar=Si("<div>").addClass("dx-trackbar-container").appendTo(this._$wrapper)}_renderRange(){this._$range=Si("<div>").addClass("dx-trackbar-range").appendTo(this._$bar)}_renderValue(){const{value:e,min:t,max:n}=this.option();if(t>n)return;if(e<t)return this.option("value",t),void(this._currentRatio=0);if(e>n)return this.option("value",n),void(this._currentRatio=1);const i=t===n?0:(e-t)/(n-t);this._needPreventAnimation||this._setRangeStyles({width:100*i+"%"}),this.setAria({valuemin:this.option("min"),valuemax:n,valuenow:e}),this._currentRatio=i}_rangeStylesConfig(){return{width:100*this._currentRatio+"%"}}_setRangeStyles(e){Dl.stop(this._$range),e?!this._needPreventAnimation&&Ct()&&Dl.animate(this._$range,{type:"custom",duration:100,to:e}):this._$range.css({width:0})}_optionChanged(e){switch(e.name){case"value":this._renderValue(),super._optionChanged(e);break;case"max":case"min":this._renderValue();break;default:super._optionChanged(e)}}_dispose(){Dl.stop(this._$range),super._dispose()}}Mi("dxTrackBar",pE);const fE=pE,mE="dx-progressbar-animating-segment";class _E extends fE{_getDefaultOptions(){return K({},super._getDefaultOptions(),{value:0,statusFormat:e=>`Progress: ${Math.round(100*e)}%`,showStatus:!0,onComplete:null,activeStateEnabled:!1,statusPosition:"bottom left",_animatingSegmentCount:0})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:e=>"android"===e.platform,options:{_animatingSegmentCount:2}}])}_toggleReadOnlyState(){this.setAria("readonly",void 0)}_initMarkup(){this._renderStatus(),this._createCompleteAction(),super._initMarkup(),this.$element().addClass("dx-progressbar"),this._$wrapper.addClass("dx-progressbar-wrapper"),this._$bar.addClass("dx-progressbar-container"),this.setAria("role","progressbar"),Si("<div>").addClass("dx-progressbar-range-container").appendTo(this._$wrapper).append(this._$bar),this._$range.addClass("dx-progressbar-range");const{showStatus:e}=this.option();this._toggleStatus(e)}_useTemplates(){return!1}_createCompleteAction(){this._completeAction=this._createActionByOption("onComplete")}_renderStatus(){this._$status=Si("<div>").addClass("dx-progressbar-status")}_renderIndeterminateState(){this._$segmentContainer=Si("<div>").addClass("dx-progressbar-animating-container");const{_animatingSegmentCount:e}=this.option();for(let t=0;t<e;t+=1)Si("<div>").addClass(mE).addClass(`${mE}-${t+1}`).appendTo(this._$segmentContainer);this._$segmentContainer.appendTo(this._$wrapper)}_toggleStatus(e){const{statusPosition:t}=this.option(),n=t.split(" ");e?"top"===n[0]||"left"===n[0]?this._$status.prependTo(this._$wrapper):this._$status.appendTo(this._$wrapper):this._$status.detach(),this._togglePositionClass()}_togglePositionClass(){const{statusPosition:e}=this.option(),t=e.split(" ");this._$wrapper.removeClass("dx-position-top-left dx-position-top-right dx-position-bottom-left dx-position-bottom-right dx-position-left dx-position-right");let n=`dx-position-${t[0]}`;t[1]&&(n+=`-${t[1]}`),this._$wrapper.addClass(n)}_toggleIndeterminateState(e){var t;e?(this._renderIndeterminateState(),this._$bar.toggle(!1)):(this._$bar.toggle(!0),null===(t=this._$segmentContainer)||void 0===t||t.remove(),delete this._$segmentContainer)}_renderValue(){const{value:e,max:t}=this.option();e||0===e?(this._$segmentContainer&&this._toggleIndeterminateState(!1),e===t&&this._completeAction(),super._renderValue(),this._setStatus()):this._toggleIndeterminateState(!0)}_setStatus(){const{statusFormat:e}=this.option();let t=e;t=g(t)?t.bind(this):function(e){return e};const n=t(this._currentRatio,this.option("value"));this._$status.text(n)}_dispose(){this._$status.remove(),super._dispose()}_optionChanged(e){const{name:t,value:n}=e;switch(t){case"statusFormat":this._setStatus();break;case"showStatus":this._toggleStatus(n);break;case"statusPosition":{const{showStatus:e}=this.option();this._toggleStatus(e);break}case"onComplete":this._createCompleteAction();break;case"_animatingSegmentCount":break;default:super._optionChanged(e)}}}Mi("dxProgressBar",_E);const gE=_E,vE=St();const yE=()=>!!vE.FormData;class bE extends Kh{_supportedKeys(){const e=e=>{e.preventDefault();const t=this._selectButton.$element();rn.trigger(t,dc)};return A(super._supportedKeys(),{space:e,enter:e})}_setOptionsByReference(){super._setOptionsByReference(),A(this._optionsByReference,{value:!0})}_getDefaultOptions(){return A(super._getDefaultOptions(),{chunkSize:0,value:[],selectButtonText:mr.format("dxFileUploader-selectFile"),uploadButtonText:mr.format("dxFileUploader-upload"),labelText:mr.format("dxFileUploader-dropFile"),name:"files[]",multiple:!1,accept:"",uploadUrl:"/",allowCanceling:!0,showFileList:!0,progress:0,dialogTrigger:void 0,dropZone:void 0,readyToUploadMessage:mr.format("dxFileUploader-readyToUpload"),uploadedMessage:mr.format("dxFileUploader-uploaded"),uploadFailedMessage:mr.format("dxFileUploader-uploadFailedMessage"),uploadAbortedMessage:mr.format("dxFileUploader-uploadAbortedMessage"),uploadMode:"instantly",uploadMethod:"POST",uploadHeaders:{},uploadCustomData:{},onBeforeSend:null,onUploadStarted:null,onUploaded:null,onFilesUploaded:null,onProgress:null,onUploadError:null,onUploadAborted:null,onDropZoneEnter:null,onDropZoneLeave:null,allowedFileExtensions:[],maxFileSize:0,minFileSize:0,inputAttr:{},invalidFileExtensionMessage:mr.format("dxFileUploader-invalidFileExtension"),invalidMaxFileSizeMessage:mr.format("dxFileUploader-invalidMaxFileSize"),invalidMinFileSizeMessage:mr.format("dxFileUploader-invalidMinFileSize"),extendSelection:!0,validationMessageMode:"always",uploadFile:null,uploadChunk:null,abortUpload:null,validationMessageOffset:{h:0,v:0},hoverStateEnabled:!0,useNativeInputClick:!1,useDragOver:!0,nativeDropSupported:!0,_uploadButtonType:"normal",_buttonStylingMode:"contained"})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>"desktop"===Is.real().deviceType&&!Is.isSimulator(),options:{focusStateEnabled:!0}},{device:[{platform:"android"}],options:{validationMessageOffset:{v:0}}},{device:()=>"desktop"!==Is.real().deviceType,options:{useDragOver:!1}},{device:()=>!yE(),options:{uploadMode:"useForm"}},{device:()=>"desktop"!==Is.real().deviceType,options:{nativeDropSupported:!1}},{device:()=>na(),options:{_uploadButtonType:"default"}},{device:()=>ia(),options:{_buttonStylingMode:"text"}}])}_initOptions(e){const t="labelText"in e;super._initOptions(e),t||this._shouldDragOverBeRendered()||this.option("labelText","")}_init(){super._init(),this._initFileInput(),this._initLabel(),this._setUploadStrategy(),this._createFiles(),this._createBeforeSendAction(),this._createUploadStartedAction(),this._createUploadedAction(),this._createFilesUploadedAction(),this._createProgressAction(),this._createUploadErrorAction(),this._createUploadAbortedAction(),this._createDropZoneEnterAction(),this._createDropZoneLeaveAction()}_setUploadStrategy(){if(this.option("chunkSize")>0){const e=this.option("uploadChunk");this._uploadStrategy=e&&g(e)?new EE(this):new wE(this)}else{const e=this.option("uploadFile");this._uploadStrategy=e&&g(e)?new DE(this):new kE(this)}}_initFileInput(){this._isCustomClickEvent=!1;const{multiple:e,accept:t,hint:n}=this.option();this._$fileInput||(this._$fileInput=Si("<input>").attr("type","file"),rn.on(this._$fileInput,"change",this._inputChangeHandler.bind(this)),rn.on(this._$fileInput,"click",e=>(e.stopPropagation(),this._resetInputValue(),this.option("useNativeInputClick")||this._isCustomClickEvent)));const i={multiple:e,accept:t,tabIndex:-1};_(n)&&(i.title=n),this._$fileInput.prop(i)}_inputChangeHandler(){if(this._doPreventInputChange)return;const e=this._$fileInput.val().replace(/^.*\\/,""),t=this._$fileInput.prop("files");if(t&&!t.length&&"useForm"!==this.option("uploadMode"))return;const n=t?this._getFiles(t):[{name:e}];this._changeValue(n),"instantly"===this.option("uploadMode")&&this._uploadFiles()}_shouldFileListBeExtended(){return"useForm"!==this.option("uploadMode")&&this.option("extendSelection")&&this.option("multiple")}_changeValue(e){const t=this._shouldFileListBeExtended()?this.option("value").slice():[];this.option("value",t.concat(e))}_getFiles(e){const t=[];return l(e,(e,n)=>t.push(n)),t}_getFile(e){const t=y(e)?this.option("value")[e]:e;return this._files.filter(e=>e.value===t)[0]}_initLabel(){this._$inputLabel||(this._$inputLabel=Si("<div>")),this._updateInputLabelText()}_updateInputLabelText(){const e=this._isInteractionDisabled()?"":this.option("labelText");this._$inputLabel.text(e)}_focusTarget(){return this.$element().find(".dx-fileuploader-button")}_getSubmitElement(){return this._$fileInput}_initMarkup(){super._initMarkup(),this.$element().addClass("dx-fileuploader"),this._renderWrapper(),this._renderInputWrapper(),this._renderSelectButton(),this._renderInputContainer(),this._renderUploadButton(),this._preventRecreatingFiles=!0,this._activeDropZone=null}_render(){this._preventRecreatingFiles=!1,this._attachDragEventHandlers(this._$inputWrapper),this._attachDragEventHandlers(this.option("dropZone")),this._renderFiles(),super._render()}_createFileProgressBar(e){e.progressBar=this._createProgressBar(e.value.size),e.progressBar.$element().appendTo(e.$file),this._initStatusMessage(e),this._ensureCancelButtonInitialized(e)}_setStatusMessage(e,t){setTimeout(()=>{this.option("showFileList")&&e.$statusMessage&&(e.$statusMessage.text(t),e.$statusMessage.css("display",""),e.progressBar.$element().remove())},400)}_getUploadAbortedStatusMessage(){return"instantly"===this.option("uploadMode")?this.option("uploadAbortedMessage"):this.option("readyToUploadMessage")}_createFiles(){const e=this.option("value");!this._files||0!==(null===e||void 0===e?void 0:e.length)&&this._shouldFileListBeExtended()||(this._preventFilesUploading(this._files),this._files=null),this._files||(this._files=[]),l(null===e||void 0===e?void 0:e.slice(this._files.length),(e,t)=>{const n=this._createFile(t);this._validateFile(n),this._files.push(n)})}_preventFilesUploading(e){e.forEach(e=>this._uploadStrategy.abortUpload(e))}_validateFile(e){e.isValidFileExtension=this._validateFileExtension(e),e.isValidMinSize=this._validateMinFileSize(e),e.isValidMaxSize=this._validateMaxFileSize(e)}_validateFileExtension(e){const t=this.option("allowedFileExtensions"),n=this.option("accept"),i=this._getAllowedFileTypes(n),r=e.value.name.substring(e.value.name.lastIndexOf(".")).toLowerCase();if(0!==(null===n||void 0===n?void 0:n.length)&&!this._isFileTypeAllowed(e.value,i))return!1;if(0===(null===t||void 0===t?void 0:t.length))return!0;for(let o=0;o<t.length;o++)if(r===t[o].toLowerCase())return!0;return!1}_validateMaxFileSize(e){const t=e.value.size,n=this.option("maxFileSize");return!(n>0)||t<=n}_validateMinFileSize(e){const t=e.value.size,n=this.option("minFileSize");return!(n>0)||t>=n}_createBeforeSendAction(){this._beforeSendAction=this._createActionByOption("onBeforeSend",{excludeValidators:["readOnly"]})}_createUploadStartedAction(){this._uploadStartedAction=this._createActionByOption("onUploadStarted",{excludeValidators:["readOnly"]})}_createUploadedAction(){this._uploadedAction=this._createActionByOption("onUploaded",{excludeValidators:["readOnly"]})}_createFilesUploadedAction(){this._filesUploadedAction=this._createActionByOption("onFilesUploaded",{excludeValidators:["readOnly"]})}_createProgressAction(){this._progressAction=this._createActionByOption("onProgress",{excludeValidators:["readOnly"]})}_createUploadAbortedAction(){this._uploadAbortedAction=this._createActionByOption("onUploadAborted",{excludeValidators:["readOnly"]})}_createUploadErrorAction(){this._uploadErrorAction=this._createActionByOption("onUploadError",{excludeValidators:["readOnly"]})}_createDropZoneEnterAction(){this._dropZoneEnterAction=this._createActionByOption("onDropZoneEnter")}_createDropZoneLeaveAction(){this._dropZoneLeaveAction=this._createActionByOption("onDropZoneLeave")}_createFile(e){return{value:e,loadedSize:0,onProgress:s(),onAbort:s(),onLoad:s(),onError:s(),onLoadStart:s(),isValidFileExtension:!0,isValidMaxSize:!0,isValidMinSize:!0,isValid(){return this.isValidFileExtension&&this.isValidMaxSize&&this.isValidMinSize},isInitialized:!1}}_resetFileState(e){e.isAborted=!1,e.uploadStarted=!1,e.isStartLoad=!1,e.loadedSize=0,e.chunksData=void 0,e.request=void 0}_renderFiles(){var e;const t=this.option("value");this._$filesContainer?this._shouldFileListBeExtended()&&0!==(null===t||void 0===t?void 0:t.length)||this._$filesContainer.empty():this._$filesContainer=Si("<div>").addClass("dx-fileuploader-files-container").appendTo(this._$content);const n=this.option("showFileList");n&&l(this._files,(e,t)=>{t.$file||this._renderFile(t)}),this.$element().toggleClass("dx-fileuploader-show-file-list",n),this._toggleFileUploaderEmptyClassName(),this._updateFileNameMaxWidth(),null===(e=this._validationMessage)||void 0===e||e.repaint()}_renderFile(e){const{value:t}=e,n=Si("<div>").addClass("dx-fileuploader-file-container").appendTo(this._$filesContainer);this._renderFileButtons(e,n),e.$file=Si("<div>").addClass("dx-fileuploader-file").appendTo(n);const i=Si("<div>").addClass("dx-fileuploader-file-info").appendTo(e.$file);e.$statusMessage=Si("<div>").addClass("dx-fileuploader-file-status-message").appendTo(e.$file),Si("<div>").addClass("dx-fileuploader-file-name").text(t.name).appendTo(i),_(t.size)&&Si("<div>").addClass("dx-fileuploader-file-size").text(this._getFileSize(t.size)).appendTo(i),e.isValid()?e.$statusMessage.text(this.option("readyToUploadMessage")):(e.isValidFileExtension||e.$statusMessage.append(this._createValidationElement("invalidFileExtensionMessage")),e.isValidMaxSize||e.$statusMessage.append(this._createValidationElement("invalidMaxFileSizeMessage")),e.isValidMinSize||e.$statusMessage.append(this._createValidationElement("invalidMinFileSizeMessage")),n.addClass("dx-fileuploader-invalid"))}_createValidationElement(e){return Si("<span>").text(this.option(e))}_updateFileNameMaxWidth(){const e=this.option("allowCanceling")&&"useForm"!==this.option("uploadMode")?1:0,t="useButtons"===this.option("uploadMode")?1:0,n=$n(this._$filesContainer.find(".dx-fileuploader-file-container").first())||$n(this._$filesContainer),i=this._$filesContainer.find(".dx-fileuploader-button-container").eq(0),r=$n(i)*(e+t),o=this._$filesContainer.find(".dx-fileuploader-file-size").eq(0),s=o.text();o.text("1000 Mb");const a=$n(o);o.text(s),this._$filesContainer.find(".dx-fileuploader-file-name").css("maxWidth",n-r-a)}_renderFileButtons(e,t){const n=this._getCancelButton(e);n&&t.append(n);const i=this._getUploadButton(e);i&&t.append(i)}_getCancelButton(e){if("useForm"===this.option("uploadMode"))return null;const{allowCanceling:t,readOnly:n,hoverStateEnabled:i,_buttonStylingMode:r}=this.option();return e.cancelButton=this._createComponent(Si("<div>").addClass("dx-fileuploader-button dx-fileuploader-cancel-button"),g_,{onClick:()=>this._removeFile(e),icon:"close",visible:t,disabled:n,integrationOptions:{},hoverStateEnabled:i,stylingMode:r}),Si("<div>").addClass("dx-fileuploader-button-container").append(e.cancelButton.$element())}_getUploadButton(e){if(!e.isValid()||"useButtons"!==this.option("uploadMode"))return null;const{hoverStateEnabled:t,_buttonStylingMode:n}=this.option();return e.uploadButton=this._createComponent(Si("<div>").addClass("dx-fileuploader-button dx-fileuploader-upload-button"),g_,{onClick:()=>this._uploadFile(e),icon:"upload",hoverStateEnabled:t,stylingMode:n}),e.onLoadStart.add(()=>e.uploadButton.option({visible:!1,disabled:!0})),e.onAbort.add(()=>e.uploadButton.option({visible:!0,disabled:!1})),Si("<div>").addClass("dx-fileuploader-button-container").append(e.uploadButton.$element())}_removeFile(e){var t;null===(t=e.$file)||void 0===t||t.parent().remove(),this._files.splice(this._files.indexOf(e),1);const n=this.option("value").slice();n.splice(n.indexOf(e.value),1),this._preventRecreatingFiles=!0,this.option("value",n),this._preventRecreatingFiles=!1,this._toggleFileUploaderEmptyClassName(),this._resetInputValue(!0)}removeFile(e){if("useForm"===this.option("uploadMode")||!_(e))return;const t=this._getFile(e);t&&(t.uploadStarted&&this._preventFilesUploading([t]),this._removeFile(t))}_toggleFileUploaderEmptyClassName(){this.$element().toggleClass("dx-fileuploader-empty",!this._files.length||this._hasInvalidFile(this._files))}_hasInvalidFile(e){for(let t=0;t<e.length;t++)if(!e[t].isValid())return!0;return!1}_getFileSize(e){let t=0;const n=[mr.format("dxFileUploader-bytes"),mr.format("dxFileUploader-kb"),mr.format("dxFileUploader-Mb"),mr.format("dxFileUploader-Gb")],i=n.length-1;for(;t<i&&e>=1024;)e/=1024,t++;return`${Math.round(e)} ${n[t]}`}_renderSelectButton(){const e=Si("<div>").addClass("dx-fileuploader-button").appendTo(this._$inputWrapper);this._selectButton=this._createComponent(e,g_,{text:this.option("selectButtonText"),focusStateEnabled:!1,integrationOptions:{},disabled:this.option("readOnly"),hoverStateEnabled:this.option("hoverStateEnabled")}),"desktop"===Is.real().deviceType?this._selectButton.option("onClick",()=>this._selectFileDialogClickHandler()):this._attachSelectFileDialogHandlers(this._selectButton.$element());const{dialogTrigger:t}=this.option();this._attachSelectFileDialogHandlers(t)}_selectFileDialogClickHandler(){if(!this.option("useNativeInputClick")){if(this._isInteractionDisabled())return!1;this._isCustomClickEvent=!0,rn.trigger(this._$fileInput,"click"),this._isCustomClickEvent=!1}}_attachSelectFileDialogHandlers(e){if(!_(e))return;this._detachSelectFileDialogHandlers(e);const t=Si(e);rn.on(t,or("click","dxFileUploaderDialogTrigger"),()=>{this._selectFileDialogClickHandler()}),rn.on(t,or("keyup","dxFileUploaderDialogTrigger"),e=>{const t=ir(e);"enter"!==t&&"space"!==t||this._selectFileDialogClickHandler()})}_detachSelectFileDialogHandlers(e){if(!_(e))return;const t=Si(e);rn.off(t,".dxFileUploaderDialogTrigger")}_renderUploadButton(){if("useButtons"!==this.option("uploadMode"))return;const e=Si("<div>").addClass("dx-fileuploader-button").addClass("dx-fileuploader-upload-button").appendTo(this._$content);this._uploadButton=this._createComponent(e,g_,{text:this.option("uploadButtonText"),onClick:this._uploadButtonClickHandler.bind(this),type:this.option("_uploadButtonType"),integrationOptions:{},hoverStateEnabled:this.option("hoverStateEnabled")})}_uploadButtonClickHandler(){this._uploadFiles()}_shouldDragOverBeRendered(){return!this.option("readOnly")&&("useForm"!==this.option("uploadMode")||this.option("nativeDropSupported"))}_isInteractionDisabled(){return this.option("readOnly")||this.option("disabled")}_renderInputContainer(){this._$inputContainer=Si("<div>").addClass("dx-fileuploader-input-container").appendTo(this._$inputWrapper),this._$fileInput.addClass("dx-fileuploader-input"),this._renderInput();const e=`dx-fileuploader-input-label-${new ce}`;this._$inputLabel.attr("id",e).addClass("dx-fileuploader-input-label").appendTo(this._$inputContainer),this.setAria("labelledby",e,this._$fileInput)}_renderInput(){this.option("useNativeInputClick")?this._selectButton.option("template",this._selectButtonInputTemplate.bind(this)):(this._$fileInput.appendTo(this._$inputContainer),this._selectButton.option("template","content")),this._applyInputAttributes(this.option("inputAttr"))}_selectButtonInputTemplate(e,t){const n=Si(t),i=Si("<span>").addClass("dx-button-text").text(e.text);return n.append(i).append(this._$fileInput),n}_renderInputWrapper(){this._$inputWrapper=Si("<div>").addClass("dx-fileuploader-input-wrapper").appendTo(this._$content)}_detachDragEventHandlers(e){_(e)&&rn.off(Si(e),or("",this.NAME))}_attachDragEventHandlers(e){const t=e!==this._$inputWrapper;_(e)&&this._shouldDragOverBeRendered()&&(this._detachDragEventHandlers(e),e=Si(e),rn.on(e,or("dragenter",this.NAME),this._dragEnterHandler.bind(this,t)),rn.on(e,or("dragover",this.NAME),this._dragOverHandler.bind(this,t)),rn.on(e,or("dragleave",this.NAME),this._dragLeaveHandler.bind(this,t)),rn.on(e,or("drop",this.NAME),this._dropHandler.bind(this,t)))}_applyInputAttributes(e){this._$fileInput.attr(e)}_useInputForDrop(){return this.option("nativeDropSupported")&&"useForm"===this.option("uploadMode")}_getDropZoneElement(e,t){let n=e?Array.from(Si(this.option("dropZone"))):[this._$inputWrapper];return n=n.map(e=>Si(e).get(0)),n[n.indexOf(t.currentTarget)]}_dragEnterHandler(e,t){if(this.option("disabled"))return!1;this._useInputForDrop()||t.preventDefault();const n=this._getDropZoneElement(e,t);_(n)&&this._shouldRaiseDragOver(t,n)&&(this._activeDropZone=n,this._tryToggleDropZoneActive(!0,e,t))}_shouldRaiseDragOver(e,t){return null===this._activeDropZone&&this.isMouseOverElement(e,t,!1)&&e.originalEvent.dataTransfer.types.find(e=>"Files"===e)}_dragOverHandler(e,t){if(this._useInputForDrop()||t.preventDefault(),t.originalEvent.dataTransfer.dropEffect="copy",!e){const e=this._getDropZoneElement(!1,t);this._shouldRaiseDragOver(t,e)&&this._dragEnterHandler(!1,t),this._shouldRaiseDragLeave(t,!1)&&this._dragLeaveHandler(!1,t)}}_dragLeaveHandler(e,t){this._useInputForDrop()||t.preventDefault(),this._shouldRaiseDragLeave(t,e)&&(this._tryToggleDropZoneActive(!1,e,t),this._activeDropZone=null)}_shouldRaiseDragLeave(e,t){return null!==this._activeDropZone&&!this.isMouseOverElement(e,this._activeDropZone,!t,-1)}_tryToggleDropZoneActive(e,t,n){const i=e?"addClass":"removeClass";this[e?"_dropZoneEnterAction":"_dropZoneLeaveAction"]({event:n,dropZoneElement:this._activeDropZone}),t||this.$element()[i]("dx-fileuploader-dragover")}_dropHandler(e,t){if(this._activeDropZone=null,e||this.$element().removeClass("dx-fileuploader-dragover"),this._useInputForDrop()||e&&this._isInteractionDisabled())return;t.preventDefault();const n=t.originalEvent.dataTransfer.files,i=this._getFiles(n);!this.option("multiple")&&i.length>1||0===i.length||(this._changeValue(i),"instantly"===this.option("uploadMode")&&this._uploadFiles())}_areAllFilesLoaded(){return this._files.every(e=>!e.isValid()||e._isError||e._isLoaded||e.isAborted)}_handleAllFilesUploaded(){this._recalculateProgress(),this._areAllFilesLoaded()&&this._filesUploadedAction()}_getAllowedFileTypes(e){return e.length?e.split(",").map(e=>e.trim()):[]}_isFileTypeAllowed(e,t){for(let n=0,i=t.length;n<i;n++){let i=t[n];if("."===i[0]){if(i=i.replace(".","\\."),e.name.match(new RegExp(`${i}$`,"i")))return!0}else if(i=i.replace(new RegExp("\\*","g"),""),e.type.match(new RegExp(i,"i")))return!0}return!1}_renderWrapper(){const e=Si("<div>").addClass("dx-fileuploader-wrapper").appendTo(this.$element()),t=Si("<div>").addClass("dx-fileuploader-container").appendTo(e);this._$content=Si("<div>").addClass("dx-fileuploader-content").appendTo(t)}_clean(){this._$fileInput.detach(),delete this._$filesContainer;const{dialogTrigger:e}=this.option();this._detachSelectFileDialogHandlers(e),this._detachDragEventHandlers(this.option("dropZone")),this._files&&this._files.forEach(e=>{e.$file=null,e.$statusMessage=null}),super._clean()}abortUpload(e){if("useForm"!==this.option("uploadMode"))if(_(e)){const t=this._getFile(e);t&&this._preventFilesUploading([t])}else this._preventFilesUploading(this._files)}upload(e){if("useForm"!==this.option("uploadMode"))if(_(e)){const t=this._getFile(e);t&&yE()&&this._uploadFile(t)}else this._uploadFiles()}_uploadFiles(){yE()&&l(this._files,(e,t)=>this._uploadFile(t))}_uploadFile(e){this._uploadStrategy.upload(e)}_updateProgressBar(e,t){e.progressBar&&e.progressBar.option({value:t.loaded,showStatus:!0}),this._progressAction({file:e.value,segmentSize:t.currentSegmentSize,bytesLoaded:t.loaded,bytesTotal:t.total,event:t.event,request:e.request})}_updateTotalProgress(e,t){let n=0;_(e)&&(this._files.length>0&&this._areAllFilesLoaded()&&0===e&&0===t?n=this._getProgressValue(1):e&&(n=this._getProgressValue(t/e))),this.option("progress",n),this._setLoadedSize(t)}_getProgressValue(e){return Math.floor(100*e)}_initStatusMessage(e){e.$statusMessage.css("display","none")}_ensureCancelButtonInitialized(e){if(e.isInitialized)return;e.cancelButton.option("onClick",()=>{this._preventFilesUploading([e]),this._removeFile(e)});const t=()=>{setTimeout(()=>{e.cancelButton.option({visible:!1})},400)};e.onLoad.add(t),e.onError.add(t)}_createProgressBar(e){return this._createComponent(Si("<div>"),gE,{value:void 0,min:0,max:e,statusFormat:e=>`${this._getProgressValue(e)}%`,showStatus:!1,statusPosition:"right"})}_getTotalFilesSize(){return this._totalFilesSize||(this._totalFilesSize=0,l(this._files,(e,t)=>{this._totalFilesSize+=t.value.size})),this._totalFilesSize}_getTotalLoadedFilesSize(){return this._totalLoadedFilesSize||(this._totalLoadedFilesSize=0,l(this._files,(e,t)=>{this._totalLoadedFilesSize+=t.loadedSize})),this._totalLoadedFilesSize}_setLoadedSize(e){this._totalLoadedFilesSize=e}_recalculateProgress(){this._totalFilesSize=0,this._totalLoadedFilesSize=0,this._updateTotalProgress(this._getTotalFilesSize(),this._getTotalLoadedFilesSize())}isMouseOverElement(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;if(!t)return!1;const r=n?parseFloat(vE.getComputedStyle(t,":before").height):0,o=n?parseFloat(vE.getComputedStyle(t,":after").height):0,s=Gn(t).left,a=Gn(t).top+r,l=t.offsetWidth,c=t.offsetHeight-r-o,u=this._getEventX(e),d=this._getEventY(e);return u+i>=s&&u-i<s+l&&d+i>=a&&d-i<a+c}_getEventX(e){return Yi(e)?this._getTouchEventX(e):e.clientX+this._getDocumentScrollLeft()}_getEventY(e){return Yi(e)?this._getTouchEventY(e):e.clientY+this._getDocumentScrollTop()}_getTouchEventX(e){let t=null;return e.changedTouches.length>0?t=e.changedTouches:e.targetTouches.length>0&&(t=e.targetTouches),t?t[0].pageX:0}_getTouchEventY(e){let t=null;return e.changedTouches.length>0?t=e.changedTouches:e.targetTouches.length>0&&(t=e.targetTouches),t?t[0].pageY:0}_getDocumentScrollTop(){const e=mt.getDocument();return e.documentElement.scrollTop||e.body.scrollTop}_getDocumentScrollLeft(){const e=mt.getDocument();return e.documentElement.scrollLeft||e.body.scrollLeft}_updateReadOnlyState(){const e=this.option("readOnly");this._selectButton.option("disabled",e),this._files.forEach(t=>{var n;return null===(n=t.cancelButton)||void 0===n?void 0:n.option("disabled",e)}),this._updateInputLabelText(),this._attachDragEventHandlers(this._$inputWrapper)}_updateHoverState(){var e,t;const n=this.option("hoverStateEnabled");null===(e=this._selectButton)||void 0===e||e.option("hoverStateEnabled",n),null===(t=this._uploadButton)||void 0===t||t.option("hoverStateEnabled",n),this._files.forEach(e=>{var t,i;null===(t=e.uploadButton)||void 0===t||t.option("hoverStateEnabled",n),null===(i=e.cancelButton)||void 0===i||i.option("hoverStateEnabled",n)})}_optionChanged(e){const{name:t,value:n,previousValue:i}=e;switch(t){case"height":case"width":this._updateFileNameMaxWidth(),super._optionChanged(e);break;case"value":!n.length&&this._$fileInput.val(""),this._preventRecreatingFiles||(this._createFiles(),this._renderFiles()),this._recalculateProgress(),super._optionChanged(e);break;case"name":case"hint":this._initFileInput(),super._optionChanged(e);break;case"accept":this._initFileInput();break;case"multiple":this._initFileInput(),e.value||this.clear();break;case"readOnly":this._updateReadOnlyState(),super._optionChanged(e);break;case"disabled":this._updateInputLabelText(),super._optionChanged(e);break;case"selectButtonText":this._selectButton.option("text",n);break;case"uploadButtonText":this._uploadButton&&this._uploadButton.option("text",n);break;case"_uploadButtonType":this._uploadButton&&this._uploadButton.option("type",n);break;case"_buttonStylingMode":this._files.forEach(e=>{var t,i;null===(t=e.uploadButton)||void 0===t||t.option("stylingMode",n),null===(i=e.cancelButton)||void 0===i||i.option("stylingMode",n)});break;case"dialogTrigger":this._detachSelectFileDialogHandlers(i),this._attachSelectFileDialogHandlers(n);break;case"dropZone":this._detachDragEventHandlers(i),this._attachDragEventHandlers(n);break;case"maxFileSize":case"minFileSize":case"allowedFileExtensions":case"invalidFileExtensionMessage":case"invalidMaxFileSizeMessage":case"invalidMinFileSizeMessage":case"readyToUploadMessage":case"uploadedMessage":case"uploadFailedMessage":case"uploadAbortedMessage":case"nativeDropSupported":this._invalidate();break;case"labelText":this._updateInputLabelText();break;case"showFileList":this._preventRecreatingFiles||this._renderFiles();break;case"uploadFile":case"uploadChunk":case"chunkSize":this._setUploadStrategy();break;case"abortUpload":case"uploadUrl":case"progress":case"uploadMethod":case"uploadHeaders":case"uploadCustomData":case"extendSelection":break;case"hoverStateEnabled":this._updateHoverState(),super._optionChanged(e);break;case"allowCanceling":case"uploadMode":this.clear(),this._invalidate();break;case"onBeforeSend":this._createBeforeSendAction();break;case"onUploadStarted":this._createUploadStartedAction();break;case"onUploaded":this._createUploadedAction();break;case"onFilesUploaded":this._createFilesUploadedAction();break;case"onProgress":this._createProgressAction();break;case"onUploadError":this._createUploadErrorAction();break;case"onUploadAborted":this._createUploadAbortedAction();break;case"onDropZoneEnter":this._createDropZoneEnterAction();break;case"onDropZoneLeave":this._createDropZoneLeaveAction();break;case"useNativeInputClick":this._renderInput();break;case"useDragOver":this._attachDragEventHandlers(this._$inputWrapper);break;case"inputAttr":this._applyInputAttributes(this.option(t));break;default:super._optionChanged(e)}}_resetInputValue(e){("useForm"!==this.option("uploadMode")||e)&&(this._doPreventInputChange=!0,this._$fileInput.val(""),this._doPreventInputChange=!1)}clear(){this.option("value",[])}}class CE{constructor(e,t){this.file=e,this.chunkSize=t,this.index=0}read(){if(!this.file)return null;const e=this.createBlobResult(this.file,this.index,this.chunkSize);return e.isCompleted&&(this.file=null),this.index++,e}createBlobResult(e,t,n){const i=t*n;return{blob:this.sliceFile(e,i,n),index:t,isCompleted:i+n>=e.size}}sliceFile(e,t,n){return e.slice?e.slice(t,t+n):e.webkitSlice?e.webkitSlice(t,t+n):null}}class xE{constructor(e){this.fileUploader=e}upload(e){e.isInitialized&&e.isAborted&&this.fileUploader._resetFileState(e),e.isValid()&&!e.uploadStarted&&(this._prepareFileBeforeUpload(e),this._uploadCore(e))}abortUpload(e){if(!(e._isError||e._isLoaded||e.isAborted)&&e.uploadStarted&&(e.isAborted=!0,e.request&&e.request.abort(),this._isCustomCallback("abortUpload"))){const t=this.fileUploader.option("abortUpload"),n=this._createUploadArgument(e);let i=null;try{i=Pe(t(e.value,n))}catch(z){i=Re().reject(z).promise()}i.done(()=>e.onAbort.fire()).fail(t=>this._handleFileError(e,t))}}_beforeSend(e,t){const n=this._createUploadArgument(t);this.fileUploader._beforeSendAction({request:e,file:t.value,uploadInfo:n}),t.request=e}_createUploadArgument(e){}_uploadCore(e){}_isCustomCallback(e){const t=this.fileUploader.option(e);return t&&g(t)}_handleProgress(e,t){e._isError||(e._isProgressStarted=!0,this._handleProgressCore(e,t))}_handleProgressCore(e,t){}_handleFileError(e,t){e._isError=!0,e.onError.fire(t)}_prepareFileBeforeUpload(e){var t;e.$file&&(null===(t=e.progressBar)||void 0===t||t.dispose(),this.fileUploader._createFileProgressBar(e));e.isInitialized||(e.onLoadStart.add(this._onUploadStarted.bind(this,e)),e.onLoad.add(this._onLoadedHandler.bind(this,e)),e.onError.add(this._onErrorHandler.bind(this,e)),e.onAbort.add(this._onAbortHandler.bind(this,e)),e.onProgress.add(this._onProgressHandler.bind(this,e)),e.isInitialized=!0)}_shouldHandleError(e,t){return(this._isStatusError(t.status)||!e._isProgressStarted)&&!e.isAborted}_isStatusError(e){return e>=400&&e<500||e>=500&&e<600}_onUploadStarted(e,t){e.uploadStarted=!0,this.fileUploader._uploadStartedAction({file:e.value,event:t,request:e.request})}_onAbortHandler(e,t){const n={file:e.value,event:t,request:e.request,message:this.fileUploader._getUploadAbortedStatusMessage()};this.fileUploader._uploadAbortedAction(n),this.fileUploader._setStatusMessage(e,n.message),this.fileUploader._handleAllFilesUploaded()}_onErrorHandler(e,t){const n={file:e.value,event:void 0,request:e.request,error:t,message:this.fileUploader.option("uploadFailedMessage")};this.fileUploader._uploadErrorAction(n),this.fileUploader._setStatusMessage(e,n.message),this.fileUploader._handleAllFilesUploaded()}_onLoadedHandler(e,t){const n={file:e.value,event:t,request:e.request,message:this.fileUploader.option("uploadedMessage")};e._isLoaded=!0,this.fileUploader._uploadedAction(n),this.fileUploader._setStatusMessage(e,n.message),this.fileUploader._handleAllFilesUploaded()}_onProgressHandler(e,t){if(e){const n=this.fileUploader._getTotalFilesSize(),i=this.fileUploader._getTotalLoadedFilesSize(),r=Math.min(t.loaded,e.value.size),o=r-e.loadedSize;e.loadedSize=r,this.fileUploader._updateTotalProgress(n,i+o),this.fileUploader._updateProgressBar(e,this._getLoadedData(r,t.total,o,t))}}_getLoadedData(e,t,n,i){return{loaded:e,total:t,currentSegmentSize:n}}_extendFormData(e){const t=this.fileUploader.option("uploadCustomData");for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&_(t[n])&&e.append(n,t[n])}}class SE extends xE{constructor(e){super(e),this.chunkSize=this.fileUploader.option("chunkSize")}_uploadCore(e){const t=e.value,n={name:t.name,loadedBytes:0,type:t.type,blobReader:new CE(t,this.chunkSize),guid:new ce,fileSize:t.size,count:this._getFileChunksCount(t),customData:{}};e.chunksData=n,this._sendChunk(e,n)}_getFileChunksCount(e){return 0===e.size?1:Math.ceil(e.size/this.chunkSize)}_sendChunk(e,t){const n=t.blobReader.read();t.currentChunk=n,n&&this._sendChunkCore(e,t,n).done(()=>{e.isAborted||(t.loadedBytes+=n.blob.size,e.onProgress.fire({loaded:t.loadedBytes,total:e.value.size}),n.isCompleted&&e.onLoad.fire(),setTimeout(()=>this._sendChunk(e,t)))}).fail(t=>{this._shouldHandleError(e,t)&&this._handleFileError(e,t)})}_sendChunkCore(e,t,n){}_tryRaiseStartLoad(e){e.isStartLoad||(e.isStartLoad=!0,e.onLoadStart.fire())}_getEvent(e){return null}_createUploadArgument(e){return this._createChunksInfo(e.chunksData)}_createChunksInfo(e){return{bytesUploaded:e.loadedBytes,chunkCount:e.count,customData:e.customData,chunkBlob:e.currentChunk.blob,chunkIndex:e.currentChunk.index}}}class wE extends SE{_sendChunkCore(e,t,n){return uy.sendRequest({url:this.fileUploader.option("uploadUrl"),method:this.fileUploader.option("uploadMethod"),headers:this.fileUploader.option("uploadHeaders"),beforeSend:t=>this._beforeSend(t,e),upload:{onprogress:t=>this._handleProgress(e,t),onloadstart:()=>this._tryRaiseStartLoad(e),onabort:()=>e.onAbort.fire()},data:this._createFormData({fileName:t.name,blobName:this.fileUploader.option("name"),blob:n.blob,index:n.index,count:t.count,type:t.type,guid:t.guid,size:t.fileSize})})}_createFormData(e){const t=new vE.FormData;return t.append(e.blobName,e.blob),t.append("chunkMetadata",JSON.stringify({FileName:e.fileName,Index:e.index,TotalCount:e.count,FileSize:e.size,FileType:e.type,FileGuid:e.guid})),this._extendFormData(t),t}}class EE extends SE{_sendChunkCore(e,t){this._tryRaiseStartLoad(e);const n=this._createChunksInfo(t),i=this.fileUploader.option("uploadChunk");try{return Pe(i(e.value,n))}catch(z){return Re().reject(z).promise()}}_shouldHandleError(e,t){return!0}}class IE extends xE{_uploadCore(e){e.loadedSize=0,this._uploadFile(e).done(()=>{e.isAborted||e.onLoad.fire()}).fail(t=>{this._shouldHandleError(e,t)&&this._handleFileError(e,t)})}_uploadFile(e){}_handleProgressCore(e,t){e.onProgress.fire(t)}_getLoadedData(e,t,n,i){const r=super._getLoadedData(e,t,n,i);return r.event=i,r}}class kE extends IE{_uploadFile(e){return uy.sendRequest({url:this.fileUploader.option("uploadUrl"),method:this.fileUploader.option("uploadMethod"),headers:this.fileUploader.option("uploadHeaders"),beforeSend:t=>this._beforeSend(t,e),upload:{onprogress:t=>this._handleProgress(e,t),onloadstart:()=>e.onLoadStart.fire(),onabort:()=>e.onAbort.fire()},data:this._createFormData(this.fileUploader.option("name"),e.value)})}_createFormData(e,t){const n=new vE.FormData;return n.append(e,t,t.name),this._extendFormData(n),n}}class DE extends IE{_uploadFile(e){e.onLoadStart.fire();const t=t=>{const n={loaded:t,total:e.value.size};this._handleProgress(e,n)},n=this.fileUploader.option("uploadFile");try{return Pe(n(e.value,t))}catch(z){return Re().reject(z).promise()}}_shouldHandleError(e,t){return!0}}Mi("dxFileUploader",bE);const OE=bE,TE=eb,AE="dx-buttongroup-item-has-width",PE={contained:"dx-buttongroup-mode-contained",outlined:"dx-buttongroup-mode-outlined",text:"dx-buttongroup-mode-text"};class ME extends TE{_initTemplates(){super._initTemplates(),this._templateManager.addDefaultTemplates({item:new Bg((e,t,n)=>{this._prepareItemStyles(e);const i=this.option("buttonTemplate");this._createComponent(e,g_,A({},n,t,this._getBasicButtonOptions(),{_templateData:this._hasCustomTemplate(i)?n:{},template:n.template||i}))},["text","type","icon","disabled","visible","hint"],this.option("integrationOptions.watchMethod"))})}_getBasicButtonOptions(){const{hoverStateEnabled:e,activeStateEnabled:t,stylingMode:n}=this.option();return{focusStateEnabled:!1,onClick:null,hoverStateEnabled:e,activeStateEnabled:t,stylingMode:n}}_getDefaultOptions(){return K({},super._getDefaultOptions(),{itemTemplateProperty:null})}_hasCustomTemplate(e){return g(e)||this.option("integrationOptions.templates")[e]}_selectedItemClass(){return"dx-item-selected dx-state-selected"}_prepareItemStyles(e){const t=e.data("dxItemIndex");0===t&&e.addClass("dx-buttongroup-first-item");const{items:n}=this.option();n&&t===n.length-1&&e.addClass("dx-buttongroup-last-item"),e.addClass("dx-shape-standard")}_renderItemContent(e){return e.container=Si(e.container).parent(),super._renderItemContent(e)}_setAriaSelectionAttribute(e,t){this.setAria("pressed",t,e)}_renderItemContentByNode(e,t){return e.container=Si(e.container.children().first()),super._renderItemContentByNode(e,t)}_focusTarget(){return this.$element().parent()}_keyboardEventBindingTarget(){return this._focusTarget()}_refreshContent(){this._prepareContent(),this._renderContent()}_itemClass(){return"dx-buttongroup-item"}_itemSelectHandler(e){const{selectionMode:t}=this.option();"single"===t&&this.isItemSelected(e.currentTarget)||super._itemSelectHandler(e)}}class RE extends yd{_getDefaultOptions(){return K({},super._getDefaultOptions(),{hoverStateEnabled:!0,focusStateEnabled:!0,selectionMode:"single",selectedItems:[],selectedItemKeys:[],stylingMode:"contained",keyExpr:"text",items:[],buttonTemplate:"content",onSelectionChanged:null,onItemClick:null})}_init(){super._init(),this._createItemClickAction()}_createItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")}_initMarkup(){this.setAria("role","group"),this.$element().addClass("dx-buttongroup"),this._renderStylingMode(),this._renderButtons(),this._syncSelectionOptions(),super._initMarkup()}_renderStylingMode(){const{stylingMode:e}=this.option();for(const t in PE)this.$element().removeClass(PE[t]);this.$element().addClass(PE[e??"contained"])}_fireSelectionChangeEvent(e,t){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:e,removedItems:t})}_renderButtons(){const e=Si("<div>").addClass("dx-buttongroup-wrapper").appendTo(this.$element()),{selectedItems:t}=this.option(),n={selectionMode:this.option("selectionMode"),items:this.option("items"),keyExpr:this.option("keyExpr"),buttonTemplate:this.option("buttonTemplate"),scrollingEnabled:!1,selectedItemKeys:this.option("selectedItemKeys"),focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),activeStateEnabled:this.option("activeStateEnabled"),stylingMode:this.option("stylingMode"),accessKey:this.option("accessKey"),tabIndex:this.option("tabIndex"),noDataText:"",selectionRequired:!1,onItemRendered:e=>{const t=this.option("width");_(t)&&Si(e.itemElement).addClass(AE)},onSelectionChanged:e=>{this._syncSelectionOptions(),this._fireSelectionChangeEvent(e.addedItems,e.removedItems)},onItemClick:e=>{this._itemClickAction(e)}};_(t)&&t.length&&(n.selectedItems=t),this._buttonsCollection=this._createComponent(e,ME,n)}_syncSelectionOptions(){this._setOptionWithoutOptionChange("selectedItems",this._buttonsCollection.option("selectedItems")),this._setOptionWithoutOptionChange("selectedItemKeys",this._buttonsCollection.option("selectedItemKeys"))}_optionChanged(e){switch(e.name){case"stylingMode":case"selectionMode":case"keyExpr":case"buttonTemplate":case"items":case"activeStateEnabled":case"focusStateEnabled":case"hoverStateEnabled":case"tabIndex":this._invalidate();break;case"selectedItemKeys":case"selectedItems":this._buttonsCollection.option(e.name,e.value);break;case"onItemClick":this._createItemClickAction();break;case"onSelectionChanged":break;case"width":super._optionChanged(e),this._buttonsCollection.itemElements().toggleClass(AE,!!e.value);break;default:super._optionChanged(e)}}}Mi("dxButtonGroup",RE);const BE=RE,NE=["imageSrc","src"],FE="phone"===Is.current().deviceType;class $E{constructor(e,t){this.module=e,this.config=t??{},this.quill=this.module.quill,this.editorInstance=this.module.editorInstance}render(){this.editorInstance._formDialog&&(this.editorInstance._formDialog.beforeAddButtonAction=()=>this.getCurrentTab().upload()),this.tabPanelIndex=0,this.formData=this.getFormData(),this.isUpdating=this.isImageUpdating(),this.tabsModel=this.createTabsModel(this.config.tabs),this.tabs=this.createTabs(this.formData);const e=this.getFormConfig();this.updatePopupConfig(),this.updateAddButtonState(),this.editorInstance.showFormDialog(e).done((e,t)=>{this.tabs[this.getActiveTabIndex()].strategy.pasteImage(e,t)}).always(()=>{this.resetDialogPopupOptions(),this.quill.focus()})}getCurrentTab(){return this.tabs[this.tabPanelIndex]}updateAddButtonState(){const e=this.getCurrentTab().isDisableButton();this.setAddButtonDisabled(e)}setAddButtonDisabled(e){this.editorInstance.formDialogOption({"toolbarItems[0].options.disabled":e})}getActiveTabIndex(){return this.isUpdating?0:this.tabPanelIndex}getFormData(){return this.getUpdateDialogFormData(this.quill.getFormat())}getUpdateDialogFormData(e){const{imageSrc:t,src:n}=e;return K({src:t??n},tu(e,NE))}createUrlTab(e){return new LE(this.module,{config:this.config,formData:e,isUpdating:this.isUpdating},()=>this.updateAddButtonState())}createFileTab(){return new VE(this.module,{config:this.config},()=>this.updateAddButtonState())}createTabsModel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return 0===e.length||this.isUpdating?["url"]:e.map(e=>"object"===typeof e?e.name:e)}createTabs(e){return this.tabsModel.map(t=>"url"===t?this.createUrlTab(e):this.createFileTab())}isImageUpdating(){return Object.prototype.hasOwnProperty.call(this.module.quill.getFormat()??{},"imageSrc")}updatePopupConfig(){let e="dx-htmleditor-add-image-popup dx-formdialog";this.useTabbedItems()&&(e+=" dx-htmleditor-add-image-popup-with-tabs");const t=this.isUpdating?"dxHtmlEditor-dialogUpdateImageCaption":"dxHtmlEditor-dialogImageCaption",n=this.isUpdating?"dxHtmlEditor-dialogImageUpdateButton":"dxHtmlEditor-dialogImageAddButton";this.editorInstance.formDialogOption({title:mr.format(t),"toolbarItems[0].options.text":mr.format(n),wrapperAttr:{class:e}})}resetDialogPopupOptions(){this.editorInstance.formDialogOption({"toolbarItems[0].options.text":mr.format("OK"),"toolbarItems[0].options.visible":!0,"toolbarItems[0].options.disabled":!1,wrapperAttr:{class:"dx-formdialog"}})}useTabbedItems(){return this.tabsModel.length>1}getFormWidth(){return FE?"100%":493}getFormConfig(){return{formData:this.formData,width:this.getFormWidth(),labelLocation:"top",colCount:this.useTabbedItems()?1:11,items:this.getItemsConfig()}}getItemsConfig(){if(this.useTabbedItems()){return[{itemType:"tabbed",tabPanelOptions:{onSelectionChanged:e=>{this.tabPanelIndex=e.component.option("selectedIndex"),this.updateAddButtonState()}},tabs:a(this.tabs,e=>({title:e.getTabName(),colCount:11,items:e.getItemsConfig()}))}]}return this.tabs[0].getItemsConfig()}}class HE{constructor(e,t,n){let{config:i,formData:r,isUpdating:o}=t;this.module=e,this.config=i,this.formData=r,this.isUpdating=o,this.onFileSelected=n,this.strategy=this.createStrategy()}getItemsConfig(){return this.strategy.getItemsConfig()}createStrategy(){return this.isUpdating?new WE(this.module,this.config,this.formData):new jE(this.module,this.config,this.onFileSelected)}isDisableButton(){return!1}upload(){return this.strategy.upload()}}class LE extends HE{getTabName(){return mr.format("dxHtmlEditor-dialogImageSpecifyUrl")}}class VE extends HE{getTabName(){return mr.format("dxHtmlEditor-dialogImageSelectFile")}createStrategy(){return new KE(this.module,this.config,this.onFileSelected)}isDisableButton(){return!this.strategy.isValid()}}class zE{constructor(e,t){this.module=e,this.config=t,this.editorInstance=e.editorInstance,this.quill=e.quill,this.selection=this.getQuillSelection()}getQuillSelection(){return this.quill.getSelection()??{index:this.quill.getLength(),length:0}}pasteImage(e,t){}isValid(){return!0}upload(){}}class jE extends zE{constructor(e,t,n){super(e,t,n),this.shouldKeepAspectRatio=!0}pasteImage(e,t){this.module.saveValueChangeEvent(t),qE(this.quill,this.selection.index,e)}keepAspectRatio(e,t){let{dependentEditor:n,e:i}=t;const r=parseInt(i.value),o=parseInt(i.previousValue),s=parseInt(n.option("value"));e.component.updateData(e.dataField,r),this.shouldKeepAspectRatio&&s&&o&&!this.preventRecalculating&&(this.preventRecalculating=!0,n.option("value",Math.round(r*s/parseInt(o)).toString())),this.preventRecalculating=!1}createKeepAspectRatioEditor(e,t,n){return this.editorInstance._createComponent(e,Z_,A(!0,t.editorOptions,{value:t.component.option("formData")[t.dataField],onEnterKey:t.component.option("onEditorEnterKey").bind(this.editorInstance._formDialog,t),onValueChanged:e=>{this.keepAspectRatio(t,{dependentEditor:this[`${n}Editor`],e:e})}}))}upload(){return this.editorInstance._formDialog._form.validate().isValid}getItemsConfig(){const e=ia()?"text":"outlined";return[{dataField:"src",colSpan:11,label:{text:mr.format("dxHtmlEditor-dialogImageUrlField")},validationRules:[{type:"required"},{type:"stringLength",min:1}]},{dataField:"width",colSpan:6,label:{text:mr.format("dxHtmlEditor-dialogImageWidthField")},template:t=>{const n=Si("<div>").addClass("dx-fix-ratio-container"),i=Si("<div>").appendTo(n);this.widthEditor=this.createKeepAspectRatioEditor(i,t,"height");const r=Si("<div>").appendTo(n);return this.editorInstance._createComponent(r,BE,{items:[{icon:"imgarlock",value:"keepRatio"}],hint:mr.format("dxHtmlEditor-dialogImageKeepAspectRatio"),focusStateEnabled:!1,keyExpr:"value",stylingMode:e,selectionMode:"multiple",selectedItemKeys:["keepRatio"],onSelectionChanged:e=>{this.shouldKeepAspectRatio=!!e.component.option("selectedItems").length}}),n}},{dataField:"height",colSpan:5,label:{text:mr.format("dxHtmlEditor-dialogImageHeightField")},template:e=>{const t=Si("<div>");return this.heightEditor=this.createKeepAspectRatioEditor(t,e,"width"),t}},{dataField:"alt",colSpan:11,label:{text:mr.format("dxHtmlEditor-dialogImageAltField")}}]}}class WE extends jE{constructor(e,t,n,i){super(e,t,i),this.formData=n,this.modifyFormData()}modifyFormData(){const{imageSrc:e}=this.quill.getFormat(this.selection.index-1,1);e&&0!==this.selection.index||(this.selection={index:this.selection.index+1,length:0},this.quill.setSelection(this.selection.index,this.selection.length,"silent"));const t=this.quill.getLeaf(this.selection.index)[0].domNode;t&&(this.formData.width=this.formData.width??$n(Si(t)),this.formData.height=this.formData.height??Ln(Si(t)))}pasteImage(e,t){this.quill.deleteText(this.embedFormatIndex(),1,"silent"),this.selection.index-=1,super.pasteImage(e,t)}embedFormatIndex(){const e=this.selection??this.quill.getSelection();return e?e.length?e.index:e.index-1:this.quill.getLength()}}class KE extends zE{constructor(e,t,n){super(e,t,n),this.useBase64=!_(this.config.fileUploadMode)||"base64"===this.config.fileUploadMode,this.isValidInternal=!1,this.onFileSelected=n,this.data=null}upload(){return this.useBase64?this.base64Upload(this.data):this.data.value.length&&this.data.component.upload(),!0}isValid(){return this.isValidInternal}onUploaded(e){GE(this.config.uploadDirectory,e.file.name,this.quill,this.selection.index)}base64Upload(e){this.quill.getModule("uploader").upload(this.selection,e.value,!0)}pasteImage(e,t){this.useBase64&&super.pasteImage(e,t)}isBase64Editable(){return"both"===this.config.fileUploadMode}validate(e){const t=e.component;this.isValidInternal=!t._files.some(e=>!e.isValid()),0===t._files.length&&(this.isValidInternal=!1)}getFileUploaderOptions(){const e={uploadUrl:this.config.uploadUrl,onValueChanged:e=>{this.validate(e),this.data=e,this.onFileSelected()},onUploaded:e=>this.onUploaded(e)};return A({},UE(),e,this.config.fileUploaderOptions)}getItemsConfig(){return[{itemType:"simple",dataField:"files",colSpan:11,label:{visible:!1},template:()=>{const e=Si("<div>");return this.module.editorInstance._createComponent(e,OE,this.getFileUploaderOptions()),e}},{itemType:"simple",colSpan:11,label:{visible:!1},editorType:"dxCheckBox",editorOptions:{value:this.useBase64,visible:this.isBase64Editable(),text:mr.format("dxHtmlEditor-dialogImageEncodeToBase64"),onValueChanged:e=>{this.isBase64Editable()&&(this.useBase64=e.value)}}}]}}function UE(){return{value:[],name:"dx-htmleditor-image",accept:"image/*",uploadMode:"useButtons"}}function qE(e,t,n){e.insertEmbed(t,"extendedImage",n,"user"),e.setSelection(t+1,0,"user")}function GE(e,t,n,i){if(e){const r=function(e){return"/"!==e[e.length-1]?`${e}/`:e}(e)+t;qE(n,i,{src:r})}}const ZE="dxHtmlEditorImageUpload";let YE=aE;Gw()&&(YE=class extends aE{constructor(e,t){super(e,t),this.options=t,this._quillContainer=this.editorInstance._getQuillContainer(),this.addCleanCallback(this.prepareCleanCallback()),this._handleServerUpload()}_handleServerUpload(){_(this.options.fileUploadMode)&&"base64"!==this.options.fileUploadMode?this._enableDragAndDropUploading():this._disableDragAndDropUploading()}_getUploaderModule(){return this._uploaderModule||(this._uploaderModule=this.quill.getModule("uploader")),this._uploaderModule}_disableDragAndDropUploading(){var e;this._getUploaderModule().preventImageUploading(!1),this._detachEvents(),null===(e=this._fileUploader)||void 0===e||e.dispose()}_enableDragAndDropUploading(){this._initFileUploader(),this._getUploaderModule().preventImageUploading(!0),this._attachEvents()}_initFileUploader(){const e=Si("<div>").addClass("dx-htmleditor-hidden-content").appendTo(this._quillContainer),t=A({},{value:[],name:"dx-htmleditor-image",accept:"image/*",uploadMode:"useButtons"},{uploadUrl:this.options.uploadUrl,onUploaded:this._onUploaded.bind(this)},this.options.fileUploaderOptions);return this._fileUploader=this.editorInstance._createComponent(e,OE,t),e}_onUploaded(e){const{index:t}=this.quill.getSelection()??{index:this.quill.getLength()};GE(this.options.uploadDirectory,e.file.name,this.quill,t)}_attachEvents(){rn.on(this.quill.root,or("drop",ZE),this._dropHandler.bind(this)),rn.on(this.quill.root,or("paste",ZE),this._pasteHandler.bind(this))}_detachEvents(){rn.off(this.quill.root,ZE)}_dropHandler(e){this._handleInsertImages(e,"dataTransfer")}_pasteHandler(e){this._handleInsertImages(e,"clipboardData")}_handleInsertImages(e,t){this.saveValueChangeEvent(e);const n=Array.from(e.originalEvent[t].files||[]);n.length&&(e.preventDefault(),e.stopPropagation(),this._fileUploader.option("value",n),this._fileUploader.upload())}clean(){this._disableDragAndDropUploading()}prepareCleanCallback(){return()=>{this.clean()}}option(e,t){switch(e){case"imageUpload":this.handleOptionChangeValue(t);break;case"fileUploadMode":this.options.fileUploadMode=t,this._handleServerUpload();break;case"fileUploaderOptions":this._fileUploader.option(t)}}});const QE=YE;class XE{constructor(){this._storage={}}set(e,t){let{editorKey:n,marker:i}=e;var r;(r=this._storage)[n]??(r[n]={}),this._storage[n][i]=t}get(e){var t,n;let{editorKey:i,marker:r}=e;return!_(i)?null===(t=Object.values(this._storage).at(-1))||void 0===t?void 0:t[r]:null===(n=this._storage[i])||void 0===n?void 0:n[r]}delete(e){let{editorKey:t,marker:n}=e;this._storage[t]&&(delete this._storage[t][n],C(this._storage[t])&&delete this._storage[t])}}let JE={};if(Gw()){const e=Gw().import("blots/embed"),t="dx-mention";JE=class t extends e{constructor(e,n){super(e,n),this.renderContent(this.contentNode,t.value(n))}static create(e){const t=super.create();return t.setAttribute("spellcheck",!1),t.dataset.marker=e.marker,t.dataset.mentionValue=e.value,t.dataset.id=e.id,t}static value(e){return{marker:e.dataset.marker,id:e.dataset.id,value:e.dataset.mentionValue}}renderContent(e,n){const i=t._templatesStorage.get({editorKey:n.keyInTemplateStorage,marker:n.marker});i?i.render({model:n,container:e}):this.baseContentRender(e,n)}baseContentRender(e,t){const n=Si("<span>").text(t.marker);Si(e).append(n).append(t.value)}static addTemplate(e,t){this._templatesStorage.set(e,t)}static removeTemplate(e){this._templatesStorage.delete(e)}},JE.blotName="mention",JE.tagName="span",JE.className=t,JE._templatesStorage=new XE}const eI=JE,tI=["dxAutocomplete","dxButton","dxCheckBox","dxDateBox","dxMenu","dxSelectBox","dxTabs","dxTextBox","dxButtonGroup","dxDropDownButton"];function nI(e,t){var n;if(!e)return;const i=e._findItemElementByItem(t);if(!i.length)return;const r=e._getItemData(i),o=!!(null!==(n=r.options)&&void 0!==n&&n.disabled||r.disabled||e.option("disabled")),{widget:s}=r;if(s&&tI.includes(s)){const e=i.find(s.toLowerCase().replace("dx",".dx-"));if(e.length){var a,l;const t=function(e){const t=e.data&&e.data(),n=t&&t.dxComponents,i=n&&n[0];return i&&t[i]}(e);if(!t)return;let n=null===(a=t._focusTarget)||void 0===a?void 0:a.call(t);n="dxDropDownButton"===s?n&&n.find(".dx-buttongroup"):n??Si(t.element());const i=null===(l=r.options)||void 0===l?void 0:l.tabIndex;o?n.attr("tabIndex",-1):n.attr("tabIndex",i??0)}}}class iI{constructor(e){this._toolbar=e}_initMarkup(){}_updateMenuVisibility(){}_renderMenuItems(){}_renderItem(){}_getMenuItems(){}_getToolbarItems(){return this._toolbar.option("items")??[]}_getItemsWidth(){return this._toolbar._getSummaryItemsSize("width",this._toolbar._itemElements(),!0)}_arrangeItems(){const e=this._toolbar._$toolbarItemsContainer.find(".dx-toolbar-label").eq(0);if(!e.length)return;const t=$n(this._toolbar.$element()),n=zn(e)-$n(e);e.css("maxWidth",t-n)}_hideOverflowItems(){}_dimensionChanged(){}_itemOptionChanged(){}_optionChanged(){}}const rI=YS;class oI extends Qx{_init(){super._init(),this._activeStateUnit=".dx-toolbar-menu-action:not(.dx-toolbar-hidden-button-group)"}_initMarkup(){this._renderSections(),super._initMarkup(),this._setMenuRole()}_getSections(){return this._itemContainer().children()}_itemElements(){return this._getSections().children(this._itemSelector())}_renderSections(){const e=this._itemContainer();l(["before","center","after","menu"],(t,n)=>{const i=`_$${n}Section`;this[i]||(this[i]=Si("<div>").addClass("dx-toolbar-menu-section")),this[i].appendTo(e)})}_renderItems(){super._renderItems.apply(this,arguments),this._updateSections()}_setMenuRole(){this.$element().find(".dx-scrollview-content").attr("role","menu")}_updateSections(){const e=this.$element().find(".dx-toolbar-menu-section");e.removeClass("dx-toolbar-menu-last-section"),e.not(":empty").eq(-1).addClass("dx-toolbar-menu-last-section")}_renderItem(e,t,n,i){const r=this[`_$${t.location??"menu"}Section`],o=super._renderItem(e,t,r,i),s=this._getItemCssClasses(t);return o.addClass(s.join(" ")),o}_getItemCssClasses(e){const t=[],n=this._getActionableComponents();return this._getItemTemplateName({itemData:e})&&t.push("dx-toolbar-menu-custom"),e.widget&&!n.includes(e.widget)||t.push("dx-toolbar-menu-action"),"dxButton"===e.widget&&t.push("dx-toolbar-hidden-button"),"dxButtonGroup"===e.widget&&t.push("dx-toolbar-hidden-button-group"),t.push(e.cssClass),t}_getActionableComponents(){return["dxButton","dxButtonGroup"]}_getItemTemplateName(e){const t=super._getItemTemplateName(e),n=e.itemData;return(null===n||void 0===n?void 0:n.menuItemTemplate)||t}_dataSourceOptions(){return{paginate:!1}}_itemClickHandler(e,t,n){Si(e.target).closest(".dx-toolbar-menu-action").length&&super._itemClickHandler(e,t,n)}_clean(){this._getSections().empty(),super._clean()}}class sI extends yd{_supportedKeys(){var e;let t={};return this.option("opened")&&null!==(e=this._list)&&void 0!==e&&e.option("focusedElement")||(t=this._button._supportedKeys()),A(super._supportedKeys(),t,{tab(){var e;null===(e=this._popup)||void 0===e||e.hide()}})}_getDefaultOptions(){return K({},super._getDefaultOptions(),{items:[],onItemClick:null,dataSource:null,itemTemplate:"item",onButtonClick:null,activeStateEnabled:!0,hoverStateEnabled:!0,opened:!1,onItemRendered:null,closeOnClick:!0,useInkRipple:!1,container:void 0,animation:{show:{type:"fade",from:0,to:1},hide:{type:"fade",to:0}}})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>"desktop"===Is.real().deviceType&&!Is.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>ta(),options:{useInkRipple:!0,animation:{show:{type:"pop",duration:200,from:{scale:0},to:{scale:1}},hide:{type:"pop",duration:200,from:{scale:1},to:{scale:0}}}}}])}_init(){super._init(),this.$element().addClass("dx-dropdownmenu"),this._initItemClickAction(),this._initButtonClickAction()}_initItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick",{})}_initButtonClickAction(){this._buttonClickAction=this._createActionByOption("onButtonClick",{})}_initTemplates(){this._templateManager.addDefaultTemplates({content:new Qu("content")}),super._initTemplates()}_initMarkup(){this._renderButton(),super._initMarkup()}_render(){super._render(),this.setAria({haspopup:!0,expanded:this.option("opened")})}_renderContentImpl(){this.option("opened")&&this._renderPopup()}_clean(){var e,t;this._cleanFocusState(),null===(e=this._list)||void 0===e||e.$element().remove(),null===(t=this._popup)||void 0===t||t.$element().remove(),delete this._list,delete this._popup}_renderButton(){const e=this.$element().addClass("dx-dropdownmenu-button");this._button=this._createComponent(e,g_,{icon:"overflow",template:"content",stylingMode:ia()?"text":"contained",useInkRipple:this.option("useInkRipple"),hoverStateEnabled:!1,focusStateEnabled:!1,onClick:e=>{this.option("opened",!this.option("opened")),this._buttonClickAction(e)}})}_toggleActiveState(e,t,n){this._button._toggleActiveState(e,t,n)}_toggleMenuVisibility(e){var t,n;const i=e??!(null!==(t=this._popup)&&void 0!==t&&t.option("visible"));e&&this._renderPopup(),null===(n=this._popup)||void 0===n||n.toggle(i),this.setAria("expanded",i)}_renderPopup(){if(this._$popup)return;this._$popup=Si("<div>").appendTo(this.$element());const{rtlEnabled:e,container:t,animation:n}=this.option();this._popup=this._createComponent(this._$popup,"dxPopup",{onInitialized(e){let{component:t}=e;t.$wrapper().addClass("dx-dropdownmenu-popup-wrapper").addClass("dx-dropdownmenu-popup")},deferRendering:!1,preventScrollEvents:!1,contentTemplate:e=>this._renderList(e),_ignoreFunctionValueDeprecation:!0,maxHeight:()=>this._getMaxHeight(),position:{my:"top "+(e?"left":"right"),at:"bottom "+(e?"left":"right"),collision:"fit flip",offset:{v:3},of:this.$element()},animation:n,onOptionChanged:e=>{let{name:t,value:n}=e;"visible"===t&&this.option("opened",n)},container:t,autoResizeEnabled:!1,height:"auto",width:"auto",hideOnOutsideClick:e=>this._closeOutsideDropDownHandler(e),hideOnParentScroll:!0,shading:!1,dragEnabled:!1,showTitle:!1,fullScreen:!1,_fixWrapperPosition:!0})}_getMaxHeight(){const e=this.$element(),t=e.offset().top,n=jn(St()),i=Math.max(t,n-t-jn(e));return Math.min(n,i-3-10)}_closeOutsideDropDownHandler(e){return!Si(e.target).closest(this.$element()).length}_renderList(e){const t=Si(e);t.addClass("dx-dropdownmenu-list");const{itemTemplate:n,onItemRendered:i}=this.option();this._list=this._createComponent(t,oI,{dataSource:this._getListDataSource(),pageLoadMode:"scrollBottom",indicateLoading:!1,noDataText:"",itemTemplate:n,onItemClick:e=>{this.option("closeOnClick")&&this.option("opened",!1),this._itemClickAction(e)},tabIndex:-1,focusStateEnabled:!1,activeStateEnabled:!0,onItemRendered:i,_itemAttributes:{role:"menuitem"}})}_itemOptionChanged(e,t,n){var i;null===(i=this._list)||void 0===i||i._itemOptionChanged(e,t,n),nI(this._list,e)}_getListDataSource(){return this.option("dataSource")??this.option("items")}_setListDataSource(){var e;null===(e=this._list)||void 0===e||e.option("dataSource",this._getListDataSource()),delete this._deferRendering}_getKeyboardListeners(){return super._getKeyboardListeners().concat([this._list])}_toggleVisibility(e){var t;super._toggleVisibility(e),null===(t=this._button)||void 0===t||t.option("visible",e)}_optionChanged(e){var t,n,i;const{name:r,value:o}=e;switch(r){case"items":case"dataSource":this.option("opened")?this._setListDataSource():this._deferRendering=!0;break;case"itemTemplate":null===(t=this._list)||void 0===t||t.option(r,this._getTemplate(o));break;case"onItemClick":this._initItemClickAction();break;case"onButtonClick":this._buttonClickAction();break;case"useInkRipple":this._invalidate();break;case"focusStateEnabled":null===(n=this._list)||void 0===n||n.option(r,o),super._optionChanged(e);break;case"onItemRendered":null===(i=this._list)||void 0===i||i.option(r,o);break;case"opened":this._deferRendering&&this._setListDataSource(),this._toggleMenuVisibility(o),this._updateFocusableItemsTabIndex();break;case"closeOnClick":break;case"container":this._popup&&this._popup.option(r,o);break;case"disabled":this._list&&this._updateFocusableItemsTabIndex();break;default:super._optionChanged(e)}}_updateFocusableItemsTabIndex(){this.option("items").forEach(e=>nI(this._list,e))}}const aI="dx-toolbar-item-invisible";class lI{constructor(e){this._toolbar=e}_initMarkup(){We(()=>{this._renderOverflowMenu(),this._renderMenuItems()})}_renderOverflowMenu(){if(!this._hasVisibleMenuItems())return;this._renderMenuButtonContainer();const e=Si("<div>").appendTo(this._overflowMenuContainer()),t=this._toolbar._createActionByOption("onItemClick"),n=this._toolbar._getTemplateByOption("menuItemTemplate"),{disabled:i,menuContainer:r}=this._toolbar.option();this._menu=this._toolbar._createComponent(e,sI,{disabled:i,itemTemplate:()=>n,onItemClick:e=>{t(e)},container:r,onOptionChanged:e=>{let{name:t,value:n}=e;"opened"===t&&this._toolbar.option("overflowMenuVisible",n),"items"===t&&this._updateMenuVisibility(n)}})}renderMenuItems(){var e;this._menu||this._renderOverflowMenu(),null===(e=this._menu)||void 0===e||e.option("items",this._getMenuItems()),this._menu&&!this._menu.option("items").length&&this._menu.option("opened",!1)}_renderMenuButtonContainer(){this._$overflowMenuContainer=Si("<div>").appendTo(this._toolbar._$afterSection).addClass("dx-toolbar-button").addClass("dx-toolbar-menu-container")}_overflowMenuContainer(){return this._$overflowMenuContainer}_updateMenuVisibility(e){const t=e??this._getMenuItems(),n=t.length&&this._hasVisibleMenuItems(t);this._toggleMenuVisibility(n)}_toggleMenuVisibility(e){this._overflowMenuContainer()&&this._overflowMenuContainer().toggleClass("dx-state-invisible",!e)}_renderMenuItems(){We(()=>{this.renderMenuItems()})}_dimensionChanged(){this.renderMenuItems()}_getToolbarItems(){return it(this._toolbar.option("items")??[],e=>!this._toolbar._isMenuItem(e))}_getHiddenItems(){return this._toolbar._itemContainer().children(`.dx-toolbar-item-auto-hide.${aI}`).not(".dx-state-invisible")}_getMenuItems(){const e=it(this._toolbar.option("items")??[],e=>this._toolbar._isMenuItem(e)),t=this._getHiddenItems();this._restoreItems=this._restoreItems??[];return[...[].slice.call(t).map(e=>{const t=this._toolbar._getItemData(e),n=Si(e),i=n.children();return A({menuItemTemplate:()=>{this._restoreItems.push({container:n,item:i});return Si("<div>").addClass("dx-toolbar-item-auto-hide").append(i)}},t)}),...e]}_hasVisibleMenuItems(e){const t=e??this._toolbar.option("items");let n=!1;const i=we("visible"),r=we("locateInMenu");return l(t,(e,t)=>{const o=i(t,{functionsAsIs:!0}),s=r(t,{functionsAsIs:!0});(!1===o||"auto"!==s&&"always"!==s)&&"menu"!==t.location||(n=!0)}),n}_arrangeItems(){this._toolbar._$centerSection.css({margin:"0 auto",float:"none"}),l(this._restoreItems??[],(e,t)=>{Si(t.container).append(t.item)}),this._restoreItems=[];const e=$n(this._toolbar.$element());return this._hideOverflowItems(e),e}_hideOverflowItems(e){const t=this._toolbar.$element().find(".dx-toolbar-item-auto-hide");if(!t.length)return;const n=e??$n(this._toolbar.$element());Si(t).removeClass(aI);let i=this._getItemsWidth();for(;t.length&&n<i;){t.eq(-1).addClass(aI),i=this._getItemsWidth(),t.splice(-1,1)}}_getItemsWidth(){return this._toolbar._getSummaryItemsSize("width",[this._toolbar._$beforeSection,this._toolbar._$centerSection,this._toolbar._$afterSection])}_itemOptionChanged(e,t,n){var i;if(("disabled"===t||"options.disabled"===t)&&this._toolbar._isMenuItem(e))return void(null===(i=this._menu)||void 0===i||i._itemOptionChanged(e,t,n));this.renderMenuItems()}_renderItem(e,t){"auto"===e.locateInMenu&&t.addClass("dx-toolbar-item-auto-hide")}_optionChanged(e,t){var n,i,r,o,s;switch(e){case"disabled":null===(n=this._menu)||void 0===n||n.option(e,t);break;case"overflowMenuVisible":null===(i=this._menu)||void 0===i||i.option("opened",t);break;case"onItemClick":null===(r=this._menu)||void 0===r||r.option(e,t);break;case"menuContainer":null===(o=this._menu)||void 0===o||o.option("container",t);break;case"menuItemTemplate":null===(s=this._menu)||void 0===s||s.option("itemTemplate",t)}}}class cI extends PS{_getDefaultOptions(){return K({},super._getDefaultOptions(),{menuItemTemplate:"menuItem",menuContainer:void 0,overflowMenuVisible:!1,multiline:!1})}_isMultiline(){return this.option("multiline")}_dimensionChanged(e){"height"!==e&&(super._dimensionChanged(),this._layoutStrategy._dimensionChanged())}_initMarkup(){super._initMarkup(),this._updateFocusableItemsTabIndex(),this._layoutStrategy._initMarkup()}_renderToolbar(){super._renderToolbar(),this._renderLayoutStrategy()}_itemContainer(){return this._isMultiline()?this._$toolbarItemsContainer:super._itemContainer()}_renderLayoutStrategy(){this.$element().toggleClass("dx-toolbar-multiline",this._isMultiline()),this._layoutStrategy=this._isMultiline()?new iI(this):new lI(this)}_renderSections(){if(!this._isMultiline())return super._renderSections()}_postProcessRenderItems(){this._layoutStrategy._hideOverflowItems(),this._layoutStrategy._updateMenuVisibility(),super._postProcessRenderItems(),this._layoutStrategy._renderMenuItems()}_renderItem(e,t,n,i){const r=super._renderItem(e,t,n,i);this._layoutStrategy._renderItem(t,r);const{widget:o,showText:s}=t;return"dxButton"===o&&"inMenu"===s&&r.toggleClass("dx-toolbar-text-auto-hide"),r}_getItemsWidth(){return this._layoutStrategy._getItemsWidth()}_getMenuItems(){return this._layoutStrategy._getMenuItems()}_getToolbarItems(){return this._layoutStrategy._getToolbarItems()}_arrangeItems(){if(this.$element().is(":hidden"))return;const e=this._layoutStrategy._arrangeItems();this._isMultiline()||super._arrangeItems(e)}_itemOptionChanged(e,t,n,i){this._isMenuItem(e)||super._itemOptionChanged(e,t,n,i),this._layoutStrategy._itemOptionChanged(e,t,n),"disabled"!==t&&"options.disabled"!==t||nI(this,e),"location"===t&&this.repaint()}_updateFocusableItemsTabIndex(){this._getToolbarItems().forEach(e=>nI(this,e))}_isMenuItem(e){return"menu"===e.location||"always"===e.locateInMenu}_isToolbarItem(e){return void 0===e.location||"never"===e.locateInMenu}_optionChanged(e){const{name:t,value:n}=e;switch(this._layoutStrategy._optionChanged(t,n),t){case"menuContainer":case"menuItemTemplate":case"overflowMenuVisible":break;case"multiline":this._invalidate();break;case"disabled":super._optionChanged(e),this._updateFocusableItemsTabIndex();break;default:super._optionChanged(e)}}updateDimensions(){this._dimensionChanged()}}Mi("dxToolbar",cI);const uI=cI;class dI extends rI{_getDefaultOptions(){return K({},super._getDefaultOptions(),{preventScrollEvents:!1})}_getToolbarName(){return"dxToolbar"}}dI.defaultOptions=function(e){rI.defaultOptions(e)},Mi("dxPopup",dI);const hI=dI;let pI=aE;if(Gw()){const e="dx-suggestion-list",t="dx-suggestion-list-wrapper",n="dx-dropdowneditor-overlay",i=100;pI=class extends aE{constructor(e,i){super(e,i),this.options=A({},this._getDefaultOptions(),i),this._popup=this.renderPopup(),this._popup.$wrapper().addClass(`${t} ${n}`),this._renderPreventFocusOut()}_getDefaultOptions(){return{dataSource:null}}renderList(t,n){const i=Si("<div>").addClass(e).appendTo(t);this._list=this.options.editorInstance._createComponent(i,uS,n)}renderPopup(){const{editorInstance:e}=this.options,t=Si("<div>").appendTo(e.$element()),n=this._getPopupConfig();return e._createComponent(t,hI,n)}_getPopupConfig(){return{contentTemplate:e=>{const t=this._getListConfig(this.options);this.renderList(Si(e),t)},deferRendering:!1,onShown:()=>{this._list.focus()},onHidden:()=>{this._list.unselectAll(),this._list.option("focusedElement",null)},showTitle:!1,width:"auto",height:"auto",shading:!1,hideOnParentScroll:!0,hideOnOutsideClick:!0,animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},fullScreen:!1,maxHeight:this.maxHeight}}_getListConfig(e){return{dataSource:e.dataSource,onSelectionChanged:this.selectionChangedHandler.bind(this),selectionMode:"single",pageLoadMode:"scrollBottom"}}get maxHeight(){const e=Dt(),t=e&&Ln(e)||0;return Math.max(i,.5*t)}selectionChangedHandler(e){this._popup.option("visible")&&e.addedItems.length&&(this._popup.hide(),this.insertEmbedContent(e))}_renderPreventFocusOut(){const e=or("mousedown","dxHtmlEditorPopupModule");rn.on(this._popup.$wrapper(),e,e=>{e.preventDefault()})}insertEmbedContent(e){}showPopup(){this._popup&&this._popup.show()}savePosition(e){this.caretPosition=e}getPosition(){return this.caretPosition}}}const fI=pI;let mI=aE;if(Gw()){const e="user",t="@",n={ARROW_UP:"upArrow",ARROW_DOWN:"downArrow",ARROW_LEFT:"leftArrow",ARROW_RIGHT:"rightArrow",ENTER:"enter",ESCAPE:"escape",SPACE:"space",PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",END:"end",HOME:"home"},i=[n.ARROW_LEFT,n.ARROW_RIGHT,n.PAGE_UP,n.PAGE_DOWN,n.END,n.HOME],r=[" ","\n"],o="dx-state-disabled";Gw().register({"formats/mention":eI},!0),mI=class extends fI{constructor(e,n){super(e,n),this._mentions={},n.mentions.forEach(e=>{let{marker:n}=e;n||(e.marker=n=t);const{template:i}=e;if(i){const e=this.editorInstance._getTemplate(i);e&&eI.addTemplate({marker:n,editorKey:this.editorInstance.getMentionKeyInTemplateStorage()},e)}this._mentions[n]=A({},this._getDefaultOptions(),e)}),this._attachKeyboardHandlers(),this.addCleanCallback(this.clean.bind(this)),this.quill.on("text-change",this.onTextChange.bind(this))}_getDefaultOptions(){const e=super._getDefaultOptions();return A(e,{itemTemplate:"item",valueExpr:"this",displayExpr:"this",template:null,searchExpr:null,searchTimeout:500,minSearchLength:0})}_attachKeyboardHandlers(){this.quill.keyboard.addBinding({key:n.ARROW_UP},this._moveToItem.bind(this,"prev")),this.quill.keyboard.addBinding({key:n.ARROW_DOWN},this._moveToItem.bind(this,"next")),this.quill.keyboard.addBinding({key:[n.ENTER,n.SPACE]},this._selectItemHandler.bind(this));const e=this.quill.keyboard.bindings[n.ENTER];e.unshift(e.pop()),this.quill.keyboard.addBinding({key:n.ESCAPE},this._escapeKeyHandler.bind(this)),this.quill.keyboard.addBinding({key:[n.ARROW_LEFT,n.ARROW_RIGHT],shiftKey:!0},this._ignoreKeyHandler.bind(this)),this.quill.keyboard.addBinding({key:i},this._ignoreKeyHandler.bind(this))}_moveToItem(e){const t=this._list.getDataSource();if(this._isMentionActive&&!t.isLoading()){const t="next"===e?"first":"last";let n=Si(this._list.option("focusedElement"))[e]();n=n.length?n:this._activeListItems[t](),this._list.option("focusedElement",ma(n)),this._list.scrollToItem(n)}return!this._isMentionActive}_ignoreKeyHandler(){return!this._isMentionActive}_fitIntoRange(e,t,n){return e>n?t:e<t?n:e}_selectItemHandler(){return this._isMentionActive&&(this._list.option("items").length?this._list.selectItem(this._list.option("focusedElement")):this._popup.hide()),!this._isMentionActive}_escapeKeyHandler(){return this._isMentionActive&&this._popup.hide(),!this._isMentionActive}renderList(e,t){this.compileGetters(this.options),super.renderList(e,t)}compileGetters(e){let{displayExpr:t,valueExpr:n}=e;this._valueGetter=we(t),this._idGetter=we(n)}_getListConfig(e){const t=super._getListConfig(e);return A(t,{itemTemplate:this.options.itemTemplate,onContentReady:()=>{this._hasSearch&&(this._popup.repaint(),this._focusFirstElement(),this._hasSearch=!1)}})}insertEmbedContent(){const e=this._activeMentionConfig.marker.length,t=e+this._searchValue.length,n=this.getPosition(),i=this._list.option("selectedItem"),r={value:this._valueGetter(i),id:this._idGetter(i),marker:this._activeMentionConfig.marker,keyInTemplateStorage:this.editorInstance.getMentionKeyInTemplateStorage()},o=Gw().import("delta"),s=Math.max(0,n-e),a=this.quill.getFormat(s),l=(new o).retain(s).delete(t).insert({mention:r}).insert(" ",a);this.quill.updateContents(l),this.quill.setSelection(s+2)}_getLastInsertOperation(e){const t=e[e.length-1];if("insert"in t)return t;const n="delete"in t;if(n&&e.length>=2){const t=e[e.length-2];if(n&&"insert"in t)return t}return null}onTextChange(t,n,i){if(i===e){const e=t.ops[t.ops.length-1];if(this._isMentionActive&&this._isPopupVisible)this._processSearchValue(e)&&this._filterList(this._searchValue);else{const{ops:e}=t,n=this._getLastInsertOperation(e);n&&this.checkMentionRequest(n,e)}}}get _isPopupVisible(){var e;return null===(e=this._popup)||void 0===e?void 0:e.option("visible")}_processSearchValue(e){if("insert"in e)this._searchValue+=e.insert;else{if(!this._searchValue.length||e.delete>1)return this._popup.hide(),!1;this._searchValue=this._searchValue.slice(0,-1)}return!0}checkMentionRequest(e,t){let{insert:n}=e;const i=this.quill.getSelection();if(n&&v(n)&&i&&!this._isMarkerPartOfText(t[0].retain)&&(this._activeMentionConfig=this._mentions[n],this._activeMentionConfig)){this._updateList(this._activeMentionConfig);const e=i.index&&"\n"===this._getCharByIndex(i.index-1);this.savePosition(i.index+e),this._popup.option("position",this._popupPosition),this._searchValue="",this._popup.show()}}_isMarkerPartOfText(e){return!(!e||r.includes(this._getCharByIndex(e-1)))}_getCharByIndex(e){return this.quill.getContents(e,1).ops[0].insert}_updateList(e){let{dataSource:t,displayExpr:n,valueExpr:i,itemTemplate:r,searchExpr:o}=e;this.compileGetters({displayExpr:n,valueExpr:i}),this._list.unselectAll(),this._list.option({dataSource:t,displayExpr:n,itemTemplate:r,searchExpr:o})}_filterList(e){if(!this._isMinSearchLengthExceeded(e))return void this._resetFilter();const{searchTimeout:t}=this._activeMentionConfig;t?(clearTimeout(this._searchTimer),this._searchTimer=setTimeout(()=>{this._search(e)},t)):this._search(e)}_isMinSearchLengthExceeded(e){return e.length>=this._activeMentionConfig.minSearchLength}_resetFilter(){clearTimeout(this._searchTimer),this._search(null)}_search(e){this._hasSearch=!0,this._list.option("searchValue",e)}_focusFirstElement(){if(!this._list)return;const e=this._activeListItems.first();this._list.option("focusedElement",ma(e)),this._list.scrollToItem(e)}_toggleActiveDescendant(e){if(e){const e=this._list.getFocusedItemId();this.quill.root.setAttribute("aria-activedescendant",e)}else this.quill.root.removeAttribute("aria-activedescendant")}get _popupPosition(){const e=this.getPosition(),{left:t,top:n,height:i}=this.quill.getBounds(e?e-1:e),{left:r,top:o}=Si(this.quill.root).offset();return{of:rn.Event("positionEvent",{pageX:r+t,pageY:o+n}),offset:{v:i},my:"top left",at:"top left",collision:{y:"flip",x:"flipfit"}}}_getPopupConfig(){return A(super._getPopupConfig(),{hideOnParentScroll:!1,onShown:()=>{this._toggleActiveDescendant(!0),this._isMentionActive=!0,this._hasSearch=!1,this._focusFirstElement()},onHidden:()=>{this._toggleActiveDescendant(!1),this._list.unselectAll(),this._list.option("focusedElement",null),this._isMentionActive=!1,this._search(null)},focusStateEnabled:!1})}get _activeListItems(){return this._list.itemElements().filter(`:not(.${o})`)}clean(){Object.keys(this._mentions).forEach(e=>{this._mentions[e].template&&eI.removeTemplate({marker:e,editorKey:this.editorInstance.getMentionKeyInTemplateStorage()})})}}}const _I=mI,gI="dxHtmlResizingModule",vI=or("keydown",gI),yI=or("scroll",gI),bI=or("mousedown",gI);class CI extends aE{constructor(e,t){super(e,t),this.allowedTargets=t.allowedTargets||["image"],this.enabled=!!t.enabled,this._hideFrameWithContext=this.hideFrame.bind(this),this._framePositionChangedHandler=this._prepareFramePositionChangedHandler(),this.enabled&&(this._attachEvents(),this._createResizeFrame())}_attachEvents(){rn.on(this.quill.root,or(dc,gI),this._clickHandler.bind(this)),rn.on(this.quill.root,yI,this._framePositionChangedHandler),this.editorInstance.on("focusOut",this._hideFrameWithContext),this.quill.on("text-change",this._framePositionChangedHandler)}_detachEvents(){rn.off(this.quill.root,`.${gI}`),this.editorInstance.off("focusOut",this._hideFrameWithContext),this.quill.off("text-change",this._framePositionChangedHandler)}_clickHandler(e){if(this._isAllowedTarget(e.target)){if(this._$target===e.target)return;this._$target=e.target;const t=Si(this._$target),n=Math.max(zn(t)-$n(t),this.resizable.option("minWidth")),i=Math.max(jn(t)-Ln(t),this.resizable.option("minHeight"));this.resizable.option({minWidth:n,minHeight:i}),this.updateFramePosition(),this.showFrame(),this._adjustSelection()}else this._$target&&this.hideFrame()}_prepareFramePositionChangedHandler(){return()=>{this._$target&&this.updateFramePosition()}}_adjustSelection(){this.quill.getSelection()||this.quill.setSelection(0,0)}_isAllowedTarget(e){return this._isImage(e)}_isImage(e){return-1!==this.allowedTargets.indexOf("image")&&"IMG"===e.tagName.toUpperCase()}showFrame(){this._$resizeFrame.show(),rn.on(this.quill.root,vI,this._handleFrameKeyDown.bind(this))}_handleFrameKeyDown(e){const t=ir(e);"del"!==t&&"backspace"!==t||this._deleteImage(),this.hideFrame()}hideFrame(){this._$target=null,this._$resizeFrame.hide(),rn.off(this.quill.root,vI)}updateFramePosition(){const{height:e,width:t,top:n,left:i}=Aa(this._$target),{top:r,left:o}=Aa(this.quill.root),s=this._getBorderWidth();this._$resizeFrame.css({height:e,width:t,padding:1,top:n-r-s-1,left:i-o-s-1}),wa(this._$resizeFrame,{left:0,top:0})}_getBorderWidth(){return parseInt(this._$resizeFrame.css("borderTopWidth"))}_createResizeFrame(){if(this._$resizeFrame)return;const{deviceType:e}=Is.current();this._$resizeFrame=Si("<div>").addClass("dx-resize-frame").toggleClass("dx-touch-device","desktop"!==e).appendTo(this.editorInstance._getQuillContainer()).hide(),rn.on(this._$resizeFrame,bI,e=>{e.preventDefault()}),this.resizable=this.editorInstance._createComponent(this._$resizeFrame,HS,{onResize:e=>{this._$target&&(Si(this._$target).attr({height:e.height,width:e.width}),this.updateFramePosition())}})}_deleteImage(){var e;this._isAllowedTarget(this._$target)&&(null===(e=Gw().find(this._$target))||void 0===e||e.deleteAt(0))}option(e,t){if("mediaResizing"!==e)if("enabled"===e){if(this.enabled===t)return;this.enabled=t,t?(this._attachEvents(),this._createResizeFrame()):this.clean()}else"allowedTargets"===e&&Array.isArray(t)&&(this.allowedTargets=t);else this.handleOptionChangeValue(t)}clean(){this._detachEvents(),this._$resizeFrame.remove(),this._$resizeFrame=void 0}}const xI=Nh,SI=iC;const wI=class extends Wy{_getPlainItems(){return a(this._collectionWidget.option("items"),function e(t){return t.items?[t].concat(a(t.items,e)):t})}_stringifyItem(e){return JSON.stringify(e,(e,t)=>"template"===e?this._getTemplateString(t):t)}_getTemplateString(e){let t;return t="object"===typeof e?Si(e).text():e.toString(),t}},EI="dx-menu-item",II=`${EI}-content`,kI=`${EI}-selected`,DI=`${EI}-wrapper`,OI=`${EI}-expanded`,TI=`${EI}-has-text`,AI=`${EI}-has-icon`,PI=`${EI}-has-submenu`,MI=`${EI}-popout`,RI=`${MI}-container`,BI=`${EI}-text`,NI={show:50,hide:300},FI=`${BI}-with-url`;class $I extends cb{_getDefaultOptions(){return A(super._getDefaultOptions(),{items:[],cssClass:"",activeStateEnabled:!0,showSubmenuMode:{name:"onHover",delay:{show:50,hide:300}},animation:{show:{type:"fade",from:0,to:1,duration:100},hide:{type:"fade",from:1,to:0,duration:100}},selectByClick:!1,focusOnSelectedItem:!1,keyExpr:null,_itemAttributes:{role:"menuitem"},useInkRipple:!1})}_itemDataKey(){return"dxMenuItemDataKey"}_itemClass(){return EI}_setAriaSelectionAttribute(e,t){}_selectedItemClass(){return kI}_widgetClass(){return"dx-menu-base"}_focusTarget(){return this._itemContainer()}_clean(){this.option("focusedElement",null),super._clean()}_supportedKeys(){return A(super._supportedKeys(),{space:()=>{const e=Si(this.option("focusedElement"));e.length&&this._isSelectionEnabled()&&this.selectItem(e[0])},pageUp:tt,pageDown:tt})}_isSelectionEnabled(){const{selectionMode:e}=this.option();return"single"===e}_init(){super._init(),this._activeStateUnit=`.${EI}`,this._renderSelectedItem(),this._initActions()}_getLinkContainer(e,t,n){const{linkAttr:i,url:r}=n;return null===e||void 0===e||e.addClass("dx-icon-with-url"),null===t||void 0===t||t.addClass(FI),super._getLinkContainer(e,t,{linkAttr:i,url:r})}_addContent(e,t){const{html:n,url:i}=t;if(i){e.html(n);const i=this._getLinkContainer(this._getIconContainer(t),this._getTextContainer(t),t);e.append(i)}else super._addContent(e,t);e.append(this._getPopoutContainer(t)),this._addContentClasses(t,e.parent())}_getTextContainer(e){const{text:t}=e;if(!t)return;const n=Si("<span>").addClass(BI),i=x(e)?t:String(e);return n.text(i)}_getItemExtraPropNames(){return["url","linkAttr"]}_getPopoutContainer(e){const{items:t}=e;let n;if(null!==t&&void 0!==t&&t.length){const e=Si("<div>").addClass(MI);n=Si("<span>").addClass(RI).append(e)}return n}_getDataAdapterOptions(){return{rootValue:0,multipleSelection:!1,recursiveSelection:!1,recursiveExpansion:!1,searchValue:""}}_selectByItem(e){if(!e)return;const t=this._dataAdapter.getNodeByItem(e);this._dataAdapter.toggleSelection(t.internalFields.key,!0)}_renderSelectedItem(){const e=this._dataAdapter.getSelectedNodesKeys(),t=e.length&&e[0],n=this.option("selectedItem");if(!t)return void this._selectByItem(n);const i=this._dataAdapter.getNodeByKey(t);!1!==i.selectable&&(n?n!==i.internalFields.item&&(this._dataAdapter.toggleSelection(t,!1),this._selectByItem(n)):this.option("selectedItem",i.internalFields.item))}_initActions(){}_initMarkup(){super._initMarkup(),this.option("useInkRipple")&&this._renderInkRipple()}_renderInkRipple(){this._inkRipple=Um()}_toggleActiveState(e,t,n){if(super._toggleActiveState.apply(this,arguments),!this._inkRipple)return;const i={element:e,event:n};t?this._inkRipple.showWave(i):this._inkRipple.hideWave(i)}_getShowSubmenuMode(){const{showSubmenuMode:e}=this.option(),t=b(e)?e.name:e;return this._isDesktopDevice()?t:"onClick"}_initSelectedItems(){}_isDesktopDevice(){return"desktop"===Is.real().deviceType}_initEditStrategy(){const e=wI;this._editStrategy=new e(this)}_addCustomCssClass(e){e.addClass(this.option("cssClass"))}_itemWrapperSelector(){return`.${DI}`}_hoverStartHandler(e){const t=this._getItemElementByEventArgs(e);if(t&&!this._isItemDisabled(t)&&(e.stopPropagation(),"onHover"===this._getShowSubmenuMode())){const e=this._getSubmenuDelay("show");0===e?this._showSubmenu(t):(clearTimeout(this._showSubmenusTimeout),this._showSubmenusTimeout=setTimeout(this._showSubmenu.bind(this,t),e))}}_getAvailableItems(e){return super._getAvailableItems(e).filter(function(){return"hidden"!==Si(this).css("visibility")})}_isItemDisabled(e){return this._disabledGetter(e.data(this._itemDataKey()))}_showSubmenu(e){this._addExpandedClass(e)}_addExpandedClass(e){Si(e).addClass(OI)}_getSubmenuDelay(e){const{delay:t}=this.option("showSubmenuMode");return _(t)?b(t)?t[e]:t:NI[e]}_getItemElementByEventArgs(e){let t=Si(e.target);if(t.hasClass(this._itemClass())||t.get(0)===e.currentTarget)return t;for(;!t.hasClass(this._itemClass());)if(t=t.parent(),t.hasClass("dx-submenu"))return null;return t}_hoverEndHandler(e){clearTimeout(this._showSubmenusTimeout)}_hasSubmenu(e){return null===e||void 0===e?void 0:e.internalFields.childrenKeys.length}_renderContentImpl(){this._renderItems(this._dataAdapter.getRootNodes())}_renderItems(e,t){if(!e.length)return;this.hasIcons=!1;const n=this._renderContainer(this.$element(),t);let i=-1,r=-1;l(e,(e,t)=>{const o=!1!==t.visible;o&&i<0&&(i=e);i<e&&(t.beginGroup||e===r)&&(r=o?e:e+1),e===r&&i<e&&this._renderSeparator(n),this._renderItem(e,t,n)}),this.hasIcons||n.addClass("dx-menu-no-icons")}_renderContainer(e,t){const n=Si("<ul>");return this.setAria("role","none",n),n.appendTo(e).addClass("dx-menu-items-container")}_createDOMElement(e){const t=Si("<li>");return this.setAria("role","none",t),t.appendTo(e).addClass(DI)}_renderItem(e,t,n,i){var r;const{items:o=[]}=this.option(),s=i??this._createDOMElement(n);null!==(r=o[e+1])&&void 0!==r&&r.beginGroup&&s.addClass("dx-menu-last-group-item");const a=super._renderItem(e,t.internalFields.item,s);return t.internalFields.item===this.option("selectedItem")&&a.addClass(kI),a.attr("tabIndex",-1),this._hasSubmenu(t)&&this.setAria("haspopup","true",a),a}_renderItemFrame(e,t,n){const i=n.children(`.${EI}`);return i.length?i:super._renderItemFrame.apply(this,arguments)}_refreshItem(e,t){const n=this._dataAdapter.getNodeByItem(t),i=e.data(this._itemIndexKey()),r=e.closest("ul"),o=e.closest("li");this._renderItem(i,n,r,o)}_addContentClasses(e,t){const n=!!e.text&&!!e.text.length,i=!!e.icon,r=!!e.items&&!!e.items.length;t.toggleClass(TI,n),t.toggleClass(AI,i),this.hasIcons||(this.hasIcons=i),t.toggleClass(PI,r)}_getItemContent(e){let t=super._getItemContent(e);return t.length||(t=e.children(`.${II}`)),t}_postprocessRenderItem(e){const t=Si(e.itemElement),n=this._dataAdapter.getSelectedNodesKeys();if(!n.length||!this._selectedGetter(e.itemData)||!this._isItemSelectable(e.itemData))return void this._setAriaSelectionAttribute(t,"false");this._dataAdapter.getNodeByItem(e.itemData).internalFields.key===n[0]?(t.addClass(this._selectedItemClass()),this._setAriaSelectionAttribute(t,"true")):this._setAriaSelectionAttribute(t,"false")}_isItemSelectable(e){return!1!==e.selectable}_renderSeparator(e){Si("<li>").appendTo(e).addClass("dx-menu-separator")}_itemClickHandler(e){if(e._skipHandling)return;const t=this._createAction(this._updateSubmenuVisibilityOnClick.bind(this));this._itemDXEventHandler(e,"onItemClick",{},{beforeExecute:this._itemClick,afterExecute:t.bind(this)}),e._skipHandling=!0}_itemClick(e){const{event:t,itemData:n}=e.args[0],i=this._getItemElementByEventArgs(t),r=i&&i.find(".dx-item-url").get(0);n.url&&r&&r.click()}_updateSubmenuVisibilityOnClick(e){this._updateSelectedItemOnClick(e),"onClick"===this._getShowSubmenuMode()&&this._addExpandedClass(e.args[0].itemElement)}_updateSelectedItemOnClick(e){const t=e.args?e.args[0]:e;if(!this._isItemSelectAllowed(t.itemData))return;const n=this._dataAdapter.getSelectedNodesKeys(),i=n.length&&this._dataAdapter.getNodeByKey(n[0]);i&&this._toggleItemSelection(i,!1),i&&i.internalFields.item===t.itemData?(this._fireSelectionChangeEvent(null,this.option("selectedItem")),this._setOptionWithoutOptionChange("selectedItem",null)):this.selectItem(t.itemData)}_isItemSelectAllowed(e){const t=this._isSelectionEnabled()&&this.option("selectByClick");return!this._isContainerEmpty()&&t&&this._isItemSelectable(e)&&!this._itemsGetter(e)}_isContainerEmpty(){return this._itemContainer().is(":empty")}_syncSelectionOptions(){return nt()}_optionChanged(e){switch(e.name){case"showSubmenuMode":break;case"selectedItem":{const t=this._dataAdapter.getNodeByItem(e.value),n=this._dataAdapter.getSelectedNodesKeys()[0];if(t&&t.internalFields.key!==n){if(!1===t.selectable)break;n&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(n),!1),this._toggleItemSelection(t,!0),this._updateSelectedItems()}break}case"cssClass":case"position":case"selectByClick":case"animation":case"useInkRipple":this._invalidate();break;default:super._optionChanged(e)}}_toggleItemSelection(e,t){const n=this._getElementByItem(e.internalFields.item);n&&Si(n).toggleClass(kI),this._dataAdapter.toggleSelection(e.internalFields.key,t)}_getElementByItem(e){let t;return l(this._itemElements(),(n,i)=>Si(i).data(this._itemDataKey())!==e||(t=i,!1)),t}_updateSelectedItems(e,t){(e||t)&&this._fireSelectionChangeEvent(t,e)}_fireSelectionChangeEvent(e,t){this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})({addedItems:[e],removedItems:[t]})}selectItem(e){const t=e.nodeType?this._getItemData(e):e,n=this._dataAdapter.getSelectedNodesKeys()[0],i=this.option("selectedItem"),r=this._dataAdapter.getNodeByItem(t);r.internalFields.key!==n&&(n&&this._toggleItemSelection(this._dataAdapter.getNodeByKey(n),!1),this._toggleItemSelection(r,!0),this._updateSelectedItems(i,t),this._setOptionWithoutOptionChange("selectedItem",t))}unselectItem(e){const t=e.nodeType?this._getItemData(e):e,n=this._dataAdapter.getNodeByItem(t),i=this.option("selectedItem");n.internalFields.selected&&(this._toggleItemSelection(n,!1),this._updateSelectedItems(i,null),this._setOptionWithoutOptionChange("selectedItem",null))}}$I.ItemClass=Fy;const HI=$I,LI=["onShowing","onShown","onSubmenuCreated","onHiding","onHidden","onPositioning","onLeftFirstItem","onLeftLastItem","onCloseRootSubmenu","onExpandLastSubmenu"],VI=["up","down","first","last"],zI=St();class jI extends HI{getShowEvent(e){return b(e)?null!==e.name?e.name??"dxcontextmenu":null:e}getShowDelay(e){return b(e)&&e.delay}_getDefaultOptions(){return A(super._getDefaultOptions(),{showEvent:"dxcontextmenu",hideOnOutsideClick:!0,position:{at:"top left",my:"top left"},onShowing:null,onShown:null,onSubmenuCreated:null,onHiding:null,onHidden:null,onPositioning:null,submenuDirection:"auto",visible:!1,target:void 0,onLeftFirstItem:null,onLeftLastItem:null,onCloseRootSubmenu:null,onExpandLastSubmenu:null})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>!Ct(),options:{animation:null}}])}_setDeprecatedOptions(){super._setDeprecatedOptions(),A(this._deprecatedOptions,{closeOnOutsideClick:{since:"22.2",alias:"hideOnOutsideClick"}})}_initActions(){this._actions={},l(LI,(e,t)=>{this._actions[t]=this._createActionByOption(t)||tt})}_setOptionsByReference(){super._setOptionsByReference(),A(this._optionsByReference,{animation:!0,selectedItem:!0})}_focusInHandler(){}_itemContainer(){return this._overlay?this._overlay.$content():Si()}_eventBindingTarget(){return this._itemContainer()}itemsContainer(){return this._overlay?this._overlay.$content():void 0}_supportedKeys(){return A(super._supportedKeys(),{space:()=>{const e=Si(this.option("focusedElement"));this.hide(),e.length&&this._isSelectionEnabled()&&this.selectItem(e[0])},escape:this.hide})}_getActiveItem(e){const t=this._getAvailableItems(),n=t.filter(".dx-state-focused"),i=t.filter(".dx-state-hover");return i.closest(".dx-menu-items-container").find(".dx-menu-item").index(n)>=0?n:i.length?i:super._getActiveItem()}_moveFocus(e){const t=this._getItemsByLocation(e),n=this._getActiveItem(!0),i=this.itemsContainer().find(".dx-state-hover"),r=!(!Si(this.option("focusedElement")).length&&!i.length);let o;switch(e){case"up":o=r?this._prevItem(t):n,this._setFocusedElement(o),n.is(t.first())&&this._actions.onLeftFirstItem(n);break;case"down":o=r?this._nextItem(t):n,this._setFocusedElement(o),n.is(t.last())&&this._actions.onLeftLastItem(n);break;case"right":o=this.option("rtlEnabled")?this._hideSubmenuHandler():this._expandSubmenuHandler(t,e),this._setFocusedElement(o);break;case"left":o=this.option("rtlEnabled")?this._expandSubmenuHandler(t,e):this._hideSubmenuHandler(),this._setFocusedElement(o);break;case"first":o=t.first(),this._setFocusedElement(o);break;case"last":o=t.last(),this._setFocusedElement(o);break;default:return super._moveFocus(e)}}_setFocusedElement(e){e&&0!==e.length&&(this.option("focusedElement",ma(e)),this._scrollToElement(e))}_scrollToElement(e){const t=e.closest(".dx-scrollable").dxScrollable("instance");null===t||void 0===t||t.scrollToElement(e)}_getItemsByLocation(e){const t=this._getActiveItem(!0);let n;return VI.includes(e)&&(n=t.closest(".dx-menu-items-container").children().children()),n=this._getAvailableItems(n),n}_getAriaTarget(){return this.$element()}_refreshActiveDescendant(){if(_(this._overlay)){const e=this._overlay.$content();super._refreshActiveDescendant(e)}}_hideSubmenuHandler(){const e=this._getActiveItem(!0),t=e.parents(".dx-menu-item-expanded").first();if(t.length)return this._hideSubmenusOnSameLevel(t),this._hideSubmenu(e.closest(".dx-submenu")),t;this._actions.onCloseRootSubmenu(e)}_expandSubmenuHandler(e,t){const n=this._getActiveItem(!0),i=this._getItemData(n),r=this._dataAdapter.getNodeByItem(i),o=this._hasSubmenu(r),s=n.children(".dx-submenu");if(o&&!n.hasClass("dx-state-disabled"))return s.length&&"hidden"!==s.css("visibility")||this._showSubmenu(n),this._nextItem(this._getItemsByLocation(t));this._actions.onExpandLastSubmenu(n)}_clean(){this._overlay&&(this._overlay.$element().remove(),this._overlay=null),this._detachShowContextMenuEvents(this._getTarget()),this._shownSubmenus=[],super._clean()}_initMarkup(){this.$element().addClass("dx-has-context-menu"),super._initMarkup()}_render(){super._render(),this._renderVisibility(this.option("visible")),this._addWidgetClass()}_isTargetOutOfComponent(e){return!(0!==Si(e).closest(".dx-context-menu").length)}_focusOutHandler(e){const{relatedTarget:t}=e;if(t){this._isTargetOutOfComponent(t)&&this.hide()}super._focusOutHandler(e)}_renderContentImpl(){this._detachShowContextMenuEvents(this._getTarget()),this._attachShowContextMenuEvents()}_attachKeyboardEvents(){!this._keyboardListenerId&&this._focusTarget().length&&super._attachKeyboardEvents()}_renderContextMenuOverlay(){if(this._overlay)return;const e=this._getOverlayOptions();this._overlay=this._createComponent(Si("<div>").appendTo(this._$element),xI,e);const t=this._overlay.$content();t.addClass("dx-context-menu"),this._addCustomCssClass(t),this._addPlatformDependentClass(t),this._attachContextMenuEvent()}preventShowingDefaultContextMenuAboveOverlay(){const e=this._itemContainer(),t=or(Dy,this.NAME);rn.off(e,t,".dx-submenu"),rn.on(e,t,".dx-submenu",n=>{n.stopPropagation(),n.preventDefault(),rn.off(e,t,".dx-submenu")})}_itemContextMenuHandler(e){super._itemContextMenuHandler(e),e.stopPropagation()}_addPlatformDependentClass(e){Is.current().phone&&e.addClass("dx-menu-phone-overlay")}_detachShowContextMenuEvents(e){const t=this.getShowEvent(this.option("showEvent"));if(!t)return;const n=or(t,this.NAME);this._showContextMenuEventHandler?rn.off(mt.getDocument(),n,e,this._showContextMenuEventHandler):rn.off(Si(e),n)}_attachShowContextMenuEvents(){const e=this._getTarget(),t=this.getShowEvent(this.option("showEvent"));if(!t)return;const n=or(t,this.NAME);let i=this._createAction(e=>{const t=this.getShowDelay(this.option("showEvent"));t?setTimeout(()=>this._show(e.event),t):this._show(e.event)},{validatingTargetName:"target"});const r=e=>i({event:e,target:Si(e.currentTarget)});i=this._createAction(i),E(e)||e.nodeType||w(e)?(this._showContextMenuEventHandler=void 0,rn.on(e,n,r)):(this._showContextMenuEventHandler=r,rn.on(mt.getDocument(),n,e,this._showContextMenuEventHandler))}_hoverEndHandler(e){super._hoverEndHandler(e),e.stopPropagation()}_renderDimensions(){}_renderContainer(e,t){const n=t||this._itemContainer();(e=Si("<div>")).appendTo(n).addClass("dx-submenu").css("visibility",t?"hidden":"visible"),e.parent().hasClass("dx-overlay-content")||this._addCustomCssClass(e);const i=super._renderContainer(e);return t?i:this.option("width")?i.css("minWidth",this.option("width")):this.option("height")?i.css("minHeight",this.option("height")):i}_renderSubmenuItems(e,t){this._renderItems(this._getChildNodes(e),t);const n=t.children(".dx-submenu");this._actions.onSubmenuCreated({itemElement:ma(t),itemData:e.internalFields.item,submenuElement:ma(n)}),this._initScrollable(n),this.setAria({role:"menu"},n)}_getOverlayOptions(){const e=this.option("position");return{focusStateEnabled:this.option("focusStateEnabled"),animation:this.option("animation"),innerOverlay:!0,hideOnOutsideClick:e=>this._hideOnOutsideClickHandler(e),propagateOutsideClick:!0,hideOnParentScroll:!0,deferRendering:!1,position:{at:e.at,my:e.my,of:this._getTarget(),collision:"flipfit"},shading:!1,showTitle:!1,height:"auto",width:"auto",onShown:this._overlayShownActionHandler.bind(this),onHiding:this._overlayHidingActionHandler.bind(this),onHidden:this._overlayHiddenActionHandler.bind(this),visualContainer:zI}}_overlayShownActionHandler(e){this._actions.onShown(e)}_overlayHidingActionHandler(e){this._actions.onHiding(e),e.cancel||(this._hideAllShownSubmenus(),this._setOptionWithoutOptionChange("visible",!1))}_overlayHiddenActionHandler(e){this._actions.onHidden(e)}_shouldHideOnOutsideClick(e){const{closeOnOutsideClick:t,hideOnOutsideClick:n}=this.option();return g(n)?n(e):g(t)?t(e):n||t}_hideOnOutsideClickHandler(e){if(!this._shouldHideOnOutsideClick(e))return!1;if(mt.isDocument(e.target))return!0;const t=this._getActiveItemsContainer(e.target),n=this._getItemsContainers(),i=this._searchActiveItem(e.target),r=this.$element().parents(".dx-menu-item"),o=i[0]===r[0]&&i.length&&r.length;return!(this._isIncludeOverlay(t,n)&&i.length)&&!o||("onClick"===this._getShowSubmenuMode()&&this._hideAllShownChildSubmenus(i),!1)}_getActiveItemsContainer(e){return Si(e).closest(".dx-menu-items-container")}_getItemsContainers(){return this._overlay.$content().find(".dx-menu-items-container")}_searchActiveItem(e){return Si(e).closest(".dx-menu-item").eq(0)}_isIncludeOverlay(e,t){let n=!1;return l(t,(t,i)=>{e.is(i)&&!n&&(n=!0)}),n}_hideAllShownChildSubmenus(e){const t=e.find(".dx-submenu"),n=A([],this._shownSubmenus);t.length>0&&l(n,(t,n)=>{const i=this._searchActiveItem(n.context).parent();i.parent().is(e.parent().parent())&&!i.is(e.parent())&&this._hideSubmenu(n)})}_initScrollable(e){this._createComponent(e,SI,{useKeyboard:!1,_onVisibilityChanged:e=>{e.scrollTo(0)}})}_setSubMenuHeight(e,t,n){const i=e.find(".dx-menu-items-container"),r=jn(i),o=this._getMaxHeight(t,!n),s=Math.min(r,o);e.css("height",n?s:"100%")}_getMaxHeight(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=jn(zI),i=E(e),r=mt.getDocument(),o=e.length&&e[0]===r;if(!i||o)return n;const s=e[0].getBoundingClientRect().top,a=jn(e);return(t?Math.max(s,n-s-a):Math.max(s+a,n-s))-10}_dimensionChanged(){this._shownSubmenus&&this._shownSubmenus.forEach(e=>{const t=e.closest(".dx-menu-item");this._setSubMenuHeight(e,t,!0),this._scrollToElement(t);const n=this._getSubmenuPosition(t);Ja.setup(e,n)})}_getSubmenuBorderWidth(){return ra(Zs())?1:0}_showSubmenu(e){const t=this._dataAdapter.getNodeByItem(this._getItemData(e));if(this._hideSubmenusOnSameLevel(e),!this._hasSubmenu(t))return;let n=e.children(".dx-submenu");const i=n.length;super._showSubmenu(e),i||(this._renderSubmenuItems(t,e),n=e.children(".dx-submenu")),this._planPostRenderActions(n)}_setSubmenuVisible(e){if(!e)return;const t=null===e||void 0===e?void 0:e.closest(".dx-menu-item");this._setSubMenuHeight(e,t,!0),!this._isSubmenuVisible(e)&&t&&this._drawSubmenu(t)}_hideSubmenusOnSameLevel(e){const t=e.parent(".dx-menu-item-wrapper").siblings().find(".dx-menu-item-expanded");t.length&&(t.removeClass("dx-menu-item-expanded"),this._hideSubmenu(t.find(".dx-submenu")))}_hideSubmenuGroup(e){this._isSubmenuVisible(e)&&this._hideSubmenuCore(e)}_isSubmenuVisible(e){return"visible"===e.css("visibility")}_drawSubmenu(e){const t=this.option("animation")?this.option("animation").show:{},n=e.children(".dx-submenu"),i=this._getSubmenuPosition(e);this._overlay&&this._overlay.option("visible")&&(_(this._shownSubmenus)||(this._shownSubmenus=[]),this._shownSubmenus.includes(n)||this._shownSubmenus.push(n),t&&Dl.stop(n),Ja.setup(n,i),t&&(x(t.to)&&(t.to.position=i),this._animate(n,t)),n.css("visibility","visible"))}_animate(e,t){Dl.animate(e,t)}_getSubmenuPosition(e){const t=this.option("submenuDirection").toLowerCase(),n={collision:"flip",of:e.parent(".dx-menu-item-wrapper"),offset:{h:0,v:-1}};switch(t){case"left":n.at="left top",n.my="right top";break;case"right":n.at="right top",n.my="left top";break;default:this.option("rtlEnabled")?(n.at="left top",n.my="right top"):(n.at="right top",n.my="left top")}return n}_updateSubmenuVisibilityOnClick(e){if(!e.args.length)return;const{itemData:t}=e.args[0],n=this._dataAdapter.getNodeByItem(t);if(!n)return;const i=Si(e.args[0].itemElement);let r=i.find(".dx-submenu");if(this._hasSubmenu(n)&&!r.length&&(this._renderSubmenuItems(n,i),r=i.find(".dx-submenu")),i.context===r.context&&"visible"===r.css("visibility"))return;this._updateSelectedItemOnClick(e);const o=t&&!1===t.closeMenuOnClick;if(t&&!t.disabled&&!o)if(0===r.length){const t=Si(i.parents(".dx-submenu")[0]);this._hideSubmenu(t),!e.canceled&&this._overlay&&this._overlay.option("visible")&&this.option("visible",!1)}else this._shownSubmenus&&this._shownSubmenus.length>0&&this._shownSubmenus[0].is(r)&&this._hideSubmenu(r),this._showSubmenu(i)}_hideSubmenu(e){const t=A([],this._shownSubmenus);l(t,(t,n)=>{(e.is(n)||sc(e[0],n[0]))&&(n.parent().removeClass("dx-menu-item-expanded"),this._hideSubmenuCore(n))})}_hideSubmenuCore(e){const t=this._shownSubmenus.indexOf(e),n=this.option("animation")?this.option("animation").hide:null;t>=0&&this._shownSubmenus.splice(t,1),this._stopAnimate(e),n&&this._animate(e,n),e.css("visibility","hidden");e.dxScrollable("instance").scrollTo(0),this.option("focusedElement",null)}_stopAnimate(e){Dl.stop(e,!0)}_hideAllShownSubmenus(){const e=A([],this._shownSubmenus);this._overlay.$content().find(".dx-menu-item-expanded").removeClass("dx-menu-item-expanded"),l(e,(e,t)=>{this._hideSubmenu(t)})}_visibilityChanged(e){e&&this._renderContentImpl()}_optionChanged(e){if(LI.includes(e.name))this._initActions();else switch(e.name){case"visible":this._renderVisibility(e.value);break;case"showEvent":case"position":case"submenuDirection":this._invalidate();break;case"target":e.previousValue&&this._detachShowContextMenuEvents(e.previousValue),this._invalidate();break;case"closeOnOutsideClick":case"hideOnOutsideClick":break;default:super._optionChanged(e)}}_renderVisibility(e){return e?this._show():this._hide()}_toggleVisibility(){}_show(e){const t={jQEvent:e};let n=Re().reject().promise();if(this._actions.onShowing(t),t.cancel)return n;const i=this._positionContextMenu(e);if(i){var r;this._overlay||(this._renderContextMenuOverlay(),this._overlay.$content().addClass(this._widgetClass()),this._renderFocusState(),this._attachHoverEvents(),this._attachClickEvent(),this._renderItems(this._dataAdapter.getRootNodes()));const t=Si(this._overlay.content()).children(".dx-submenu");this._setOptionWithoutOptionChange("visible",!0),this._overlay.option({height:()=>this._getMaxHeight(i.of),maxHeight:()=>{const e=t.find(".dx-menu-items-container"),n=this._getSubmenuBorderWidth();return jn(e)+2*n},position:i}),t.length&&this._setSubMenuHeight(t,i.of,!1),n=this._overlay.show(),e&&e.stopPropagation(),this._setAriaAttributes(),(null===e||void 0===e||null===(r=e.originalEvent)||void 0===r?void 0:r.type)===wy&&this.preventShowingDefaultContextMenuAboveOverlay()}return n}_renderItems(e,t){super._renderItems(e,t);const n=Si(this._overlay.content()).children(".dx-submenu");n.length&&this._initScrollable(n)}_setAriaAttributes(){this._overlayContentId=`dx-${new ce}`,this.setAria("owns",this._overlayContentId),this.setAria({id:this._overlayContentId,role:"menu"},this._overlay.$content())}_cleanAriaAttributes(){this._overlay&&this.setAria("id",null,this._overlay.$content()),this.setAria("owns",void 0)}_getTarget(){return this.option("target")||this.option("position").of||Si(mt.getDocument())}_getContextMenuPosition(){return A({},this.option("position"),{of:this._getTarget()})}_positionContextMenu(e){let t=this._getContextMenuPosition();const n=this._isInitialOptionValue("position"),i=this._createActionByOption("onPositioning");e&&e.preventDefault&&n&&(t.of=e);const r={position:t,event:e};return i(r),r.cancel?t=null:r.event&&(r.event.cancel=!0,e.preventDefault()),t}_refresh(){if(Ct())if(this._overlay){const e=this._overlay.option("position");super._refresh(),this._overlay&&this._overlay.option("position",e)}else super._refresh();else super._refresh()}_hide(){let e;return this._overlay&&(e=this._overlay.hide(),this._setOptionWithoutOptionChange("visible",!1)),this._cleanAriaAttributes(),this.option("focusedElement",null),e||Re().reject().promise()}toggle(e){const t=this.option("visible");return e=void 0===e?!t:e,this._renderVisibility(e)}show(){return this.toggle(!0)}hide(){return this.toggle(!1)}_postProcessRenderItems(e){this._setSubmenuVisible(e)}}Mi("dxContextMenu",jI);const WI=jI,KI=["table","tableHeaderCell"],UI=["insertTable","insertHeaderRow","insertRowAbove","insertRowBelow","insertColumnLeft","insertColumnRight","deleteColumn","deleteRow","deleteTable","cellProperties","tableProperties"];function qI(e){const t=e.getModule("table");return null!==t&&void 0!==t&&t.tableFormats?t.tableFormats():KI}function GI(e,t){let{tableBlot:n,quill:i}=t;(n??i.scroll.find(e.get(0))).format("tableWidth","initial")}function ZI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.find("tr").eq(t).find("th, td")}function YI(e){const t=[],n="horizontal"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"horizontal");return(n?ZI(e):JI(e)).each((e,i)=>{const r=Si(i);""===r.get(0).style[n?"width":"height"]&&t.push(r)}),t}function QI(e,t){let{elements:n,property:i,value:r}=t;const o=e.quill.getModule("table").tableBlots,s=`cell${Jn(i,!0)}`;l(n,(t,n)=>{var i;let a=e.quill.scroll.find(n);if(!o.includes(a.statics.blotName)){const e=a.descendant(e=>o.includes(e.statics.blotName));a=e?e[0]:null}null===(i=a)||void 0===i||i.format(s,`${r}px`)})}function XI(e,t){return"horizontal"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"horizontal")?JI(e,t):ZI(e,t)}function JI(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.find(`th:nth-child(${1+t}), td:nth-child(${1+t})`)}function ek(e,t){for(var n=arguments.length,i=new Array(n>2?n-2:0),r=2;r<n;r++)i[r-2]=arguments[r];return()=>{const n=e.getModule("table");if(n)return e.focus(),n[t](...i)}}const tk={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},nk=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10)]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*\.*\d+)\)$/,process:function(e){return[parseInt(e[1],10),parseInt(e[2],10),parseInt(e[3],10),parseFloat(e[4])]}},{re:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/,process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16),Number((parseInt(e[4],16)/255).toFixed(2))]}},{re:/^#([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16),Number((parseInt(e[4]+e[4],16)/255).toFixed(2))]}},{re:/^#([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})$/,process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/^hsv\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){const t=parseInt(e[1],10),n=parseInt(e[2],10),i=parseInt(e[3],10),r=sk(t,n,i);return[r[0],r[1],r[2],1,[t,n,i]]}},{re:/^hsl\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(e){const t=parseInt(e[1],10),n=parseInt(e[2],10),i=parseInt(e[3],10),r=ck(t,n,i);return[r[0],r[1],r[2],1,null,[t,n,i]]}}],ik=Math.round;function rk(e){let t;this.baseColor=e,e&&(t=String(e).toLowerCase().replace(/ /g,""),t=tk[t]?"#"+tk[t]:t,t=function(e){if("transparent"===e)return[0,0,0,0];let t=0;const n=nk.length;let i;for(;t<n;++t)if(i=nk[t].re.exec(e),i)return nk[t].process(i);return null}(t)),t||(this.colorIsInvalid=!0),t=t||{},this.r=ok(t[0]),this.g=ok(t[1]),this.b=ok(t[2]),this.a=ok(t[3],1,1),t[4]?this.hsv={h:t[4][0],s:t[4][1],v:t[4][2]}:this.hsv=function(e,t,n){const i=Math.max(e,t,n),r=Math.min(e,t,n),o=i-r;let s,a,l=i;if(a=0===i?0:1-r/i,i===r)s=0;else switch(i){case e:s=(t-n)/o*60,t<n&&(s+=360);break;case t:s=(n-e)/o*60+120;break;case n:s=(e-t)/o*60+240}return a*=100,l*=100/255,{h:Math.round(s),s:Math.round(a),v:Math.round(l)}}(this.r,this.g,this.b),t[5]?this.hsl={h:t[5][0],s:t[5][1],l:t[5][2]}:this.hsl=function(e,t,n){e=uk(e,255),t=uk(t,255),n=uk(n,255);const i=Math.max(e,t,n),r=Math.min(e,t,n),o=i+r;let s,a;const l=o/2;if(i===r)s=a=0;else{const c=i-r;a=l>.5?c/(2-o):c/o,s=function(e,t,n,i){switch(Math.max(e,t,n)){case e:return(t-n)/i+(t<n?6:0);case t:return(n-e)/i+2;case n:return(e-t)/i+4}}(e,t,n,c),s/=6}return{h:ik(360*s),s:ik(100*a),l:ik(100*l)}}(this.r,this.g,this.b)}function ok(e,t,n){return t=t||0,n=n||255,e<0||isNaN(e)?t:e>n?n:e}function sk(e,t,n){const i=(100-t)*n/100,r=e%60/60*(n-i),o=i+r,s=n-r;let a,l,c;switch(Math.floor(e%360/60)){case 0:a=n,l=o,c=i;break;case 1:a=s,l=n,c=i;break;case 2:a=i,l=n,c=o;break;case 3:a=i,l=s,c=n;break;case 4:a=o,l=i,c=n;break;case 5:a=n,l=i,c=s}return[Math.round(2.55*a),Math.round(2.55*l),Math.round(2.55*c)]}function ak(e,t){let n=t;return"r"===e&&(n=t+1/3),"b"===e&&(n=t-1/3),n}function lk(e,t,n){return(n=function(e){return e<0&&(e+=1),e>1&&(e-=1),e}(n))<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function ck(e,t,n){let i,r,o;if(e=uk(e,360),t=uk(t,100),n=uk(n,100),0===t)i=r=o=n;else{const s=n<.5?n*(1+t):n+t-n*t,a=2*n-s;i=lk(a,s,ak("r",e)),r=lk(a,s,ak("g",e)),o=lk(a,s,ak("b",e))}return[ik(255*i),ik(255*r),ik(255*o)]}function uk(e,t){return e=Math.min(t,Math.max(0,parseFloat(e))),Math.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function dk(e,t,n){return t=t||0,n=n||255,!(e%1!==0||e<t||e>n||"number"!==typeof e||isNaN(e))}rk.prototype={constructor:rk,highlight:function(e){return e=e||10,this.alter(e).toHex()},darken:function(e){return e=e||10,this.alter(-e).toHex()},alter:function(e){const t=new rk;return t.r=ok(this.r+e),t.g=ok(this.g+e),t.b=ok(this.b+e),t},blend:function(e,t){const n=e instanceof rk?e:new rk(e),i=new rk;return i.r=ok(ik(this.r*(1-t)+n.r*t)),i.g=ok(ik(this.g*(1-t)+n.g*t)),i.b=ok(ik(this.b*(1-t)+n.b*t)),i},toHex:function(){return e=this.r,t=this.g,n=this.b,"#"+(16777216|e<<16|t<<8|n).toString(16).slice(1);var e,t,n},getPureColor:function(){return new rk("rgb("+sk(this.hsv.h,100,100).join(",")+")")},isValidHex:function(e){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},isValidRGB:function(e,t,n){return!!(dk(e)&&dk(t)&&dk(n))},isValidAlpha:function(e){return!(isNaN(e)||e<0||e>1||"number"!==typeof e)},colorIsInvalid:!1,fromHSL:function(e){const t=new rk,n=ck(e.h,e.s,e.l);return t.r=n[0],t.g=n[1],t.b=n[2],t}};const hk=rk,pk=yd;class fk extends Uh{constructor(e,t,n){super(e,t,n),this.currentTemplate=null}_attachEvents(e){const{editor:t}=this;e.option("onClick",e=>{var n;(null!==(n=t._shouldCallOpenHandler)&&void 0!==n&&n.call(t)||!t.option("openOnFieldClick"))&&t._openHandler(e)}),rn.on(e.$element(),"mousedown",e=>{t.$element().is(".dx-state-focused")&&e.preventDefault()})}_create(){const{editor:e}=this,t=Si("<div>"),n=this._getOptions();this._addToContainer(t);const i=e._createComponent(t,g_,A({},n,{elementAttr:{"aria-label":mr.format("dxDropDownEditor-selectLabel")}}));return this._legacyRender(e.$element(),t,n.visible),{$element:t,instance:i}}_getOptions(){const{editor:e}=this,t=this._isVisible(),n={focusStateEnabled:!1,hoverStateEnabled:!1,activeStateEnabled:!1,useInkRipple:!1,disabled:e.option("readOnly"),visible:t};return this._addTemplate(n),n}_isVisible(){const{editor:e}=this;return super._isVisible()&&e.option("showDropDownButton")}_legacyRender(e,t,n){e.toggleClass("dx-dropdowneditor-button-visible",n),t&&t.removeClass("dx-button").removeClass("dx-button-mode-contained").addClass("dx-dropdowneditor-button")}_isSameTemplate(){return this.editor.option("dropDownButtonTemplate")===this.currentTemplate}_addTemplate(e){this._isSameTemplate()||(e.template=this.editor._getTemplateByOption("dropDownButtonTemplate"),this.currentTemplate=this.editor.option("dropDownButtonTemplate"))}update(){if(super.update()){const{editor:e,instance:t}=this,n=e.$element(),i=this._getOptions();null===t||void 0===t||t.option(i),this._legacyRender(n,null===t||void 0===t?void 0:t.$element(),i.visible)}}}const mk=function(e){if(Ct())return zn(e)},_k=function(e){return null===e&&(e=void 0),"function"===typeof e&&(e=e()),e},gk="dx-dropdowneditor-input-wrapper",vk="dx-dropdowneditor-overlay",yk="ios"===Is.current().platform;function bk(){return Si("<div>").addClass("dx-dropdowneditor-field-template-wrapper")}class Ck extends G_{_supportedKeys(){return K({},super._supportedKeys(),{tab:e=>{if(!this.option("opened"))return;if(!this._popup.getFocusableElements().length)return void this.close();const t=e.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();t&&(rn.trigger(t,"focus"),t.select()),e.preventDefault()},escape:e=>(this.option("opened")&&e.preventDefault(),this.close(),!0),upArrow:e=>!(!sr(e)&&(e.preventDefault(),e.stopPropagation(),e.altKey))||(this.close(),!1),downArrow:e=>!(!sr(e)&&(e.preventDefault(),e.stopPropagation(),e.altKey))||(this._validatedOpening(),!1),enter:e=>(this.option("opened")&&(e.preventDefault(),this._valueChangeEventHandler(e)),!0)})}_getDefaultButtons(){return super._getDefaultButtons().concat([{name:"dropDown",Ctor:fk}])}_getDefaultOptions(){return K({},super._getDefaultOptions(),{value:null,onOpened:null,onClosed:null,opened:!1,acceptCustomValue:!0,applyValueMode:"instantly",deferRendering:!0,activeStateEnabled:!0,dropDownButtonTemplate:"dropDownButton",fieldTemplate:null,openOnFieldClick:!1,showDropDownButton:!0,buttons:void 0,dropDownOptions:{showTitle:!1},popupPosition:this._getDefaultPopupPosition(),onPopupInitialized:null,applyButtonText:mr.format("OK"),cancelButtonText:mr.format("Cancel"),buttonsLocation:"default",useHiddenSubmitElement:!1,validationMessagePosition:"auto"})}_useTemplates(){return!0}_getDefaultPopupPosition(e){const t=Ta(e);return{offset:{h:0,v:-1},my:`${t} top`,at:`${t} bottom`,collision:"flip flip"}}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:e=>"generic"===e.platform,options:{popupPosition:{offset:{v:0}}}}])}_inputWrapper(){return this.$element().find(`.${gk}`).first()}_init(){super._init(),this._initVisibilityActions(),this._initPopupInitializedAction();const{rtlEnabled:e,dropDownOptions:t}=this.option();this._updatePopupPosition(e),this._options.cache("dropDownOptions",t)}_updatePopupPosition(e){const{my:t,at:n}=this._getDefaultPopupPosition(e),i=this.option("popupPosition");this.option("popupPosition",A({},i,{my:t,at:n}))}_initVisibilityActions(){this._openAction=this._createActionByOption("onOpened",{excludeValidators:["disabled","readOnly"]}),this._closeAction=this._createActionByOption("onClosed",{excludeValidators:["disabled","readOnly"]})}_initPopupInitializedAction(){this._popupInitializedAction=this._createActionByOption("onPopupInitialized",{excludeValidators:["disabled","readOnly"]})}_initMarkup(){this._renderSubmitElement(),super._initMarkup(),this.$element().addClass("dx-dropdowneditor"),this.setAria("role",this._getAriaRole())}_render(){this._detachFocusEvents(),super._render(),this._renderOpenHandler(),this._attachFocusOutHandler(),this._renderOpenedState()}_renderContentImpl(){this.option("deferRendering")||this._createPopup()}_renderInput(){super._renderInput(),this._renderTemplateWrapper(),this._wrapInput(),this._setDefaultAria()}_wrapInput(){this._$container=this.$element().wrapInner(Si("<div>").addClass(gk)).children().eq(0)}_getAriaHasPopup(){return"true"}_getAriaAutocomplete(){return"none"}_getAriaRole(){return"combobox"}_setDefaultAria(){this.setAria({haspopup:this._getAriaHasPopup(),autocomplete:this._getAriaAutocomplete(),role:this._getAriaRole()})}_readOnlyPropValue(){return!this._isEditable()||super._readOnlyPropValue()}_cleanFocusState(){super._cleanFocusState(),this.option("fieldTemplate")&&this._detachFocusEvents()}_getFieldTemplate(){return this.option("fieldTemplate")&&this._getTemplateByOption("fieldTemplate")}_renderMask(){this.option("fieldTemplate")||super._renderMask()}_renderField(){const e=this._getFieldTemplate();e&&this._renderTemplatedField(e,this._fieldRenderData())}_renderPlaceholder(){!!this._getFieldTemplate()||super._renderPlaceholder()}_renderValue(){this.option("useHiddenSubmitElement")&&this._setSubmitValue();return super._renderValue().always(this._renderField.bind(this))}_getButtonsContainer(){return this._getFieldTemplate()?this._$container:this._$textEditorContainer}_renderTemplateWrapper(){this._getFieldTemplate()&&(this._$templateWrapper||(this._$templateWrapper=bk().prependTo(this.$element())))}_renderTemplatedField(e,t){const n=Fi(this._input());this._detachKeyboardEvents(),this._detachFocusEvents(),this._$textEditorContainer.remove();const i=bk();this._$templateWrapper.replaceWith(i),this._$templateWrapper=i;const r=Symbol("renderContext");this._activeRenderContext=r,e.render({model:t,container:ma(this._$templateWrapper),onRendered:()=>{if(this._activeRenderContext!==r)return;const e=this._input();if(!e.length)throw Ps.Error("E1010");if(this._integrateInput(),n)if(br.mozilla){e.get(0).focus({preventScroll:!0})}else rn.trigger(e,"focus")}})}_integrateInput(){const{isValid:e}=this.option();this._renderFocusState(),this._refreshValueChangeEvent(),this._refreshEvents(),this._refreshEmptinessEvent(),this._setDefaultAria(),this._setFieldAria(),this._toggleValidationClasses(!e);const{_onMarkupRendered:t}=this.option();null===t||void 0===t||t()}_refreshEmptinessEvent(){rn.off(this._input(),"input blur",this._toggleEmptinessEventHandler),this._renderEmptinessEvent()}_fieldRenderData(){return this.option("value")}_initTemplates(){this._templateManager.addDefaultTemplates({dropDownButton:new Yu(e=>{const t=Si("<div>").addClass("dx-dropdowneditor-icon");Si(e.container).append(t)})}),super._initTemplates()}_renderOpenHandler(){const e=this._inputWrapper(),t=or(dc,this.NAME),{openOnFieldClick:n}=this.option();rn.off(e,t),rn.on(e,t,this._getInputClickHandler(n)),this.$element().toggleClass("dx-dropdowneditor-field-clickable",n),n&&(this._openOnFieldClickAction=this._createAction(this._openHandler.bind(this)))}_attachFocusOutHandler(){yk&&(this._detachFocusOutEvents(),rn.on(this._inputWrapper(),or("focusout",this.NAME),e=>{const t=e.relatedTarget;if(t&&this.option("opened")){this._isTargetOutOfComponent(t)&&this.close()}}))}_isTargetOutOfComponent(e){const t=this.content?Si(this.content()).closest(`.${vk}`):this._$popup;return 0===Si(e).closest(`.${vk}`,t).length}_detachFocusOutEvents(){yk&&rn.off(this._inputWrapper(),or("focusout",this.NAME))}_getInputClickHandler(e){return e?e=>{this._executeOpenAction(e)}:()=>{this._focusInput()}}_openHandler(){this._toggleOpenState()}_executeOpenAction(e){var t;null===(t=this._openOnFieldClickAction)||void 0===t||t.call(this,{event:e})}_keyboardEventBindingTarget(){return this._input()}_focusInput(){return!this.option("disabled")&&(this.option("focusStateEnabled")&&!Fi(this._input())&&(this._resetCaretPosition(),rn.trigger(this._input(),"focus")),!0)}_resetCaretPosition(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];const t=this._input().get(0);if(t){const{value:n}=t,i=_(n)&&(e||this._isEditable())?n.length:0;this._caret({start:i,end:i},!0)}}_isEditable(){const{acceptCustomValue:e}=this.option();return e}_toggleOpenState(e){this._focusInput()&&(this.option("readOnly")||(e=arguments.length?e:!this.option("opened"),this.option("opened",e)))}_getControlsAria(){return this._popup&&this._popupContentId}_renderOpenedState(){const e=this.option("opened");e&&this._createPopup(),this.$element().toggleClass("dx-dropdowneditor-active",e),this._setPopupOption("visible",e);const t={expanded:e,controls:this._getControlsAria()};this.setAria(t),this.setAria("owns",e?this._popupContentId:void 0,this.$element())}_createPopup(){this._$popup||(this._$popup=Si("<div>").addClass(vk).appendTo(this.$element()),this._renderPopup(),this._renderPopupContent(),this._setPopupAriaLabel())}_setPopupAriaLabel(){const e=this._popup.$overlayContent();this.setAria("label","Dropdown",e)}_renderPopupContent(){}_renderPopup(){const e=A(this._popupConfig(),this._options.cache("dropDownOptions"));delete e.closeOnOutsideClick,this._popup=this._createComponent(this._$popup,rI,e),this._popup.on({showing:this._popupShowingHandler.bind(this),shown:this._popupShownHandler.bind(this),hiding:this._popupHidingHandler.bind(this),hidden:this._popupHiddenHandler.bind(this),contentReady:this._contentReadyHandler.bind(this)}),this._attachPopupKeyHandler(),this._contentReadyHandler(),this._setPopupContentId(this._popup.$content()),this._bindInnerWidgetOptions(this._popup,"dropDownOptions")}_attachPopupKeyHandler(){rn.on(this._popup.$overlayContent(),or("keydown",this.NAME),e=>this._popupKeyHandler(e))}_popupKeyHandler(e){switch(ir(e)){case"tab":this._popupTabHandler(e);break;case"escape":this._popupEscHandler()}}_popupTabHandler(e){const t=Si(e.target),n=e.shiftKey&&t.is(this._getFirstPopupElement());(!e.shiftKey&&t.is(this._getLastPopupElement())||n)&&(rn.trigger(this.field(),"focus"),e.preventDefault())}_popupEscHandler(){rn.trigger(this._input(),"focus"),this.close()}_setPopupContentId(e){this._popupContentId=`dx-${new ce}`,this.setAria("id",this._popupContentId,e)}_contentReadyHandler(){}_popupConfig(){return{onInitialized:this._getPopupInitializedHandler(),position:A(this.option("popupPosition"),{of:this.$element()}),showTitle:this.option("dropDownOptions.showTitle"),_ignoreFunctionValueDeprecation:!0,width:()=>mk(this.$element()),height:"auto",shading:!1,hideOnParentScroll:!0,hideOnOutsideClick:e=>this._closeOutsideDropDownHandler(e),animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,dragEnabled:!1,toolbarItems:this._getPopupToolbarItems(),onPositioned:this._popupPositionedHandler.bind(this),fullScreen:!1,contentTemplate:null,_hideOnParentScrollTarget:this.$element(),_wrapperClassExternal:vk,_ignorePreventScrollEventsDeprecation:!0}}_popupInitializedHandler(){}_getPopupInitializedHandler(){const e=this.option("onPopupInitialized");return t=>{this._popupInitializedHandler(),e&&this._popupInitializedAction({popup:t.component})}}_dimensionChanged(){!Ct()||this.$element().is(":visible")?this._updatePopupWidth():this.close()}_updatePopupWidth(){void 0===_k(this.option("dropDownOptions.width"))&&this._setPopupOption("width",()=>mk(this.$element()))}_popupPositionedHandler(e){var t;const{labelMode:n,stylingMode:i}=this.option();if(!this._popup)return;const r=this._popup.$overlayContent(),o=null===(t=e.position)||void 0===t||null===(t=t.v)||void 0===t?void 0:t.flip,s="hidden"!==n&&"outside"!==n&&"outlined"===i;if(e.position&&r.toggleClass("dx-dropdowneditor-overlay-flipped",o),o&&s&&this._label.isVisible()){const e=this._label.$element();wa(r,{top:va(r).top-parseInt(e.css("fontSize"))})}}_popupShowingHandler(){}_popupHidingHandler(){this.option("opened",!1)}_popupShownHandler(){var e;this._openAction(),null===(e=this._validationMessage)||void 0===e||e.option("positionSide",this._getValidationMessagePositionSide())}_popupHiddenHandler(){var e;this._closeAction(),null===(e=this._validationMessage)||void 0===e||e.option("positionSide",this._getValidationMessagePositionSide())}_getValidationMessagePositionSide(){var e;const{validationMessagePosition:t}=this.option();if("auto"!==t)return t;let n="bottom";if(null!==(e=this._popup)&&void 0!==e&&e.option("visible")){const{top:e}=Ja.setup(this.$element()),{top:t}=Ja.setup(this._popup.$content());n=e+this.option("popupPosition").offset.v>t?"bottom":"top"}return n}_closeOutsideDropDownHandler(e){const{target:t}=e,n=Si(t),i=this.getButton("dropDown"),r=null===i||void 0===i?void 0:i.$element(),o=!!n.closest(this.$element()).length,s=!!n.closest(r).length;return!o&&!s}_clean(){delete this._openOnFieldClickAction,delete this._$templateWrapper,this._$popup&&(this._$popup.remove(),delete this._$popup,delete this._popup),super._clean()}_setPopupOption(e,t){this._setWidgetOption("_popup",arguments)}_validatedOpening(){this.option("readOnly")||this._toggleOpenState(!0)}_getPopupToolbarItems(){const{applyValueMode:e}=this.option();return"useButtons"===e?this._popupToolbarItemsConfig():[]}_getFirstPopupElement(){return Si(this._popup.getFocusableElements()).first()}_getLastPopupElement(){return Si(this._popup.getFocusableElements()).last()}_popupToolbarItemsConfig(){const e=[{shortcut:"done",options:{onClick:this._applyButtonHandler.bind(this),text:this.option("applyButtonText")}},{shortcut:"cancel",options:{onClick:this._cancelButtonHandler.bind(this),text:this.option("cancelButtonText")}}];return this._applyButtonsLocation(e)}_applyButtonsLocation(e){const{buttonsLocation:t}=this.option(),n=e;if("default"!==t){const e=Ye(t);l(n,(t,n)=>{A(n,{toolbar:e[0],location:e[1]})})}return n}_applyButtonHandler(e){this.close(),this.option("focusStateEnabled")&&this.focus()}_cancelButtonHandler(){this.close(),this.option("focusStateEnabled")&&this.focus()}_popupOptionChanged(e){const t=pk.getOptionsFromContainer(e);this._setPopupOption(t);const n=Object.keys(t);(n.includes("width")||n.includes("height"))&&this._dimensionChanged()}_renderSubmitElement(){this.option("useHiddenSubmitElement")&&(this._$submitElement=Si("<input>").attr("type","hidden").appendTo(this.$element()))}_setSubmitValue(){const{value:e}=this.option();this._getSubmitElement().val(e)}_getSubmitElement(){return this.option("useHiddenSubmitElement")?this._$submitElement:super._getSubmitElement()}_dispose(){this._detachFocusOutEvents(),super._dispose()}_optionChanged(e){var t;const{name:n,value:i}=e;switch(n){case"width":case"height":super._optionChanged(e),null===(t=this._popup)||void 0===t||t.repaint();break;case"opened":this._renderOpenedState();break;case"onOpened":case"onClosed":this._initVisibilityActions();break;case"onPopupInitialized":this._initPopupInitializedAction();break;case"fieldTemplate":case"acceptCustomValue":case"openOnFieldClick":this._invalidate();break;case"dropDownButtonTemplate":case"showDropDownButton":this._updateButtons(["dropDown"]);break;case"dropDownOptions":{this._popupOptionChanged(e);const{dropDownOptions:t}=this.option();this._options.cache("dropDownOptions",t);break}case"popupPosition":break;case"deferRendering":Ct()&&this._createPopup();break;case"applyValueMode":case"applyButtonText":case"cancelButtonText":case"buttonsLocation":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"useHiddenSubmitElement":this._$submitElement&&(this._$submitElement.remove(),this._$submitElement=void 0),this._renderSubmitElement();break;case"rtlEnabled":this._updatePopupPosition(i),super._optionChanged(e);break;default:super._optionChanged(e)}}open(){this.option("opened",!0)}close(){this.option("opened",!1)}field(){return ma(this._input())}content(){return this._popup?this._popup.content():null}}Mi("dxDropDownEditor",Ck);const xk=Ck,Sk=Mw;Mi("dxTextEditor",W_);const wk=W_,Ek="dxNumberBox",Ik=or(yo.up,Ek),kk=or(yo.cancel,Ek);const Dk=class extends yd{_getDefaultOptions(){return K({},super._getDefaultOptions(),{direction:"up",onChange:null,activeStateEnabled:!0,hoverStateEnabled:!0})}_initMarkup(){super._initMarkup();const{direction:e}=this.option(),t=`dx-numberbox-spin-${e}`;this.$element().addClass("dx-numberbox-spin-button").addClass(t),this._spinIcon=Si("<div>").addClass(`${t}-icon`).appendTo(this.$element())}_render(){super._render();const e=or(yo.down,this.NAME),t=this.$element();rn.off(t,e),rn.on(t,e,this._spinDownHandler.bind(this)),this._spinChangeHandler=this._createActionByOption("onChange")}_spinDownHandler(e){e.preventDefault(),this._clearTimer(),rn.on(this.$element(),wy,()=>{this._feedBackDeferred=Re(),Cc(this._feedBackDeferred),this._spinChangeHandler({event:e}),this._holdTimer=setInterval(this._spinChangeHandler,100,{event:e})});const t=mt.getDocument();rn.on(t,Ik,this._clearTimer.bind(this)),rn.on(t,kk,this._clearTimer.bind(this)),this._spinChangeHandler({event:e})}_dispose(){this._clearTimer(),super._dispose()}_clearTimer(){rn.off(this.$element(),wy);const e=mt.getDocument();rn.off(e,Ik),rn.off(e,kk),this._feedBackDeferred&&this._feedBackDeferred.resolve(),this._holdTimer&&clearInterval(this._holdTimer)}_optionChanged(e){switch(e.name){case"onChange":case"direction":this._invalidate();break;default:super._optionChanged(e)}}};class Ok extends Uh{_attachEvents(e,t){const{editor:n}=this,i=or(yo.down,n.NAME),r=t.children(),o=n._createAction(e=>n._spinButtonsPointerDownHandler(e));rn.off(t,i),rn.on(t,i,e=>o({event:e})),Dk.getInstance(r.eq(0)).option("onChange",e=>n._spinUpChangeHandler(e)),Dk.getInstance(r.eq(1)).option("onChange",e=>n._spinDownChangeHandler(e))}_create(){const{editor:e}=this,t=Si("<div>").addClass("dx-numberbox-spin-container"),n=Si("<div>").appendTo(t),i=Si("<div>").appendTo(t),r=this._getOptions();return this._addToContainer(t),e._createComponent(n,Dk,A({direction:"up"},r)),e._createComponent(i,Dk,A({direction:"down"},r)),this._legacyRender(e.$element(),this._isTouchFriendly(),r.visible),{instance:t,$element:t}}_getOptions(){const{editor:e}=this;return{visible:this._isVisible(),disabled:e.option("disabled")}}_isVisible(){const{editor:e}=this;return super._isVisible()&&e.option("showSpinButtons")}_isTouchFriendly(){const{editor:e}=this;return e.option("showSpinButtons")&&e.option("useLargeSpinButtons")}_legacyRender(e,t,n){e.toggleClass("dx-numberbox-spin-touch-friendly",t),e.toggleClass("dx-numberbox-spin",n)}update(){if(super.update()){const{editor:e,instance:t}=this,n=e.$element(),i=this._isVisible(),r=this._isTouchFriendly(),o=t.children(),s=Dk.getInstance(o.eq(0)),a=Dk.getInstance(o.eq(1)),l=this._getOptions();s.option(l),a.option(l),this._legacyRender(n,r,i)}}}const Tk=Math,Ak=["tab","del","backspace","leftArrow","rightArrow","home","end","enter"];const Pk=class extends wk{_supportedKeys(){return K({},super._supportedKeys(),{upArrow(e){sr(e)||(e.preventDefault(),e.stopPropagation(),this._spinUpChangeHandler(e))},downArrow(e){sr(e)||(e.preventDefault(),e.stopPropagation(),this._spinDownChangeHandler(e))},enter(){}})}_getDefaultOptions(){return K({},super._getDefaultOptions(),{value:0,min:void 0,max:void 0,step:1,showSpinButtons:!1,useLargeSpinButtons:!0,mode:"text",invalidValueMessage:mr.format("dxNumberBox-invalidValueMessage"),buttons:void 0})}_useTemplates(){return!1}_getDefaultButtons(){return super._getDefaultButtons().concat([{name:"spins",Ctor:Ok}])}_isSupportInputMode(){const e=parseFloat(br.version);return br.chrome&&e>=66||br.safari&&e>=12}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>Is.real().generic&&!Is.isSimulator(),options:{useLargeSpinButtons:!1}},{device:function(){return"desktop"!==Is.real().deviceType&&!this._isSupportInputMode()}.bind(this),options:{mode:"number"}}])}_initMarkup(){this._renderSubmitElement(),this.$element().addClass("dx-numberbox"),super._initMarkup(),this._toggleTabIndex()}_getDefaultAttributes(){const e=super._getDefaultAttributes();return e.inputmode="decimal",e}_renderContentImpl(){this.option("isValid")&&this._validateValue(this.option("value")),this.setAria("role","spinbutton")}_renderSubmitElement(){this._$submitElement=Si("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))}_setSubmitValue(e){this._getSubmitElement().val(et(e))}_getSubmitElement(){return this._$submitElement}_keyPressHandler(e){super._keyPressHandler();const t=rr(e);if(!/[\d.,eE\-+]/.test(t)){const t=ir(e);if(sr(e)||t&&Ak.includes(t))return;return void e.preventDefault()}this._keyPressed=!0}_hasMouseWheelHandler(){return!0}_onMouseWheel(e){e.delta>0?this._spinValueChange(1,e):this._spinValueChange(-1,e)}_renderValue(){const e=this._input().val(),t=this.option("value");e.length&&Number(e)===t||(this._forceValueRender(),this._toggleEmptinessEventHandler());const n=_(t)?null:mr.format("dxNumberBox-noDataText");return this.setAria({valuenow:Fe(t,""),valuetext:n}),this.option("text",this._input().val()),this._updateButtons(),Re().resolve()}_forceValueRender(){const e=this.option("value"),t=Number(e),n=isNaN(t)?"":this._applyDisplayValueFormatter(e);this._renderDisplayText(n)}_applyDisplayValueFormatter(e){const{displayValueFormatter:t}=this.option();return null===t||void 0===t?void 0:t(e)}_renderProps(){this._input().prop({min:this.option("min"),max:this.option("max"),step:this.option("step")}),this.setAria({valuemin:Fe(this.option("min"),""),valuemax:Fe(this.option("max"),"")})}_spinButtonsPointerDownHandler(){const e=this._input();this.option("useLargeSpinButtons")||mt.getActiveElement()===e[0]||rn.trigger(e,"focus")}_spinUpChangeHandler(e){this.option("readOnly")||this._spinValueChange(1,e.event||e)}_spinDownChangeHandler(e){this.option("readOnly")||this._spinValueChange(-1,e.event||e)}_spinValueChange(e,t){const n=parseFloat(this.option("step"));if(0===n)return;let i=parseFloat(this._normalizeInputValue())||0;i=this._correctRounding(i,n*e);const r=this.option("min"),o=this.option("max");_(r)&&(i=Math.max(r,i)),_(o)&&(i=Math.min(o,i)),this._saveValueChangeEvent(t),this.option("value",i)}_correctRounding(e,t){const n=/[,.](.*)/,i=n.test(e),r=n.test(t);if(i||r){const o=i?n.exec(e)[0].length:0,s=r?n.exec(t)[0].length:0,a=Tk.max(o,s);return e=this._round(e+t,a)}return e+t}_round(e,t){const n=10**(t=t||0);return e*=n,e=Math.round(e)/n}_renderValueChangeEvent(){super._renderValueChangeEvent();const e=or("focusout","NumberBoxForceValueChange");rn.off(this.element(),e),rn.on(this.element(),e,this._forceRefreshInputValue.bind(this))}_forceRefreshInputValue(){const{mode:e}=this.option();if("number"===e)return;const t=this._input(),n=this._applyDisplayValueFormatter(this.option("value"));t.val(null),t.val(n)}_valueChangeEventHandler(e){const t=this._input(),n=this._normalizeText(),i=this._parseValue(n),r="."!==n&&"-"!==n;!this._isValueValid()||this._validateValue(i)?(r&&super._valueChangeEventHandler(e,isNaN(i)?null:i),this._applyValueBoundaries(n,i),this.validationRequest.fire({value:i,editor:this})):t.val(this._applyDisplayValueFormatter(i))}_applyValueBoundaries(e,t){const n=this._isValueIncomplete(e),i=this._isValueInRange(e);n||i||null===t||Number(e)!==t&&this._input().val(this._applyDisplayValueFormatter(t))}_replaceCommaWithPoint(e){return e.replace(",",".")}_inputIsInvalid(){const{mode:e}=this.option(),t="number"===e,n=this._input().get(0).validity;return t&&(null===n||void 0===n?void 0:n.badInput)}_renderDisplayText(e){this._inputIsInvalid()||super._renderDisplayText(e)}_isValueIncomplete(e){return/(^-$)|(^-?\d*\.$)|(\d+e-?$)/i.test(e)}_isValueInRange(e){return zo(e,this.option("min"),this.option("max"))}_isNumber(e){return null!==this._parseValue(e)}_validateValue(e){const t=this._normalizeText(),n=this._isValueValid();let i=!0;const r=this._isNumber(t);return isNaN(Number(e))&&(i=!1),!e&&n?i=!0:r||n||(i=!1),this.option({isValid:i,validationError:i?null:{editorSpecific:!0,message:this.option("invalidValueMessage")}}),i}_normalizeInputValue(){return this._parseValue(this._normalizeText())}_normalizeText(){const e=this._input().val().trim();return this._replaceCommaWithPoint(e)}_parseValue(e){const t=parseFloat(e);return isNaN(t)?null:Vo(t,this.option("min"),this.option("max"))}_clearValue(){this._inputIsInvalid()&&(this._input().val(""),this._validateValue()),super._clearValue()}clear(){null===this.option("value")?(this.option("text",""),this._input().length&&this._renderValue()):this.option("value",null)}_optionChanged(e){switch(e.name){case"value":this._validateValue(e.value),this._setSubmitValue(e.value),super._optionChanged(e),this._resumeValueChangeAction();break;case"step":this._renderProps();break;case"min":case"max":this._renderProps(),this.option("value",this._parseValue(this.option("value")));break;case"showSpinButtons":case"useLargeSpinButtons":this._updateButtons(["spins"]);break;case"invalidValueMessage":break;default:super._optionChanged(e)}}},Mk=function(e){let t=0,n=0;for(let i=0;i<e.length;++i)if("'"===e[i]&&t++,"."===e[i]&&(++n,t%2===0))return{occurrence:n,index:i};return{occurrence:1,index:-1}},Rk=function(e,t,n){let i=-1;for(;n--&&i++<e.length;)i=e.indexOf(t,i);return i},Bk=function(e,t){return-1===t?[e]:[e.slice(0,t),e.slice(t+1)]},Nk=function(e,t){if("string"===typeof t){const n=t.split(";"),i=qd.getSign(e,t);n[1]=n[1]||`-${n[0]}`;t=(e=>e.replace(/'([^']*)'/g,e=>e.split("").map(()=>" ").join("").substr(2)))(t=n[i<0?1:0]);const r=/^[^#0.,]*/.exec(t)[0].length,o=/[^#0.,]*$/.exec(t)[0].length;return{start:r,end:e.length-o}}return{start:0,end:e.length}},Fk=function(e,t){const n=qd.getDecimalSeparator(),i=new RegExp(`[^0-9${Je(n)}]`,"g");return t.slice(0,e).replace(i,"").length},$k=function(e){return e.split("").reverse().join("")},Hk=function(e,t){if(!e)return-1;const n=/[0-9]/g;let i=1,r=null,o=n.exec(t);for(;o;){if(r=o.index,i>=e)return r;i++,o=n.exec(t)}return null===r?t.length:r},Lk=function(e,t){return void 0===e.start&&(e={start:e,end:e}),{start:e.start+t,end:e.end+t}};function Vk(e,t,n){e=Lk(e,0);const i=Nk(t,n);return{start:Vo(e.start,i.start,i.end),end:Vo(e.end,i.start,i.end)}}const zk=class extends Pk{_getDefaultOptions(){return K({},super._getDefaultOptions(),{useMaskBehavior:!0,format:null})}_isDeleteKey(e){return"del"===e}_supportedKeys(){return this._useMaskBehavior()?K({},super._supportedKeys(),{minus:this._revertSign.bind(this),del:this._removeHandler.bind(this),backspace:this._removeHandler.bind(this),leftArrow:this._arrowHandler.bind(this,-1),rightArrow:this._arrowHandler.bind(this,1),home:this._moveCaretToBoundaryEventHandler.bind(this,1),enter:this._updateFormattedValue.bind(this),end:this._moveCaretToBoundaryEventHandler.bind(this,-1)}):super._supportedKeys()}_getTextSeparatorIndex(e){const t=qd.getDecimalSeparator(),n=Mk(this.option("format")).occurrence;return Rk(e,t,n)}_focusInHandler(e){this._preventNestedFocusEvent(e)||(this.clearCaretTimeout(),this._caretTimeout=setTimeout(()=>{this._caretTimeout=void 0;const t=this._caret();if(t.start===t.end&&this._useMaskBehavior()){const t=this._getInputVal(),n=this._getTextSeparatorIndex(t);n>=0?this._caret({start:n,end:n}):this._moveCaretToBoundaryEventHandler(-1,e)}},0)),super._focusInHandler(e)}_focusOutHandler(e){const t=!this._preventNestedFocusEvent(e);t&&(this._focusOutOccurs=!0,this._useMaskBehavior()&&this._updateFormattedValue()),super._focusOutHandler(e),t&&(this._focusOutOccurs=!1)}_hasValueBeenChanged(e){const t=this._getFormatPattern(),n=this.option("value");return(this._format(n,t)||"")!==e}_updateFormattedValue(){const e=this._getInputVal();if(this._hasValueBeenChanged(e)){this._updateParsedValue(),this._adjustParsedValue(),this._setTextByParsedValue();const{value:e}=this.option();this._parsedValue!==e&&rn.trigger(this._input(),"change")}}_arrowHandler(e,t){if(!this._useMaskBehavior())return;const n=this._getInputVal(),i=this._getFormatPattern();let r=Lk(this._caret(),e);(function(e,t,n){const i=Vk(e=Lk(e,0),t,n);return e.start>=i.start&&e.end<=i.end})(r,n,i)||(r=1===e?r.end:r.start,t.preventDefault(),this._caret(Vk(r,n,i)))}_moveCaretToBoundary(e){const t=Nk(this._getInputVal(),this._getFormatPattern()),n=Lk(1===e?t.start:t.end,0);this._caret(n)}_moveCaretToBoundaryEventHandler(e,t){!this._useMaskBehavior()||null!==t&&void 0!==t&&t.shiftKey||(this._moveCaretToBoundary(e),null===t||void 0===t||t.preventDefault())}_shouldMoveCaret(e,t){const n=qd.getDecimalSeparator(),i=e.charAt(t.end)===n;return(this._lastKey===n||"."===this._lastKey||","===this._lastKey)&&i}_getInputVal(){return qd.convertDigits(this._input().val(),!0)}_keyboardHandler(e){if(this.clearCaretTimeout(),this._lastKey=qd.convertDigits(rr(e),!0),this._lastKeyName=ir(e),!this._shouldHandleKey(e.originalEvent))return super._keyboardHandler(e);const t=this._getInputVal(),n=this._caret();let i;i="minus"===this._lastKeyName?"":110===e.which?qd.getDecimalSeparator():this._lastKey;const r=this._tryParse(t,n,i);return this._shouldMoveCaret(t,n)&&(this._moveCaret(1),e.originalEvent.preventDefault()),void 0===r?"minus"!==this._lastKeyName&&e.originalEvent.preventDefault():this._parsedValue=r,super._keyboardHandler(e)}_keyPressHandler(e){this._useMaskBehavior()||super._keyPressHandler(e)}_removeHandler(e){const t=this._caret(),n=this._getInputVal();let{start:i}=t,{end:r}=t;this._lastKey=rr(e),this._lastKeyName=ir(e);const o=this._isDeleteKey(this._lastKeyName),s=!o;if(i===r){if(!(s&&i>0||o&&i<n.length))return void e.preventDefault();o&&r++,s&&i--}const a=n.slice(i,r);if(this._isStub(a)){if(this._moveCaret(o?1:-1),this._parsedValue<0||1/this._parsedValue===-1/0){this._revertSign(e),this._setTextByParsedValue();this.option("valueChangeEvent").split(" ").includes("input")&&rn.trigger(this._input(),"input")}return void e.preventDefault()}const l=qd.getDecimalSeparator();if(a===l){const t=n.indexOf(l);return void(this._isNonStubAfter(t+1)&&(this._moveCaret(o?1:-1),e.preventDefault()))}if(r-i<n.length){if(this._replaceSelectedText(n,{start:i,end:r},"").search(/[0-9]/)<0&&this._isValueInRange(0))return void(this._parsedValue=this._parsedValue<0||1/this._parsedValue===-1/0?-0:0)}const c=this._tryParse(n,{start:i,end:r},"");void 0===c?e.preventDefault():this._parsedValue=c}_isPercentFormat(){return-1!==this._getFormatPattern().replace(/'[^']+'/g,"").indexOf("%")}_parse(e,t){const n=this.option("format"),i=g(n.parser),r=i?n.parser:qd.parse;let o=0;if(!i){const n=Mk(t).index,i=this._getTextSeparatorIndex(e),r=-1!==n?n:t.length,s=-1!==i?i:e.length;s>r&&-1===t.indexOf("#")&&(o=s-r)}return r(e=e.substr(o),t)}_format(e,t){const n=this.option("format"),i=(null===n||void 0===n?void 0:n.formatter)||n,r=g(i)?i:qd.format;return null===e?"":r(e,t)}_getFormatPattern(){return this._currentFormat||this._updateFormat(),this._currentFormat}_updateFormat(){const{format:e}=this.option(),t=g(null===e||void 0===e?void 0:e.parser),n=v(e)&&(e.includes("0")||e.includes("#")),i="exponential"===e||"exponential"===(null===e||void 0===e?void 0:e.type),r=t||n||i;this._currentFormat=r?e:function(e){let t=".";const n=e(1).indexOf("100")>=0;t=Md(t,e,n,!0),t=Md(t,e,n,!1);const i=Rd(t,e,n,!1),r=Rd(t,e,n,!0);return r==="-"+i?i:i+";"+r}(t=>{const n=this._format(t,e);return qd.convertDigits(n,!0)})}_getFormatForSign(e){const t=this._getFormatPattern();if(v(t)){const n=t.split(";"),i=qd.getSign(e,t);return n[1]=n[1]||`-${n[0]}`,i<0?n[1]:n[0]}return qd.getSign(e)<0?"-":""}_removeStubs(e,t){const n=this._getFormatForSign(e),i=qd.getThousandsSeparator(),r=this._getStubs(n);let o=e;if(r.length){const e=r[0],n=new RegExp(`(${Je(r[1]||"")})$`,"g"),s=new RegExp(`[-${Je(t?"":i)}]`,"g");o=o.replace(e,"").replace(n,"").replace(s,"")}return o}_getStubs(e){const t=/[^']([#0.,]+)/g.exec(e),n=t&&t[0].trim();return e.split(n).map(e=>e.replace(/'/g,""))}_truncateToPrecision(e,t){if(_(e)){const n=e.toString(),i=n.indexOf(".");if(n&&i>-1){const r=parseFloat(n.substr(0,i+t+1));return isNaN(r)?e:r}}return e}_tryParse(e,t,n){const i=t.start!==t.end,r=i&&0===t.start&&t.end===e.length,o=qd.getDecimalSeparator();if(r&&n===o)return 0;const s=this._replaceSelectedText(e,t,n),a=this._getFormatPattern();let l=this._getParsedValue(s,a);const c=!a.parser&&this._getPrecisionLimits(s).max,u=l!==this._parsedValue,d=n===o&&0===c,h=!i&&!u&&"-"!==n&&this._isStub(n);if(d||h)return;if(""===this._removeStubs(s)&&(l=Math.abs(0*this._parsedValue)),isNaN(l))return;const p=null===l?this._parsedValue:l;if(l=c?this._truncateToPrecision(p,c):l,!a.parser&&this._isPercentFormat()){const e=this._getIntervalFromPrecision(c);return m=e,(f=l)&&Ko(f/100,m)}var f,m;return l}_getIntervalFromPrecision(e){return e<1?1:10**-e}_getParsedValue(e,t){const n=qd.getSign(e,(null===t||void 0===t?void 0:t.formatter)||t),i=this._removeStubs(e,!0),r=this._parse(i,t),o=r<0?-1:1;return y(r)&&n!==o?n*r:r}_isValueIncomplete(e){if(!this._useMaskBehavior())return super._isValueIncomplete(e);const t=this._caret(),n=qd.getDecimalSeparator(),i=this._getTextSeparatorIndex(e),r=i>=0&&i<t.start,o=this._removeStubs(e,!0).split(n);if(!r||2!==o.length)return!1;const s=o[1].length,a=!!this._getFormatPattern().parser,l=!a&&this._getPrecisionLimits(this._getFormatPattern()),c=!!a||zo(s,l.min,l.max),u="0"===o[1].charAt(s-1);return c&&(u||!s)}_isValueInRange(e){const t=Fe(this.option("min"),-1/0),n=Fe(this.option("max"),1/0);return zo(e,t,n)}_setInputText(e){const t=qd.convertDigits(e,!0),n=function(e,t,n,i){n=Lk(n,0);const r=qd.getDecimalSeparator(),o=function(e){return 1===e.length&&!!e.match(/^[,.][0-9]*$/g)}(e),s=Mk(i).occurrence,a=o?0:Rk(e,r,s),l=Rk(t,r,s),c=Bk(e,a),u=Bk(t,l);if(-1!==a&&n.start>a){const e=n.start-a-1,r=Fk(e,c[1]);return Vk(u[1]?l+1+Hk(r,u[1])+1:t.length,t,i)}const d=function(e){return e.replace(/[^0-9e]+$/,"")}(u[0]),h=c[0].length-n.start,p=Fk(h,$k(c[0])),f=Hk(p,$k(d));return Vk(d.length-(f+1),t,i)}(this._getInputVal(),t,this._caret(),this._getFormatPattern());this._input().val(e),this._toggleEmptinessEventHandler(),this._formattedValue=e,this._focusOutOccurs||this._caret(n)}_useMaskBehavior(){const{useMaskBehavior:e}=this.option();return!!this.option("format")&&e}_renderInputType(){const{mode:e}=this.option(),t="number"===e,n="desktop"===Is.real().deviceType;this._useMaskBehavior()&&t?this._setInputType(n||this._isSupportInputMode()?"text":"tel"):super._renderInputType()}_isChar(e){return v(e)&&1===e.length}_moveCaret(e){if(!e)return;const t=Vk(Lk(this._caret(),e),this._getInputVal(),this._getFormatPattern());this._caret(t)}_shouldHandleKey(e){const t=ir(e),n=sr(e)||e.altKey||e.shiftKey||!this._isChar(t),i="minus"===t;return this._useMaskBehavior()&&!n&&!i}_renderInput(){super._renderInput(),this._renderFormatter()}_renderFormatter(){this._clearCache(),this._detachFormatterEvents(),this._useMaskBehavior()&&this._attachFormatterEvents()}_detachFormatterEvents(){rn.off(this._input(),".dxNumberFormatter")}_isInputFromPaste(e){var t;const n=null===(t=e.originalEvent)||void 0===t?void 0:t.inputType;return _(n)?"insertFromPaste"===n:this._isValuePasted}_attachFormatterEvents(){const e=this._input();rn.on(e,or("input","dxNumberFormatter"),e=>{this._formatValue(e),this._isValuePasted=!1}),rn.on(e,or("dxclick","dxNumberFormatter"),()=>{this._caretTimeout||(this._caretTimeout=setTimeout(()=>{this._caretTimeout=void 0,this._caret(Vk(this._caret(),this._getInputVal(),this._getFormatPattern()))},0))}),rn.on(e,eg,()=>{this.clearCaretTimeout()})}clearCaretTimeout(){clearTimeout(this._caretTimeout),this._caretTimeout=void 0}_forceRefreshInputValue(){if(!this._useMaskBehavior())return super._forceRefreshInputValue()}_isNonStubAfter(e){const t=this._getInputVal().slice(e);return t&&!this._isStub(t,!0)}_isStub(e,t){const n=Je(qd.getDecimalSeparator());return new RegExp(`^[^0-9${n}]+$`,"g").test(e)&&(t||this._isChar(e))}_parseValue(e){return this._useMaskBehavior()?this._parsedValue:super._parseValue(e)}_getPrecisionLimits(e){const t=this._getFormatForSign(e),n=Mk(t).index,i=(Bk(t,n)[1]||"").replace(/[^#0]/g,"");return{min:i.replace(/^(0*)#*/,"$1").length,max:i.length}}_revertSign(e){if(!this._useMaskBehavior())return;const t=this._caret();if(t.start!==t.end){if("minus"===ir(e))return void this._applyRevertedSign(e,t,!0);this._caret(Vk(0,this._getInputVal(),this._getFormatPattern()))}this._applyRevertedSign(e,t)}_applyRevertedSign(e,t,n){const i=-1*Fe(this._parsedValue,null);if((this._isValueInRange(i)||0===i)&&(this._parsedValue=i,n)){const n=this._getFormatPattern(),i=this._getInputVal();this._setTextByParsedValue(),e.preventDefault();const r=this._getInputVal(),o=function(e,t,n){const i=Nk(e,n);return Nk(t,n).start-i.start}(i,r,n),s=Vk(t=Lk(t,o),r,n);this._caret(s)}}_removeMinusFromText(e,t){return"minus"===this._lastKeyName&&"-"===e.charAt(t.start-1)?this._replaceSelectedText(e,{start:t.start-1,end:t.start},""):e}_setTextByParsedValue(){const e=this._getFormatPattern(),t=this._parseValue(),n=this._format(t,e)||"";this._setInputText(n)}_formatValue(e){let t=this._getInputVal();const n=this._caret(),i=this._removeMinusFromText(t,n),r=i!==t;if(t=i,!this._isInputFromPaste(e)&&this._isValueIncomplete(i))return this._formattedValue=t,void(r&&this._setTextByParsedValue());if(qd.convertDigits(this._formattedValue,!0)!==t){const e=this._tryParse(t,n,"");_(e)&&(this._parsedValue=e)}this._setTextByParsedValue()}_renderDisplayText(){this._useMaskBehavior()?this._toggleEmptinessEventHandler():super._renderDisplayText.apply(this,arguments)}_renderValue(){if(this._useMaskBehavior()){const{value:e}=this.option();this._parsedValue=e,this._setTextByParsedValue()}return super._renderValue()}_updateParsedValue(){const e=this._getInputVal();this._parsedValue=this._tryParse(e,this._caret())}_adjustParsedValue(){if(!this._useMaskBehavior())return;const e=this._removeStubs(this._getInputVal())?this._parseValue():null;y(e)?this._parsedValue=Vo(e,this.option("min"),this.option("max")):this._parsedValue=e}_valueChangeEventHandler(e){if(!this._useMaskBehavior())return super._valueChangeEventHandler(e);const t=this._caret();this._saveValueChangeEvent(e),this._lastKey=null,this._lastKeyName=null,this._updateParsedValue(),this._adjustParsedValue(),this.option("value",this._parsedValue),t&&this._caret(t)}_optionChanged(e){switch(e.name){case"format":case"useMaskBehavior":this._renderInputType(),this._updateFormat(),this._renderFormatter(),this._renderValue(),this._refreshValueChangeEvent(),this._refreshEvents();break;case"min":case"max":this._adjustParsedValue(),super._optionChanged(e);break;default:super._optionChanged(e)}}_clearCache(){delete this._formattedValue,delete this._lastKey,delete this._lastKeyName,delete this._parsedValue,delete this._focusOutOccurs,clearTimeout(this._caretTimeout),delete this._caretTimeout}_clean(){this._clearCache(),super._clean()}};Mi("dxNumberBox",zk);const jk=zk,Wk="dx-colorview-container-row",Kk="dx-colorview-palette-gradient",Uk="dx-colorview-palette-gradient-white",qk="dx-colorview-palette-gradient-black",Gk="dx-colorview-color-preview",Zk="dx-colorview-color-preview-color-current",Yk="dx-colorview-color-preview-color-new";class Qk extends Kh{_supportedKeys(){const e=this.option("rtlEnabled"),t=this,n=function(e){let n=100/t._paletteWidth;if(e.shiftKey){const{keyStep:e}=t.option();n*=e}return n=n>1?n:1,Math.round(n)},i=function(e){let n=t._currentColor.hsv.s+e;n>100?n=100:n<0&&(n=0),t._currentColor.hsv.s=n,s()},r=function(e){let n=100/t._paletteHeight;if(e.shiftKey){const{keyStep:e}=t.option();n*=e}return n=n>1?n:1,Math.round(n)},o=function(e){let n=t._currentColor.hsv.v+e;n>100?n=100:n<0&&(n=0),t._currentColor.hsv.v=n,s()};function s(){t._placePaletteHandle(),t._updateColorFromHsv(t._currentColor.hsv.h,t._currentColor.hsv.s,t._currentColor.hsv.v)}const a=function(e){let n=360/(t._hueScaleWrapperHeight-t._hueScaleHandleHeight);if(e.shiftKey){const{keyStep:e}=t.option();n*=e}return n=n>1?n:1,n},l=function(e){t._currentColor.hsv.h+=e,t._placeHueScaleHandle();const n=va(t._$hueScaleHandle);t._updateColorHue(n.top+t._hueScaleHandleHeight/2)},c=function(n){let i=1/t._alphaChannelScaleWorkWidth;if(n.shiftKey){const{keyStep:e}=t.option();i*=e}return i=i>.01?i:.01,i=e?-i:i,i},u=function(e){t._currentColor.a+=e,t._placeAlphaChannelHandle();const n=va(t._$alphaChannelHandle);t._calculateColorTransparencyByScaleWidth(n.left+t._alphaChannelHandleWidth/2)};return K({},super._supportedKeys(),{upArrow(e){e.preventDefault(),e.stopPropagation(),sr(e)?this._currentColor.hsv.h<=360&&!this._isTopColorHue&&(this._saveValueChangeEvent(e),l(a(e))):this._currentColor.hsv.v<100&&(this._saveValueChangeEvent(e),o(r(e)))},downArrow(e){e.preventDefault(),e.stopPropagation(),sr(e)?this._currentColor.hsv.h>=0&&(this._isTopColorHue&&(this._currentColor.hsv.h=360),this._saveValueChangeEvent(e),l(-a(e))):this._currentColor.hsv.v>0&&(this._saveValueChangeEvent(e),o(-r(e)))},rightArrow(t){t.preventDefault(),t.stopPropagation(),sr(t)?(e?this._currentColor.a<1:this._currentColor.a>0&&this.option("editAlphaChannel"))&&(this._saveValueChangeEvent(t),u(-c(t))):this._currentColor.hsv.s<100&&(this._saveValueChangeEvent(t),i(n(t)))},leftArrow(t){t.preventDefault(),t.stopPropagation(),sr(t)?(e?this._currentColor.a>0:this._currentColor.a<1&&this.option("editAlphaChannel"))&&(this._saveValueChangeEvent(t),u(c(t))):this._currentColor.hsv.s>0&&(this._saveValueChangeEvent(t),i(-n(t)))},enter(e){this._fireEnterKeyPressed(e)}})}_getDefaultOptions(){return K({},super._getDefaultOptions(),{value:null,matchValue:null,onEnterKeyPressed:void 0,editAlphaChannel:!1,keyStep:1,stylingMode:void 0})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>"desktop"===Is.real().deviceType&&!Is.isSimulator(),options:{focusStateEnabled:!0}}])}_init(){super._init(),this._initColorAndOpacity(),this._initEnterKeyPressedAction()}_initEnterKeyPressedAction(){this._onEnterKeyPressedAction=this._createActionByOption("onEnterKeyPressed")}_fireEnterKeyPressed(e){this._onEnterKeyPressedAction&&this._onEnterKeyPressedAction({event:e})}_initColorAndOpacity(){this._setCurrentColor(this.option("value"))}_setCurrentColor(e){const t=new hk(e=e||"#000000");t.colorIsInvalid?(this._currentColor||(this._currentColor=new hk("#000000")),this.option("value",this._currentColor.baseColor)):this._currentColor&&this._makeRgba(this._currentColor)===this._makeRgba(t)||(this._currentColor=t,this._$currentColor&&this._makeTransparentBackground(this._$currentColor,t))}_setBaseColor(e){const t=new hk(e||"#000000");if(!t.colorIsInvalid){const{matchValue:e}=this.option();this._makeRgba(e!==this._makeRgba(t))&&this._$baseColor&&this._makeTransparentBackground(this._$baseColor,t)}}_initMarkup(){super._initMarkup(),this.$element().addClass("dx-colorview"),this._renderColorPickerContainer()}_render(){super._render(),this._renderPalette(),this._renderHueScale(),this._renderControlsContainer(),this._renderControls(),this._renderAlphaChannelElements()}_makeTransparentBackground(e,t){t instanceof hk||(t=new hk(t)),e.css("backgroundColor",this._makeRgba(t))}_makeRgba(e){return e instanceof hk||(e=new hk(e)),`rgba(${[e.r,e.g,e.b,e.a].join(", ")})`}_renderColorPickerContainer(){const e=this.$element();this._$colorPickerContainer=Si("<div>").addClass("dx-colorview-container").appendTo(e),this._renderHtmlRows()}_renderHtmlRows(e){const t=this._$colorPickerContainer.find(`.${Wk}`),n=t.length;let i=n-(this.option("editAlphaChannel")?2:1);if(i>0&&t.eq(-1).remove(),i<0){i=Math.abs(i);const e=[];let r;for(r=0;r<i;r++)e.push(Si("<div>").addClass(Wk));if(n)for(r=0;r<e.length;r++)t.eq(0).after(e[r]);else this._$colorPickerContainer.append(e)}}_renderHtmlCellInsideRow(e,t,n){return Si("<div>").addClass("dx-colorview-container-cell").addClass(n).appendTo(t.find(`.${Wk}`).eq(e))}_renderPalette(){const e=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer,"dx-colorview-palette-cell"),t=Si("<div>").addClass([Kk,Uk].join(" ")),n=Si("<div>").addClass([Kk,qk].join(" "));this._$palette=Si("<div>").addClass("dx-colorview-palette").css("backgroundColor",this._currentColor.getPureColor().toHex()).appendTo(e),this._paletteHeight=Ln(this._$palette),this._paletteWidth=$n(this._$palette),this._renderPaletteHandle(),this._$palette.append([t,n])}_renderPaletteHandle(){this._$paletteHandle=Si("<div>").addClass("dx-colorview-palette-handle").appendTo(this._$palette);const e=`dx-${new ce}`,t={id:e,role:"application"};this.setAria(t,this._$paletteHandle),this.setAria("activedescendant",e,this.option("target")),this._createComponent(this._$paletteHandle,Sk,{contentTemplate:null,boundary:this._$palette,allowMoveByClick:!0,boundOffset:function(){return-this._paletteHandleHeight/2}.bind(this),onDragMove:e=>{let{event:t}=e;const n=va(this._$paletteHandle);this._updateByDrag=!0,this._saveValueChangeEvent(t),this._updateColorFromHsv(this._currentColor.hsv.h,this._calculateColorSaturation(n),this._calculateColorValue(n))}}),this._paletteHandleWidth=$n(this._$paletteHandle),this._paletteHandleHeight=Ln(this._$paletteHandle),this._placePaletteHandle()}_placePaletteHandle(){wa(this._$paletteHandle,{left:Math.round(this._paletteWidth*this._currentColor.hsv.s/100-this._paletteHandleWidth/2),top:Math.round(this._paletteHeight-this._paletteHeight*this._currentColor.hsv.v/100-this._paletteHandleHeight/2)})}_calculateColorValue(e){const t=Math.floor(e.top+this._paletteHandleHeight/2);return 100-Math.round(100*t/this._paletteHeight)}_calculateColorSaturation(e){const t=Math.floor(e.left+this._paletteHandleWidth/2);return Math.round(100*t/this._paletteWidth)}_updateColorFromHsv(e,t,n){const{a:i}=this._currentColor;this._currentColor=new hk(`hsv(${[e,t,n].join(",")})`),this._currentColor.a=i,this._updateColorParamsAndColorPreview(),this.applyColor()}_renderHueScale(){const e=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer,"dx-colorview-hue-scale-cell");this._$hueScaleWrapper=Si("<div>").addClass("dx-colorview-hue-scale-wrapper").appendTo(e),this._$hueScale=Si("<div>").addClass("dx-colorview-hue-scale").appendTo(this._$hueScaleWrapper),this._hueScaleHeight=Ln(this._$hueScale),this._hueScaleWrapperHeight=jn(this._$hueScaleWrapper),this._renderHueScaleHandle()}_renderHueScaleHandle(){this._$hueScaleHandle=Si("<div>").addClass("dx-colorview-hue-scale-handle").appendTo(this._$hueScaleWrapper),this._createComponent(this._$hueScaleHandle,Sk,{contentTemplate:null,boundary:this._$hueScaleWrapper,allowMoveByClick:!0,dragDirection:"vertical",onDragMove:e=>{let{event:t}=e;this._updateByDrag=!0,this._saveValueChangeEvent(t),this._updateColorHue(va(this._$hueScaleHandle).top+this._hueScaleHandleHeight/2)}}),this._hueScaleHandleHeight=Ln(this._$hueScaleHandle),this._placeHueScaleHandle()}_placeHueScaleHandle(){const e=this._hueScaleWrapperHeight,t=this._hueScaleHandleHeight;let n=(e-t)*(360-this._currentColor.hsv.h)/360;e<n+t&&(n=e-t),n<0&&(n=0),wa(this._$hueScaleHandle,{top:Math.round(n)})}_updateColorHue(e){let t=360-Math.round(360*(e-this._hueScaleHandleHeight/2)/(this._hueScaleWrapperHeight-this._hueScaleHandleHeight));const n=this._currentColor.hsv.s,i=this._currentColor.hsv.v;this._isTopColorHue=!1,t=t<0?0:t,t>=360&&(this._isTopColorHue=!0,t=0),this._updateColorFromHsv(t,n,i),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex())}_renderControlsContainer(){const e=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer);this._$controlsContainer=Si("<div>").addClass("dx-colorview-controls-container").appendTo(e)}_renderControls(){this._renderColorsPreview(),this._renderRgbInputs(),this._renderHexInput()}_renderColorsPreview(){const e=Si("<div>").addClass("dx-colorview-color-preview-container").appendTo(this._$controlsContainer),t=Si("<div>").addClass("dx-colorview-color-preview-container-inner").appendTo(e);this._$currentColor=Si("<div>").addClass([Gk,Yk].join(" ")),this._$baseColor=Si("<div>").addClass([Gk,Zk].join(" ")),this._makeTransparentBackground(this._$baseColor,this.option("matchValue")),this._makeTransparentBackground(this._$currentColor,this._currentColor),t.append([this._$baseColor,this._$currentColor])}_renderAlphaChannelElements(){this.option("editAlphaChannel")&&(this._$colorPickerContainer.find(`.${Wk}`).eq(1).addClass("dx-colorview-alpha-channel-row"),this._renderAlphaChannelScale(),this._renderAlphaChannelInput())}_renderRgbInputs(){this._rgbInputsWithLabels=[this._renderEditorWithLabel({editorType:jk,value:this._currentColor.r,onValueChanged:this._updateColor.bind(this,!1),labelText:"R",labelAriaText:mr.format("dxColorView-ariaRed"),labelClass:"dx-colorview-label-red"}),this._renderEditorWithLabel({editorType:jk,value:this._currentColor.g,onValueChanged:this._updateColor.bind(this,!1),labelText:"G",labelAriaText:mr.format("dxColorView-ariaGreen"),labelClass:"dx-colorview-label-green"}),this._renderEditorWithLabel({editorType:jk,value:this._currentColor.b,onValueChanged:this._updateColor.bind(this,!1),labelText:"B",labelAriaText:mr.format("dxColorView-ariaBlue"),labelClass:"dx-colorview-label-blue"})],this._$controlsContainer.append(this._rgbInputsWithLabels),this._rgbInputs=[this._rgbInputsWithLabels[0].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[1].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[2].find(".dx-numberbox").dxNumberBox("instance")]}_renderEditorWithLabel(e){const t=Si("<div>"),n=Si("<label>").addClass(e.labelClass).text(`${e.labelText}:`).append(t);rn.off(n,dc),rn.on(n,dc,e=>{e.preventDefault()});const{editorType:i}=e,r=A({value:e.value,onValueChanged:e.onValueChanged,onKeyboardHandled:e=>this._keyboardHandler(e)},{stylingMode:this.option("stylingMode")});i===jk&&(r.min=e.min||0,r.max=e.max||255,r.step=e.step||1);return new i(t,r).registerKeyHandler("enter",e=>{this._fireEnterKeyPressed(e)}),this.setAria("label",e.labelAriaText,t),n}hexInputOptions(){return{editorType:G_,value:this._currentColor.toHex().replace("#",""),onValueChanged:this._updateColor.bind(this,!0),labelClass:"dx-colorview-label-hex",labelText:"#",labelAriaText:mr.format("dxColorView-ariaHex")}}_renderHexInput(){this._hexInput=G_.getInstance(this._renderEditorWithLabel(this.hexInputOptions()).appendTo(this._$controlsContainer).find(".dx-textbox"));const e=`dx-${new ce}`,t=this._$controlsContainer.find(".dx-colorview-label-hex").find(".dx-texteditor-input");this.setAria("id",e,t),this.setAria("labelledby",e,this._$paletteHandle)}_renderAlphaChannelScale(){const e=this._renderHtmlCellInsideRow(1,this._$colorPickerContainer,"dx-colorview-alpha-channel-cell"),t=Si("<div>").addClass("dx-colorview-alpha-channel-border").appendTo(e),n=Si("<div>").addClass("dx-colorview-alpha-channel-wrapper").appendTo(t);this._$alphaChannelScale=Si("<div>").addClass("dx-colorview-alpha-channel-scale").appendTo(n),this._makeCSSLinearGradient(this._$alphaChannelScale),this._renderAlphaChannelHandle(e)}_makeCSSLinearGradient(e){const t=this._currentColor,n=`${t.r},${t.g},${t.b}`,i=this.option("rtlEnabled"),r=`linear-gradient(-90deg, ${`rgba(${n}, ${i?"1":"0"})`}, ${`rgba(${n}, ${i?"0":"1"})`})`;e.css("backgroundImage",r)}_renderAlphaChannelInput(){const e=this,t=this._renderHtmlCellInsideRow(1,this._$colorPickerContainer);e._alphaChannelInput=this._renderEditorWithLabel({editorType:jk,value:this._currentColor.a,max:1,step:.1,onValueChanged(t){let{value:n}=t;n=e._currentColor.isValidAlpha(n)?n:e._currentColor.a,t.event&&e._saveValueChangeEvent(t.event),e._updateColorTransparency(n),e._placeAlphaChannelHandle()},labelClass:"dx-colorview-alpha-channel-label",labelText:"Alpha",labelAriaText:mr.format("dxColorView-ariaAlpha")}).appendTo(t).find(".dx-numberbox").dxNumberBox("instance")}_updateColorTransparency(e){this._currentColor.a=e,this.applyColor()}_renderAlphaChannelHandle(e){this._$alphaChannelHandle=Si("<div>").addClass("dx-colorview-alpha-channel-handle").appendTo(e),this._createComponent(this._$alphaChannelHandle,Sk,{contentTemplate:null,boundary:e,allowMoveByClick:!0,dragDirection:"horizontal",onDragMove:e=>{let{event:t}=e;this._updateByDrag=!0;const n=this._$alphaChannelHandle,i=va(n).left+this._alphaChannelHandleWidth/2;this._saveValueChangeEvent(t),this._calculateColorTransparencyByScaleWidth(i)}}),this._alphaChannelHandleWidth=$n(this._$alphaChannelHandle),this._alphaChannelScaleWorkWidth=$n(e)-this._alphaChannelHandleWidth,this._placeAlphaChannelHandle()}_calculateColorTransparencyByScaleWidth(e){let t=(e-this._alphaChannelHandleWidth/2)/this._alphaChannelScaleWorkWidth;const n=this.option("rtlEnabled");t=n?t:1-t,e>=this._alphaChannelScaleWorkWidth+this._alphaChannelHandleWidth/2?t=n?1:0:t<1&&(t=t.toFixed(2));const i=this._alphaChannelInput.option("value");t=Math.max(t,0),t=Math.min(t,1),t===i?this._updateByDrag=!1:this._alphaChannelInput.option("value",t)}_placeAlphaChannelHandle(){let e=this._alphaChannelScaleWorkWidth*(1-this._currentColor.a);e<0&&(e=0),this._alphaChannelScaleWorkWidth<e&&(e=this._alphaChannelScaleWorkWidth),wa(this._$alphaChannelHandle,{left:this.option("rtlEnabled")?this._alphaChannelScaleWorkWidth-e:e})}applyColor(){const e=this.option("value"),t=this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this._currentColor.toHex();this._makeTransparentBackground(this._$currentColor,this._currentColor),t===e?this._updateByDrag=!1:this.option("value",t)}cancelColor(){this._initColorAndOpacity(),this._refreshMarkup()}_updateColor(e,t){let n,i;e?i=this._validateHex(`#${this._hexInput.option("value")}`):(n=this._validateRgb(),this._alphaChannelInput?(n.push(this._alphaChannelInput.option("value")),i=`rgba(${n.join(", ")})`):i=`rgb(${n.join(", ")})`),this._suppressEditorsValueUpdating||(this._currentColor=new hk(i),this._saveValueChangeEvent(t.event),this.applyColor(),this._refreshMarkup())}_validateHex(e){return this._currentColor.isValidHex(e)?e:this._currentColor.toHex()}_validateRgb(){let e=this._rgbInputs[0].option("value"),t=this._rgbInputs[1].option("value"),n=this._rgbInputs[2].option("value");return this._currentColor.isValidRGB(e,t,n)||(e=this._currentColor.r,t=this._currentColor.g,n=this._currentColor.b),[e,t,n]}_refreshMarkup(){this._placeHueScaleHandle(),this._placePaletteHandle(),this._updateColorParamsAndColorPreview(),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex()),this._$alphaChannelHandle&&(this._updateColorTransparency(this._currentColor.a),this._placeAlphaChannelHandle())}_updateColorParamsAndColorPreview(){this._suppressEditorsValueUpdating=!0,this._hexInput.option("value",this._currentColor.toHex().replace("#","")),this._rgbInputs[0].option("value",this._currentColor.r),this._rgbInputs[1].option("value",this._currentColor.g),this._rgbInputs[2].option("value",this._currentColor.b),this._suppressEditorsValueUpdating=!1,this.option("editAlphaChannel")&&(this._makeCSSLinearGradient.call(this,this._$alphaChannelScale),this._alphaChannelInput.option("value",this._currentColor.a))}_optionChanged(e){const{value:t}=e;switch(e.name){case"value":this._setCurrentColor(t),this._updateByDrag||this._refreshMarkup(),this._updateByDrag=!1,super._optionChanged(K({},e,{value:this.option("value")}));break;case"matchValue":this._setBaseColor(t);break;case"onEnterKeyPressed":this._initEnterKeyPressedAction();break;case"editAlphaChannel":this._$colorPickerContainer&&(this._renderHtmlRows("editAlphaChannel"),this._renderAlphaChannelElements());break;case"keyStep":break;case"stylingMode":this._renderControls();break;default:super._optionChanged(e)}}}Mi("dxColorView",Qk);const Xk=Qk,Jk="dx-colorbox-color-is-not-defined",eD=Xk.prototype,tD={makeTransparentBackground:eD._makeTransparentBackground.bind(eD),makeRgba:eD._makeRgba.bind(eD)};class nD extends xk{_supportedKeys(){const e=function(e){if(e.stopPropagation(),this.option("opened"))return e.preventDefault(),!0};return K({},super._supportedKeys(),{enter:this._enterKeyHandler,leftArrow:e,rightArrow:e,upArrow:function(e){return this.option("opened")?!e.altKey||(this.close(),!1):(e.preventDefault(),!1)},downArrow:function(e){return this.option("opened")||e.altKey?!(!this.option("opened")&&e.altKey)||(this._validatedOpening(),!1):(e.preventDefault(),!1)}})}_getDefaultOptions(){return K({},super._getDefaultOptions(),{editAlphaChannel:!1,applyValueMode:"useButtons",keyStep:1,fieldTemplate:null,buttonsLocation:"bottom after"})}_popupHidingHandler(){super._popupHidingHandler();const{applyValueMode:e}=this.option();"useButtons"===e&&this._updateColorViewValue(this.option("value"))}_popupConfig(){return K({},super._popupConfig(),{width:""})}_contentReadyHandler(){this._createColorView(),this._addPopupBottomClasses()}_addPopupBottomClasses(){const e=this._popup.bottomToolbar();e&&(e.addClass("dx-colorview-container-cell").addClass("dx-colorview-button-cell").find(".dx-toolbar-items-container").addClass("dx-colorview-buttons-container"),e.find(".dx-popup-done").addClass("dx-colorview-apply-button"),e.find(".dx-popup-cancel").addClass("dx-colorview-cancel-button"))}_createColorView(){this._popup.$overlayContent().addClass("dx-colorbox-overlay");const e=Si("<div>").appendTo(this._popup.$content());this._colorView=this._createComponent(e,Xk,this._colorViewConfig())}_applyNewColor(e){this.option("value",e),e&&tD.makeTransparentBackground(this._$colorResultPreview,e),this._colorViewEnterKeyPressed&&(this.close(),this._colorViewEnterKeyPressed=!1)}_colorViewConfig(){const{editAlphaChannel:e,value:t,applyValueMode:n,focusStateEnabled:i,stylingMode:r}=this.option(),o=this;return{value:t,matchValue:t,editAlphaChannel:e,applyValueMode:n,focusStateEnabled:i,stylingMode:r,target:this._input(),onEnterKeyPressed(e){let{event:t}=e;o._colorViewEnterKeyPressed=!0,o._colorView.option("value")!==o.option("value")&&(o._saveValueChangeEvent(t),o._applyNewColor(o._colorView.option("value")),o.close())},onValueChanged(e){let{event:t,value:n,previousValue:i}=e;const r="instantly"===o.option("applyValueMode"),s=tD.makeRgba(n)===i,a=r||o._colorViewEnterKeyPressed,l=o._shouldSaveEmptyValue;s||!a||l||(t&&o._saveValueChangeEvent(t),o._applyNewColor(n))}}}_enterKeyHandler(e){const t=this._input().val(),{value:n,editAlphaChannel:i}=this.option(),r=n&&i?tD.makeRgba(n):n;if(!t)return!1;if(!new hk(t).colorIsInvalid){if(t!==r&&(this._applyColorFromInput(t),this._saveValueChangeEvent(e),this.option("value",this.option("editAlphaChannel")?tD.makeRgba(t):t)),this._colorView){const t=this._colorView.option("value");n!==t&&(this._saveValueChangeEvent(e),this.option("value",t))}return this.close(),!1}this._input().val(r)}_applyButtonHandler(e){this._saveValueChangeEvent(e.event),this._applyNewColor(this._colorView.option("value")),super._applyButtonHandler()}_cancelButtonHandler(){this._resetInputValue(),super._cancelButtonHandler()}_getKeyboardListeners(){return super._getKeyboardListeners().concat([this._colorView])}_init(){super._init()}_initMarkup(){this.$element().addClass("dx-colorbox"),super._initMarkup()}_renderInput(){super._renderInput(),this._input().addClass("dx-colorbox-input"),this._renderColorPreview()}_renderColorPreview(){this.$element().wrapInner(Si("<div>").addClass("dx-colorbox-input-container")),this._$colorBoxInputContainer=this.$element().children().eq(0),this._$colorResultPreview=Si("<div>").addClass("dx-colorbox-color-result-preview").appendTo(this._$textEditorInputContainer),this.option("value")?tD.makeTransparentBackground(this._$colorResultPreview,this.option("value")):this._$colorBoxInputContainer.addClass(Jk)}_renderValue(){const{value:e,editAlphaChannel:t}=this.option(),n=e&&t?tD.makeRgba(e):e;return this.option("text",n),super._renderValue()}_resetInputValue(){const e=this._input(),t=this.option("value");e.val(t),this._updateColorViewValue(t)}_updateColorViewValue(e){this._colorView&&this._colorView.option({value:e,matchValue:e})}_valueChangeEventHandler(e){let t=this._input().val();t&&(t=this._applyColorFromInput(t),this._updateColorViewValue(t)),super._valueChangeEventHandler(e,t)}_applyColorFromInput(e){const{editAlphaChannel:t}=this.option();return new hk(e).colorIsInvalid?(this._resetInputValue(),this.option("value")):t?tD.makeRgba(e):e}_clean(){super._clean(),delete this._shouldSaveEmptyValue}_optionChanged(e){const{name:t,value:n}=e;switch(t){case"value":this._$colorBoxInputContainer.toggleClass(Jk,!n),n?tD.makeTransparentBackground(this._$colorResultPreview,n):this._$colorResultPreview.removeAttr("style"),null===n&&(this._shouldSaveEmptyValue=!0),this._updateColorViewValue(n),this._shouldSaveEmptyValue=!1,super._optionChanged(e);break;case"applyButtonText":case"cancelButtonText":super._optionChanged(e),this._popup&&this._addPopupBottomClasses();break;case"editAlphaChannel":case"keyStep":this._colorView&&this._colorView.option(t,n);break;default:super._optionChanged(e)}}}Mi("dxColorBox",nD);const iD=nD;class rD extends eb{_getDefaultOptions(){return K({},super._getDefaultOptions(),{focusStateEnabled:!1,noDataText:null})}_setOptionsByReference(){super._setOptionsByReference(),A(this._optionsByReference,{validationGroup:!0})}_init(){super._init(),this._initGroupRegistration()}_initGroupRegistration(){const e=this.$element(),{validationGroup:t}=this.option(),n=t||ih.findGroup(e,this._modelByElement(e)),i=ih.addGroup(n,!0);this._unsubscribeGroup(),this._groupWasInit=!0,this._validationGroup=n,this.groupSubscription=this._groupValidationHandler.bind(this),i.on("validated",this.groupSubscription)}_unsubscribeGroup(){const e=ih.getGroupConfig(this._validationGroup);null===e||void 0===e||e.off("validated",this.groupSubscription)}_getOrderedItems(e,t){let n=[];return l(e,(e,i)=>{const r=it(t,e=>{if(e.validator===i)return!0});r.length&&(n=n.concat(r))}),n}_groupValidationHandler(e){const t=this._getOrderedItems(e.validators,a(e.brokenRules,e=>({text:e.message,validator:e.validator,index:e.index})));this.validators=e.validators,l(this.validators,(e,t)=>{if(t._validationSummary!==this){let e=this._itemValidationHandler.bind(this);const n=function(){t.off("validated",e),t._validationSummary=null,e=null};t.on("validated",e),t.on("disposing",n),t._validationSummary=this}}),this.option("items",t)}_itemValidationHandler(e){let{isValid:t,validator:n,brokenRules:i}=e,{items:r}=this.option(),o=!1,s=0;for(;s<r.length;){const e=r[s];if(e.validator===n){const n=it(i||[],t=>t.index===e.index)[0];if(t||!n){r.splice(s,1),o=!0;continue}n.message!==e.text&&(e.text=n.message,o=!0)}s++}l(i,(e,t)=>{const i=it(r,e=>e.validator===n&&e.index===t.index)[0];i||(r.push({text:t.message,validator:n,index:t.index}),o=!0)}),o&&(r=this._getOrderedItems(this.validators,r),this.option("items",r))}_initMarkup(){this.$element().addClass("dx-validationsummary"),super._initMarkup()}_optionChanged(e){"validationGroup"===e.name?this._initGroupRegistration():super._optionChanged(e)}_itemClass(){return"dx-validationsummary-item"}_itemDataKey(){return"dx-validationsummary-item-data"}_postprocessRenderItem(e){rn.on(e.itemElement,"click",()=>{var t,n;null===(t=e.itemData.validator)||void 0===t||null===(n=t.focus)||void 0===n||n.call(t)})}_dispose(){super._dispose(),this._unsubscribeGroup()}refreshValidationGroup(){this._initGroupRegistration()}}Mi("dxValidationSummary",rD);const oD=rD;class sD extends(ie.inherit({})){ctor(e,t){this.editor=e,this.validator=t,this.validationRequestsCallbacks=[];const n=e=>{this.validationRequestsCallbacks.forEach(t=>t(e))};e.validationRequest.add(n),e.on("disposing",()=>{e.validationRequest.remove(n)})}getValue(){return this.editor.option("value")}getCurrentValidationError(){return this.editor.option("validationError")}bypass(){return this.editor.option("disabled")}applyValidationResults(e){this.editor.option({validationErrors:e.brokenRules,validationStatus:e.status})}reset(){this.editor.clear()}focus(){this.editor.focus()}}const aD=sD;class lD extends _d{_initOptions(e){super._initOptions.apply(this,arguments),this.option(ih.initValidationOptions(e))}_getDefaultOptions(){return K({},super._getDefaultOptions(),{validationRules:[]})}_init(){super._init(),this._initGroupRegistration(),this.focused=s(),this._initAdapter(),this._validationInfo={result:null,deferred:null,skipValidation:!1}}_initGroupRegistration(){const e=this._findGroup();this._groupWasInit||this.on("disposing",e=>{ih.removeRegisteredValidator(e.component._validationGroup,e.component)}),this._groupWasInit&&this._validationGroup===e||(ih.removeRegisteredValidator(this._validationGroup,this),this._groupWasInit=!0,this._validationGroup=e,ih.registerValidatorInGroup(e,this))}_setOptionsByReference(){super._setOptionsByReference(),A(this._optionsByReference,{validationGroup:!0})}_getEditor(){return un(this.$element()[0],"dx-validation-target")}_initAdapter(){const e=this._getEditor();let{adapter:t}=this.option();if(!t){var n;if(e)return t=new aD(e,this),null===(n=t)||void 0===n||null===(n=n.validationRequestsCallbacks)||void 0===n||n.push(e=>{var t;null!==(t=this._validationInfo)&&void 0!==t&&t.skipValidation||this.validate(e)}),void this.option("adapter",t);throw Ps.Error("E0120")}const i=t.validationRequestsCallbacks;i&&i.push(e=>{this.validate(e)})}_toggleRTLDirection(e){var t;const{adapter:n}=this.option(),i=(null===n||void 0===n||null===(t=n.editor)||void 0===t?void 0:t.option("rtlEnabled"))??e;super._toggleRTLDirection(i)}_initMarkup(){this.$element().addClass("dx-validator"),super._initMarkup()}_render(){super._render(),this._toggleAccessibilityAttributes()}_toggleAccessibilityAttributes(){const e=this._getEditor();if(e){const t=(this.option("validationRules")||[]).some(e=>{let{type:t}=e;return"required"===t})||null;e.isInitialized()&&e.setAria("required",t),e.option("_onMarkupRendered",()=>{e.setAria("required",t)})}}_visibilityChanged(e){e&&this._initGroupRegistration()}_optionChanged(e){switch(e.name){case"validationGroup":return void this._initGroupRegistration();case"validationRules":return this._resetValidationRules(),this._toggleAccessibilityAttributes(),void(void 0!==this.option("isValid")&&this.validate());case"adapter":this._initAdapter();break;case"isValid":case"validationStatus":this.option(ih.synchronizeValidationOptions(e,this.option()));break;default:super._optionChanged(e)}}_getValidationRules(){return this._validationRules||(this._validationRules=a(this.option("validationRules"),(e,t)=>A({},e,{validator:this,index:t}))),this._validationRules}_findGroup(){const e=this.$element(),{validationGroup:t}=this.option();return t||ih.findGroup(e,this._modelByElement(e))}_resetValidationRules(){delete this._validationRules}validate(e){var t,n,i,r,o;const{adapter:s,name:a}=this.option(),l=null===s||void 0===s||null===(t=s.bypass)||void 0===t?void 0:t.call(s),c=e&&void 0!==e.value?e.value:null===s||void 0===s||null===(n=s.getValue)||void 0===n?void 0:n.call(s),u=null===s||void 0===s||null===(i=s.getCurrentValidationError)||void 0===i?void 0:i.call(s),d=this._getValidationRules(),h=null===(r=this._validationInfo)||void 0===r?void 0:r.result;if(h&&"pending"===h.status&&h.value===c)return A({},h);let p;return l?p={isValid:!0,status:"valid"}:null!==u&&void 0!==u&&u.editorSpecific?(u.validator=this,p={isValid:!1,status:"invalid",brokenRule:u,brokenRules:[u]}):p=ih.validate(c,d,a),p.id=(new ce).toString(),this._applyValidationResult(p,s),null===(o=p.complete)||void 0===o||o.then(e=>{e.id===this._validationInfo.result.id&&this._applyValidationResult(e,s)}),A({},this._validationInfo.result)}reset(){const{adapter:e}=this.option();this._validationInfo.skipValidation=!0,e.reset(),this._validationInfo.skipValidation=!1,this._resetValidationRules(),this._applyValidationResult({id:null,isValid:!0,brokenRule:null,brokenRules:null,pendingRules:null,status:"valid",complete:null},e)}_updateValidationResult(e){if(this._validationInfo.result&&this._validationInfo.result.id===e.id)for(const t in e)"id"!==t&&"complete"!==t&&(this._validationInfo.result[t]=e[t]);else{const t=this._validationInfo.deferred&&this._validationInfo.result.complete;this._validationInfo.result=A({},e,{complete:t})}}_applyValidationResult(e,t){const n=this._createActionByOption("onValidated",{excludeValidators:["readOnly"]});if(e.validator=this,this._updateValidationResult(e),t.applyValidationResults&&t.applyValidationResults(this._validationInfo.result),this.option({validationStatus:this._validationInfo.result.status}),"pending"===this._validationInfo.result.status)return this._validationInfo.deferred||(this._validationInfo.deferred=Re(),this._validationInfo.result.complete=this._validationInfo.deferred.promise()),void this._eventsStrategy.fireEvent("validating",[this._validationInfo.result]);"pending"!==this._validationInfo.result.status&&(n(e),this._validationInfo.deferred&&(this._validationInfo.deferred.resolve(e),this._validationInfo.deferred=null))}focus(){const{adapter:e}=this.option();e&&e.focus&&e.focus()}_useTemplates(){return!1}}Mi("dxValidator",lD);const cD=lD;class uD extends s_{_getDefaultOptions(){return super._getDefaultOptions()}_init(){super._init(),ih.addGroup(this,!1)}_initMarkup(){const e=this.$element();e.addClass("dx-validationgroup"),e.find(".dx-validator").each((e,t)=>{cD.getInstance(Si(t))._initGroupRegistration()}),e.find(".dx-validationsummary").each((e,t)=>{oD.getInstance(Si(t)).refreshValidationGroup()}),super._initMarkup()}validate(){return ih.validateGroup(this)}reset(){return ih.resetGroup(this)}_dispose(){ih.removeGroup(this),this.$element().removeClass("dx-validationgroup"),super._dispose()}_useTemplates(){return!1}}Mi("dxValidationGroup",uD);const dD=" .,:;/\\<>()-[]\u060c",hD=function(e){const t=e&&qd.convertDigits(e,!1).charCodeAt(0),n=qd.convertDigits("0",!1).charCodeAt(0);return n<=t&&t<n+10},pD=function(e,t,n,i){const r=e[n],o=e[n+1];if(!i){if("."===r||" "===r&&". m."===e.slice(n-1,n+3))return!0;if("-"===r&&!hD(o))return!0}const s=i&&t.some(t=>e[n]!==t[n]);return dD.indexOf(r)<0&&i===hD(r)&&(!i||s)},fD=function(e,t){if(!hD(e[t]))for(;t>0&&!hD(e[t-1])&&("."===e[t-1]||dD.indexOf(e[t-1])<0);)t--;return t},mD=function(e,t){return Array.isArray(e)?e.map(function(e){return(t(e)||"").toString()}):(t(e)||"").toString()},_D=/[a-zA-Z]/g,gD=function(e){const t=[],n=mD(new Date(2009,8,8,6,5,4),e),i=n.split("").map(function(e,t){return t});let r=n;const o={},s=[{date:new Date(2009,8,8,6,5,4,111),pattern:"S"},{date:new Date(2009,8,8,6,5,2),pattern:"s"},{date:new Date(2009,8,8,6,2,4),pattern:"m"},{date:new Date(2009,8,8,18,5,4),pattern:"H",isDigit:!0},{date:new Date(2009,8,8,2,5,4),pattern:"h",isDigit:!0},{date:new Date(2009,8,8,18,5,4),pattern:"a",isDigit:!1},{date:new Date(2009,8,1,6,5,4),pattern:"d"},{date:[new Date(2009,8,2,6,5,4),new Date(2009,8,3,6,5,4),new Date(2009,8,4,6,5,4)],pattern:"E"},{date:new Date(2009,9,6,6,5,4),pattern:"M"},{date:new Date(1998,8,8,6,5,4),pattern:"y"}];if(r)return s.forEach(function(s){const a=function(e,t,n,i){let r=0;const o=[],s=function(t){return e[r]!==t[r]&&(void 0===i||hD(e[r])===i)};for(Array.isArray(t)||(t=[t]),r=0;r<e.length;r++)if(n.indexOf(r)<0&&t.filter(s).length){r=fD(e,r);do{if(i=hD(e[r]),!o.length&&!i&&hD(t[0][r]))break;o.push(r),n.unshift(r),r++}while(e[r]&&pD(e,t,r,i));break}return 1!==o.length||"0"!==e[n[0]-1]&&"\u0660"!==e[n[0]-1]||n.unshift(n[0]-1),o}(n,mD(s.date,e),t,s.isDigit),l="M"!==s.pattern||o.d?s.pattern:"L";r=function(e,t,n,i){let r,o,s;if(!hD(e[t[0]]||"0")){const a=Math.max(t.length<=3?3:4,n.length);for(;t.length>a;){for(o=t.pop(),s=i[o],i[o]=-1,r=o+1;r<i.length;r++)i[r]--;e=e.substr(0,s)+e.substr(s+1)}for(o=t[t.length-1]+1,s=o<i.length?i[o]:o;t.length<a;){for(t.push(t[t.length-1]+1),r=o;r<i.length;r++)i[r]++;e=e.substr(0,s)+" "+e.substr(s)}}return e=function(e,t,n,i){const r=t[0],o=r<i.length?i[r]:r;return t.forEach(function(t,i){e=e.substr(0,o+i)+(n.length>1?n[i]:n)+e.substr(o+i+1)}),1===t.length&&(e=(e=e.replace("0"+n,n+n)).replace("\u0660"+n,n+n)),e}(e,t,n,i),e}(r,a,l,i),o[l]=a.length}),r=function(e,t,n,i){const r=t.split("").map(function(e,t){return n.indexOf(t)<0&&(e.match(_D)||"'"===e)?i[t]:-1});return e=e.split("").map(function(e,t){let n=e;const i=r.indexOf(t)>=0,o=t>0&&r.indexOf(t-1)>=0,s=r.indexOf(t+1)>=0;return i&&(o||(n="'"+n),s||(n+="'")),n}).join(""),e}(r,n,t,i),t.length?r:void 0},vD={3:"abbreviated",4:"wide",5:"narrow"},yD=function(e,t){return e>2?Object.keys(vD).map(function(e){return["format","standalone"].map(function(n){return t.getMonthNames(vD[e],n).join("|")}).join("|")}).join("|"):2===e?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},bD={":":function(e,t){const n=e>1?`{${e}}`:"";let i=Je(t.getTimeSeparator());return":"!==i&&(i=`${i}|:`),`${i}${n}`},y:function(e){return 2===e?`[0-9]{${e}}`:"[0-9]+?"},M:yD,L:yD,Q:function(e,t){return e>2?t.getQuarterNames(vD[e],"format").join("|"):"0?[1-4]"},E:function(e,t){return"\\D*"},a:function(e,t){return t.getPeriodNames(vD[e<3?3:e],"format").join("|")},d:function(e){return 2===e?"3[01]|[12][0-9]|0?[1-9]":"0??[1-9]|[12][0-9]|3[01]"},H:function(e){return 2===e?"2[0-3]|1[0-9]|0?[0-9]":"0??[0-9]|1[0-9]|2[0-3]"},h:function(e){return 2===e?"1[012]|0?[1-9]":"0??[1-9]|1[012]"},m:function(e){return 2===e?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},s:function(e){return 2===e?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},S:function(e){return`[0-9]{1,${e}}`},w:function(e){return 2===e?"[1-5][0-9]|0?[0-9]":"0??[0-9]|[1-5][0-9]"},x:function(e){return 3===e?"[+-](?:2[0-3]|[01][0-9]):(?:[0-5][0-9])|Z":"[+-](?:2[0-3]|[01][0-9])(?:[0-5][0-9])|Z"}},CD=Number,xD=function(e,t){return e.map(e=>e.toLowerCase()).indexOf(t.toLowerCase())},SD=function(e,t,n){return t>2?["format","standalone"].map(function(t){return Object.keys(vD).map(function(i){const r=n.getMonthNames(vD[i],t);return xD(r,e)})}).reduce(function(e,t){return e.concat(t)}).filter(function(e){return e>=0})[0]:CD(e)-1},wD={y:function(e,t){const n=CD(e);return 2===t?n<30?2e3+n:1900+n:n},M:SD,L:SD,Q:function(e,t,n){return t>2?n.getQuarterNames(vD[t],"format").indexOf(e):CD(e)-1},E:function(e,t,n){const i=n.getDayNames(vD[t<3?3:t],"format");return xD(i,e)},a:function(e,t,n){const i=n.getPeriodNames(vD[t<3?3:t],"format");return xD(i,e)},d:CD,H:CD,h:CD,m:CD,s:CD,S:function(e,t){for(t=Math.max(t,3),e=e.slice(0,3);t<3;)e+="0",t++;return CD(e)}},ED=["y","M","d","h","m","s","S"],ID={y:"setFullYear",M:"setMonth",L:"setMonth",a:function(e,t,n){let i=e.getHours();const r=n.h;void 0!==r&&r!==i&&i--,t||12!==i?t&&12!==i&&(i+=12):i=0,e.setHours(i)},d:"setDate",H:"setHours",h:"setHours",m:"setMinutes",s:"setSeconds",S:"setMilliseconds"},kD=function(e,t){const n=e[t];if(!n)return 0;let i=0;do{t++,i++}while(e[t]===n);return i},DD=function(e,t){let n="";for(let i=0;i<t;i++)n+=e;return n},OD=function(e,t){let n,i="",r="";const o=[],s=function(){r&&(o.push(`'${r}'`),i+=`${Je(r)})`,r="")};for(let a=0;a<e.length;a++){const l=e[a],c=bD[l];if(!("'"===l)||(n=!n,"'"===e[a-1]))if(c&&!n){const n=kD(e,a),r=DD(l,n);s(),o.push(r),i+=`(${c(n,t)})`,a+=n-1}else r||(i+="("),r+=l}return s(),AD(o)||$.warn(`The following format may be parsed incorrectly: ${e}.`),{patterns:o,regexp:new RegExp(`^${i}$`,"i")}},TD=["d","H","h","m","s","w","M","L","Q"],AD=function(e){const t=e=>{if(!e)return!1;const t=e[0];return["y","S"].includes(t)||TD.includes(t)&&e.length<3};let n=!0,i=0;return e.every((e,r,o)=>(t(e)&&((e=>"S"!==e[0]&&2!==e.length)(e)&&(n=++i<2),t(o[r+1])||(i=0)),n))},PD=function(e,t){const n=OD(e,t);return function(e){const i=n.regexp.exec(e);if(i){const e=new Date,r=new Date(e.getFullYear(),0,1),o=n.patterns.map(function(e){return"'"===e[0]?"":"H"===e[0]?"h":e[0]}),s=function(e){const t=e.map(function(e){return ED.indexOf(e)});return Math.max.apply(Math,t)}(o),a=function(e){const t=e.filter(function(e){return ED.indexOf(e)<0});return ED.concat(t)}(o),l={};return a.forEach(function(a,c){if(!a||c<ED.length&&c>s)return;const u=o.indexOf(a);if(u>=0){const e=n.patterns[u],o=i[u+1];!function(e,t,n,i,r){const o=t[0],s=ID[o],a=wD[o];if(s&&a){const o=a(n,t.length,i);r[t]=o,e[s]?e[s](o):s(e,o,r)}}(r,e,o,t,l)}else!function(e,t,n){const i=ID[t],r=n["g"+i.substr(1)]();e[i](r)}(r,a,e)}),r}return null}},MD={"af-NA":1,agq:1,ak:1,ar:6,"ar-EH":1,"ar-ER":1,"ar-KM":1,"ar-LB":1,"ar-MA":1,"ar-MR":1,"ar-PS":1,"ar-SO":1,"ar-SS":1,"ar-TD":1,"ar-TN":1,asa:1,ast:1,az:1,"az-Cyrl":1,bas:1,be:1,bem:1,bez:1,bg:1,bm:1,br:1,bs:1,"bs-Cyrl":1,ca:1,ce:1,cgg:1,ckb:6,cs:1,cy:1,da:1,de:1,dje:1,dsb:1,dua:1,dyo:1,ee:1,el:1,"en-001":1,"en-AE":6,"en-BI":1,"en-MP":1,"en-MV":5,"en-SD":6,eo:1,es:1,et:1,eu:1,ewo:1,fa:6,ff:1,"ff-Adlm":1,fi:1,fo:1,fr:1,"fr-DJ":6,"fr-DZ":6,"fr-SY":6,fur:1,fy:1,ga:1,gd:1,gl:1,gsw:1,gv:1,ha:1,hr:1,hsb:1,hu:1,hy:1,ia:1,ig:1,is:1,it:1,jgo:1,jmc:1,ka:1,kab:6,kde:1,kea:1,khq:1,kk:1,kkj:1,kl:1,"ko-KP":1,ksb:1,ksf:1,ksh:1,ku:1,kw:1,ky:1,lag:1,lb:1,lg:1,ln:1,lrc:6,lt:1,lu:1,lv:1,"mas-TZ":1,mfe:1,mg:1,mgo:1,mi:1,mk:1,mn:1,ms:1,mua:1,mzn:6,naq:1,nds:1,nl:1,nmg:1,nnh:1,no:1,nus:1,nyn:1,os:1,pcm:1,pl:1,ps:6,"pt-AO":1,"pt-CH":1,"pt-CV":1,"pt-GQ":1,"pt-GW":1,"pt-LU":1,"pt-ST":1,"pt-TL":1,"qu-BO":1,"qu-EC":1,rm:1,rn:1,ro:1,rof:1,ru:1,rw:1,rwk:1,sah:1,sbp:1,sc:1,se:1,ses:1,sg:1,shi:1,"shi-Latn":1,si:1,sk:1,sl:1,smn:1,so:1,"so-DJ":6,sq:1,sr:1,"sr-Latn":1,sv:1,sw:1,"ta-LK":1,"ta-MY":1,teo:1,tg:1,"ti-ER":1,tk:1,to:1,tr:1,tt:1,twq:1,tzm:1,uk:1,uz:1,"uz-Arab":6,"uz-Cyrl":1,vai:1,"vai-Latn":1,vi:1,vun:1,wae:1,wo:1,xog:1,yav:1,yi:1,yo:1,zgh:1},RD=/[\u200E\u200F]/g,BD=/[\u202F]/g,ND=e=>t=>{if(!e.timeZoneName){const n=t.getFullYear(),i=String(n).length<3,r=i?n+400:n,o=new Date(Date.UTC(r,t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));i&&o.setFullYear(n);return HD(o,A({timeZone:"UTC"},e))}return HD(t,e)},FD={},$D=e=>{const t=dr.locale()+"/"+JSON.stringify(e);return FD[t]||(FD[t]=new Intl.DateTimeFormat(dr.locale(),e).format),FD[t]};function HD(e,t){return $D(t)(e).replace(RD,"").replace(BD," ")}const LD=e=>new Intl.NumberFormat(dr.locale()).format(e),VD=(()=>{const e={};return t=>{if(!(t in e)){if("0"===LD(0))return e[t]=!1,!1;e[t]={};for(let n=0;n<10;++n)e[t][LD(n)]=n}return e[t]}})(),zD=e=>{const t=VD(dr.locale());return t?e.split("").map(e=>e in t?String(t[e]):e).join(""):e},jD=e=>e.replace(/(\D)0+(\d)/g,"$1$2"),WD=e=>e.replace("d\u2019","de "),KD={day:{day:"numeric"},date:{year:"numeric",month:"long",day:"numeric"},dayofweek:{weekday:"long"},longdate:{weekday:"long",year:"numeric",month:"long",day:"numeric"},longdatelongtime:{weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric"},longtime:{hour:"numeric",minute:"numeric",second:"numeric"},month:{month:"long"},monthandday:{month:"long",day:"numeric"},monthandyear:{year:"numeric",month:"long"},shortdate:{},shorttime:{hour:"numeric",minute:"numeric"},shortyear:{year:"2-digit"},year:{year:"numeric"}};Object.defineProperty(KD,"shortdateshorttime",{get:function(){const e=Intl.DateTimeFormat(dr.locale()).resolvedOptions();return{year:e.year,month:e.month,day:e.day,hour:"numeric",minute:"numeric"}}});const UD={standalone:function(e,t){const n=new Date(1999,e,13,1);return ND({month:t})(n)},format:function(e,t){const n=new Date(0,e,13,1),i=WD(ND({day:"numeric",month:t})(n)).split(" ").filter(e=>e.indexOf("13")<0);return 1===i.length?i[0]:2===i.length?i[0].length>i[1].length?i[0]:i[1]:UD.standalone(e,t)}},qD={engine:function(){return"intl"},getMonthNames:function(e,t){const n={wide:"long",abbreviated:"short",narrow:"narrow"}[e||"wide"];return t="format"===t?t:"standalone",Array.apply(null,new Array(12)).map((e,i)=>UD[t](i,n))},getDayNames:function(e){const t=(e=>Array.apply(null,new Array(7)).map((t,n)=>ND({weekday:e})(new Date(0,0,n))))({wide:"long",abbreviated:"short",short:"narrow",narrow:"narrow"}[e||"wide"]);return t},getPeriodNames:function(){const e=ND({hour:"numeric",hour12:!0});return[1,13].map(t=>{const n=LD(1),i=e(new Date(0,0,1,t)).split(n);if(2!==i.length)return"";return(i[0].length>i[1].length?i[0]:i[1]).trim()})},format:function(e,t){if(!e)return;if(!t)return e;"function"===typeof t||t.formatter||(t=t.type||t);const n=(e=>"string"===typeof e&&KD[e.toLowerCase()])(t);if(n)return ND(n)(e);const i=typeof t;return t.formatter||"function"===i||"string"===i?this.callBase.apply(this,arguments):ND(t)(e)},parse:function(e,t){let n;return t&&!t.parser&&"string"===typeof e&&(e=WD(e),n=e=>WD(this.format(e,t))),this.callBase(e,n||t)},_parseDateBySimpleFormat:function(e,t){e=zD(e);const n=this.getFormatParts(t),i=e.split(/\D+/).filter(e=>e.length>0);if(n.length!==i.length)return;const r=this._generateDateArgs(n,i),o=n=>{const i=((e,t)=>{const n=t?12:0;return new Date(e.year,e.month,e.day,(e.hours+n)%24,e.minutes,e.seconds)})(r,n);if(o=zD(this.format(i,t)),s=e,jD(o)===jD(s))return i;var o,s};return o(!1)||o(!0)},_generateDateArgs:function(e,t){const n=new Date,i={year:n.getFullYear(),month:n.getMonth(),day:n.getDate(),hours:0,minutes:0,seconds:0};return e.forEach((e,n)=>{const r=t[n];let o=parseInt(r,10);"month"===e&&(o-=1),i[e]=o}),i},formatUsesMonthName:function(e){return"object"!==typeof e||e.type||e.format?this.callBase.apply(this,arguments):"long"===e.month},formatUsesDayName:function(e){return"object"!==typeof e||e.type||e.format?this.callBase.apply(this,arguments):"long"===e.weekday},getTimeSeparator:function(){return zD(HD(new Date(2001,1,1,11,11),{hour:"numeric",minute:"numeric",hour12:!1})).replace(/\d/g,"")},getFormatParts:function(e){if("string"===typeof e)return this.callBase(e);const t=A({},KD[e.toLowerCase()]),n=new Date(2001,2,4,5,6,7);let i=ND(t)(n);return i=zD(i),[{name:"year",value:1},{name:"month",value:3},{name:"day",value:4},{name:"hours",value:5},{name:"minutes",value:6},{name:"seconds",value:7}].map(e=>({name:e.name,index:i.indexOf(e.value)})).filter(e=>e.index>-1).sort((e,t)=>e.index-t.index).map(e=>e.name)}},GD="undefined"!==typeof Intl,ZD={shortdate:"M/d/y",shorttime:"h:mm a",longdate:"EEEE, MMMM d, y",longtime:"h:mm:ss a",monthandday:"MMMM d",monthandyear:"MMMM y",quarterandyear:"QQQ y",day:"d",year:"y",shortdateshorttime:"M/d/y, h:mm a",longdatelongtime:"EEEE, MMMM d, y, h:mm:ss a",month:"LLLL",shortyear:"yy",dayofweek:"EEEE",quarter:"QQQ",hour:"HH",minute:"mm",second:"ss",millisecond:"SSS","datetime-local":"yyyy-MM-ddTHH':'mm':'ss"},YD={year:["y","yy","yyyy"],day:["d","dd"],month:["M","MM","MMM","MMMM"],hours:["H","HH","h","hh","ah"],minutes:["m","mm"],seconds:["s","ss"],milliseconds:["S","SS","SSS"]},QD=ue({engine:function(){return"base"},_getPatternByFormat:function(e){return ZD[e.toLowerCase()]},_expandPattern:function(e){return this._getPatternByFormat(e)||e},formatUsesMonthName:function(e){return-1!==this._expandPattern(e).indexOf("MMMM")},formatUsesDayName:function(e){return-1!==this._expandPattern(e).indexOf("EEEE")},getFormatParts:function(e){const t=this._getPatternByFormat(e)||e,n=[];return l(t.split(/\W+/),(e,t)=>{l(YD,(e,i)=>{i.includes(t)&&n.push(e)})}),n},getMonthNames:function(e){return Io.getMonthNames(e)},getDayNames:function(e){return Io.getDayNames(e)},getQuarterNames:function(e){return Io.getQuarterNames(e)},getPeriodNames:function(e){return Io.getPeriodNames(e)},getTimeSeparator:function(){return":"},is24HourFormat:function(e){const t=new Date(2017,0,20,11,0,0,0),n=new Date(2017,0,20,23,0,0,0),i=this.format(t,e),r=this.format(n,e);for(let o=0;o<i.length;o++)if(i[o]!==r[o])return!isNaN(parseInt(i[o]))},format:function(e,t){if(!e)return;if(!t)return e;let n;if("function"===typeof t)n=t;else if(t.formatter)n=t.formatter;else if(t=t.type||t,v(t))return t=ZD[t.toLowerCase()]||t,qd.convertDigits(To(t,this)(e));return n?n(e):void 0},parse:function(e,t){const n=this;let i,r;if(!e)return;if(!t)return this.parse(e,"shortdate");if(t.parser)return t.parser(e);if("string"!==typeof t||ZD[t.toLowerCase()]){r=e=>{const i=n.format(e,t);return qd.convertDigits(i,!0)};try{i=gD(r)}catch(s){}}else i=t;if(i)return e=qd.convertDigits(e,!0),PD(i,this)(e);W.log("W0012");const o=new Date(e);return o&&!isNaN(o.getTime())?o:void 0},firstDayOfWeekIndex:function(){const e=dr.getValueByClosestLocale(e=>MD[e]);return void 0===e?0:e}});GD&&QD.inject(qD);const XD=QD,JD="dxSwipeable",eO={onStart:Dx,onUpdated:Ox,onEnd:Tx,onCancel:"dxswipecancel"};class tO extends _d{_getDefaultOptions(){return K({},super._getDefaultOptions(),{elastic:!0,immediate:!1,immediateTimeout:180,direction:"horizontal",itemSizeFunc:null,onStart:null,onUpdated:null,onEnd:null,onCancel:null})}_render(){super._render(),this.$element().addClass("dx-swipeable"),this._attachEventHandlers()}_attachEventHandlers(){if(this._detachEventHandlers(),this.option("disabled"))return;const{NAME:e}=this;this._createEventData(),l(eO,(t,n)=>{const i=this._createActionByOption(t,{context:this});n=or(n,e),rn.on(this.$element(),n,this._eventData,e=>i({event:e}))})}_createEventData(){this._eventData={elastic:this.option("elastic"),itemSizeFunc:this.option("itemSizeFunc"),direction:this.option("direction"),immediate:this.option("immediate"),immediateTimeout:this.option("immediateTimeout")}}_detachEventHandlers(){rn.off(this.$element(),`.${JD}`)}_optionChanged(e){switch(e.name){case"disabled":case"onStart":case"onUpdated":case"onEnd":case"onCancel":case"elastic":case"immediate":case"itemSizeFunc":case"direction":this._detachEventHandlers(),this._attachEventHandlers();break;case"rtlEnabled":break;default:super._optionChanged(e)}}_useTemplates(){return!1}}Ti(tO,JD);const nO=tO;const iO=class{constructor(e){this.calendar=e}dateOption(e){return this.calendar._dateOption(e)}dateValue(e,t){this.calendar._dateValue(e,t)}skipNavigate(){this.calendar._skipNavigate=!0}updateAriaSelected(e,t){this.calendar._updateAriaSelected(e,t),e[0]&&this.calendar.option("currentDate").getTime()===e[0].getTime()&&this.calendar._updateAriaId(e[0])}processValueChanged(e,t){var n,i;_(e)&&!Array.isArray(e)&&(e=[e]),_(t)&&!Array.isArray(t)&&(t=[t]),e=(null===(n=e)||void 0===n?void 0:n.map(e=>this._convertToDate(e)))||[],t=(null===(i=t)||void 0===i?void 0:i.map(e=>this._convertToDate(e)))||[],this._updateViewsValue(e),this.updateAriaSelected(e,t),this._currentDateChanged||this.calendar._initCurrentDate(),this._currentDateChanged=!1}_isDateDisabled(e){const t=this.calendar._dateOption("min"),n=this.calendar._dateOption("max"),i=_(t)&&e<t&&!xs.sameDate(t,e),r=_(n)&&e>n&&!xs.sameDate(n,e);return this.calendar._view.isDateDisabled(e)||i||r}_getLowestDateInArray(e){if(e.length)return new Date(Math.min(...e))}_convertToDate(e){return this.calendar._convertToDate(e)}_isMaxZoomLevel(){return this.calendar._isMaxZoomLevel()}_updateViewsOption(e,t){this.calendar._updateViewsOption(e,t)}_updateViewsValue(e){this._updateViewsOption("value",e)}_updateCurrentDate(e){this.calendar.option("currentDate",e??new Date)}_shouldHandleWeekNumberClick(){const{selectionMode:e,selectWeekOnClick:t}=this.calendar.option();return t&&"single"!==e}};const rO=class extends iO{constructor(e){super(e),this.NAME="MultiSelection"}getViewOptions(){return{value:this.dateOption("value"),range:[],selectionMode:"multiple",onWeekNumberClick:this._shouldHandleWeekNumberClick()?this._weekNumberClickHandler.bind(this):null}}selectValue(e,t){const n=[...this.dateOption("value")],i=n.findIndex(t=>(null===t||void 0===t?void 0:t.toDateString())===e.toDateString());i>-1?n.splice(i,1):n.push(e),this.skipNavigate(),this._updateCurrentDate(e),this._currentDateChanged=!0,this.dateValue(n,t)}updateAriaSelected(e,t){e??(e=this.dateOption("value")),t??(t=[]),super.updateAriaSelected(e,t)}getDefaultCurrentDate(){const e=this.dateOption("value").filter(Boolean);return this._getLowestDateInArray(e)}restoreValue(){this.calendar.option("value",[])}_weekNumberClickHandler(e){let{rowDates:t,event:n}=e;const i=t.filter(e=>!this._isDateDisabled(e));this.dateValue(i,n)}};const oO=class extends yd{_getDefaultOptions(){return K({},super._getDefaultOptions(),{onClick:void 0,onCaptionClick:void 0,type:"normal",stylingMode:"outlined",text:""})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>na(),options:{type:"default",stylingMode:"text"}},{device:()=>ia(),options:{type:"normal",stylingMode:"text"}}])}_init(){super._init(),this._initActions()}_initActions(){this._clickAction=this._createActionByOption("onClick"),this._captionClickAction=this._createActionByOption("onCaptionClick")}_initMarkup(){super._initMarkup(),Si(this.element()).addClass("dx-calendar-navigator"),this._renderButtons(),this._renderCaption()}_renderButtons(){const{rtlEnabled:e,type:t,stylingMode:n,focusStateEnabled:i}=this.option();this._prevButton=this._createComponent(Si("<div>"),g_,{focusStateEnabled:i,icon:e?"chevronright":"chevronleft",onClick:e=>{var t;null===(t=this._clickAction)||void 0===t||t.call(this,{direction:-1,event:e})},type:t,stylingMode:n,integrationOptions:{}});const r=Si(this._prevButton.element()).addClass("dx-calendar-navigator-previous-view").addClass("dx-calendar-navigator-previous-month");this._nextButton=this._createComponent(Si("<div>"),g_,{focusStateEnabled:i,icon:e?"chevronleft":"chevronright",onClick:e=>{var t;null===(t=this._clickAction)||void 0===t||t.call(this,{direction:1,event:e})},type:t,stylingMode:n,integrationOptions:{}});const o=Si(this._nextButton.element()).addClass("dx-calendar-navigator-next-view").addClass("dx-calendar-navigator-next-month");this._caption=this._createComponent(Si("<div>").addClass("dx-calendar-caption-button"),g_,{focusStateEnabled:i,onClick:e=>{var t;null===(t=this._captionClickAction)||void 0===t||t.call(this,{event:e})},type:t,stylingMode:n,template:(e,t)=>{const{text:n}=this.option();n.split(" - ").forEach(e=>{Si(t).append(Si("<span>").addClass("dx-button-text").text(e))})},integrationOptions:{}});const s=this._caption.$element();this.$element().append(r).append(s).append(o)}_renderCaption(){var e;const{text:t}=this.option();null===(e=this._caption)||void 0===e||e.option("text",t)}toggleButton(e,t){const n=this[`_${e}Button`];n&&(n.option("disabled",t),n.$element().toggleClass("dx-calendar-disabled-navigator-link",t))}_optionChanged(e){"text"===e.name?this._renderCaption():super._optionChanged(e)}};const sO=class extends iO{constructor(e){super(e),this.NAME="RangeSelection"}getViewOptions(){const e=this._getValue();return{value:e,range:this._getDaysInRange(e[0],e[1]),selectionMode:"range",onCellHover:this._cellHoverHandler.bind(this),onWeekNumberClick:this._shouldHandleWeekNumberClick()?this._weekNumberClickHandler.bind(this):null}}selectValue(e,t){const[n,i]=this._getValue();this.skipNavigate(),this._updateCurrentDate(e),this._currentDateChanged=!0,!0===this.calendar.option("_allowChangeSelectionOrder")?(this.calendar._valueSelected=!0,"startDate"===this.calendar.option("_currentSelection")?this.calendar._convertToDate(e)>this.calendar._convertToDate(i)?this.dateValue([e,null],t):this.dateValue([e,i],t):this.calendar._convertToDate(e)>=this.calendar._convertToDate(n)?this.dateValue([n,e],t):this.dateValue([e,null],t)):!n||i?this.dateValue([e,null],t):this.dateValue(n<e?[n,e]:[e,n],t)}updateAriaSelected(e,t){e??(e=this._getValue()),t??(t=[]),super.updateAriaSelected(e,t)}processValueChanged(e,t){super.processValueChanged(e,t);const n=this._getRange();this._updateViewsOption("range",n)}getDefaultCurrentDate(){const{_allowChangeSelectionOrder:e,_currentSelection:t}=this.calendar.option(),n=this.dateOption("value");if(e){if("startDate"===t&&n[0])return n[0];if("endDate"===t&&n[1])return n[1]}const i=n.filter(e=>e);return this._getLowestDateInArray(i)}restoreValue(){this.calendar.option("value",[null,null])}_getValue(){const e=this.dateOption("value");if(!e.length)return e;let[t,n]=e;return t&&n&&t>n&&([t,n]=[n,t]),[t,n]}_getRange(){const[e,t]=this._getValue();return this._getDaysInRange(e,t)}_getDaysInRange(e,t){if(!e||!t)return[];const{currentDate:n,viewsCount:i}=this.calendar.option(),r=this.calendar._isAdditionalViewDate(n),o=xs.getFirstMonthDate(n,r?-2:-1),s=xs.getLastMonthDate(n,r?1:i),a=new Date(Math.max(o,e)),l=new Date(Math.min(s,t));return[...xs.getDatesOfInterval(a,l,864e5),l]}_cellHoverHandler(e){const t=this._isMaxZoomLevel(),[n,i]=this._getValue(),{_allowChangeSelectionOrder:r,_currentSelection:o}=this.calendar.option();if(t){if(!n||i||r&&"startDate"===o){if(n||!i||r&&"endDate"===o){if(n&&i){if("startDate"===o&&e.value<n)return void this._updateViewsOption("hoveredRange",this._getDaysInRange(e.value,n));if("endDate"===o&&e.value>i)return void this._updateViewsOption("hoveredRange",this._getDaysInRange(i,e.value))}}else if(e.value<i)return void this._updateViewsOption("hoveredRange",this._getDaysInRange(e.value,i))}else if(e.value>n)return void this._updateViewsOption("hoveredRange",this._getDaysInRange(n,e.value));this._updateViewsOption("hoveredRange",[])}}_weekNumberClickHandler(e){let{rowDates:t,event:n}=e;const i=t.filter(e=>!this._isDateDisabled(e)),r=i.length?[i[0],i[i.length-1]]:[null,null];this.dateValue(r,n)}};const aO=class extends iO{constructor(e){super(e),this.NAME="SingleSelection"}getViewOptions(){return{value:this.dateOption("value"),range:[],selectionMode:"single"}}selectValue(e,t){this.skipNavigate(),this.dateValue(e,t)}updateAriaSelected(e,t){e??(e=[this.dateOption("value")]),t??(t=[]),super.updateAriaSelected(e,t)}getDefaultCurrentDate(){const e=this.dateOption("value");return""===e?new Date:e}restoreValue(){this.calendar.option("value",null)}_updateViewsValue(e){this._updateViewsOption("value",e[0])}},lO="td:not(.dx-calendar-week-number-cell)",cO=or(dc,"dxCalendar"),uO=or(xc,"dxCalendar"),dO={month:mr.format("dxCalendar-currentDay"),year:mr.format("dxCalendar-currentMonth"),decade:mr.format("dxCalendar-currentYear"),century:mr.format("dxCalendar-currentYearRange")},hO="single",pO="multiple",fO="range";const mO=class extends yd{_getViewName(){return"base"}_getDefaultOptions(){return K({},super._getDefaultOptions(),{date:new Date,focusStateEnabled:!1,cellTemplate:null,disabledDates:null,onCellClick:null,onCellHover:null,onWeekNumberClick:null,rowCount:3,colCount:4,allowValueSelection:!0,_todayDate:()=>new Date})}_initMarkup(){super._initMarkup(),this._renderImpl()}_renderImpl(){this.$element().append(this._createTable()),this._createDisabledDatesHandler(),this._renderBody(),this._renderContouredDate(),this._renderValue(),this._renderRange(),this._renderEvents(),this._updateTableAriaLabel()}_getLocalizedWidgetName(){return mr.format("dxCalendar-ariaWidgetName")}_getSingleModeAriaLabel(){const{value:e}=this.option(),t=this._getLocalizedWidgetName(),n=XD.format(e,"date");return`${t}. ${mr.format("dxCalendar-selectedDate",n)}`}_getRangeModeAriaLabel(){const{value:e}=this.option(),t=this._getLocalizedWidgetName(),[n,i]=e,r=XD.format(n,"date"),o=XD.format(i,"date");return`${t}. ${n&&i?mr.format("dxCalendar-selectedDateRange",r,o):mr.format("dxCalendar-selectedDate",r??o)}`}_getMultipleModeAriaLabel(){return`${this._getLocalizedWidgetName()}. ${this._getMultipleRangesText()}`}_getMultipleRangesText(){const{value:e}=this.option(),t=xs.getRangesByDates(e.map(e=>new Date(e)));if(t.length>2){return mr.format("dxCalendar-selectedDateRangeCount",t.length)}return`${mr.format("dxCalendar-selectedDates")}: ${t.map(e=>this._getRangeText(e)).join(", ")}`}_getRangeText(e){const[t,n]=e,i=XD.format(t,"date"),r=XD.format(n,"date");return t&&n?mr.format("dxCalendar-selectedMultipleDateRange",i,r):i}_getTableAriaLabel(){const{value:e,selectionMode:t}=this.option();if(!e||Array.isArray(e)&&!e.filter(Boolean).length)return this._getLocalizedWidgetName();switch(t){case hO:return this._getSingleModeAriaLabel();case fO:return this._getRangeModeAriaLabel();case pO:return this._getMultipleModeAriaLabel()}}_updateTableAriaLabel(){const e=this._getTableAriaLabel();this.setAria({label:e},this._$table)}_createTable(){return this._$table=Si("<table>"),this.setAria({role:"grid"},this._$table),this._$table}_renderBody(){this.$body=Si("<tbody>").appendTo(this._$table);const e={cellDate:this._getFirstCellData(),prevCellDate:null},{rowCount:t,colCount:n}=this.option();for(let i=0,r=t;i<r;i++){e.row=this._createRow();for(let t=0,i=n;t<i;t++)this._renderCell(e,t);this._renderWeekNumberCell(e)}}_renderWeekNumberCell(e){}_createRow(){const e=mt.createElement("tr");return this.setAria("role","row",Si(e)),this.$body.get(0).appendChild(e),e}_createCell(e,t){const n=mt.createElement("td"),i=Si(n);return n.className=this._getClassNameByDate(e,t),n.setAttribute("data-value",Ho.serializeDate(e,xs.getShortDateFormat())),un(n,"dxDateValueKey",e),this.setAria({role:"gridcell",selected:!1,label:this.getCellAriaLabel(e)},i),{cell:n,$cell:i}}_renderCell(e,t){const{cellDate:n,prevCellDate:i,row:r}=e;i&&xs.fixTimezoneGap(i,n),e.prevCellDate=n;const{cell:o,$cell:s}=this._createCell(n,t),a=this.option("cellTemplate");Si(r).append(o),a?a.render(this._prepareCellTemplateData(n,t,s)):o.innerHTML=this._getCellText(n),e.cellDate=this._getNextCellData(n)}_getClassNameByDate(e,t){let n="dx-calendar-cell";this._isTodayCell(e)&&(n+=" dx-calendar-today"),(this._isDateOutOfRange(e)||this.isDateDisabled(e))&&(n+=" dx-calendar-empty-cell"),this._isOtherView(e)&&(n+=" dx-calendar-other-view");const{selectionMode:i}=this.option();if(i===fO){0===t&&(n+=" dx-calendar-cell-start-in-row");const{colCount:i}=this.option();t===i-1&&(n+=" dx-calendar-cell-end-in-row"),this._isStartDayOfMonth(e)&&(n+=" dx-calendar-cell-start"),this._isEndDayOfMonth(e)&&(n+=" dx-calendar-cell-end")}return n}_prepareCellTemplateData(e,t,n){const i=e instanceof Date;return{model:{text:i?this._getCellText(e):e,date:i?e:void 0,view:this._getViewName()},container:ma(n),index:t}}_renderEvents(){this._createCellClickAction(),rn.off(this._$table,cO),rn.on(this._$table,cO,lO,e=>{Si(e.currentTarget).hasClass("dx-calendar-empty-cell")||this._cellClickAction({event:e,value:Si(e.currentTarget).data("dxDateValueKey")})});const{selectionMode:e}=this.option();rn.off(this._$table,uO),e===fO&&(this._createCellHoverAction(),rn.on(this._$table,uO,lO,e=>{Si(e.currentTarget).hasClass("dx-calendar-empty-cell")||this._cellHoverAction({event:e,value:Si(e.currentTarget).data("dxDateValueKey")})})),e!==hO&&(this._createWeekNumberCellClickAction(),rn.on(this._$table,cO,".dx-calendar-week-number-cell",e=>{const t=Si(e.currentTarget).closest("tr"),n=t.find(".dx-calendar-cell").first().data("dxDateValueKey"),i=t.find(".dx-calendar-cell").last().data("dxDateValueKey"),r=[...xs.getDatesOfInterval(n,i,864e5),i];this._weekNumberCellClickAction({event:e,rowDates:r})}))}_createCellClickAction(){this._cellClickAction=this._createActionByOption("onCellClick")}_createCellHoverAction(){this._cellHoverAction=this._createActionByOption("onCellHover")}_createWeekNumberCellClickAction(){this._weekNumberCellClickAction=this._createActionByOption("onWeekNumberClick")}_createDisabledDatesHandler(){const{disabledDates:e}=this.option();this._disabledDatesHandler=Array.isArray(e)?this._getDefaultDisabledDatesHandler(e):e||tt}_getDefaultDisabledDatesHandler(e){return tt}_isTodayCell(e){ie.abstract()}_isDateOutOfRange(e){ie.abstract()}isDateDisabled(e){const t={date:e,view:this._getViewName()};return this._disabledDatesHandler(t)}_isOtherView(e){ie.abstract()}_isStartDayOfMonth(e){ie.abstract()}_isEndDayOfMonth(e){ie.abstract()}_getCellText(e){ie.abstract()}_getFirstCellData(){ie.abstract()}_getNextCellData(e){ie.abstract()}_renderContouredDate(e){if(!this.option("focusStateEnabled"))return;e=e||this.option("contouredDate");const t=this._getContouredCell(),n=this._getCellByDate(e);t.removeClass("dx-calendar-contoured-date"),e&&n.addClass("dx-calendar-contoured-date")}_getContouredCell(){return this._$table.find(".dx-calendar-contoured-date")}_renderValue(){if(!this.option("allowValueSelection"))return;let e=this.option("value");Array.isArray(e)||(e=[e]),this._updateSelectedClass(e)}_updateSelectedClass(e){var t;this._isRangeMode()&&!this._isMonthView()||(null===(t=this._$selectedCells)||void 0===t||t.forEach(e=>{e.removeClass("dx-calendar-selected-date")}),this._$selectedCells=e.map(e=>this._getCellByDate(e)),this._$selectedCells.forEach(e=>{e.addClass("dx-calendar-selected-date")}))}_renderRange(){var e,t,n,i,r,o,s,a;const{allowValueSelection:l,value:c,range:u}=this.option();l&&this._isRangeMode()&&this._isMonthView()&&(null===(e=this._$rangeCells)||void 0===e||e.forEach(e=>{e.removeClass("dx-calendar-cell-in-range")}),null===(t=this._$hoveredRangeCells)||void 0===t||t.forEach(e=>{e.removeClass("dx-calendar-cell-range-hover")}),null===(n=this._$rangeStartHoverCell)||void 0===n||n.removeClass("dx-calendar-cell-range-hover-start"),null===(i=this._$rangeEndHoverCell)||void 0===i||i.removeClass("dx-calendar-cell-range-hover-end"),null===(r=this._$rangeStartDateCell)||void 0===r||r.removeClass("dx-calendar-range-start-date"),null===(o=this._$rangeEndDateCell)||void 0===o||o.removeClass("dx-calendar-range-end-date"),this._$rangeCells=u.map(e=>this._getCellByDate(e)),this._$rangeStartDateCell=this._getCellByDate(c[0]),this._$rangeEndDateCell=this._getCellByDate(c[1]),this._$rangeCells.forEach(e=>{e.addClass("dx-calendar-cell-in-range")}),null===(s=this._$rangeStartDateCell)||void 0===s||s.addClass("dx-calendar-range-start-date"),null===(a=this._$rangeEndDateCell)||void 0===a||a.addClass("dx-calendar-range-end-date"))}_renderHoveredRange(){var e,t,n,i,r;const{allowValueSelection:o,hoveredRange:s}=this.option();o&&this._isRangeMode()&&this._isMonthView()&&(null===(e=this._$hoveredRangeCells)||void 0===e||e.forEach(e=>{e.removeClass("dx-calendar-cell-range-hover")}),null===(t=this._$rangeStartHoverCell)||void 0===t||t.removeClass("dx-calendar-cell-range-hover-start"),null===(n=this._$rangeEndHoverCell)||void 0===n||n.removeClass("dx-calendar-cell-range-hover-end"),this._$hoveredRangeCells=s.map(e=>this._getCellByDate(e)),this._$rangeStartHoverCell=this._getCellByDate(s[0]),this._$rangeEndHoverCell=this._getCellByDate(s[s.length-1]),this._$hoveredRangeCells.forEach(e=>{e.addClass("dx-calendar-cell-range-hover")}),null===(i=this._$rangeStartHoverCell)||void 0===i||i.addClass("dx-calendar-cell-range-hover-start"),null===(r=this._$rangeEndHoverCell)||void 0===r||r.addClass("dx-calendar-cell-range-hover-end"))}_isMonthView(){const{zoomLevel:e}=this.option();return"month"===e}_isRangeMode(){const{selectionMode:e}=this.option();return e===fO}_getCurrentDateFormat(){return null}getCellAriaLabel(e){const t=this._getViewName(),n=this._isTodayCell(e),i=this._getCurrentDateFormat(),r=i?XD.format(e,i):this._getCellText(e);return n?`${r}. ${dO[t]}`:r}_getFirstAvailableDate(){let e=this.option("date");const t=this.option("min");return e=xs.getViewFirstCellDate(this._getViewName(),e),new Date(t&&e<t?t:e)}_getCellByDate(e){ie.abstract()}isBoundary(e){ie.abstract()}_optionChanged(e){const{name:t,value:n}=e;switch(t){case"value":this._renderValue(),this._updateTableAriaLabel();break;case"range":this._renderRange();break;case"hoveredRange":this._renderHoveredRange();break;case"contouredDate":this._renderContouredDate(n);break;case"onCellClick":this._createCellClickAction();break;case"onCellHover":this._createCellHoverAction();break;case"min":case"max":case"disabledDates":case"cellTemplate":case"selectionMode":this._invalidate();break;case"_todayDate":this._renderBody();break;default:super._optionChanged(e)}}};const _O={month:class extends mO{_getViewName(){return"month"}_getCurrentDateFormat(){return"longdate"}_getDefaultOptions(){return K({},super._getDefaultOptions(),{firstDayOfWeek:0,rowCount:6,colCount:7})}_renderImpl(){super._renderImpl(),this._renderHeader()}_renderBody(){super._renderBody(),this._$table.find(".dx-calendar-other-view").addClass("dx-calendar-other-month")}_renderFocusTarget(){}_renderHeader(){const e=Si("<tr>"),t=Si("<thead>").append(e);this._$table.prepend(t);const{colCount:n,showWeekNumbers:i}=this.option();for(let r=0,o=n;r<o;r++)this._renderHeaderCell(r,e);i&&this._renderWeekHeaderCell(e)}_renderHeaderCell(e,t){const{firstDayOfWeek:n}=this.option(),{full:i,abbreviated:r}=this._getDayCaption(n+e),o=Si("<th>").attr({scope:"col",abbr:i}).text(r);t.append(o)}_renderWeekHeaderCell(e){const t=Si("<th>").attr({scope:"col",abbr:"WeekNumber",class:"dx-week-number-header"});e.prepend(t)}_renderWeekNumberCell(e){const{showWeekNumbers:t,cellTemplate:n,selectionMode:i,selectWeekOnClick:r}=this.option();if(!t)return;const o=this._getWeekNumber(e.prevCellDate),s=mt.createElement("td"),a=Si(s);s.className="dx-calendar-week-number-cell","single"!==i&&r&&a.addClass("dx-calendar-week-selection"),n?n.render(this._prepareCellTemplateData(o,-1,a)):s.innerHTML=o,e.row.prepend(s),this.setAria({role:"gridcell",label:`Week ${o}`},a)}_getWeekNumber(e){const{weekNumberRule:t,firstDayOfWeek:n}=this.option();return"auto"===t?xs.getWeekNumber(e,n,1===n?"firstFourDays":"firstDay"):xs.getWeekNumber(e,n,t)}getNavigatorCaption(){const{date:e}=this.option();return XD.format(e,"monthandyear")}_isTodayCell(e){const{_todayDate:t}=this.option();return xs.sameDate(e,t())}_isDateOutOfRange(e){const t=this.option("min"),n=this.option("max");return!xs.dateInRange(e,t,n,"date")}_isOtherView(e){const{date:t}=this.option();return e.getMonth()!==t.getMonth()}_isStartDayOfMonth(e){return xs.sameDate(e,xs.getFirstMonthDate(this.option("date")))}_isEndDayOfMonth(e){return xs.sameDate(e,xs.getLastMonthDate(this.option("date")))}_getCellText(e){return XD.format(e,"d")}_getDayCaption(e){const{colCount:t}=this.option(),n=e%t;return{full:XD.getDayNames()[n],abbreviated:XD.getDayNames("abbreviated")[n]}}_getFirstCellData(){const{firstDayOfWeek:e}=this.option(),t=xs.getFirstMonthDate(this.option("date"));let n=e-t.getDay();const{colCount:i}=this.option();return n>=0&&(n-=i),t.setDate(t.getDate()+n),t}_getNextCellData(e){return(e=new Date(e)).setDate(e.getDate()+1),e}_getCellByDate(e){return this._$table.find(`td[data-value='${Ho.serializeDate(e,xs.getShortDateFormat())}']`)}isBoundary(e){return xs.sameMonthAndYear(e,this.option("min"))||xs.sameMonthAndYear(e,this.option("max"))}_getDefaultDisabledDatesHandler(e){return function(t){const n=e.some(e=>xs.sameDate(e,t.date));if(n)return!0}}},year:class extends mO{_getViewName(){return"year"}_getCurrentDateFormat(){return"monthandyear"}_isTodayCell(e){const{_todayDate:t}=this.option();return xs.sameMonthAndYear(e,t())}_isDateOutOfRange(e){return!xs.dateInRange(e,xs.getFirstMonthDate(this.option("min")),xs.getLastMonthDate(this.option("max")))}_isOtherView(){return!1}_isStartDayOfMonth(){return!1}_isEndDayOfMonth(){return!1}_getCellText(e){return XD.getMonthNames("abbreviated")[e.getMonth()]}_getFirstCellData(){const{date:e}=this.option(),t=new Date(e);return t.setDate(1),t.setMonth(0),t}_getNextCellData(e){return(e=new Date(e)).setMonth(e.getMonth()+1),e}_getCellByDate(e){const t=new Date(e);return t.setDate(1),this._$table.find(`td[data-value='${Ho.serializeDate(t,xs.getShortDateFormat())}']`)}getNavigatorCaption(){const{date:e}=this.option();return XD.format(e,"yyyy")}isBoundary(e){return xs.sameYear(e,this.option("min"))||xs.sameYear(e,this.option("max"))}_renderWeekNumberCell(){}},decade:class extends mO{_getViewName(){return"decade"}_isTodayCell(e){const{_todayDate:t}=this.option();return xs.sameYear(e,t())}_isDateOutOfRange(e){const t=this.option("min"),n=this.option("max");return!xs.dateInRange(e.getFullYear(),null===t||void 0===t?void 0:t.getFullYear(),null===n||void 0===n?void 0:n.getFullYear())}_isOtherView(e){const t=new Date(e);return t.setMonth(1),!xs.sameDecade(t,this.option("date"))}_isStartDayOfMonth(){return!1}_isEndDayOfMonth(){return!1}_getCellText(e){return XD.format(e,"yyyy")}_getFirstCellData(){const e=xs.getFirstYearInDecade(this.option("date"))-1;return xs.createDateWithFullYear(e,0,1)}_getNextCellData(e){return(e=new Date(e)).setFullYear(e.getFullYear()+1),e}getNavigatorCaption(){const{date:e}=this.option(),t=xs.getFirstYearInDecade(e),n=new Date(e),i=new Date(e);return n.setFullYear(t),i.setFullYear(t+9),`${XD.format(n,"yyyy")}-${XD.format(i,"yyyy")}`}_isValueOnCurrentView(e,t){return xs.sameDecade(e,t)}_getCellByDate(e){const t=new Date(e);return t.setDate(1),t.setMonth(0),this._$table.find(`td[data-value='${Ho.serializeDate(t,xs.getShortDateFormat())}']`)}isBoundary(e){return xs.sameDecade(e,this.option("min"))||xs.sameDecade(e,this.option("max"))}_renderWeekNumberCell(){}},century:class extends mO{_getViewName(){return"century"}_isTodayCell(e){const{_todayDate:t}=this.option();return xs.sameDecade(e,t())}_isDateOutOfRange(e){const t=xs.getFirstYearInDecade(e),n=xs.getFirstYearInDecade(this.option("min")),i=xs.getFirstYearInDecade(this.option("max"));return!xs.dateInRange(t,n,i)}_isOtherView(e){const t=new Date(e);return t.setMonth(1),!xs.sameCentury(t,this.option("date"))}_isStartDayOfMonth(){return!1}_isEndDayOfMonth(){return!1}_getCellText(e){const t=XD.format(e,"yyyy"),n=new Date(e);return n.setFullYear(n.getFullYear()+9),`${t} - ${XD.format(n,"yyyy")}`}_getFirstCellData(){const e=xs.getFirstDecadeInCentury(this.option("date"))-10;return xs.createDateWithFullYear(e,0,1)}_getNextCellData(e){return(e=new Date(e)).setFullYear(e.getFullYear()+10),e}_getCellByDate(e){const t=new Date(e);return t.setDate(1),t.setMonth(0),t.setFullYear(xs.getFirstYearInDecade(t)),this._$table.find(`td[data-value='${Ho.serializeDate(t,xs.getShortDateFormat())}']`)}getNavigatorCaption(){const{date:e}=this.option(),t=xs.getFirstDecadeInCentury(e),n=new Date(e),i=new Date(e);return n.setFullYear(t),i.setFullYear(t+99),`${XD.format(n,"yyyy")}-${XD.format(i,"yyyy")}`}isBoundary(e){return xs.sameCentury(e,this.option("min"))||xs.sameCentury(e,this.option("max"))}_renderWeekNumberCell(){}}},gO=or(wc,"dxCalendar"),vO={month:3,year:2,decade:1,century:0},yO="month",bO="year",CO="decade",xO="century",SO={SingleSelection:aO,MultipleSelection:rO,RangeSelection:sO};class wO extends Kh{_getDefaultOptions(){return K({},super._getDefaultOptions(),{hoverStateEnabled:!0,activeStateEnabled:!0,currentDate:new Date,value:null,min:new Date(1e3,0),max:new Date(3e3,0),viewsCount:1,zoomLevel:yO,maxZoomLevel:yO,minZoomLevel:xO,selectionMode:"single",selectWeekOnClick:!0,showTodayButton:!1,showWeekNumbers:!1,weekNumberRule:"auto",cellTemplate:"cell",disabledDates:null,onCellClick:null,onContouredChanged:null,skipFocusCheck:!1,_todayDate:()=>new Date})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>"desktop"===Is.real().deviceType&&!Is.isSimulator(),options:{focusStateEnabled:!0}}])}_supportedKeys(){return K({},super._supportedKeys(),{rightArrow(e){e.preventDefault(),sr(e)?this._waitRenderView(1):this._moveCurrentDateByOffset(1*this._getRtlCorrection())},leftArrow(e){e.preventDefault(),sr(e)?this._waitRenderView(-1):this._moveCurrentDateByOffset(-1*this._getRtlCorrection())},upArrow(e){if(e.preventDefault(),sr(e))this._navigateUp();else{if(Dl.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(-1*this._view.option("colCount"))}},downArrow(e){if(e.preventDefault(),sr(e))this._navigateDown();else{if(Dl.isAnimating(this._view.$element()))return;this._moveCurrentDateByOffset(1*this._view.option("colCount"))}},home(e){e.preventDefault();const t=this.option("zoomLevel"),n=this.option("currentDate"),i=this._dateOption("min");if(this._view.isDateDisabled(n))return;const r=xs.sameView(t,n,i)?i:xs.getViewFirstCellDate(t,n);this._moveToClosestAvailableDate(r)},end(e){e.preventDefault();const t=this.option("zoomLevel"),n=this.option("currentDate"),i=this._dateOption("max");if(this._view.isDateDisabled(n))return;const r=xs.sameView(t,n,i)?i:xs.getViewLastCellDate(t,n);this._moveToClosestAvailableDate(r)},pageUp(e){e.preventDefault(),this._waitRenderView(-1*this._getRtlCorrection())},pageDown(e){e.preventDefault(),this._waitRenderView(1*this._getRtlCorrection())},tab(){},enter:this._enterKeyHandler})}_enterKeyHandler(e){if(this._isMaxZoomLevel()){if(!this._view.isDateDisabled(this.option("currentDate"))){const t=this._updateTimeComponent(this.option("currentDate"));this._selectionStrategy.selectValue(t,e)}}else this._navigateDown()}_getSerializationFormat(e){const t=this.option(e||"value");return this.option("dateSerializationFormat")?this.option("dateSerializationFormat"):y(t)?"number":v(t)?Ho.getDateSerializationFormat(t):void 0}_convertToDate(e){return Ho.deserializeDate(e)}_dateValue(e,t){if(t){if("keydown"===t.type){const e=this._view._getContouredCell().get(0);t.target=e}this._saveValueChangeEvent(t)}this._dateOption("value",e)}_dateOption(e,t){const n="value"===e&&!this._isSingleMode(),i=this.option("value");if(1===arguments.length)return n?(i??[]).map(e=>this._convertToDate(e)):this._convertToDate(this.option(e));const r=this._getSerializationFormat(e),o=n?(null===t||void 0===t?void 0:t.map(e=>Ho.serializeDate(e,r)))||[]:Ho.serializeDate(t,r);this.option(e,o)}_isSingleMode(){const{selectionMode:e}=this.option();return"single"===e}_shiftDate(e,t,n,i){switch(e){case yO:t.setDate(t.getDate()+n*i);break;case bO:t.setMonth(t.getMonth()+n*i);break;case CO:t.setFullYear(t.getFullYear()+n*i);break;case xO:t.setFullYear(t.getFullYear()+10*n*i)}}_moveCurrentDateByOffset(e){const t=this.option("currentDate");let n=new Date(t);const i=this.option("zoomLevel");this._shiftDate(i,n,e,1);const r=this._getMaxDate(),o=this._getMinDate();let s=this._areDatesInNeighborView(i,n,t),a=zo(n,o,r)&&s;const l=new Date(n);for(;a;){if(!this._view.isDateDisabled(l)){n=l;break}this._shiftDate(i,l,e,1),s=this._areDatesInNeighborView(i,l,t),a=zo(l,o,r)&&s}if(this._view.isDateDisabled(t)||this._view.isDateDisabled(n)){const t=e>0?1:-1;(1===t?this._isNextViewDisabled():this._isPrevViewDisabled())?this._moveToClosestAvailableDate(n):this._waitRenderView(t)}else this._skipNavigate=!0,this.option("currentDate",n)}_isNextViewDisabled(){return this._navigator._nextButton.option("disabled")}_isPrevViewDisabled(){return this._navigator._prevButton.option("disabled")}_areDatesInSameView(e,t,n){switch(e){case yO:return t.getMonth()===n.getMonth();case bO:return t.getYear()===n.getYear();case CO:return parseInt(t.getYear()/10)===parseInt(n.getYear()/10);case xO:return parseInt(t.getYear()/100)===parseInt(n.getYear()/100)}}_areDatesInNeighborView(e,t,n){switch(e){case yO:return((e,t)=>{const n=Math.abs(e-t);return Math.min(n,12-n)})(t.getMonth(),n.getMonth())<=1;case bO:return Math.abs(t.getYear()-n.getYear())<=1;case CO:return Math.abs(t.getYear()-n.getYear())<=10;case xO:return Math.abs(t.getYear()-n.getYear())<=100}}_moveToClosestAvailableDate(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.option("currentDate"),t=new Date(e);const n=this.option("zoomLevel"),i=!this._isDateNotAvailable(t);let r,o,s=i,a=i;const l=new Date(t),c=new Date(t);do{if(s){t=l;break}if(a){t=c;break}this._shiftDate(n,l,1,1),this._shiftDate(n,c,1,-1),r=this._areDatesInSameView(n,l,e),o=this._areDatesInSameView(n,c,e),s=r&&!this._isDateNotAvailable(l),a=o&&!this._isDateNotAvailable(c)}while(r||o);this.option("currentDate",t)}_isDateNotAvailable(e){const t=this._getMaxDate(),n=this._getMinDate();return!zo(e,n,t)||this._view.isDateDisabled(e)}_init(){super._init(),this._activeStateUnit=".dx-calendar-cell",this._initSelectionStrategy(),this._correctZoomLevel(),this._initCurrentDate(),this._initActions()}_initSelectionStrategy(){const e=this._getSelectionStrategyName(),t=SO[e];this._selectionStrategy&&this._selectionStrategy.NAME===e||(this._selectionStrategy=new t(this))}_refreshSelectionStrategy(){this._initSelectionStrategy(),this._selectionStrategy.restoreValue(),this._refresh()}_getSelectionStrategyName(){const{selectionMode:e}=this.option();switch(e){case"multiple":return"MultipleSelection";case"range":return"RangeSelection";default:return"SingleSelection"}}_correctZoomLevel(){const{minZoomLevel:e,maxZoomLevel:t,zoomLevel:n}=this.option();vO[t]<vO[e]||(vO[n]>vO[t]?this.option("zoomLevel",t):vO[n]<vO[e]&&this.option("zoomLevel",e))}_initCurrentDate(){const e=this._getNormalizedDate(this._selectionStrategy.getDefaultCurrentDate())??this._getNormalizedDate(this.option("currentDate"));this.option("currentDate",e)}_getNormalizedDate(e){return e=xs.normalizeDate(e,this._getMinDate(),this._getMaxDate()),_(e)?this._getDate(e):e}_initActions(){this._cellClickAction=this._createActionByOption("onCellClick"),this._onContouredChanged=this._createActionByOption("onContouredChanged")}_initTemplates(){this._templateManager.addDefaultTemplates({cell:new Yu(e=>{const t=e.model;Si(e.container).append(Si("<span>").text(t&&t.text||String(t)))})}),super._initTemplates()}_updateCurrentDate(e){Dl.isAnimating(this._$viewsWrapper)&&Dl.stop(this._$viewsWrapper,!0);if(this._getMinDate()>this._getMaxDate())return void this.option("currentDate",new Date);const t=this._getNormalizedDate(e);if(e.getTime()!==t.getTime())return void this.option("currentDate",new Date(t));let n=this._getViewsOffset(this._view.option("date"),t);0!==n&&!this._isMaxZoomLevel()&&this._isOtherViewCellClicked&&(n=0),this._view&&0!==n&&!this._suppressNavigation?this._additionalView?n>2||n<-1?(this._refreshViews(),this._setViewContoured(t),this._updateAriaId(t),this._renderNavigator()):1===n&&this._skipNavigate?(this._setViewContoured(t),this._updateAriaId(t)):this._navigate(n,t):this._navigate(n,t):(this._renderNavigator(),this._setViewContoured(t),this._updateAriaId(t)),this._skipNavigate=!1}_isAdditionalViewDate(e){return!!this._additionalView&&e>=this._additionalView._getFirstAvailableDate()}_getActiveView(e){return this._isAdditionalViewDate(e)?this._additionalView:this._view}_setViewContoured(e){if(this.option("skipFocusCheck")||Si(this._$viewsWrapper).is(":focus")){var t;this._view.option("contouredDate",null),null===(t=this._additionalView)||void 0===t||t.option("contouredDate",null);(this._isAdditionalViewDate(e)?this._additionalView:this._view).option("contouredDate",e)}}_getMinDate(){const e=this.option("_rangeMin");return e||(this.min||(this.min=this._dateOption("min")||new Date(1e3,0)),this.min)}_getMaxDate(){const e=this.option("_rangeMax");return e||(this.max||(this.max=this._dateOption("max")||new Date(3e3,0)),this.max)}_getViewsOffset(e,t){const{zoomLevel:n}=this.option();if(n===yO)return this._getMonthsOffset(e,t);let i;switch(n){case xO:i=100;break;case CO:i=10;break;default:i=1}return parseInt(t.getFullYear()/i)-parseInt(e.getFullYear()/i)}_getMonthsOffset(e,t){return 12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth())}_waitRenderView(e){if(this._alreadyViewRender)return;this._alreadyViewRender=!0;const t=this._getDateByOffset(e*this._getRtlCorrection());this._moveToClosestAvailableDate(t),this._waitRenderViewTimeout=setTimeout(()=>{this._alreadyViewRender=!1})}_getRtlCorrection(){return this.option("rtlEnabled")?-1:1}_getDateByOffset(e,t){const n=(t=this._getDate(t??this.option("currentDate"))).getDate(),i=xs.getDifferenceInMonth(this.option("zoomLevel"))*e;t.setDate(1),t.setMonth(t.getMonth()+i);const r=xs.getLastMonthDate(t).getDate();return t.setDate(n>r?r:n),t}_focusTarget(){return this._$viewsWrapper}_focusEventTarget(){return this.$element()}_initMarkup(){this._renderSubmitElement();const e=this.$element();e.addClass("dx-calendar");const{selectionMode:t}=this.option();e.toggleClass("dx-calendar-range","range"===t),this._renderBody(),e.append(this.$body),this._renderViews(),this._renderNavigator(),super._initMarkup(),this._renderEvents(),e.prepend(this._navigator.$element()),this._renderSwipeable(),this._renderFooter(),this._selectionStrategy.updateAriaSelected(),this._updateAriaId(),this._updateNavigatorLabels(),this.setAria("role","application"),this._updateAriaLabelAndRole(),this._moveToClosestAvailableDate()}_render(){super._render(),this._setViewContoured(this.option("currentDate"))}_renderBody(){this._$viewsWrapper||(this.$body=Si("<div>").addClass("dx-calendar-body"),this._$viewsWrapper=Si("<div>").addClass("dx-calendar-views-wrapper"),this.$body.append(this._$viewsWrapper))}_updateAriaLabelAndRole(){const e=this.option("readOnly"),t=this.$element(),n={role:e?"group":void 0,label:e?mr.format("dxCalendar-readOnlyLabel"):void 0};this.setAria(n,t)}_setAriaReadonly(){}_getKeyboardListeners(){return super._getKeyboardListeners().concat([this._view])}_renderViews(){const{zoomLevel:e}=this.option();this.$element().addClass(`dx-calendar-view-${e}`);const{currentDate:t,viewsCount:n}=this.option();if(this.$element().toggleClass("dx-calendar-multiview",n>1),this._view=this._renderSpecificView(t),Ct()){const e=this._getDateByOffset(-1,t);this._beforeView=this._isViewAvailable(e)?this._renderSpecificView(e):null;const i=this._getDateByOffset(n,t);i.setDate(1),this._afterView=this._isViewAvailable(i)?this._renderSpecificView(i):null}n>1&&(this._additionalView=this._renderSpecificView(this._getDateByOffset(1,t))),this._translateViews()}_renderSpecificView(e){const{zoomLevel:t}=this.option(),n=_O[t],i=Si("<div>").appendTo(this._$viewsWrapper),r=this._viewConfig(e);return this._createComponent(i,n,r)}_viewConfig(e){let t=this.option("disabledDates");return t=g(t)?this._injectComponent(t.bind(this)):t,K({},this._selectionStrategy.getViewOptions(),{date:e,min:this._getMinDate(),max:this._getMaxDate(),firstDayOfWeek:this.option("firstDayOfWeek")??XD.firstDayOfWeekIndex(),showWeekNumbers:this.option("showWeekNumbers"),selectWeekOnClick:this.option("selectWeekOnClick"),weekNumberRule:this.option("weekNumberRule"),zoomLevel:this.option("zoomLevel"),tabIndex:void 0,focusStateEnabled:this.option("focusStateEnabled"),hoverStateEnabled:this.option("hoverStateEnabled"),disabledDates:t,onCellClick:this._cellClickHandler.bind(this),cellTemplate:this._getTemplateByOption("cellTemplate"),allowValueSelection:this._isMaxZoomLevel(),_todayDate:this.option("_todayDate")})}_renderEvents(){rn.off(this._$viewsWrapper,gO);const{selectionMode:e}=this.option();"range"===e&&rn.on(this._$viewsWrapper,gO,null,()=>{this._updateViewsOption("hoveredRange",[])})}_injectComponent(e){const t=this;return function(n){return A(n,{component:t}),e(n)}}_isViewAvailable(e){const t=this.option("zoomLevel"),n=xs.getViewMinBoundaryDate(t,this._getMinDate()),i=xs.getViewMaxBoundaryDate(t,this._getMaxDate());return xs.dateInRange(e,n,i)}_translateViews(){const{viewsCount:e}=this.option();wa(this._view.$element(),{left:0,top:0}),this._moveViewElement(this._beforeView,-1),this._moveViewElement(this._afterView,e),this._moveViewElement(this._additionalView,1)}_moveViewElement(e,t){e&&wa(e.$element(),{left:this._getViewPosition(t),top:0})}_getViewPosition(e){return 100*e*(this.option("rtlEnabled")?-1:1)+"%"}_cellClickHandler(e){const t=this.option("zoomLevel"),n=xs.getViewDown(t),i=this._isMaxZoomLevel();if(n&&!i)this._navigateDown(e.event.currentTarget);else{var r;const t=this._updateTimeComponent(e.value);this._selectionStrategy.selectValue(t,e.event),null===(r=this._cellClickAction)||void 0===r||r.call(this,e)}}_updateTimeComponent(e){const t=new Date(e),n=this._dateOption("value");return n&&this._isSingleMode()&&(t.setHours(n.getHours()),t.setMinutes(n.getMinutes()),t.setSeconds(n.getSeconds()),t.setMilliseconds(n.getMilliseconds())),t}_isMaxZoomLevel(){return this.option("zoomLevel")===this.option("maxZoomLevel")}_navigateDown(e){const t=this.option("zoomLevel");if(this._isMaxZoomLevel())return;const n=xs.getViewDown(t);if(!n)return;let i=this._view.option("contouredDate")||this._view.option("date");e&&(i=Si(e).data("dxDateValueKey")),this._isOtherViewCellClicked=!0,this.option("currentDate",i),this.option("zoomLevel",n),this._isOtherViewCellClicked=!1,this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate")))}_renderNavigator(){this._navigator||(this._navigator=new oO(Si("<div>"),this._navigatorConfig())),this._navigator.option("text",this._getViewsCaption(this._view,this._additionalView)),this._updateButtonsVisibility()}_navigatorConfig(){const{focusStateEnabled:e,rtlEnabled:t}=this.option();return{text:this._getViewsCaption(this._view,this._additionalView),onClick:this._navigatorClickHandler.bind(this),onCaptionClick:this._navigateUp.bind(this),focusStateEnabled:e,rtlEnabled:t,tabIndex:void 0}}_navigatorClickHandler(e){const{currentDate:t,viewsCount:n}=this.option();let i=e.direction;if(n>1){const e=this._isAdditionalViewDate(t);(e&&i<0||!e&&i>0)&&(i*=2)}const r=this._getDateByOffset(i,t);this._moveToClosestAvailableDate(r)}_navigateUp(){const e=this.option("zoomLevel"),t=xs.getViewUp(e);t&&!this._isMinZoomLevel(e)&&(this.option("zoomLevel",t),this._renderNavigator(),this._animateShowView(),this._moveToClosestAvailableDate(),this._setViewContoured(this._getNormalizedDate(this.option("currentDate"))))}_isMinZoomLevel(e){const t=this._getMinDate(),n=this._getMaxDate();return xs.sameView(e,t,n)||this.option("minZoomLevel")===e}_updateButtonsVisibility(){this._navigator.toggleButton("next",!_(this._afterView)),this._navigator.toggleButton("prev",!_(this._beforeView))}_renderSwipeable(){this._swipeable||(this._swipeable=this._createComponent(this.$element(),nO,{onStart:this._swipeStartHandler.bind(this),onUpdated:this._swipeUpdateHandler.bind(this),onEnd:this._swipeEndHandler.bind(this),itemSizeFunc:this._viewWidth.bind(this)}))}_swipeStartHandler(e){Dl.stop(this._$viewsWrapper,!0);const{viewsCount:t}=this.option();this._toggleGestureCoverCursor("grabbing"),e.event.maxLeftOffset=this._getRequiredView("next")?1/t:0,e.event.maxRightOffset=this._getRequiredView("prev")?1/t:0}_toggleGestureCoverCursor(e){Si(".dx-gesture-cover").css("cursor",e)}_getRequiredView(e){let t;const n=this.option("rtlEnabled");return"next"===e?t=n?this._beforeView:this._afterView:"prev"===e&&(t=n?this._afterView:this._beforeView),t}_swipeUpdateHandler(e){const{offset:t}=e.event;wa(this._$viewsWrapper,{left:t*this._viewWidth(),top:0}),this._updateNavigatorCaption(t)}_swipeEndHandler(e){this._toggleGestureCoverCursor("auto");const{currentDate:t,rtlEnabled:n}=this.option(),{targetOffset:i}=e.event,r=i?i/Math.abs(i):0,o=this._isAdditionalViewDate(t)&&(n?-1===r:1===r);if(0===r)return void this._animateWrapper(0,250);const s=-r*this._getRtlCorrection()*(o?2:1);let a=this._getDateByOffset(s);this._isDateInInvalidRange(a)&&(a=r>=0?new Date(this._getMinDate()):new Date(this._getMaxDate())),this.option("currentDate",a)}_viewWidth(){if(!this._viewWidthValue){const{viewsCount:e}=this.option();this._viewWidthValue=$n(this.$element())/e}return this._viewWidthValue}_updateNavigatorCaption(e){e*=this._getRtlCorrection();const{viewsCount:t}=this.option(),n=t>1;let i,r;e>.5&&this._beforeView?(i=this._beforeView,r=n&&this._view):e<-.5&&this._afterView?(i=n?this._additionalView:this._afterView,r=n?this._afterView:null):(i=this._view,r=n?this._additionalView:null),this._navigator.option("text",this._getViewsCaption(i,r))}_getViewsCaption(e,t){let n=e.getNavigatorCaption();const{viewsCount:i}=this.option();if(i>1&&t){n=`${n} - ${t.getNavigatorCaption()}`}return n}_isDateInInvalidRange(e){if(this._view.isBoundary(e))return;const t=this._getMinDate(),n=this._getMaxDate(),i=xs.normalizeDate(e,t,n);return i===t||i===n}_renderFooter(){const e=this.option("showTodayButton");if(e){const e=this._createComponent(Si("<div>"),g_,{focusStateEnabled:this.option("focusStateEnabled"),text:mr.format("dxCalendar-todayButtonText"),onClick:e=>{this._toTodayView(e)},type:ia()?"normal":"default",stylingMode:ia()?"outlined":"text",integrationOptions:{}}).$element().addClass("dx-calendar-today-button");this._$footer=Si("<div>").addClass("dx-calendar-footer").append(e),this.$element().append(this._$footer)}this.$element().toggleClass("dx-calendar-with-footer",e)}_renderSubmitElement(){this._$submitElement=Si("<input>").attr("type","hidden").appendTo(this.$element()),this._setSubmitValue(this.option("value"))}_setSubmitValue(e){const t=this._convertToDate(e);this._getSubmitElement().val(Ho.serializeDate(t,"yyyy-MM-dd"))}_getSubmitElement(){return this._$submitElement}_animateShowView(){Dl.stop(this._view.$element(),!0),this._popAnimationView(this._view,.6,1,250);const{viewsCount:e}=this.option();e>1&&(Dl.stop(this._additionalView.$element(),!0),this._popAnimationView(this._additionalView,.6,1,250))}_popAnimationView(e,t,n,i){return Dl.animate(e.$element(),{type:"pop",from:{scale:t,opacity:t},to:{scale:n,opacity:n},duration:i})}_navigate(e,t){if(0!==e&&1!==Math.abs(e)&&this._isViewAvailable(t)){const n=this._renderSpecificView(t);e>0?(this._afterView&&this._afterView.$element().remove(),this._afterView=n):(this._beforeView&&this._beforeView.$element().remove(),this._beforeView=n),this._translateViews()}const n=-this._getRtlCorrection()*(e>0?1:e<0?-1:0)*this._viewWidth();this._$viewsWrapper.position().left!==n&&(this._preventViewChangeAnimation?this._wrapperAnimationEndHandler(e,t):this._animateWrapper(n,250).done(this._wrapperAnimationEndHandler.bind(this,e,t)))}_animateWrapper(e,t){return Dl.animate(this._$viewsWrapper,{type:"slide",from:{left:this._$viewsWrapper.position().left},to:{left:e},duration:t})}_getDate(e){return new Date(e)}_toTodayView(e){const t=new Date;this._isMaxZoomLevel()?this._selectionStrategy.selectValue(t,e.event):(this._preventViewChangeAnimation=!0,this.option("zoomLevel",this.option("maxZoomLevel")),this._selectionStrategy.selectValue(t,e.event),this._animateShowView(),this._preventViewChangeAnimation=!1)}_wrapperAnimationEndHandler(e,t){this._rearrangeViews(e),this._translateViews(),this._resetLocation(),this._renderNavigator(),this._setViewContoured(t),this._updateAriaId(t),this._selectionStrategy.updateAriaSelected()}_rearrangeViews(e){var t;if(0===e)return;const{viewsCount:n}=this.option();let i,r,o,s,a;if(e<0?(i=1,r="_beforeView",o="_afterView",s="_view",a=1===n?"_view":"_additionalView"):(i=-1,r="_afterView",o="_beforeView",s=1===n?"_view":"_additionalView",a="_view"),!this[r])return;const l=this[r].option("date");null===(t=this[o])||void 0===t||t.$element().remove(),this[o]=this._renderSpecificView(this._getDateByOffset(i*n,l)),this[a].$element().remove(),1===n?this[a]=this[r]:(this[a]=this[s],this[s]=this[r]);const c=this._getDateByOffset(-i,l);this[r]=this._isViewAvailable(c)?this._renderSpecificView(c):null}_resetLocation(){wa(this._$viewsWrapper,{left:0,top:0})}_clean(){super._clean(),this._clearViewWidthCache(),delete this._$viewsWrapper,delete this._navigator,delete this._$footer}_clearViewWidthCache(){delete this._viewWidthValue}_disposeViews(){var e,t,n;this._view.$element().remove(),null===(e=this._beforeView)||void 0===e||e.$element().remove(),null===(t=this._additionalView)||void 0===t||t.$element().remove(),null===(n=this._afterView)||void 0===n||n.$element().remove(),delete this._view,delete this._additionalView,delete this._beforeView,delete this._afterView,delete this._skipNavigate}_dispose(){clearTimeout(this._waitRenderViewTimeout),super._dispose()}_refreshViews(){this._resetActiveState(),this._disposeViews(),this._renderViews()}_visibilityChanged(){this._translateViews()}_shouldSkipFocusEvent(e){const{target:t,relatedTarget:n}=e;return Si(t).parents(".dx-calendar").length&&Si(n).parents(".dx-calendar").length}_focusInHandler(e){Si(e.target).is(this._$viewsWrapper)&&this._setViewContoured(this.option("currentDate")),this._shouldSkipFocusEvent(e)||(super._focusInHandler.apply(this,arguments),this._toggleFocusClass(!0,this.$element()))}_focusOutHandler(e){var t;Si(e.target).is(this._$viewsWrapper)&&(this._view.option("contouredDate",null),null===(t=this._additionalView)||void 0===t||t.option("contouredDate",null));this._shouldSkipFocusEvent(e)||(super._focusOutHandler.apply(this,arguments),this._toggleFocusClass(!1,this.$element()))}_updateViewsOption(e,t){var n,i,r;this._view.option(e,t),null===(n=this._additionalView)||void 0===n||n.option(e,t),null===(i=this._beforeView)||void 0===i||i.option(e,t),null===(r=this._afterView)||void 0===r||r.option(e,t)}_setViewsMinOption(e){this._restoreViewsMinMaxOptions(),this.option("_rangeMin",this._convertToDate(e)),this._updateViewsOption("min",this._getMinDate())}_setViewsMaxOption(e){this._restoreViewsMinMaxOptions(),this.option("_rangeMax",this._convertToDate(e)),this._updateViewsOption("max",this._getMaxDate())}_restoreViewsMinMaxOptions(){this._resetActiveState(),this.option({_rangeMin:null,_rangeMax:null}),this._updateViewsOption("min",this._getMinDate()),this._updateViewsOption("max",this._getMaxDate())}_updateNavigatorLabels(){let{zoomLevel:e}=this.option();e=e.charAt(0).toUpperCase()+e.slice(1);const t=this._navigator._caption.option("text"),n=mr.format(`dxCalendar-previous${e}ButtonLabel`),i=mr.format(`dxCalendar-caption${e}Label`),r=mr.format(`dxCalendar-next${e}ButtonLabel`);this.setAria("label",n,this._navigator._prevButton.$element()),this.setAria("label",`${t}. ${i}`,this._navigator._caption.$element()),this.setAria("label",r,this._navigator._nextButton.$element())}_updateAriaSelected(e,t){t.forEach(e=>{this.setAria("selected",!1,this._view._getCellByDate(e))}),e.forEach(e=>{this.setAria("selected",!0,this._view._getCellByDate(e))});const{viewsCount:n}=this.option();n>1&&(t.forEach(e=>{this.setAria("selected",!1,this._additionalView._getCellByDate(e))}),e.forEach(e=>{this.setAria("selected",!0,this._additionalView._getCellByDate(e))}))}_updateAriaId(e){var t;e=e??this.option("currentDate");const n=`dx-${new ce}`,i=this._getActiveView(e)._getCellByDate(e);this.setAria("id",n,i),this.setAria("activedescendant",n),null===(t=this._onContouredChanged)||void 0===t||t.call(this,n)}_suppressingNavigation(e,t){this._suppressNavigation=!0,e.apply(this,t),delete this._suppressNavigation}_optionChanged(e){const{value:t,previousValue:n}=e;switch(e.name){case"width":super._optionChanged(e),this._clearViewWidthCache();break;case"min":case"max":this.min=void 0,this.max=void 0,this._suppressingNavigation(this._updateCurrentDate,[this.option("currentDate")]),this._refreshViews(),this._renderNavigator();break;case"selectionMode":this._refreshSelectionStrategy(),this._initCurrentDate();break;case"selectWeekOnClick":case"_todayDate":case"showWeekNumbers":case"weekNumberRule":this._refreshViews();break;case"firstDayOfWeek":this._refreshViews(),this._updateButtonsVisibility();break;case"focusStateEnabled":case"disabledDates":case"dateSerializationFormat":case"cellTemplate":case"showTodayButton":this._invalidate();break;case"currentDate":this.setAria("id",void 0,this._view._getCellByDate(n)),this._updateCurrentDate(t);break;case"zoomLevel":this.$element().removeClass(`dx-calendar-view-${n}`),this._correctZoomLevel(),this._refreshViews(),this._renderNavigator(),this._updateAriaId(),this._updateNavigatorLabels();break;case"minZoomLevel":case"maxZoomLevel":this._correctZoomLevel(),this._updateButtonsVisibility();break;case"value":xs.sameDatesArrays(t,n)||this._selectionStrategy.processValueChanged(t,n),this._setSubmitValue(t),super._optionChanged(e);break;case"viewsCount":this._refreshViews(),this._renderNavigator();break;case"onCellClick":this._view.option("onCellClick",t);break;case"onContouredChanged":this._onContouredChanged=this._createActionByOption("onContouredChanged");break;case"readOnly":super._optionChanged(e),this._updateAriaLabelAndRole();break;case"skipFocusCheck":break;default:super._optionChanged(e)}}getContouredDate(){const{contouredDate:e}=this._view.option();return e}}Mi("dxCalendar",wO);const EO=wO;class IO extends(ie.inherit({})){ctor(e){this.dateBox=e}widgetOption(e){var t;return null===(t=this._widget)||void 0===t?void 0:t.option.apply(this._widget,arguments)}_renderWidget(e){e=e||Si("<div>"),this._widget=this._createWidget(e),this._widget.$element().appendTo(this._getWidgetContainer())}_createWidget(e){const t=this._getWidgetName(),n=this._getWidgetOptions();return this.dateBox._createComponent(e,t,n)}_getWidgetOptions(){ie.abstract()}_getWidgetName(){ie.abstract()}getDefaultOptions(){return{mode:"text"}}getDisplayFormat(e){ie.abstract()}supportedKeys(){}getKeyboardListener(){}customizeButtons(){}getParsedText(e,t){return XD.parse(e,t)||XD.parse(e)}renderInputMinMax(){}renderOpenedState(){this._updateValue()}popupConfig(e){ie.abstract()}_dimensionChanged(){var e;null===(e=this._getPopup())||void 0===e||e.repaint()}renderPopupContent(){const e=this._getPopup();this._renderWidget();const t=e.$content().parent();rn.off(t,"mousedown"),rn.on(t,"mousedown",this._preventFocusOnPopup.bind(this))}_preventFocusOnPopup(e){e.preventDefault()}_getWidgetContainer(){return this._getPopup().$content()}_getPopup(){return this.dateBox._popup}popupShowingHandler(){}popupHiddenHandler(){}_updateValue(e){var t;null===(t=this._widget)||void 0===t||t.option("value",this.dateBoxValue())}useCurrentDateByDefault(){}getDefaultDate(){return new Date}textChangedHandler(){}renderValue(){this.dateBox.option("opened")&&this._updateValue()}getValue(){return this._widget.option("value")}isAdaptivityChanged(){return!1}dispose(){const e=this._getPopup();e&&e.$content().empty()}dateBoxValue(e,t){return arguments.length?this.dateBox.dateValue.apply(this.dateBox,arguments):this.dateBox.dateOption.apply(this.dateBox,["value"])}}const kO=IO;const DO=class extends kO{ctor(e){super.ctor(e),this.NAME="Calendar"}getDefaultOptions(){return K({},super.getDefaultOptions(),{todayButtonText:mr.format("dxCalendar-todayButtonText")})}supportedKeys(){const e=function(e){return!!this.option("opened")&&(e.preventDefault(),!0)};return{rightArrow(){if(this.option("opened"))return!0},leftArrow(){if(this.option("opened"))return!0},enter:function(e){if(this.dateBox.option("opened")){if(e.preventDefault(),this._widget.option("zoomLevel")===this._widget.option("maxZoomLevel")){const t=this._getContouredValue(),n=this._lastActionElement,i=this._closeDropDownByEnter();return i&&t&&"calendar"===n&&this.dateBoxValue(t,e),i&&this.dateBox.close(),this.dateBox._valueChangeEventHandler(e),!i}return!0}this.dateBox._valueChangeEventHandler(e)}.bind(this),home:e,end:e}}getDisplayFormat(e){return e||"shortdate"}_closeDropDownByEnter(){return!0}_getWidgetName(){return EO}_getContouredValue(){return this._widget._view.option("contouredDate")}getKeyboardListener(){return this._widget}_getWidgetOptions(){const e=this.dateBox.option("disabledDates");return A(this.dateBox.option("calendarOptions"),{value:this.dateBoxValue()||null,selectionMode:"single",dateSerializationFormat:null,min:this.dateBox.dateOption("min"),max:this.dateBox.dateOption("max"),onValueChanged:this._valueChangedHandler.bind(this),onCellClick:this._cellClickHandler.bind(this),disabledDates:g(e)?this._injectComponent(e.bind(this.dateBox)):e,onContouredChanged:this._refreshActiveDescendant.bind(this),skipFocusCheck:!0})}_injectComponent(e){const t=this;return function(n){return A(n,{component:t.dateBox}),e(n)}}_refreshActiveDescendant(e){this._lastActionElement="calendar",this.dateBox.setAria("activedescendant",e.actionValue)}_getTodayButtonConfig(){const e=this.dateBox.option("buttonsLocation"),t="default"===e?["bottom","center"]:Ye(e),n=na()?"text":"outlined";return{widget:"dxButton",toolbar:t[0],location:"after"===t[1]?"before":t[1],options:{onClick:e=>{this._widget._toTodayView(e)},text:this.dateBox.option("todayButtonText"),elementAttr:{class:"dx-button-today"},stylingMode:n}}}_isCalendarVisible(){const{calendarOptions:e}=this.dateBox.option();return C(e)||!1!==e.visible}_getPopupToolbarItems(e){if("useButtons"===this.dateBox.option("applyValueMode")&&this._isCalendarVisible()){return[this._getTodayButtonConfig(),...e]}return e}popupConfig(e){return A(!0,e,{position:{collision:"flipfit flip"},width:"auto"})}_valueChangedHandler(e){const{value:t}=e,n=e.previousValue;xs.sameDate(t,n)&&xs.sameHoursAndMinutes(t,n)||"instantly"===this.dateBox.option("applyValueMode")&&this.dateBoxValue(this.getValue(),e.event)}_updateValue(e){this._widget&&this._widget.option("value",this.dateBoxValue())}textChangedHandler(){this._lastActionElement="input",this.dateBox.option("opened")&&this._widget&&this._updateValue(!0)}_cellClickHandler(e){const{dateBox:t}=this;"instantly"===t.option("applyValueMode")&&(t.option("opened",!1),this.dateBoxValue(this.getValue(),e.event))}},OO={row:"minWidth",col:"minHeight"},TO={row:"maxWidth",col:"maxHeight"},AO={start:"flex-start",end:"flex-end",center:"center","space-between":"space-between","space-around":"space-around"},PO={start:"flex-start",end:"flex-end",center:"center",stretch:"stretch"},MO={row:"row",col:"column"},RO=(e,t,n)=>{if(n=ui(t,n),e.style[ai(t)]=n,!Ct()){if(""===n||!_(n))return;const i=Xn(t);di(e,`${i}: ${n};`,!1)}};class BO{constructor(e,t){this._$element=e,this._option=t}renderBox(){this._$element.css({display:`${li("flexDirection")}flex`}),RO(this._$element.get(0),"flexDirection",MO[this._option("direction")])}renderAlign(){this._$element.css({justifyContent:this._normalizedAlign()})}_normalizedAlign(){const e=this._option("align");return e in AO?AO[e]:e}renderCrossAlign(){this._$element.css({alignItems:this._normalizedCrossAlign()})}_normalizedCrossAlign(){const e=this._option("crossAlign");return e in PO?PO[e]:e}renderItems(e){const t=li("flexDirection"),n=this._option("direction");l(e,function(){const e=Si(this),i=e.data("dxBoxItemData");e.css({display:`${t}flex`}).css(TO[n],i.maxSize||"none").css(OO[n],i.minSize||"0"),RO(e.get(0),"flexBasis",i.baseSize||0),RO(e.get(0),"flexGrow",i.ratio),RO(e.get(0),"flexShrink",_(i.shrink)?i.shrink:1),e.children().each((e,t)=>{Si(t).css({width:"auto",height:"auto",display:`${li("flexDirection")}flex`,flexBasis:0}),RO(t,"flexGrow",1),RO(t,"flexDirection",Si(t)[0].style.flexDirection||"column")})})}}class NO extends TE{_getDefaultOptions(){return A(super._getDefaultOptions(),{direction:"row",align:"start",crossAlign:"stretch",activeStateEnabled:!1,focusStateEnabled:!1,onItemStateChanged:void 0,_queue:void 0})}_itemClass(){return"dx-box-item"}_itemDataKey(){return"dxBoxItemData"}_itemElements(){return this._itemContainer().children(this._itemSelector())}_init(){super._init(),this.$element().addClass("dx-box-flex"),this._initLayout(),this._initBoxQueue()}_initLayout(){this._layout=new BO(this.$element(),this.option.bind(this))}_initBoxQueue(){this._queue=this.option("_queue")||[]}_queueIsNotEmpty(){return!this.option("_queue")&&!!this._queue.length}_pushItemToQueue(e,t){this._queue.push({$item:e,config:t})}_shiftItemFromQueue(){return this._queue.shift()}_initMarkup(){this.$element().addClass("dx-box"),this._layout.renderBox(),super._initMarkup(),this._renderAlign(),this._renderActions()}_renderActions(){this._onItemStateChanged=this._createActionByOption("onItemStateChanged")}_renderAlign(){this._layout.renderAlign(),this._layout.renderCrossAlign()}_renderItems(e){for(super._renderItems(e);this._queueIsNotEmpty();){const e=this._shiftItemFromQueue();this._createComponent(e.$item,NO,A({itemTemplate:this.option("itemTemplate"),itemHoldTimeout:this.option("itemHoldTimeout"),onItemHold:this.option("onItemHold"),onItemClick:this.option("onItemClick"),onItemContextMenu:this.option("onItemContextMenu"),onItemRendered:this.option("onItemRendered"),_queue:this._queue},e.config))}this._layout.renderItems(this._itemElements())}_renderItemContent(e){const t=e.itemData&&e.itemData.node;return t?this._renderItemContentByNode(e,t):super._renderItemContent(e)}_postprocessRenderItem(e){const t=e.itemData.box;t&&this._pushItemToQueue(e.itemContent,t)}_createItemByTemplate(e,t){return t.itemData.box?e.source?e.source():Si():super._createItemByTemplate(e,t)}_itemOptionChanged(e,t,n,i){"visible"===t&&this._onItemStateChanged({name:t,state:n,oldState:!1!==i}),super._itemOptionChanged(e,t,n)}_optionChanged(e){switch(e.name){case"_queue":case"direction":this._invalidate();break;case"align":this._layout.renderAlign();break;case"crossAlign":this._layout.renderCrossAlign();break;default:super._optionChanged(e)}}_itemOptions(){const e=super._itemOptions();return e.fireItemStateChangedAction=e=>{this._onItemStateChanged(e)},e}}NO.ItemClass=class extends Fy{_renderVisible(e,t){super._renderVisible(e),_(t)&&this._options.fireItemStateChangedAction({name:"visible",state:e,oldState:t})}},Mi("dxBox",NO);const FO=NO,$O=xy,HO=A({},By,{_dataExpressionDefaultOptions:()=>({items:[],dataSource:null,itemTemplate:"item",value:null,valueExpr:"this",displayExpr:void 0}),_initDataExpressions(){this._compileValueGetter(),this._compileDisplayGetter(),this._initDynamicTemplates(),this._initDataSource(),this._itemsToDataSource()},_itemsToDataSource(){this.option("dataSource")||(this._dataSource=new $O({store:new Gv(this.option("items")),pageSize:0}),this._initDataController())},_compileDisplayGetter(){this._displayGetter=we(this._displayGetterExpr())},_displayGetterExpr(){return this.option("displayExpr")},_compileValueGetter(){this._valueGetter=we(this._valueGetterExpr())},_valueGetterExpr(){return this.option("valueExpr")||"this"},_loadValue(e){const t=Re();return e=this._unwrappedValue(e),_(e)?(this._loadSingle(this._valueGetterExpr(),e).done(n=>{this._isValueEquals(this._valueGetter(n),e)?t.resolve(n):t.reject()}).fail(()=>{t.reject()}),this._loadValueDeferred=t,t.promise()):t.reject().promise()},_rejectValueLoading(){var e;null===(e=this._loadValueDeferred)||void 0===e||e.reject({shouldSkipCallback:!0})},_getCurrentValue(){return this.option("value")},_unwrappedValue(e){return(e=e??this._getCurrentValue())&&this._dataSource&&"this"===this._valueGetterExpr()&&(e=this._getItemKey(e)),he.unwrap(e)},_getItemKey(e){const t=this._dataSource.key();if(Array.isArray(t)){const n={};for(let i=0,r=t.length;i<r;i++)n[t[i]]=e[t[i]];return n}return t&&"object"===typeof e&&(e=e[t]),e},_isValueEquals(e,t){const n=this._dataSource&&this._dataSource.key();let i=this._compareValues(e,t);return!i&&n&&_(e)&&_(t)&&(i=Array.isArray(n)?this._compareByCompositeKey(e,t,n):this._compareByKey(e,t,n)),i},_compareByCompositeKey(e,t,n){const i=b;if(!i(e)||!i(t))return!1;for(let r=0,o=n.length;r<o;r++)if(e[n[r]]!==t[n[r]])return!1;return!0},_compareByKey(e,t,n){const i=he.unwrap,r=Fe(i(e[n]),e),o=Fe(i(t[n]),t);return this._compareValues(r,o)},_compareValues:(e,t)=>Oe(e,!0)===Oe(t,!0),_initDynamicTemplates:tt,_setCollectionWidgetItemTemplate(){this._initDynamicTemplates(),this._setCollectionWidgetOption("itemTemplate",this.option("itemTemplate"))},_getCollectionKeyExpr(){const e=this.option("valueExpr");return v(e)&&"this"!==e||g(e)?e:null},_dataExpressionOptionChanged(e){switch(e.name){case"items":this._itemsToDataSource(),this._setCollectionWidgetOption("items");break;case"dataSource":this._initDataSource();break;case"itemTemplate":this._setCollectionWidgetItemTemplate();break;case"valueExpr":this._compileValueGetter();break;case"displayExpr":this._compileDisplayGetter(),this._initDynamicTemplates(),this._setCollectionWidgetOption("displayExpr")}}}),LO=HO,VO=St(),zO=["startswith","contains","endwith","notcontains"],jO="android"!==Is.real().platform;class WO extends xk{_supportedKeys(){const e=super._supportedKeys();return K({},e,{tab(t){if(this._allowSelectItemByTab()){this._saveValueChangeEvent(t);const e=Si(this._list.option("focusedElement"));e.length&&this._setSelectedElement(e)}e.tab(t)},space:tt,home:tt,end:tt})}_allowSelectItemByTab(){const{opened:e,applyValueMode:t}=this.option();return e&&"instantly"===t}_setSelectedElement(e){const t=this._valueGetter(this._list._getItemData(e));this._setValue(t)}_setValue(e){this.option("value",e)}_getDefaultOptions(){return K({},super._getDefaultOptions(),LO._dataExpressionDefaultOptions(),{displayValue:void 0,searchEnabled:!1,searchMode:"contains",searchTimeout:500,minSearchLength:0,searchExpr:null,valueChangeEvent:"input change keyup",selectedItem:null,noDataText:mr.format("dxCollectionWidget-noDataText"),encodeNoDataText:!1,onSelectionChanged:null,onItemClick:tt,showDataBeforeSearch:!1,grouped:!1,groupTemplate:"group",popupPosition:{my:"left top",at:"left bottom",offset:{h:0,v:0},collision:"flip"},wrapItemText:!1,useItemTextAsTitle:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:{platform:"ios"},options:{popupPosition:{offset:{v:-1}}}},{device:{platform:"generic"},options:{buttonsLocation:"bottom center"}}])}_setOptionsByReference(){super._setOptionsByReference(),A(this._optionsByReference,{value:!0,selectedItem:!0,displayValue:!0})}_init(){super._init(),this._initDataExpressions(),this._initActions(),this._setListDataSource(),this._validateSearchMode(),this._clearSelectedItem(),this._initItems()}_setListFocusedElementOptionChange(){this._list._updateParentActiveDescendant=this._updateActiveDescendant.bind(this)}_initItems(){const{items:e}=this.option();e&&!e.length&&this._dataSource&&(this.option().items=this._dataSource.items())}_initActions(){this._initContentReadyAction(),this._initSelectionChangedAction(),this._initItemClickAction()}_initContentReadyAction(){this._contentReadyAction=this._createActionByOption("onContentReady",{excludeValidators:["disabled","readOnly"]})}_initSelectionChangedAction(){this._selectionChangedAction=this._createActionByOption("onSelectionChanged",{excludeValidators:["disabled","readOnly"]})}_initItemClickAction(){this._itemClickAction=this._createActionByOption("onItemClick")}_initTemplates(){super._initTemplates(),this._templateManager.addDefaultTemplates({item:new Qu("item")})}_isEditable(){const{searchEnabled:e}=this.option();return super._isEditable()||e}_saveFocusOnWidget(){var e;null!==(e=this._list)&&void 0!==e&&e.initialOption("focusStateEnabled")&&this._focusInput()}_fitIntoRange(e,t,n){return e>n?t:e<t?n:e}_items(){const e=this._getPlainItems(!this._list&&this._dataSource.items());return new Uv(e).filter("disabled","<>",!0).toArray()}_calcNextItem(e){const t=this._items();return t[this._fitIntoRange(this._getSelectedIndex()+e,0,t.length-1)]}_getSelectedIndex(){const e=this._items(),t=this.option("selectedItem");let n=-1;return l(e,(e,i)=>{if(this._isValueEquals(i,t))return n=e,!1}),n}_createPopup(){super._createPopup(),this._updateCustomBoundaryContainer(),this._popup.$wrapper().addClass(this._popupWrapperClass());const e=this._popup.$content();rn.off(e,"mouseup"),rn.on(e,"mouseup",this._saveFocusOnWidget.bind(this))}_updateCustomBoundaryContainer(){const e=this.option("dropDownOptions.container"),t=e&&Si(e);if(t&&t.length&&!w(t.get(0))){const e=[].slice.call(t.parents());e.unshift(t.get(0)),l(e,(e,t)=>t!==Si("body").get(0)&&("hidden"===VO.getComputedStyle(t).overflowY?(this._$customBoundaryContainer=Si(t),!1):void 0))}}_popupWrapperClass(){return"dx-dropdownlist-popup-wrapper"}_renderInputValue(){var e=this;let{value:t,renderOnly:n}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=t??this._getCurrentValue();return this._rejectValueLoading(),n?super._renderInputValue(i):this._loadInputValue(i,function(){e._setSelectedItem(...arguments)}).always(super._renderInputValue.bind(this,i))}_loadInputValue(e,t){return this._loadItem(e).always(t)}_getItemFromPlain(e,t){let n,i;return t&&"object"!==typeof e&&(t.itemByValue||(t.itemByValue={},n=this._getPlainItems(),n.forEach(function(e){t.itemByValue[this._valueGetter(e)]=e},this)),i=t.itemByValue[e]),i||(n=this._getPlainItems(),i=it(n,t=>this._isValueEquals(this._valueGetter(t),e))[0]),i}_resetInputText(){this._renderInputValue({renderOnly:!0})}_loadItem(e,t){const n=this._getItemFromPlain(e,t);return void 0!==n?Re().resolve(n).promise():this._loadValue(e)}_getPlainItems(e){let t=[];const n=this._getGroupedOption();e=e||this.option("items")||this._dataSource.items()||[];for(let r=0;r<e.length;r++){var i;n&&null!==(i=e[r])&&void 0!==i&&i.items?t=t.concat(e[r].items):t.push(e[r])}return t}_updateActiveDescendant(e){var t;const n=this.option("opened"),i=null===(t=this._list)||void 0===t?void 0:t.getFocusedItemId(),r=Si(`#${i}`).length>0,o=n&&r&&i;this.setAria({activedescendant:o||null},e)}_setSelectedItem(e){const t=this._displayValue(e);this.option("selectedItem",Fe(e,null)),this.option("displayValue",t)}_displayValue(e){return this._displayGetter(e)}_refreshSelected(){const e={};this._listItemElements().each((t,n)=>{const i=Si(n),r=this._valueGetter(i.data("dxListItemData"));this._isSelectedValue(r,e)?this._list.selectItem(i):this._list.unselectItem(i)})}_popupShownHandler(){super._popupShownHandler(),this._setFocusPolicy()}_setFocusPolicy(){this.option("focusStateEnabled")&&this._list&&this._list.option("focusedElement",null)}_isSelectedValue(e,t){return this._isValueEquals(e,this.option("value"))}_validateSearchMode(){const e=this.option("searchMode"),t=e.toLowerCase();if(!zO.includes(t))throw Ps.Error("E1019",e)}_clearSelectedItem(){this.option("selectedItem",null)}_processDataSourceChanging(){this._initDataController(),this._setListOption("_dataController",this._dataController),this._setListDataSource(),this._renderInputValue().fail(()=>{this._isCustomValueAllowed()||this._clearSelectedItem()})}_isCustomValueAllowed(){return this.option("displayCustomValue")}clear(){super.clear(),this._clearFilter(),this._clearSelectedItem()}_listItemElements(){return this._$list?this._$list.find(".dx-list-item"):Si()}_popupConfig(){return K({},super._popupConfig(),{templatesRenderAsynchronously:!1,autoResizeEnabled:!1,maxHeight:this._getMaxHeight.bind(this)})}_renderPopupContent(){super._renderPopupContent(),this._renderList()}_getKeyboardListeners(){const e=this._canListHaveFocus();return super._getKeyboardListeners().concat([!e&&this._list])}_renderList(){this._listId=`dx-${(new ce)._value}`;const e=Si("<div>").attr("id",this._listId).appendTo(this._popup.$content());this._$list=e,this._list=this._createComponent(e,uS,this._listConfig()),this._refreshList(),this._renderPreventBlurOnListClick(),this._setListFocusedElementOptionChange()}_renderPreventBlurOnListClick(){const e=or("mousedown","dxDropDownList");rn.off(this._$list,e),rn.on(this._$list,e,e=>e.preventDefault())}_getControlsAria(){return this._list&&this._listId}_renderOpenedState(){super._renderOpenedState(),this._list&&this._updateActiveDescendant(),this.setAria("owns",this._popup&&this._popupContentId)}_getAriaHasPopup(){return"listbox"}_refreshList(){this._list&&this._shouldRefreshDataSource()&&this._setListDataSource()}_shouldRefreshDataSource(){return!!this._list.option("dataSource")!==this._needPassDataSourceToList()}_isDesktopDevice(){return"desktop"===Is.real().deviceType}_listConfig(){const e={selectionMode:"single",_templates:this.option("_templates"),templateProvider:this.option("templateProvider"),noDataText:this.option("noDataText"),encodeNoDataText:this.option("encodeNoDataText"),grouped:this.option("grouped"),wrapItemText:this.option("wrapItemText"),useItemTextAsTitle:this.option("useItemTextAsTitle"),onContentReady:this._listContentReadyHandler.bind(this),itemTemplate:this.option("itemTemplate"),indicateLoading:!1,keyExpr:this._getCollectionKeyExpr(),displayExpr:this._displayGetterExpr(),groupTemplate:this.option("groupTemplate"),onItemClick:this._listItemClickAction.bind(this),dataSource:this._getDataSource(),_dataController:this._dataController,hoverStateEnabled:!!this._isDesktopDevice()&&this.option("hoverStateEnabled"),focusStateEnabled:!!this._isDesktopDevice()&&this.option("focusStateEnabled"),_onItemsRendered:()=>{this._popup.repaint()}};return this._canListHaveFocus()||(e.tabIndex=null),e}_canListHaveFocus(){return!1}_getDataSource(){return this._needPassDataSourceToList()?this._dataSource:null}_dataSourceOptions(){return{paginate:!1}}_getGroupedOption(){return this.option("grouped")}_dataSourceFromUrlLoadMode(){return"raw"}_listContentReadyHandler(){this._list=this._list||this._$list.dxList("instance"),this.option("deferRendering")||this._refreshSelected(),this._updatePopupWidth(),this._updateListDimensions(),this._contentReadyAction()}_setListOption(e,t){this._setWidgetOption("_list",arguments)}_listItemClickAction(e){this._listItemClickHandler(e),this._itemClickAction(e)}_listItemClickHandler(e){}_setListDataSource(){this._list&&(this._setListOption("dataSource",this._getDataSource()),this._needPassDataSourceToList()||this._setListOption("items",[]))}_needPassDataSourceToList(){const{showDataBeforeSearch:e}=this.option();return e||this._isMinSearchLengthExceeded()}_isMinSearchLengthExceeded(){return this._searchValue().toString().length>=this.option("minSearchLength")}_needClearFilter(){return!this._canKeepDataSource()&&this._needPassDataSourceToList()}_canKeepDataSource(){const e=this._isMinSearchLengthExceeded();return this._dataController.isLoaded()&&this.option("showDataBeforeSearch")&&this.option("minSearchLength")&&!e&&!this._isLastMinSearchLengthExceeded}_searchValue(){return this._input().val()||""}_getSearchEvent(){return or("input",`${this.NAME}Search`)}_getCompositionStartEvent(){return or("compositionstart",`${this.NAME}CompositionStart`)}_getCompositionEndEvent(){return or("compositionend",`${this.NAME}CompositionEnd`)}_getSetFocusPolicyEvent(){return or("input",`${this.NAME}FocusPolicy`)}_renderEvents(){super._renderEvents(),rn.on(this._input(),this._getSetFocusPolicyEvent(),()=>{this._setFocusPolicy()}),this._shouldRenderSearchEvent()&&(rn.on(this._input(),this._getSearchEvent(),e=>{this._searchHandler(e)}),jO&&(rn.on(this._input(),this._getCompositionStartEvent(),()=>{this._isTextCompositionInProgress(!0)}),rn.on(this._input(),this._getCompositionEndEvent(),e=>{this._isTextCompositionInProgress(void 0),this._searchHandler(e,this._searchValue())})))}_shouldRenderSearchEvent(){return this.option("searchEnabled")}_refreshEvents(){rn.off(this._input(),this._getSearchEvent()),rn.off(this._input(),this._getSetFocusPolicyEvent()),jO&&(rn.off(this._input(),this._getCompositionStartEvent()),rn.off(this._input(),this._getCompositionEndEvent())),super._refreshEvents()}_isTextCompositionInProgress(e){if(!arguments.length)return this._isTextComposition;this._isTextComposition=e}_searchHandler(e,t){if(this._isTextCompositionInProgress())return;if(!this._isMinSearchLengthExceeded())return void this._searchCanceled();const{searchTimeout:n}=this.option();n?(this._clearSearchTimer(),this._searchTimer=setTimeout(()=>{this._searchDataSource(t)},n)):this._searchDataSource(t)}_searchCanceled(){this._clearSearchTimer(),this._needClearFilter()&&this._filterDataSource(null),this._refreshList()}_searchDataSource(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._searchValue();this._filterDataSource(e)}_filterDataSource(e){this._clearSearchTimer();const t=this._dataController;t.searchExpr(this.option("searchExpr")||this._displayGetterExpr()),t.searchOperation(this.option("searchMode")),t.searchValue(e),t.load().done(this._dataSourceFiltered.bind(this,e))}_clearFilter(){const e=this._dataController;e.searchValue()&&e.searchValue(null)}_dataSourceFiltered(e){this._isLastMinSearchLengthExceeded=this._isMinSearchLengthExceeded(),this._refreshList(),this._refreshPopupVisibility()}_shouldOpenPopup(){return this._hasItemsToShow()}_refreshPopupVisibility(){if(this.option("readOnly")||!this._searchValue())return;const e=this._shouldOpenPopup();e&&!this._isFocused()||(this.option("opened",e),e&&(this._updatePopupWidth(),this._updateListDimensions()))}_dataSourceChangedHandler(e){0===this._dataController.pageIndex()?this.option().items=e:this.option().items=this.option().items.concat(e)}_hasItemsToShow(){const e=(this._dataController.items()||[]).length;return!(!this._needPassDataSourceToList()||!e)}_clearSearchTimer(){clearTimeout(this._searchTimer),delete this._searchTimer}_popupShowingHandler(){this._updatePopupWidth(),this._updateListDimensions()}_dimensionChanged(){super._dimensionChanged(),this._updateListDimensions()}_needPopupRepaint(){const e=this._dataController,t=e.pageIndex(),n=_(this._pageIndex)&&t<=this._pageIndex||e.isLastPage()&&!this._list._scrollViewIsFull();return this._pageIndex=t,n}_updateListDimensions(){this._popup&&(this._needPopupRepaint()&&this._popup.repaint(),this._list&&this._list.updateDimensions())}_getMaxHeight(){const e=this.$element(),t=this._$customBoundaryContainer,n=e.offset().top-(t?t.offset().top:0),i=jn(VO),r=t?Math.min(jn(t),i):i,o=Math.max(n,r-n-jn(e));return Math.min(.5*r,o)}_clean(){this._list&&delete this._list,delete this._isLastMinSearchLengthExceeded,super._clean()}_dispose(){this._clearSearchTimer(),super._dispose()}_setCollectionWidgetOption(){this._setListOption.apply(this,arguments)}_setSubmitValue(){const e=this.option("value"),t=this._shouldUseDisplayValue(e)?this._displayGetter(e):e;this._getSubmitElement().val(t)}_shouldUseDisplayValue(e){return"this"===this.option("valueExpr")&&b(e)}_optionChanged(e){switch(this._dataExpressionOptionChanged(e),e.name){case"hoverStateEnabled":case"focusStateEnabled":this._isDesktopDevice()&&this._setListOption(e.name,e.value),super._optionChanged(e);break;case"items":this.option("dataSource")||this._processDataSourceChanging();break;case"dataSource":this._processDataSourceChanging();break;case"valueExpr":this._renderValue(),this._setListOption("keyExpr",this._getCollectionKeyExpr());break;case"displayExpr":this._renderValue(),this._setListOption("displayExpr",this._displayGetterExpr());break;case"searchMode":this._validateSearchMode();break;case"minSearchLength":this._refreshList();break;case"searchEnabled":case"showDataBeforeSearch":case"searchExpr":this._invalidate();break;case"onContentReady":this._initContentReadyAction();break;case"onSelectionChanged":this._initSelectionChangedAction();break;case"onItemClick":this._initItemClickAction();break;case"grouped":case"groupTemplate":case"wrapItemText":case"noDataText":case"encodeNoDataText":case"useItemTextAsTitle":this._setListOption(e.name);break;case"displayValue":this.option("text",e.value);break;case"itemTemplate":case"searchTimeout":break;case"selectedItem":e.previousValue!==e.value&&this._selectionChangedAction({selectedItem:e.value});break;default:super._optionChanged(e)}}}WO.include(LO,qx),Mi("dxDropDownList",WO);const KO=WO;class UO extends KO{_supportedKeys(){const e=this,t=super._supportedKeys(),n=function(e){this._isEditable()?this._valueSubstituted()&&(this._preventFiltering=!0):this.option("showClearButton")&&(e.preventDefault(),this.clear()),this._savedTextRemoveEvent=e,this._preventSubstitution=!0},i=function(){e.option("searchEnabled")&&e._valueSubstituted()&&e._searchHandler()};return K({},t,{tab(){const{opened:e}=this.option(),n=e&&!!this._popup.getFocusableElements().length;n||this._resetCaretPosition(!0),t.tab&&t.tab.apply(this,arguments),n||this._cancelSearchIfNeed()},upArrow(e){if(t.upArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(e),!0},downArrow(e){if(t.downArrow.apply(this,arguments))return this.option("opened")||this._setNextValue(e),!0},leftArrow(){var e;i(),null===(e=t.leftArrow)||void 0===e||e.apply(this,arguments)},rightArrow(){var e;i(),null===(e=t.rightArrow)||void 0===e||e.apply(this,arguments)},home(){var e;i(),null===(e=t.home)||void 0===e||e.apply(this,arguments)},end(){var e;i(),null===(e=t.end)||void 0===e||e.apply(this,arguments)},escape(){var e;const n=null===(e=t.escape)||void 0===e?void 0:e.apply(this,arguments);return this._cancelEditing(),n??!0},enter(e){const n=this.option("opened"),i=this._input().val().trim(),r=i&&this._list&&!this._list.option("focusedElement");if(!i&&_(this.option("value"))&&this.option("allowClearing"))this._saveValueChangeEvent(e),this.option({selectedItem:null,value:null}),this.close();else{var o;if(this.option("acceptCustomValue"))return e.preventDefault(),r&&(n&&this._toggleOpenState(),this._valueChangeEventHandler(e)),n;if(null!==(o=t.enter)&&void 0!==o&&o.apply(this,arguments))return n}},space(e){const t=this.option("opened"),n=this.option("searchEnabled"),i=this.option("acceptCustomValue");if(t&&!n&&!i)return e.preventDefault(),this._valueChangeEventHandler(e),!0},backspace:n,del:n})}_getDefaultOptions(){return K({},super._getDefaultOptions(),{placeholder:mr.format("Select"),fieldTemplate:null,customItemCreateEvent:"change",valueChangeEvent:"change",acceptCustomValue:!1,onCustomItemCreating(e){_(e.customItem)||(e.customItem=e.text)},showSelectionControls:!1,allowClearing:!0,tooltipEnabled:!1,openOnFieldClick:!0,showDropDownButton:!0,displayCustomValue:!1,useHiddenSubmitElement:!0})}_init(){super._init(),this._initCustomItemCreatingAction()}_initMarkup(){this.$element().addClass("dx-selectbox"),this._renderTooltip(),super._initMarkup(),this._$container.addClass("dx-selectbox-container")}_createPopup(){var e,t;super._createPopup(),null===(e=this._popup)||void 0===e||e.$element().addClass("dx-selectbox-popup"),null===(t=this._popup)||void 0===t||t.$overlayContent().attr("tabindex",-1)}_popupWrapperClass(){return`${super._popupWrapperClass()} dx-selectbox-popup-wrapper`}_setDeprecatedOptions(){super._setDeprecatedOptions(),A(this._deprecatedOptions,{valueChangeEvent:{since:"22.2",alias:"customItemCreateEvent"}})}_cancelEditing(){!this.option("searchEnabled")&&this._list&&(this._focusListElement(null),this._updateField(this.option("selectedItem")))}_renderOpenedState(){super._renderOpenedState(),this.option("opened")&&(this._scrollToSelectedItem(),this._focusSelectedElement())}_focusSelectedElement(){if(!this._searchValue())return void this._focusListElement(null);const{items:e,selectedItem:t}=this.option(),n=this._list._itemElements(),i=(null===e||void 0===e?void 0:e.indexOf(t))??-1,r=-1===i||this._isCustomItemSelected()?null:n.eq(i);this._focusListElement(r)}_renderFocusedElement(){if(!this._list)return;if(!this._searchValue()||this.option("acceptCustomValue"))return void this._focusListElement(null);const e=this._list._itemElements().not(".dx-state-disabled").eq(0);this._focusListElement(e)}_focusListElement(e){this._preventInputValueRender=!0,this._list.option("focusedElement",ma(e)),delete this._preventInputValueRender}_scrollToSelectedItem(){var e;null===(e=this._list)||void 0===e||e.scrollToItem(this._list.option("selectedItem"))}_listContentReadyHandler(){super._listContentReadyHandler();this._dataController.paginate()&&this._needPopupRepaint()||this._scrollToSelectedItem()}_renderValue(){return this._renderInputValue(),this._setSubmitValue(),Re().resolve()}_renderInputValue(){return super._renderInputValue(...arguments).always(()=>{this._renderInputValueAsync()})}_renderInputValueAsync(){this._renderTooltip(),this._renderInputValueImpl().always(()=>{this._refreshSelected()})}_renderInputValueImpl(){return this._renderField(),Re().resolve()}_setNextItem(e){const t=this._calcNextItem(e),n=this._valueGetter(t);this._setValue(n)}_setNextValue(e){(this._dataController.isLoaded()?Re().resolve():this._dataController.load()).done(()=>{const t=this._getSelectedIndex(),n=this._dataController.pageSize(),i=this._dataController.isLastPage(),r=t===this._items().length-1;this._saveValueChangeEvent(e);const o="downArrow"===ir(e)?1:-1;n&&!i&&r&&o>0?(this._popup||this._createPopup(),this._dataController.isLoading()||this._list._loadNextPage().done(this._setNextItem.bind(this,o))):this._setNextItem(o)})}_setSelectedItem(e){const t=!this._isCustomValueAllowed()&&void 0===e;super._setSelectedItem(t?null:e),t||this._isEditable()&&!this._isCustomItemSelected()||this._setListOption("selectedItem",this.option("selectedItem"))}_isCustomValueAllowed(){return this.option("acceptCustomValue")||super._isCustomValueAllowed()}_displayValue(e){return e=!_(e)&&this._isCustomValueAllowed()?this.option("value"):e,super._displayValue(e)}_listConfig(){const e=A(super._listConfig(),{pageLoadMode:"scrollBottom",onSelectionChanged:this._getSelectionChangeHandler(),selectedItem:this.option("selectedItem"),onFocusedItemChanged:this._listFocusedItemChangeHandler.bind(this),_onItemsRendered:()=>{this._popup.repaint(),this.option("opened")&&this._scrollToSelectedItem()}});return this.option("showSelectionControls")&&A(e,{showSelectionControls:!0,selectByClick:!0}),e}_listFocusedItemChangeHandler(e){if(this._preventInputValueRender)return;const t=e.component,n=Si(t.option("focusedElement")),i=t._getItemData(n);this._updateField(i)}_updateField(e){if(!this._getTemplateByOption("fieldTemplate")||!this.option("fieldTemplate")){const t=this._displayGetter(e);return this.option("text",t),void this._renderDisplayText(t)}this._renderField()}_getSelectionChangeHandler(){return this.option("showSelectionControls")?this._selectionChangeHandler.bind(this):tt}_selectionChangeHandler(e){l(e.addedItems||[],(e,t)=>{this._setValue(this._valueGetter(t))})}_getActualSearchValue(){return this._dataController.searchValue()}_isInlineAutocompleteEnabled(){const{searchEnabled:e,acceptCustomValue:t,searchMode:n}=this.option();return e&&!t&&"startswith"===n}_getAriaAutocomplete(){const{disabled:e,readOnly:t,searchEnabled:n}=this.option();if(!(n&&!(t||e)))return"none";return this._isInlineAutocompleteEnabled()?"both":"list"}_toggleOpenState(e){if(!this.option("disabled")){if((e=arguments.length?e:!this.option("opened"))||this._shouldClearFilter()||this._restoreInputText(!0),this._wasSearch()&&e){this._wasSearch(!1);if((this.option("showDataBeforeSearch")||this._isMinSearchLengthExceeded())&&this._dataController.getDataSource()){if(this._searchTimer)return;const e=this._getActualSearchValue();e&&this._wasSearch(!0),this._filterDataSource(e||null)}else this._setListOption("items",[])}e&&this._scrollToSelectedItem(),super._toggleOpenState(e)}}_renderTooltip(){const{tooltipEnabled:e,displayValue:t}=this.option();e&&this.$element().attr("title",t)}_renderDimensions(){super._renderDimensions(),this._updatePopupWidth(),this._updateListDimensions()}_isValueEqualInputText(){const e=this.option("selectedItem");if(null===e)return!1;const t=this._displayGetter(e);return(t?String(t):"")===this._searchValue()}_popupHidingHandler(){this._isValueEqualInputText()&&this._cancelEditing(),super._popupHidingHandler()}_popupHiddenHandler(){super._popupHiddenHandler(),this._shouldCancelSearch()&&(this._wasSearch(!1),this._searchCanceled(),this._shouldCancelSearch(!1))}_restoreInputText(e){var t;this.option("readOnly")||null===(t=this._loadItemDeferred)||void 0===t||t.always(()=>{const{acceptCustomValue:t,text:n,selectedItem:i,customItemCreateEvent:r}=this.option();if(t){if(!e&&!this._isValueChanging){let e=null;_(i)?e=i:""!==r&&(e=this._createCustomItem(n)),this._updateField(e),this._clearFilter()}}else this.option("searchEnabled")&&!this._searchValue()&&this.option("allowClearing")?this._clearTextValue():this._isValueEqualInputText()||this._renderInputValue().always(e=>{const t=Fe(e,i);this._setSelectedItem(t),this._updateField(t),this._clearFilter()})})}_valueChangeEventIncludesBlur(){return this.option(this._getValueChangeEventOptionName()).includes("blur")}_isPreventedFocusOutEvent(e){return this._preventNestedFocusEvent(e)||this._valueChangeEventIncludesBlur()}_focusOutHandler(e){if(!this._isPreventedFocusOutEvent(e)){this._isOverlayNestedTarget(e.relatedTarget)||(this._restoreInputText(),this._clearSearchTimer()),this._cancelSearchIfNeed(e)}e.target=this._input().get(0),super._focusOutHandler(e)}_cancelSearchIfNeed(e){const{searchEnabled:t}=this.option(),n=this._isOverlayNestedTarget(null===e||void 0===e?void 0:e.relatedTarget);if(this._wasSearch()&&t&&!n){var i;const e=null===(i=this._popup)||void 0===i?void 0:i._hideAnimationProcessing;this._clearSearchTimer(),e?this._shouldCancelSearch(!0):(this._wasSearch(!1),this._searchCanceled())}}_shouldCancelSearch(e){if(!arguments.length)return this._shouldCancelSearchValue;this._shouldCancelSearchValue=e}_isOverlayNestedTarget(e){return!!Si(e).closest(".dx-selectbox-popup-wrapper").length}_clearTextValue(){const e=this.option("selectedItem"),t=this._displayGetter(e);e&&""!==t&&(this._savedTextRemoveEvent&&this._saveValueChangeEvent(this._savedTextRemoveEvent),this.option("value",null)),delete this._savedTextRemoveEvent}_shouldOpenPopup(){return this._needPassDataSourceToList()&&this._wasSearch()}_isFocused(){const e=mt.getActiveElement(this.element());return super._isFocused()&&Si(e).closest(this._input()).length>0}_getValueChangeEventOptionName(){return"customItemCreateEvent"}_renderValueChangeEvent(){this._isEditable()&&super._renderValueChangeEvent()}_fieldRenderData(){const{focusedElement:e}=this.option(),t=this._list&&this.option("opened")&&Si(e);return null!==t&&void 0!==t&&t.length?this._list._getItemData(t):this.option("selectedItem")}_isSelectedValue(e,t){return this._isValueEquals(e,this.option("value"))}_shouldCloseOnItemClick(){const{selectionMode:e}=this.option();return!(this.option("showSelectionControls")&&"single"!==e)}_listItemClickHandler(e){const t=this._getCurrentValue();this._focusListElement(Si(e.itemElement)),this._saveValueChangeEvent(e.event),this._completeSelection(this._valueGetter(e.itemData)),this._shouldCloseOnItemClick()&&this.option("opened",!1),this.option("searchEnabled")&&t===this._valueGetter(e.itemData)&&this._updateField(e.itemData),this._shouldClearFilter()&&this._cancelSearchIfNeed()}_shouldClearFilter(){return this._wasSearch()}_completeSelection(e){this._setValue(e)}_loadItem(e,t){const n=this,i=Re();return super._loadItem(e,t).done(e=>{i.resolve(e)}).fail(t=>{if(null!==t&&void 0!==t&&t.shouldSkipCallback)return;const r=n.option("selectedItem");n.option("acceptCustomValue")&&e===n._valueGetter(r)?i.resolve(r):i.reject()}),i.promise()}_loadInputValue(e,t){return this._loadItemDeferred=this._loadItem(e).always(t),this._loadItemDeferred}_isCustomItemSelected(){const e=this.option("selectedItem"),t=this._searchValue(),n=this._displayGetter(e);return!n||t!==n.toString()}_valueChangeEventHandler(e){this.option("acceptCustomValue")&&this._isCustomItemSelected()&&!this._isValueChanging&&(this._isValueChanging=!0,this._customItemAddedHandler(e))}_initCustomItemCreatingAction(){this._customItemCreatingAction=this._createActionByOption("onCustomItemCreating")}_createCustomItem(e){const t={text:e},n=this._customItemCreatingAction(t),i=Fe(n,t.customItem);return _(n)&&W.log("W0015","onCustomItemCreating","customItem"),i}_customItemAddedHandler(e){const t=this._searchValue(),n=this._createCustomItem(t);if(this._saveValueChangeEvent(e),void 0===n)throw this._renderValue(),W.Error("E0121");I(n)?Pe(n).done(this._setCustomItem.bind(this)).fail(this._setCustomItem.bind(this,null)):this._setCustomItem(n)}_setCustomItem(e){this._disposed||(e=e||null,this.option("selectedItem",e),this._cancelSearchIfNeed(),this._setValue(this._valueGetter(e)),this._renderDisplayText(this._displayGetter(e)),this._isValueChanging=!1)}_clearValueHandler(e){return this._preventFiltering=!0,super._clearValueHandler(e),this._searchCanceled(),!1}_wasSearch(e){if(!arguments.length)return!!this._wasSearchValue;this._wasSearchValue=e}_searchHandler(e){this._preventFiltering?delete this._preventFiltering:(this._needPassDataSourceToList()&&this._wasSearch(!0),super._searchHandler(arguments))}_dataSourceFiltered(e){super._dataSourceFiltered(),null!==e&&(this._renderInputSubstitution(),this._renderFocusedElement())}_valueSubstituted(){const e=this._input().get(0),t=this._searchValue().length,n=0===e.selectionStart&&e.selectionEnd===t,i=e.selectionStart!==e.selectionEnd,r=t===e.selectionEnd;return this._wasSearch()&&i&&!n&&r&&this._shouldSubstitutionBeRendered()}_shouldSubstitutionBeRendered(){return!this._preventSubstitution&&this._isInlineAutocompleteEnabled()}_renderInputSubstitution(){if(!this._shouldSubstitutionBeRendered())return void delete this._preventSubstitution;const e=this._list&&this._getPlainItems(this._list.option("items"))[0];if(!e)return;const t=this._input(),n=t.val().length;if(0===n)return;const i=t.get(0),r=this._displayGetter(e).toString();i.value=r,this._caret({start:n,end:r.length})}_dispose(){this._renderInputValueAsync=tt,delete this._loadItemDeferred,super._dispose()}_optionChanged(e){switch(e.name){case"customItemCreateEvent":this._refreshValueChangeEvent(),this._refreshFocusEvent(),this._refreshEvents();break;case"onCustomItemCreating":this._initCustomItemCreatingAction();break;case"tooltipEnabled":this._renderTooltip();break;case"readOnly":case"disabled":case"searchMode":super._optionChanged(e),this._setDefaultAria();break;case"displayCustomValue":case"acceptCustomValue":case"showSelectionControls":this._invalidate();break;case"allowClearing":break;default:super._optionChanged(e)}}}Mi("dxSelectBox",UO);const qO=UO,GO=["year","day","month","day"],ZO=["hours","minutes","seconds","milliseconds"],YO={SUPPORTED_FORMATS:["date","time","datetime"],ONE_MINUTE:6e4,ONE_DAY:864e5,ONE_YEAR:31536e6,MIN_DATEVIEW_DEFAULT_DATE:new Date(1900,0,1),MAX_DATEVIEW_DEFAULT_DATE:function(){const e=new Date;return new Date(e.getFullYear()+50,e.getMonth(),e.getDate(),23,59,59)}(),FORMATS_INFO:{date:{getStandardPattern:()=>"yyyy-MM-dd",components:GO},time:{getStandardPattern:()=>"HH:mm",components:ZO},datetime:{getStandardPattern(){let e;return function(){const t=Si("<input>").attr("type","datetime");t.val("2000-01-01T01:01Z"),t.val()&&(e="yyyy-MM-ddTHH:mmZ")}(),e||(e="yyyy-MM-ddTHH:mm:ssZ"),YO.FORMATS_INFO.datetime.getStandardPattern=function(){return e},e},components:[...GO,...ZO]},"datetime-local":{getStandardPattern:()=>"yyyy-MM-ddTHH:mm:ss",components:[...GO,"hours","minutes","seconds"]}},FORMATS_MAP:{date:"shortdate",time:"shorttime",datetime:"shortdateshorttime"},SUBMIT_FORMATS_MAP:{date:"date",time:"time",datetime:"datetime-local"},toStandardDateFormat(e,t){const n=YO.FORMATS_INFO[t].getStandardPattern();return Ho.serializeDate(e,n)},fromStandardDateFormat(e){const t=Ho.dateParser(e);return m(t)?t:void 0},getMaxMonthDay:(e,t)=>new Date(e,t+1,0).getDate(),mergeDates(e,t,n){if(!t)return t||null;if(!e||isNaN(e.getTime())){const t=new Date(null);e=new Date(t.getFullYear(),t.getMonth(),t.getDate())}const i=new Date(e.valueOf()),r=YO.FORMATS_INFO[n];return l(r.components,function(){const e=YO.DATE_COMPONENTS_INFO[this];i[e.setter](t[e.getter]())}),i},getLongestCaptionIndex(e){let t,n=0,i=0;for(t=0;t<e.length;++t)e[t].length>i&&(n=t,i=e[t].length);return n},formatUsesMonthName:e=>XD.formatUsesMonthName(e),formatUsesDayName:e=>XD.formatUsesDayName(e),getLongestDate(e,t,n){const i=function(e){const t=typeof e;return"string"===t?"format":"object"===t&&void 0!==e.type?e.type:null}(e);let r=9;i&&!YO.formatUsesMonthName(i)||(r=YO.getLongestCaptionIndex(t));const o=new Date(1888,r,21,23,59,59,999);if(!i||YO.formatUsesDayName(i)){const e=o.getDate()-o.getDay()+YO.getLongestCaptionIndex(n);o.setDate(e)}return o},normalizeTime(e){e.setSeconds(0),e.setMilliseconds(0)}};YO.DATE_COMPONENTS_INFO={year:{getter:"getFullYear",setter:"setFullYear",formatter(e,t){const n=new Date(t.getTime());return n.setFullYear(e),XD.format(n,"yyyy")},startValue:void 0,endValue:void 0},day:{getter:"getDate",setter:"setDate",formatter(e,t){const n=new Date(t.getTime());return n.setDate(e),XD.format(n,"d")},startValue:1,endValue:void 0},month:{getter:"getMonth",setter:"setMonth",formatter:e=>XD.getMonthNames()[e],startValue:0,endValue:11},hours:{getter:"getHours",setter:"setHours",formatter:e=>XD.format(new Date(0,0,0,e),"hour"),startValue:0,endValue:23},minutes:{getter:"getMinutes",setter:"setMinutes",formatter:e=>XD.format(new Date(0,0,0,0,e),"minute"),startValue:0,endValue:59},seconds:{getter:"getSeconds",setter:"setSeconds",formatter:e=>XD.format(new Date(0,0,0,0,0,e),"second"),startValue:0,endValue:59},milliseconds:{getter:"getMilliseconds",setter:"setMilliseconds",formatter:e=>XD.format(new Date(0,0,0,0,0,0,e),"millisecond"),startValue:0,endValue:999}};const QO=YO,XO=function(e,t,n){JO(e,t,n)},JO=function(e,t,n){e.css("transform",`rotate(${t}deg) translate(0,${n}px)`)};class eT extends Kh{_getDefaultOptions(){return K({},super._getDefaultOptions(),{value:new Date(Date.now()),use24HourFormat:!0,_showClock:!0,_arrowOffset:5})}_getValue(){const{value:e}=this.option();return e||new Date}_init(){super._init(),this.$element().addClass("dx-timeview")}_render(){super._render(),this._renderBox(),this._updateTime()}_renderBox(){const e=Si("<div>").appendTo(this.$element()),t=[];this.option("_showClock")&&t.push({ratio:1,shrink:0,baseSize:"auto",template:this._renderClock.bind(this)}),t.push({ratio:0,shrink:0,baseSize:"auto",template:this._renderField.bind(this)}),this._createComponent(e,FO,{height:"100%",width:"100%",direction:"col",items:t})}_renderClock(e,t,n){this._$hourArrow=Si("<div>").addClass("dx-timeview-hourarrow"),this._$minuteArrow=Si("<div>").addClass("dx-timeview-minutearrow");const i=Si(n);i.addClass("dx-timeview-clock").append(this._$hourArrow).append(this._$minuteArrow),this.setAria("role","presentation",i)}_updateClock(){const e=this._getValue(),t=e.getHours()/12*360+e.getMinutes()/60*30,n=e.getMinutes()/60*360;XO(this._$hourArrow,t,this.option("_arrowOffset")),XO(this._$minuteArrow,n,this.option("_arrowOffset"))}_getBoxItems(e){const t=[{ratio:0,shrink:0,baseSize:"auto",template:()=>this._hourBox.$element()},{ratio:0,shrink:0,baseSize:"auto",template:Si("<div>").addClass("dx-timeview-time-separator").text(XD.getTimeSeparator())},{ratio:0,shrink:0,baseSize:"auto",template:()=>this._minuteBox.$element()}];return e&&t.push({ratio:0,shrink:0,baseSize:"auto",template:()=>this._format12.$element()}),t}_renderField(){const e=!this.option("use24HourFormat");return this._createHourBox(e),this._createMinuteBox(),e&&this._createFormat12Box(),this._createComponent(Si("<div>").addClass("dx-timeview-field"),FO,{direction:"row",align:"center",crossAlign:"center",items:this._getBoxItems(e)}).$element()}_createHourBox(e){this._hourBox=this._createComponent(Si("<div>"),jk,K({min:-1,max:e?13:24,value:this._getValue().getHours(),onValueChanged:this._onHourBoxValueChanged.bind(this),onKeyboardHandled:e=>this._keyboardHandler(e)},this._getNumberBoxConfig())),this._hourBox.setAria("label","hours")}_isPM(){return!this.option("use24HourFormat")&&1===this._format12.option("value")}_onHourBoxValueChanged(e){let{value:t,component:n}=e;const i=this._getValue(),r=new Date(i);let o=this._convertMaxHourToMin(t);n.option("value",o),this._isPM()&&(o+=12),r.setHours(o),QO.normalizeTime(r),this.option("value",r)}_convertMaxHourToMin(e){const t=this.option("use24HourFormat")?24:12;return(t+e)%t}_createMinuteBox(){this._minuteBox=this._createComponent(Si("<div>"),jk,K({min:-1,max:60,value:this._getValue().getMinutes(),onKeyboardHandled:e=>this._keyboardHandler(e),onValueChanged:e=>{let{value:t,component:n}=e;const i=(60+t)%60;n.option("value",i);const r=new Date(this._getValue());r.setMinutes(i),QO.normalizeTime(r),this.option("value",r)}},this._getNumberBoxConfig())),this._minuteBox.setAria("label","minutes")}_createFormat12Box(){const e=XD.getPeriodNames();this._format12=this._createComponent(Si("<div>").addClass("dx-timeview-format12"),qO,{items:[{value:-1,text:e[0]},{value:1,text:e[1]}],valueExpr:"value",displayExpr:"text",onKeyboardHandled:e=>this._keyboardHandler(e),onValueChanged:e=>{let{value:t}=e;const n=this._getValue().getHours(),i=new Date(this._getValue()),r=(n+12*t)%24;i.setHours(r),this.option("value",i)},value:this._getValue().getHours()>=12?1:-1,stylingMode:this.option("stylingMode")}),this._format12.setAria("label","type")}_refreshFormat12(){if(this.option("use24HourFormat"))return;const e=this._getValue().getHours()>=12?1:-1;this._silentEditorValueUpdate(this._format12,e)}_silentEditorValueUpdate(e,t){e&&(e._suppressValueChangeAction(),e.option("value",t),e._resumeValueChangeAction())}_getNumberBoxConfig(){const{stylingMode:e}=this.option();return{showSpinButtons:!0,displayValueFormatter:e=>(e<10?"0":"")+e,stylingMode:e}}_normalizeHours(e){return this.option("use24HourFormat")?e:e%12||12}_updateField(){const e=this._normalizeHours(this._getValue().getHours());this._silentEditorValueUpdate(this._hourBox,e),this._silentEditorValueUpdate(this._minuteBox,this._getValue().getMinutes()),this._refreshFormat12()}_updateTime(){this.option("_showClock")&&this._updateClock(),this._updateField()}_visibilityChanged(e){e&&this._updateTime()}_optionChanged(e){switch(e.name){case"value":this._updateTime(),super._optionChanged(e);break;case"_arrowOffset":break;case"use24HourFormat":case"_showClock":case"stylingMode":this._invalidate();break;default:super._optionChanged(e)}}}Mi("dxTimeView",eT);const tT=eT,nT=St(),iT="dx-datebox-datetime-time-side";const rT=class extends DO{ctor(e){super.ctor(e),this.NAME="CalendarWithTime"}getDefaultOptions(){return K({},super.getDefaultOptions(),{applyValueMode:"useButtons",buttonsLocation:"bottom after","dropDownOptions.showTitle":!1})}_closeDropDownByEnter(){return xs.sameDate(this._getContouredValue(),this.widgetOption("value"))}getDisplayFormat(e){return e||"shortdateshorttime"}_is24HourFormat(){return XD.is24HourFormat(this.getDisplayFormat(this.dateBox.option("displayFormat")))}_getContouredValue(){const e=super._getContouredValue();return this._updateDateTime(e)}_renderWidget(){super._renderWidget(),this._timeView=this.dateBox._createComponent(Si("<div>"),tT,{value:this.dateBoxValue(),_showClock:!this._isShrinkView(),use24HourFormat:this._is24HourFormat(),onValueChanged:this._valueChangedHandler.bind(this),stylingMode:this.dateBox.option("stylingMode")})}renderOpenedState(){super.renderOpenedState();const e=this._getPopup();e&&e.$wrapper().toggleClass("dx-datebox-adaptivity-mode",this._isSmallScreen()),clearTimeout(this._repaintTimer),this._repaintTimer=setTimeout(()=>{var e;null===(e=this._getPopup())||void 0===e||e.repaint()},0)}isAdaptivityChanged(){const e=this._isShrinkView(),t=this._currentAdaptiveMode;return e!==t?(this._currentAdaptiveMode=e,void 0!==t):super.isAdaptivityChanged()}_updateValue(e){let t=this.dateBoxValue();t||e||(t=new Date,QO.normalizeTime(t)),super._updateValue(),this._timeView&&(t&&this._timeView.option("value",t),this._timeView.option("use24HourFormat",this._is24HourFormat()))}_isSmallScreen(){return $n(nT)<=573}_isShrinkView(){return!this.dateBox.option("showAnalogClock")||this.dateBox.option("adaptivityEnabled")&&this._isSmallScreen()}_getBoxItems(){const e=[{ratio:0,shrink:0,baseSize:"auto",name:"calendar"}];return this._isShrinkView()||e.push({ratio:0,shrink:0,baseSize:"auto",name:"time"}),e}renderPopupContent(){super.renderPopupContent(),this._currentAdaptiveMode=this._isShrinkView();const e=this._getPopup().$content();this._box=this.dateBox._createComponent(Si("<div>").appendTo(e),FO,{direction:"row",crossAlign:"stretch",items:this._getBoxItems(),itemTemplate:function(e,t,n){const i=Si("<div>");switch(e.name){case"calendar":i.append(this._widget.$element()),this._isShrinkView()&&(this._timeView.$element().addClass(iT),i.append(this._timeView.$element()));break;case"time":i.append(this._timeView.$element()),Si(n).addClass(iT)}return i}.bind(this)})}popupConfig(e){const t=super.popupConfig(e);return A(t,{width:"auto"})}_preventFocusOnPopup(e){Si(e.target).hasClass("dx-texteditor-input")||(super._preventFocusOnPopup.apply(this,arguments),this.dateBox._hasFocusClass()||this.dateBox.focus())}_updateDateTime(e){const{value:t}=this._timeView.option();return e.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),e}getValue(){let e=this._widget.option("value")??this._widget.getContouredDate();return e=e?new Date(e):new Date,this._updateDateTime(e)}dispose(){clearTimeout(this._removeMinWidthTimer),clearTimeout(this._repaintTimer),super.dispose()}};class oT{constructor(e){this.DIRECTION_HORIZONTAL="horizontal",this.DIRECTION_VERTICAL="vertical",this.DIRECTION_BOTH="both",this.direction=e??ub}get isHorizontal(){return this.direction===db||this.direction===hb}get isVertical(){return this.direction===ub||this.direction===hb}get isBoth(){return this.direction===hb}}class sT extends iC{_getDefaultOptions(){return K({},super._getDefaultOptions(),{showScrollbar:"never",useNative:!1,selectedIndex:0,bounceEnabled:!1,items:[],showOnClick:!1,onClick:null,onSelectedIndexChanged:null,scrollByContent:!0})}_init(){super._init(),this.option("onVisibilityChange",this._visibilityChangedHandler.bind(this)),this.option("onEnd",this._endActionHandler.bind(this))}_render(){super._render(),this._renderSelectedItemFrame(),this.$element().addClass("dx-dateviewroller"),this._renderContainerClick(),this._renderItems(),this._renderSelectedValue(),this._renderItemsClick(),this._renderWheelEvent(),this._renderSelectedIndexChanged()}_renderSelectedIndexChanged(){this._selectedIndexChanged=this._createActionByOption("onSelectedIndexChanged")}_renderWheelEvent(){rn.on(Si(this.container()),"dxmousewheel",e=>{this._isWheelScrolled=!0})}_renderContainerClick(){if(!this.option("showOnClick"))return;const e=or(dc,this.NAME),t=this._createActionByOption("onClick");rn.off(Si(this.container()),e),rn.on(Si(this.container()),e,e=>{t({event:e})})}_renderItems(){const e=this.option("items")||[];let t=Si();Si(this.content()).empty(),e.forEach(e=>{t=t.add(Si("<div>").addClass("dx-dateview-item").append(e))}),Si(this.content()).append(t),this._$items=t,this.update()}_renderSelectedItemFrame(){Si("<div>").addClass("dx-dateview-item-selected-frame").append(Si("<div>").addClass("dx-dateview-item-selected-border")).appendTo(Si(this.container()))}_renderSelectedValue(e){const t=this._fitIndex(e??this.option("selectedIndex"));this._moveTo({top:this._getItemPosition(t)}),this._renderActiveStateItem()}_fitIndex(e){const t=(this.option("items")||[]).length;return e>=t?t-1:e<0?0:e}_getItemPosition(e){return Math.round(this._itemHeight()*e)}_renderItemsClick(){const e=this._getItemSelector(),t=or(dc,this.NAME);rn.off(this.$element(),t,e),rn.on(this.$element(),t,e,this._itemClickHandler.bind(this))}_getItemSelector(){return".dx-dateview-item"}_itemClickHandler(e){this.option("selectedIndex",this._itemElementIndex(e.currentTarget))}_itemElementIndex(e){return this._itemElements().index(e)}_itemElements(){return this.$element().find(this._getItemSelector())}_renderActiveStateItem(){const e=this.option("selectedIndex");l(this._$items,function(t){Si(this).toggleClass("dx-dateview-item-selected",e===t)})}_shouldScrollToNeighborItem(){return"desktop"===Is.real().deviceType&&this._isWheelScrolled}_moveTo(e){const{top:t,left:n}=function(e,t){if(x(e)){const t=Fe(e.left,e.x),n=Fe(e.top,e.y);return{left:_(t)?t:void 0,top:_(n)?n:void 0}}const{isVertical:n,isHorizontal:i}=new oT(t);return{left:i&&_(e)?e:void 0,top:n&&_(e)?e:void 0}}(e),i=this.scrollOffset(),r={x:i.left-n,y:i.top-t};if(this._isVisible()&&(r.x||r.y))if(this._prepareDirections(!0),this._animation&&!this._shouldScrollToNeighborItem()){const e=this;Dl.stop(Si(this.content())),Dl.animate(Si(this.content()),{duration:200,type:"slide",to:{top:Math.floor(r.y)},complete(){Ea(Si(e.content())),e.handleMove({delta:r})}}),delete this._animation}else this.handleMove({delta:r})}_validate(e){return this._moveIsAllowed(e)}_fitSelectedIndexInRange(e){const t=this.option("items").length;return Math.max(Math.min(e,t-1),0)}_isInNullNeighborhood(e){return-.1<=e&&e<=.1}_getSelectedIndexAfterScroll(e){const t=this.scrollOffset().top-e*this._itemHeight();if(this._isInNullNeighborhood(t))return e;const n=t>0?1:-1;return this._fitSelectedIndexInRange(e+n)}_getNewSelectedIndex(e){if(this._shouldScrollToNeighborItem())return this._getSelectedIndexAfterScroll(e);this._animation=!0;const t=this.scrollOffset().top/this._itemHeight();return Math.round(t)}_endActionHandler(){const e=this.option("selectedIndex"),t=this._getNewSelectedIndex(e);t===e?this._renderSelectedValue(t):this.option("selectedIndex",t),this._isWheelScrolled=!1}_itemHeight(){const e=this._$items.first();return Ln(e)}_toggleActive(e){this.$element().toggleClass("dx-state-active",e)}_isVisible(){return Si(this.container()).is(":visible")}_fireSelectedIndexChanged(e,t){var n;null===(n=this._selectedIndexChanged)||void 0===n||n.call(this,{value:e,previousValue:t,event:void 0})}_visibilityChanged(e){super._visibilityChanged(e),this._visibilityChangedHandler(e)}_visibilityChangedHandler(e){e&&(this._visibilityTimer=setTimeout(()=>{this._renderSelectedValue(this.option("selectedIndex"))})),this.toggleActiveState(!1)}toggleActiveState(e){this.$element().toggleClass("dx-dateviewroller-current",e)}_refreshSelectedIndex(){const e=this.option("selectedIndex"),t=this._fitIndex(e);t===e?this._renderActiveStateItem():this.option("selectedIndex",t)}_optionChanged(e){switch(e.name){case"selectedIndex":this._fireSelectedIndexChanged(e.value,e.previousValue),this._renderSelectedValue(e.value);break;case"items":this._renderItems(),this._refreshSelectedIndex();break;case"onClick":case"showOnClick":this._renderContainerClick();break;case"onSelectedIndexChanged":this._renderSelectedIndexChanged();break;default:super._optionChanged(e)}}_dispose(){clearTimeout(this._visibilityTimer),super._dispose()}}Mi("dxDateViewRoller",sT);const aT=sT,lT="date",cT="year",uT="month",dT="day",hT="hours";class pT extends Kh{_valueOption(){const{value:e}=this.option(),t=new Date(e);return!e||isNaN(t)?this._getDefaultDate():t}_getDefaultDate(){const e=new Date,{type:t}=this.option();return t===lT?new Date(e.getFullYear(),e.getMonth(),e.getDate()):e}_getDefaultOptions(){return K({},super._getDefaultOptions(),{minDate:QO.MIN_DATEVIEW_DEFAULT_DATE,maxDate:QO.MAX_DATEVIEW_DEFAULT_DATE,type:lT,value:new Date,applyCompactClass:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:e=>"desktop"!==e.deviceType,options:{applyCompactClass:!0}}])}_render(){super._render(),this.$element().addClass("dx-dateview");const{type:e}=this.option();this._toggleFormatClasses(e),this._toggleCompactClass()}_toggleFormatClasses(e,t){this.$element().addClass(`dx-dateview-${e}`),t&&this.$element().removeClass(`dx-dateview-${t}`)}_toggleCompactClass(){const{applyCompactClass:e}=this.option();this.$element().toggleClass("dx-dateview-compact",e)}_wrapper(){return this._$wrapper}_renderContentImpl(){this._$wrapper=Si("<div>").addClass("dx-dateview-wrapper"),this._renderRollers(),this._$wrapper.appendTo(this.$element())}_renderRollers(){this._$rollersContainer||(this._$rollersContainer=Si("<div>").addClass("dx-dateview-rollers")),this._$rollersContainer.empty(),this._createRollerConfigs(),this._rollers={};const e=this;l(e._rollerConfigs,t=>{const n=Si("<div>").appendTo(e._$rollersContainer).addClass(`dx-dateviewroller-${e._rollerConfigs[t].type}`);e._rollers[e._rollerConfigs[t].type]=e._createComponent(n,aT,{items:e._rollerConfigs[t].displayItems,selectedIndex:e._rollerConfigs[t].selectedIndex,showScrollbar:"never",scrollByContent:!0,onStart(n){n.component._toggleActive(!0),e._setActiveRoller(e._rollerConfigs[t])},onEnd(e){e.component._toggleActive(!1)},onClick(n){const i=n.component;i._toggleActive(!0),e._setActiveRoller(e._rollerConfigs[t]),e._setRollerState(e._rollerConfigs[t],i.option("selectedIndex")),i._toggleActive(!1)},onSelectedIndexChanged(n){const i=n.component;e._setRollerState(e._rollerConfigs[t],i.option("selectedIndex"))}})}),e._$rollersContainer.appendTo(e._wrapper())}_createRollerConfigs(e){const t=this;e=e||t.option("type"),t._rollerConfigs={},XD.getFormatParts(QO.FORMATS_MAP[e]).forEach(e=>{t._createRollerConfig(e)})}_createRollerConfig(e){const t=QO.DATE_COMPONENTS_INFO[e],n=this._calculateRollerConfigValueRange(e),{startValue:i}=n,{endValue:r}=n,{formatter:o}=t,s=this._getCurrentDate(),a={type:e,setValue:t.setter,valueItems:[],displayItems:[],getIndex:e=>e[t.getter]()-i};for(let l=i;l<=r;l++)a.valueItems.push(l),a.displayItems.push(o(l,s));a.selectedIndex=a.getIndex(s),this._rollerConfigs[e]=a}_setActiveRoller(e){const t=e&&this._rollers[e.type];l(this._rollers,function(){this.toggleActiveState(this===t)})}_updateRollersPosition(){const e=this;l(this._rollers,function(t){const n=e._rollerConfigs[t].getIndex(e._getCurrentDate());this.option("selectedIndex",n)})}_setRollerState(e,t){if(t!==e.selectedIndex){const n=e.valueItems[t],{setValue:i}=e;let r=new Date(this._getCurrentDate()),o=r.getDate();const s=this.option("minDate"),a=this.option("maxDate");e.type===uT?o=Math.min(o,QO.getMaxMonthDay(r.getFullYear(),n)):e.type===cT&&(o=Math.min(o,QO.getMaxMonthDay(n,r.getMonth()))),r.setDate(o),r[i](n);const l=xs.normalizeDate(r,s,a);r=QO.mergeDates(l,r,"time"),r=xs.normalizeDate(r,s,a),this.option("value",r),e.selectedIndex=t}e.type===cT&&this._refreshRollers(),e.type===uT&&(this._refreshRoller(dT),this._refreshRoller(hT))}_refreshRoller(e){const t=this._rollers[e];if(t){this._createRollerConfig(e);const n=this._rollerConfigs[e];e!==dT&&n.displayItems.toString()===t.option("items").toString()||t.option({items:n.displayItems,selectedIndex:n.selectedIndex})}}_getCurrentDate(){const e=this._valueOption(),t=this.option("minDate"),n=this.option("maxDate");return xs.normalizeDate(e,t,n)}_calculateRollerConfigValueRange(e){const t=this._getCurrentDate(),{minDate:n,maxDate:i}=this.option(),r=xs.sameYear(t,n),o=r&&t.getMonth()===n.getMonth(),s=xs.sameYear(t,i),a=s&&t.getMonth()===i.getMonth(),l=o&&t.getDate()===n.getDate(),c=a&&t.getDate()===i.getDate(),u=QO.DATE_COMPONENTS_INFO[e];let{startValue:d}=u,{endValue:h}=u;return e===cT&&(d=n.getFullYear(),h=i.getFullYear()),e===uT&&(r&&(d=n.getMonth()),s&&(h=i.getMonth())),e===dT&&(h=QO.getMaxMonthDay(t.getFullYear(),t.getMonth()),r&&o&&(d=n.getDate()),s&&a&&(h=i.getDate())),e===hT&&(d=l?n.getHours():d,h=c?i.getHours():h),{startValue:d,endValue:h}}_refreshRollers(){this._refreshRoller(uT),this._refreshRoller(dT),this._refreshRoller(hT)}_optionChanged(e){switch(e.name){case"minDate":case"maxDate":case"type":this._renderRollers(),this._toggleFormatClasses(e.value,e.previousValue);break;case"visible":super._optionChanged(e),e.value&&this._renderRollers();break;case"value":this.option("value",this._valueOption()),this._refreshRollers(),this._updateRollersPosition();break;default:super._optionChanged(e)}}_clean(){super._clean(),delete this._$rollersContainer}}Mi("dxDateView",pT);const fT=pT,mT=St();const _T=class extends kO{ctor(e){super.ctor(e),this.NAME="DateView"}getDefaultOptions(){return K({},super.getDefaultOptions(),{openOnFieldClick:!0,applyButtonText:mr.format("OK"),"dropDownOptions.showTitle":!0})}getDisplayFormat(e){return e||QO.FORMATS_MAP[this.dateBox.option("type")]}popupConfig(e){return{toolbarItems:this.dateBox._popupToolbarItemsConfig(),onInitialized:e.onInitialized,defaultOptionsRules:[{device:{platform:"android"},options:{width:333,height:331}},{device(e){const{platform:t}=e;return"generic"===t||"ios"===t},options:{width:"auto",height:"auto"}},{device(e){const{platform:t}=e,{phone:n}=e;return"generic"===t&&n},options:{width:333,maxWidth:"100%",maxHeight:"100%",height:"auto",position:{collision:"flipfit flip"}}},{device:{platform:"ios",phone:!0},options:{width:"100%",position:{my:"bottom",at:"bottom",of:mT}}}]}}_renderWidget(){if(lo(this.dateBox.option("mode"))&&this.dateBox._isNativeType()||this.dateBox.option("readOnly"))return void(this._widget&&(this._widget.$element().remove(),this._widget=null));const e=this._getPopup();if(this._widget)this._widget.option(this._getWidgetOptions());else{const t=Si("<div>").appendTo(e.$content());this._widget=this._createWidget(t)}this._widget.$element().appendTo(this._getWidgetContainer())}_getWidgetName(){return fT}renderOpenedState(){super.renderOpenedState(),this._widget&&this._widget.option("value",this._widget._getCurrentDate())}_getWidgetOptions(){return{value:this.dateBoxValue()||new Date,type:this.dateBox.option("type"),minDate:this.dateBox.dateOption("min")||new Date(1900,0,1),maxDate:this.dateBox.dateOption("max")||new Date(Date.now()+50*QO.ONE_YEAR),onDisposing:function(){this._widget=null}.bind(this)}}},gT=St(),vT={min:new Date(0,0,0,0,0),max:new Date(0,0,0,23,59)};const yT=class extends kO{ctor(e){super.ctor(e),this.NAME="List"}supportedKeys(){return{space:tt,home:tt,end:tt}}getDefaultOptions(){return K({},super.getDefaultOptions(),{applyValueMode:"instantly"})}getDisplayFormat(e){return e||"shorttime"}popupConfig(e){return e}getValue(){const e=this._widget.option("selectedIndex");if(-1===e)return this.dateBox.option("value");const t=this._widgetItems[e];return this._getDateByItemData(t)}useCurrentDateByDefault(){return!0}getDefaultDate(){return new Date(null)}popupShowingHandler(){this.dateBox._dimensionChanged()}_renderWidget(){super._renderWidget(),this._refreshItems()}_getWidgetName(){return uS}_getWidgetOptions(){return{itemTemplate:this._timeListItemTemplate.bind(this),onItemClick:this._listItemClickHandler.bind(this),tabIndex:-1,onFocusedItemChanged:this._refreshActiveDescendant.bind(this),selectionMode:"single"}}_refreshActiveDescendant(e){this.dateBox.setAria("activedescendant",""),this.dateBox.setAria("activedescendant",e.actionValue)}_refreshItems(){this._widgetItems=this._getTimeListItems(),this._widget.option("items",this._widgetItems)}renderOpenedState(){this._widget&&(this._widget.option("focusedElement",null),this._setSelectedItemsByValue(),this._widget.option("templatesRenderAsynchronously")?this._asyncScrollTimeout=setTimeout(this._scrollToSelectedItem.bind(this)):this._scrollToSelectedItem())}dispose(){super.dispose(),clearTimeout(this._asyncScrollTimeout)}_updateValue(){this._widget&&(this._refreshItems(),this._setSelectedItemsByValue(),this._scrollToSelectedItem())}_setSelectedItemsByValue(){const e=this.dateBoxValue(),t=this._getDateIndex(e);-1===t?this._widget.option("selectedItems",[]):this._widget.option("selectedIndex",t)}_scrollToSelectedItem(){this._widget.scrollToItem(this._widget.option("selectedIndex"))}_getDateIndex(e){let t=-1;for(let n=0,i=this._widgetItems.length;n<i;n++)if(this._areDatesEqual(e,this._widgetItems[n])){t=n;break}return t}_areDatesEqual(e,t){return m(e)&&m(t)&&e.getHours()===t.getHours()&&e.getMinutes()===t.getMinutes()}_getTimeListItems(){let e=this.dateBox.dateOption("min")||this._getBoundaryDate("min");const t=this.dateBox.dateOption("max")||this._getBoundaryDate("max"),n=this.dateBox.dateOption("value")||null;let i=t-e;const r=e.getMinutes()%this.dateBox.option("interval");return i<0?[]:(i>QO.ONE_DAY&&(i=QO.ONE_DAY),n-e<QO.ONE_DAY||(e=this._getBoundaryDate("min"),e.setMinutes(r),n&&Math.abs(n-t)<QO.ONE_DAY&&(i=(60*t.getHours()+Math.abs(t.getMinutes()-r))*QO.ONE_MINUTE)),this._getRangeItems(e,new Date(e),i))}_getRangeItems(e,t,n){const i=[],r=this.dateBox.option("interval");for(;t-e<=n;)i.push(new Date(t)),t.setMinutes(t.getMinutes()+r);return i}_getBoundaryDate(e){const t=vT[e],n=new Date(Fe(this.dateBox.dateOption("value"),0));return new Date(n.getFullYear(),n.getMonth(),n.getDate(),t.getHours(),t.getMinutes())}_timeListItemTemplate(e){const t=this.dateBox.option("displayFormat");return XD.format(e,this.getDisplayFormat(t))}_listItemClickHandler(e){if("useButtons"===this.dateBox.option("applyValueMode"))return;const t=this._getDateByItemData(e.itemData);this.dateBox.option("opened",!1),this.dateBoxValue(t,e.event)}_getDateByItemData(e){let t=this.dateBox.option("value");const n=e.getHours(),i=e.getMinutes(),r=e.getSeconds(),o=e.getFullYear(),s=e.getMonth(),a=e.getDate();return t?(t=this.dateBox.option("dateSerializationFormat")?Ho.deserializeDate(t):new Date(t),t.setHours(n),t.setMinutes(i),t.setSeconds(r),t.setFullYear(o),t.setMonth(s),t.setDate(a)):t=new Date(o,s,a,n,i,0,0),t}getKeyboardListener(){return this._widget}_updatePopupHeight(){var e;const t=_k(this.dateBox.option("dropDownOptions.height"));if(void 0===t||"auto"===t){this.dateBox._setPopupOption("height","auto");const e=jn(this._widget.$element()),t=.45*Ln(gT);this.dateBox._setPopupOption("height",Math.min(e,t))}null===(e=this.dateBox._timeList)||void 0===e||e.updateDimensions()}getParsedText(e,t){let n=super.getParsedText(e,t);return n&&(n=QO.mergeDates(n,new Date(null),"date")),n}};const bT=class extends kO{ctor(e){super.ctor(e),this.NAME="Native"}popupConfig(e){return K({},e,{width:"auto"})}getParsedText(e){return e?"datetime"===this.dateBox.option("type")?new Date(e.replace(/-/g,"/").replace("T"," ").split(".")[0]):QO.fromStandardDateFormat(e):null}renderPopupContent(){}_getWidgetName(){}_getWidgetOptions(){}_getDateBoxType(){let{type:e}=this.dateBox.option();return QO.SUPPORTED_FORMATS.includes(e)?"datetime"!==e||lo(e)||(e="datetime-local"):e="date",e}customizeButtons(){const e=this.dateBox.getButton("dropDown");Is.real().android&&e&&e.on("click",()=>{this.dateBox._input().get(0).click()})}getDefaultOptions(){return{mode:this._getDateBoxType()}}getDisplayFormat(e){const t=this._getDateBoxType();return e||QO.FORMATS_MAP[t]}renderInputMinMax(e){const t={datetime:"yyyy-MM-ddTHH:mm:ss",date:"yyyy-MM-dd",time:"HH:mm:ss"}[this.dateBox.option("type")]??"yyyy-MM-dd";e.attr({min:Ho.serializeDate(this.dateBox.dateOption("min"),t),max:Ho.serializeDate(this.dateBox.dateOption("max"),t)})}},CT=St(),xT={calendar:"calendar",rollers:"rollers",list:"list",native:"native"},ST={date:"date",datetime:"datetime",time:"time"},wT="Calendar",ET="DateView",IT="Native",kT="CalendarWithTime",DT="List",OT={Calendar:DO,DateView:_T,Native:bT,CalendarWithTime:rT,List:yT};const TT=class extends xk{_supportedKeys(){return K({},super._supportedKeys(),this._strategy.supportedKeys())}_renderButtonContainers(){super._renderButtonContainers.apply(this,arguments),this._strategy.customizeButtons()}_getDefaultOptions(){return K({},super._getDefaultOptions(),{type:"date",showAnalogClock:!0,value:null,displayFormat:null,interval:30,disabledDates:null,pickerType:xT.calendar,invalidDateMessage:mr.format("dxDateBox-validation-datetime"),dateOutOfRangeMessage:mr.format("validation-range"),applyButtonText:mr.format("OK"),adaptivityEnabled:!1,calendarOptions:{},useHiddenSubmitElement:!0,_showValidationIcon:!0})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:{platform:"ios"},options:{"dropDownOptions.showTitle":!0}},{device:{platform:"android"},options:{buttonsLocation:"bottom after"}},{device(){const e=Is.real(),{platform:t}=e;return"ios"===t||"android"===t},options:{pickerType:xT.native}},{device:{platform:"generic",deviceType:"desktop"},options:{buttonsLocation:"bottom after"}}])}_initOptions(e){this._userOptions=A({},e),super._initOptions(e),this._updatePickerOptions()}_updatePickerOptions(){let{pickerType:e}=this.option();const{type:t}=this.option();e!==xT.list||t!==ST.datetime&&t!==ST.date||(e=xT.calendar),t===ST.time&&e===xT.calendar&&(e=xT.list),this._pickerType=e,this._setShowDropDownButtonOption()}_setShowDropDownButtonOption(){const{platform:e}=Is.real(),t="android"===e&&br.mozilla,n=this._isNativeType();let i="generic"!==e||!n;n&&t&&(i=!1),this.option({showDropDownButton:i})}_init(){this._initStrategy(),this.option(A({},this._strategy.getDefaultOptions(),this._userOptions)),delete this._userOptions,super._init()}_toLowerCaseFirstLetter(e){return e.charAt(0).toLowerCase()+e.substr(1)}_initStrategy(){const e=this._getStrategyName(this._getFormatType()),t=OT[e];this._strategy&&this._strategy.NAME===e||(this._strategy=new t(this))}_getFormatType(){const e=this.option("type"),t=/h|m|s/g.test(e);let n="";return/d|M|Y/g.test(e)&&(n+=ST.date),t&&(n+=ST.time),n}_getStrategyName(e){const t=this._pickerType;return t===xT.rollers?ET:t===xT.native?IT:e===ST.date?wT:e===ST.datetime?kT:DT}_initMarkup(){this.$element().addClass("dx-datebox"),super._initMarkup(),this._refreshFormatClass(),this._refreshPickerTypeClass(),this._strategy.renderInputMinMax(this._input())}_render(){super._render(),this._formatValidationIcon()}_renderDimensions(){super._renderDimensions(),this.$element().toggleClass("dx-auto-width",!this.option("width")),this._updatePopupWidth(),this._updatePopupHeight()}_dimensionChanged(){super._dimensionChanged(),this._updatePopupHeight()}_updatePopupHeight(){var e,t;this._popup&&(null===(e=(t=this._strategy)._updatePopupHeight)||void 0===e||e.call(t))}_refreshFormatClass(){const e=this.$element();l(ST,(t,n)=>{e.removeClass(`dx-datebox-${n}`)});const{type:t}=this.option();e.addClass(`dx-datebox-${t}`)}_refreshPickerTypeClass(){const e=this.$element();l(xT,(t,n)=>{e.removeClass(`dx-datebox-${n}`)}),e.addClass(`dx-datebox-${this._pickerType}`)}_formatValidationIcon(){if(!Ct())return;const e=this._input().get(0),t=this.option("rtlEnabled"),n=this._getClearButtonWidth(),i=this._getLongestElementDimensions(),r=parseFloat(CT.getComputedStyle(e).width)-n,o=i.width>r,{style:s}=e,{_showValidationIcon:a}=this.option();this.$element().toggleClass("dx-show-invalid-badge",!o&&a),o?(void 0===this._storedPadding&&(this._storedPadding=t?i.leftPadding:i.rightPadding),t?s.paddingLeft=0:s.paddingRight=0):t?s.paddingLeft=`${this._storedPadding}px`:s.paddingRight=`${this._storedPadding}px`}_getClearButtonWidth(){let e=0;if(this._isClearButtonVisible()&&""===this._input().val()){const t=this.$element().find(".dx-clear-button-area").get(0);e=parseFloat(CT.getComputedStyle(t).width)}return e}_getLongestElementDimensions(){const e=this._strategy.getDisplayFormat(this.option("displayFormat")),t=XD.format(QO.getLongestDate(e,XD.getMonthNames(),XD.getDayNames()),e),n=this._input(),i=n.get(0),r=ac(n,t),o=void 0!==this._storedPadding?this._storedPadding:0;r.appendTo(this.$element());const s=parseFloat(CT.getComputedStyle(r.get(0)).width),a=parseFloat(CT.getComputedStyle(i).paddingRight),l=parseFloat(CT.getComputedStyle(i).paddingLeft),c=s+l+a+o;return r.remove(),{width:c,leftPadding:l,rightPadding:a}}_getKeyboardListeners(){var e;return super._getKeyboardListeners().concat([null===(e=this._strategy)||void 0===e?void 0:e.getKeyboardListener()])}_renderPopup(){var e;super._renderPopup(),null===(e=this._popup)||void 0===e||e.$wrapper().addClass("dx-datebox-wrapper"),this._renderPopupWrapper()}_getPopupToolbarItems(){var e,t;const n=super._getPopupToolbarItems();return(null===(e=(t=this._strategy)._getPopupToolbarItems)||void 0===e?void 0:e.call(t,n))??n}_popupConfig(){const e=super._popupConfig();return K({},this._strategy.popupConfig(e),{title:this._getPopupTitle(),dragEnabled:!1})}_renderPopupWrapper(){if(!this._popup)return;const e=this.$element(),t=A({},ST,xT);l(t,(t,n)=>{e.removeClass(`dx-datebox-wrapper-${n}`)});const{type:n}=this.option();this._popup.$wrapper().addClass(`dx-datebox-wrapper-${n}`).addClass(`dx-datebox-wrapper-${this._pickerType}`).addClass("dx-dropdowneditor-overlay")}_renderPopupContent(){super._renderPopupContent(),this._strategy.renderPopupContent()}_popupShowingHandler(){super._popupShowingHandler(),this._strategy.popupShowingHandler()}_popupShownHandler(){super._popupShownHandler(),this._strategy.renderOpenedState()}_popupHiddenHandler(){super._popupHiddenHandler(),this._strategy.renderOpenedState(),this._strategy.popupHiddenHandler()}_visibilityChanged(e){e&&this._formatValidationIcon()}_clearValueHandler(e){this.option("text",""),super._clearValueHandler(e)}_readOnlyPropValue(){if(this._pickerType===xT.rollers)return!0;const{platform:e}=Is.real();if(this._isNativeType()&&("ios"===e||"android"===e)){const{readOnly:e}=this.option();return e}return super._readOnlyPropValue()}_isClearButtonVisible(){return super._isClearButtonVisible()&&!this._isNativeType()}_renderValue(){const e=this.dateOption("value");return this.option("text",this._getDisplayedText(e)),this._strategy.renderValue(),super._renderValue()}_setSubmitValue(){const e=this.dateOption("value"),{type:t,dateSerializationFormat:n}=this.option(),i=QO.SUBMIT_FORMATS_MAP[t],r=n?Ho.serializeDate(e,n):QO.toStandardDateFormat(e,i);this._getSubmitElement().val(r)}_getDisplayedText(e){const{mode:t}=this.option();let n;if("text"===t){const t=this._strategy.getDisplayFormat(this.option("displayFormat"));n=XD.format(e,t)}else{const i=this._getFormatByMode(t);n=i?XD.format(e,i):QO.toStandardDateFormat(e,t)}return n}_getFormatByMode(e){return lo(e)?null:QO.FORMATS_MAP[e]}_valueChangeEventHandler(e){const{text:t,type:n,validationError:i}=this.option(),r=this.dateOption("value");if(t===this._getDisplayedText(r))return void this._recallInternalValidation(r,i);const o=this._getParsedDate(t),s=r??this._getDateByDefault(),a=QO.mergeDates(s,o,n),l=o&&"time"===n?a:o;if(this._applyInternalValidation(l).isValid){const n=this._getDisplayedText(a);s&&a&&s.getTime()===a.getTime()&&n!==t?this._renderValue():this.dateValue(a,e)}}_recallInternalValidation(e,t){t&&!t.editorSpecific||(this._applyInternalValidation(e),this._applyCustomValidation(e))}_getDateByDefault(){return this._strategy.useCurrentDateByDefault()&&this._strategy.getDefaultDate()}_getParsedDate(e){const t=this._strategy.getDisplayFormat(this.option("displayFormat"));return this._strategy.getParsedText(e,t)??void 0}_applyInternalValidation(e){const t=!!this.option("text")&&null!==e,n=!!e&&m(e)&&!isNaN(e.getTime()),i=n&&xs.dateInRange(e,this.dateOption("min"),this.dateOption("max"),this.option("type")),r=!t&&!e||i;let o="";const{invalidDateMessage:s,dateOutOfRangeMessage:a}=this.option();return n?i||(o=a):o=s,this._updateInternalValidationState(r,o),{isValid:r,isDate:n}}_updateInternalValidationState(e,t){this.option({isValid:e,validationError:e?null:{editorSpecific:!0,message:t}})}_applyCustomValidation(e){this.validationRequest.fire({editor:this,value:this._serializeDate(e)})}_isValueChanged(e){const t=this.dateOption("value");return(t&&t.getTime())!==(e&&e.getTime())}_isTextChanged(e){return this.option("text")!==(e&&this._getDisplayedText(e)||"")}_renderProps(){super._renderProps(),this._input().attr("autocomplete","off")}_renderOpenedState(){this._isNativeType()||super._renderOpenedState(),this._strategy.isAdaptivityChanged()&&this._refreshStrategy()}_getPopupTitle(){const{placeholder:e}=this.option();if(e)return e;const{type:t}=this.option();return t===ST.time?mr.format("dxDateBox-simulatedDataPickerTitleTime"):t===ST.date||t===ST.datetime?mr.format("dxDateBox-simulatedDataPickerTitleDate"):""}_refreshStrategy(){this._strategy.dispose(),this._initStrategy(),this.option(this._strategy.getDefaultOptions()),this._refresh()}_applyButtonHandler(e){const t=this._strategy.getValue();this.dateValue(t,e.event),super._applyButtonHandler()}_dispose(){var e;super._dispose(),null===(e=this._strategy)||void 0===e||e.dispose()}_isNativeType(){return this._pickerType===xT.native}_updatePopupTitle(){var e;null===(e=this._popup)||void 0===e||e.option("title",this._getPopupTitle())}_optionChanged(e){switch(e.name){case"showClearButton":case"buttons":case"isValid":case"readOnly":super._optionChanged.apply(this,arguments),this._formatValidationIcon();break;case"pickerType":this._updatePickerOptions(),this._refreshStrategy(),this._refreshPickerTypeClass(),this._invalidate();break;case"type":this._updatePickerOptions(),this._refreshStrategy(),this._refreshFormatClass(),this._renderPopupWrapper(),this._formatValidationIcon(),this._updateValue();break;case"placeholder":super._optionChanged.apply(this,arguments),this._updatePopupTitle();break;case"min":case"max":{const e=this.option("isValid");this._applyInternalValidation(this.dateOption("value")),e||this._applyCustomValidation(this.dateOption("value")),this._invalidate();break}case"dateSerializationFormat":case"interval":case"disabledDates":case"calendarOptions":this._invalidate();break;case"displayFormat":this.option("text",this._getDisplayedText(this.dateOption("value"))),this._renderInputValue();break;case"text":this._strategy.textChangedHandler(e.value),super._optionChanged.apply(this,arguments);break;case"showDropDownButton":this._formatValidationIcon(),super._optionChanged.apply(this,arguments);break;case"todayButtonText":this._setPopupOption("toolbarItems",this._getPopupToolbarItems());break;case"invalidDateMessage":case"dateOutOfRangeMessage":case"adaptivityEnabled":case"showAnalogClock":case"_showValidationIcon":break;default:super._optionChanged.apply(this,arguments)}}_getSerializationFormat(){const e=this.option("value");return this.option("dateSerializationFormat")&&le().forceIsoDateParsing?this.option("dateSerializationFormat"):y(e)?"number":v(e)?Ho.getDateSerializationFormat(e):void 0}_updateValue(e){super._updateValue(),this._applyInternalValidation(e??this.dateOption("value"))}dateValue(e,t){const n=this._isValueChanged(e);if(n&&t&&this._saveValueChangeEvent(t),!n){const{text:t}=this.option();this._isTextChanged(e)?this._updateValue(e):""===t&&this._applyCustomValidation(e)}return this.dateOption("value",e)}dateOption(e,t){if(1===arguments.length)return Ho.deserializeDate(this.option(e));this.option(e,this._serializeDate(t))}_serializeDate(e){const t=this._getSerializationFormat();return Ho.serializeDate(e,t)}_clearValue(){const e=this.option("value");super._clearValue(),null===e&&this._applyCustomValidation(null)}clear(){const e=this.option("value");super.clear(),null===e&&this._applyInternalValidation(null)}},AT=e=>e.getMonth()+1,PT=(e,t)=>{const n=e.getDate(),i=NT("M",e),r=Vo(parseInt(t),i.min,i.max);e.setMonth(r-1,1);const{min:o,max:s}=NT("dM",e),a=Vo(n,o,s);e.setDate(a)},MT={a:e=>e.getHours()<12?0:1,E:"getDay",y:"getFullYear",M:AT,L:AT,d:"getDate",H:"getHours",h:"getHours",m:"getMinutes",s:"getSeconds",S:"getMilliseconds",x:"getTimezoneOffset"},RT=A({},ID,{a:(e,t)=>{const n=e.getHours();n>=12!==!!parseInt(t)&&e.setHours((n+12)%24)},d:(e,t)=>{t>NT("dM",e).max&&e.setMonth(e.getMonth()+1),e.setDate(t)},h:(e,t)=>{const n=e.getHours()>=12;e.setHours(+t%12+(n?12:0))},M:PT,L:PT,E:(e,t)=>{t<0||e.setDate(e.getDate()-e.getDay()+parseInt(t))},y:(e,t)=>{const n=e.getFullYear(),i=String(t).length,r=String(NT("y",e).max).length,o=parseInt(String(n).substr(0,r-i)+t);e.setFullYear(o)},x:e=>e}),BT=e=>MT[e]||(()=>e),NT=(e,t,n)=>{const i={y:{min:0,max:9999},M:{min:1,max:12},L:{min:1,max:12},d:{min:1,max:31},dM:{min:1,max:new Date(t.getFullYear(),t.getMonth()+1,0).getDate()},E:{min:0,max:6},H:{min:0,max:23},h:{min:1,max:12},m:{min:0,max:59},s:{min:0,max:59},S:{min:0,max:999},a:{min:0,max:1},x:{min:0,max:0}};return i[n||e]||i.getAmPm};const FT=class extends TT{_supportedKeys(){const e=super._supportedKeys(),t=t=>{const n=e[ir(t)];return null===n||void 0===n?void 0:n.apply(this,[t])},n=(e,n)=>this._shouldUseOriginalHandler(e)?t.apply(this,[e]):n.apply(this,[e]);return K({},e,{del:e=>n(e,e=>{this._revertPart(1),this._isAllSelected()||e.preventDefault()}),backspace:e=>n(e,e=>{this._revertPart(-1),this._isAllSelected()||e.preventDefault()}),home:e=>n(e,e=>{this._selectFirstPart(),e.preventDefault()}),end:e=>n(e,e=>{this._selectLastPart(),e.preventDefault()}),escape:e=>n(e,()=>{this._revertChanges()}),enter:e=>n(e,()=>{this._enterHandler()}),leftArrow:e=>n(e,e=>{this._selectNextPart(-1),e.preventDefault()}),rightArrow:e=>n(e,e=>{this._selectNextPart(1),e.preventDefault()}),upArrow:e=>n(e,e=>{this._upDownArrowHandler(1),e.preventDefault()}),downArrow:e=>n(e,e=>{this._upDownArrowHandler(-1),e.preventDefault()})})}_shouldUseOriginalHandler(e){const t=this.option("opened")&&e&&!["backspace","del"].includes(ir(e));return!this._useMaskBehavior()||t||e&&e.altKey}_upDownArrowHandler(e){this._setNewDateIfEmpty();const t=this._getActivePartValue(this._initialMaskValue),n=this._getActivePartValue()-t;this._loadMaskValue(this._initialMaskValue),this._changePartValue(n+e,!0)}_changePartValue(e,t){const n=this._getActivePartProp("pattern");/^a{1,5}$/.test(n)?this._toggleAmPm():this._partIncrease(e,t)}_toggleAmPm(){const e=this._getActivePartProp("text"),t=1^Io.getPeriodNames().indexOf(e);this._setActivePartValue(t)}_getDefaultOptions(){return K({},super._getDefaultOptions(),{useMaskBehavior:!1,emptyDateValue:new Date(2e3,0,1,0,0,0)})}_isSingleCharKey(e){let{originalEvent:t,alt:n}=e;const i=t.data||t.key;return"string"===typeof i&&1===i.length&&!n&&!sr(t)}_isSingleDigitKey(e){var t;const n=null===(t=e.originalEvent)||void 0===t?void 0:t.data;return 1===(null===n||void 0===n?void 0:n.length)&&parseInt(n,10)}_useBeforeInputEvent(){return Is.real().android}_keyInputHandler(e,t){const n=this._input().val();this._processInputKey(t),e.preventDefault();n!==this._input().val()&&rn.trigger(this._input(),"input")}_keyboardHandler(e){let{key:t}=e.originalEvent;const n=super._keyboardHandler(e);return!this._useMaskBehavior()||this._useBeforeInputEvent()||(br.chrome&&"Process"===e.key&&0===e.code.indexOf("Digit")?(t=e.code.replace("Digit",""),this._processInputKey(t),this._maskInputHandler=()=>{this._renderSelectedPart()}):this._isSingleCharKey(e)&&this._keyInputHandler(e.originalEvent,t)),n}_maskBeforeInputHandler(e){this._maskInputHandler=null;const{inputType:t}=e.originalEvent;"insertCompositionText"===t&&(this._maskInputHandler=()=>{this._renderSelectedPart()});const n="deleteContentBackward"===t;if(n||"deleteContentForward"===t){const e=n?-1:1;this._maskInputHandler=()=>{this._revertPart(),this._selectNextPart(e)}}if(!this._useMaskBehavior()||!this._isSingleCharKey(e))return;const i=e.originalEvent.data;return this._keyInputHandler(e,i),!0}_keyPressHandler(e){const{originalEvent:t}=e;"insertCompositionText"===(null===t||void 0===t?void 0:t.inputType)&&this._isSingleDigitKey(e)&&(this._processInputKey(t.data),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()),super._keyPressHandler(e),this._maskInputHandler&&(this._maskInputHandler(),this._maskInputHandler=null)}_processInputKey(e){this._isAllSelected()&&(this._activePartIndex=0),this._setNewDateIfEmpty(),isNaN(parseInt(e))?this._searchString(e):this._searchNumber(e)}_isAllSelected(){const e=this._caret(),{text:t}=this.option();return e.end-e.start===t.length}_getFormatPattern(){if(this._formatPattern)return this._formatPattern;const e=this._strategy.getDisplayFormat(this.option("displayFormat")),t=v(e)&&!XD._getPatternByFormat(e);return this._formatPattern=t?e:gD(t=>XD.format(t,e)),this._formatPattern}_setNewDateIfEmpty(){if(!this._maskValue){const{type:e}=this.option(),t="time"===e?new Date(null):new Date;this._maskValue=t,this._initialMaskValue=t,this._renderDateParts()}}_partLimitsReached(e){const t=String(e).length,n=this._getActivePartProp("pattern").length,i=1===n?t:Math.min(n,t),r=this._searchValue.length===i,o=parseInt(`${this._searchValue}0`)>e;return r||o}_searchNumber(e){const{max:t}=this._getActivePartLimits(),n=String(t).length;this._searchValue=(this._searchValue+e).substr(-n),isNaN(this._searchValue)&&(this._searchValue=e),this._setActivePartValue(this._searchValue),this._partLimitsReached(t)&&this._selectNextPart(1)}_searchString(e){if(!isNaN(parseInt(this._getActivePartProp("text"))))return;const t=this._getActivePartProp("limits")(this._maskValue),n=this._searchValue+e.toLowerCase(),i=t.max-t.min;for(let r=0;r<=i;r++)if(this._loadMaskValue(this._initialMaskValue),this._changePartValue(r+1),0===this._getActivePartProp("text").toLowerCase().indexOf(n))return void(this._searchValue=n);this._setNewDateIfEmpty(),this._searchValue&&(this._clearSearchValue(),this._searchString(e))}_clearSearchValue(){this._searchValue=""}_revertPart(e){if(!this._isAllSelected()){const t=this._getActivePartValue(this.option("emptyDateValue"));this._setActivePartValue(t),this._selectNextPart(e)}this._clearSearchValue()}_useMaskBehavior(){const{mode:e}=this.option();return this.option("useMaskBehavior")&&"text"===e}_prepareRegExpInfo(){this._regExpInfo=OD(this._getFormatPattern(),XD);const{regexp:e}=this._regExpInfo,{source:t}=e,{flags:n}=e,i=new RegExp(/(\{[0-9]+,?[0-9]*\})/),r=t.split(i).map(e=>i.test(e)?e:qd.convertDigits(e,!1)).join("");this._regExpInfo.regexp=new RegExp(r,n)}_initMaskState(){this._activePartIndex=0,this._formatPattern=null,this._prepareRegExpInfo(),this._loadMaskValue()}_renderMask(){super._renderMask(),this._detachMaskEvents(),this._clearMaskState(),this._useMaskBehavior()&&(this._attachMaskEvents(),this._initMaskState(),this._renderDateParts())}_renderDateParts(){if(!this._useMaskBehavior())return;const e=this.option("text")||this._getDisplayedText(this._maskValue);e&&(this._dateParts=((e,t)=>{const n=t.regexp.exec(e);let i=0,r=0;const o=[];for(let s=1;s<n.length;s++){i=r,r=i+n[s].length;const e=t.patterns[s-1].replace(/^'|'$/g,""),a=BT(e[0]);o.push({index:s-1,isStub:e===n[s],caret:{start:i,end:r},pattern:e,text:n[s],limits:function(){for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return NT(e[0],...n)},setter:RT[e[0]]||tt,getter:a})}return o})(e,this._regExpInfo),this._input().is(":hidden")||this._selectNextPart())}_detachMaskEvents(){rn.off(this._input(),".dateBoxMask")}_attachMaskEvents(){rn.on(this._input(),or("dxclick","dateBoxMask"),this._maskClickHandler.bind(this)),rn.on(this._input(),or("paste","dateBoxMask"),this._maskPasteHandler.bind(this)),rn.on(this._input(),or("drop","dateBoxMask"),()=>{this._renderSelectedPart()}),rn.on(this._input(),or("compositionend","dateBoxMask"),this._maskCompositionEndHandler.bind(this)),this._useBeforeInputEvent()&&rn.on(this._input(),or("beforeinput","dateBoxMask"),this._maskBeforeInputHandler.bind(this))}_renderSelectedPart(){this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._selectNextPart()}_selectLastPart(){this.option("text")&&(this._activePartIndex=this._dateParts.length,this._selectNextPart(-1))}_selectFirstPart(){this.option("text")&&this._dateParts&&(this._activePartIndex=-1,this._selectNextPart(1))}_hasMouseWheelHandler(){return!0}_onMouseWheel(e){this._useMaskBehavior()&&this._partIncrease(e.delta>0?1:-1,e)}_selectNextPart(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(!this.option("text")||this._disposed)return;e&&(this._initialMaskValue=new Date(this._maskValue));let t=Vo(this._activePartIndex+e,0,this._dateParts.length-1);if(this._dateParts[t].isStub){if(!(0===t&&e<0||t===this._dateParts.length-1&&e>0))return void this._selectNextPart(e>=0?e+1:e-1);t=this._activePartIndex}this._activePartIndex!==t&&this._clearSearchValue(),this._activePartIndex=t,this._caret(this._getActivePartProp("caret"))}_getRealLimitsPattern(){if("d"===this._getActivePartProp("pattern")[0])return"dM"}_getActivePartLimits(e){return this._getActivePartProp("limits")(this._maskValue,e&&this._getRealLimitsPattern())}_getActivePartValue(e){e=e||this._maskValue;const t=this._getActivePartProp("getter");return g(t)?t(e):e[t]()}_addLeadingZeroes(e){const t=/^0+/.exec(this._searchValue),n=this._getActivePartLimits(),i=String(n.max).length;return((t&&t[0]||"")+String(e)).substr(-i)}_setActivePartValue(e,t){t=t||this._maskValue;const n=this._getActivePartProp("setter"),i=this._getActivePartLimits();e=zo(e,i.min,i.max)?e:e%10,e=this._addLeadingZeroes(Vo(e,i.min,i.max)),g(n)?n(t,e):t[n](e),this._renderDisplayText(this._getDisplayedText(t)),this._renderDateParts()}_getActivePartProp(e){if(this._dateParts&&this._dateParts[this._activePartIndex])return this._dateParts[this._activePartIndex][e]}_loadMaskValue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dateOption("value");this._maskValue=e&&new Date(e),this._initialMaskValue=e&&new Date(e)}_saveMaskValue(){const e=this._maskValue&&new Date(this._maskValue),{type:t}=this.option();e&&"date"===t&&e.setHours(0,0,0,0),this._initialMaskValue=new Date(e),this.dateOption("value",e)}_revertChanges(){this._loadMaskValue(),this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts()}_renderDisplayText(e){super._renderDisplayText(e),this._useMaskBehavior()&&this.option("text",e)}_partIncrease(e,t){this._setNewDateIfEmpty();const{max:n,min:i}=this._getActivePartLimits(t);let r=e+this._getActivePartValue();r>n?r=this._applyLimits(r,{limitBase:i,limitClosest:n,max:n}):r<i&&(r=this._applyLimits(r,{limitBase:n,limitClosest:i,max:n})),this._setActivePartValue(r)}_applyLimits(e,t){let{limitBase:n,limitClosest:i,max:r}=t;const o=(e-i)%r;return o?n+o-1*Lo(o):i}_maskClickHandler(){this._loadMaskValue(this._maskValue),this.option("text")&&(this._activePartIndex=((e,t)=>{for(let n=0;n<e.length;n++){const i=e[n].caret.end>=t;if(!e[n].isStub&&i)return n}return null})(this._dateParts,this._caret().start),this._isAllSelected()||(this._clearSearchValue(),_(this._activePartIndex)?this._caret(this._getActivePartProp("caret")):this._selectLastPart()))}_maskCompositionEndHandler(e){this._input().val(this._getDisplayedText(this._maskValue)),this._selectNextPart(),this._maskInputHandler=()=>{this._renderSelectedPart()}}_maskPasteHandler(e){const t=this._replaceSelectedText(this.option("text"),this._caret(),oc(e)),n=XD.parse(t,this._getFormatPattern());n&&this._isDateValid(n)&&(this._maskValue=n,this._renderDisplayText(this._getDisplayedText(this._maskValue)),this._renderDateParts(),this._selectNextPart()),e.preventDefault()}_isDateValid(e){return m(e)&&!isNaN(e)}_isValueDirty(){const e=this.dateOption("value");return(this._maskValue&&this._maskValue.getTime())!==(e&&e.getTime())}_fireChangeEvent(){this._clearSearchValue(),this._isValueDirty()&&rn.trigger(this._input(),"change")}_enterHandler(){this._fireChangeEvent(),this._selectNextPart(1)}_focusOutHandler(e){this._useMaskBehavior()&&!e.isDefaultPrevented()?(this._fireChangeEvent(),super._focusOutHandler(e),this._selectFirstPart()):super._focusOutHandler(e)}_valueChangeEventHandler(e){const t=this.option("text");this._useMaskBehavior()?(this._saveValueChangeEvent(e),t?null===this._maskValue&&this._loadMaskValue(t):this._maskValue=null,this._saveMaskValue()):super._valueChangeEventHandler(e)}_optionChanged(e){switch(e.name){case"useMaskBehavior":this._renderMask();break;case"displayFormat":case"mode":super._optionChanged(e),this._renderMask();break;case"value":this._loadMaskValue(),super._optionChanged(e),this._renderDateParts();break;case"emptyDateValue":break;default:super._optionChanged(e)}}_clearMaskState(){this._clearSearchValue(),delete this._dateParts,delete this._activePartIndex,delete this._maskValue}clear(){this._clearMaskState(),this._activePartIndex=0,super.clear()}_clean(){super._clean(),this._detachMaskEvents(),this._clearMaskState()}};Mi("dxDateBox",FT);const $T=FO,HT="dx-responsivebox-screen-";class LT extends TE{_getDefaultOptions(){return K({},super._getDefaultOptions(),{rows:[],cols:[],screenByWidth:null,singleColumnScreen:"",height:"100%",width:"100%",activeStateEnabled:!1,focusStateEnabled:!1,onLayoutChanged:null})}_init(){this.option("screenByWidth")||this._options.silent("screenByWidth",Et),super._init(),this._initLayoutChangedAction()}_initLayoutChangedAction(){this._layoutChangedAction=this._createActionByOption("onLayoutChanged",{excludeValidators:["disabled","readOnly"]})}_itemClass(){return"dx-box-item"}_itemDataKey(){return"dxBoxItemData"}_initMarkup(){super._initMarkup(),this.$element().addClass("dx-responsivebox")}_renderItems(){this._setScreenSize(),this._screenItems=this._itemsByScreen(),this._prepareGrid(),this._spreadItems(),this._layoutItems(),this._linkNodeToItem()}_itemOptionChanged(e){const t=this._findItemElementByItem(e);t.length&&(this._refreshItem(t,e),this._clearItemNodeTemplates(),this._update(!0))}_setScreenSize(){const e=this._getCurrentScreen();this._removeScreenSizeClass(),this.$element().addClass(HT+e),this.option("currentScreenFactor",e)}_removeScreenSizeClass(){const{currentScreenFactor:e}=this.option();e&&this.$element().removeClass(HT+e)}_prepareGrid(){const e=this._grid=[];this._prepareRowsAndCols(),l(this._rows,()=>{const t=[];e.push(t),l(this._cols,()=>{t.push(this._createEmptyCell())})})}getSingleColumnRows(){const{rows:e}=this.option(),t=this._screenItems.length;if(null!==e&&void 0!==e&&e.length){const n=this._filterByScreen(e),i=[];for(let e=0;e<t;e++){const t=this._defaultSizeConfig();e<n.length&&_(n[e].shrink)&&(t.shrink=n[e].shrink),i.push(t)}return i}return this._defaultSizeConfig(t)}_prepareRowsAndCols(){this._isSingleColumnScreen()?(this._prepareSingleColumnScreenItems(),this._rows=this.getSingleColumnRows(),this._cols=this._defaultSizeConfig(1)):(this._rows=this._sizesByScreen(this.option("rows")),this._cols=this._sizesByScreen(this.option("cols")))}_isSingleColumnScreen(){const{singleColumnScreen:e,rows:t,cols:n}=this.option();return this._screenRegExp().test(e)||!(null!==t&&void 0!==t&&t.length)||!(null!==n&&void 0!==n&&n.length)}_prepareSingleColumnScreenItems(){this._screenItems.sort((e,t)=>e.location.row-t.location.row||e.location.col-t.location.col),l(this._screenItems,(e,t)=>{A(t.location,{row:e,col:0,rowspan:1,colspan:1})})}_sizesByScreen(e){return a(this._filterByScreen(e),e=>A(this._defaultSizeConfig(),e))}_createDefaultSizeConfig(){return{ratio:1,baseSize:0,minSize:0,maxSize:0}}_defaultSizeConfig(e){const t=this._createDefaultSizeConfig();if(!arguments.length)return t;const n=[];for(let i=0;i<e;i++)n.push(t);return n}_filterByScreen(e){const t=this._screenRegExp();return it(e,e=>!e.screen||t.test(e.screen))}_screenRegExp(){const e=this._getCurrentScreen();return new RegExp(`(^|\\s)${e}($|\\s)`,"i")}_getCurrentScreen(){const e=this._screenWidth(),{screenByWidth:t}=this.option();return null===t||void 0===t?void 0:t(e)}_screenWidth(){return Ct()?$n(St()):1920}_createEmptyCell(){return{item:{},location:{colspan:1,rowspan:1}}}_spreadItems(){l(this._screenItems,(e,t)=>{const n=t.location||{},i=n.col,r=n.row,o=this._grid[r],s=null===o||void 0===o?void 0:o[i];this._occupyCells(s,t)})}_itemsByScreen(){const{items:e}=this.option();return null===e||void 0===e?void 0:e.reduce((e,t)=>{let n=t.location||{};return n=x(n)?[n]:n,this._filterByScreen(n).forEach(n=>{e.push({item:t,location:A({rowspan:1,colspan:1},n)})}),e},[])}_occupyCells(e,t){e&&!this._isItemCellOccupied(e,t)&&(A(e,t),this._markSpanningCell(e))}_isItemCellOccupied(e,t){if(!C(e.item))return!0;let n=!1;return this._loopOverSpanning(t.location,e=>{n=n||!C(e.item)}),n}_loopOverSpanning(e,t){const n=e.row+e.rowspan-1,i=e.col+e.colspan-1,r=Math.min(n,this._rows.length-1),o=Math.min(i,this._cols.length-1);e.rowspan-=n-r,e.colspan-=i-o;for(let s=e.row;s<=r;s++)for(let n=e.col;n<=o;n++)s===e.row&&n===e.col||t(this._grid[s][n])}_markSpanningCell(e){this._loopOverSpanning(e.location,t=>{A(t,{item:e.item,spanningCell:e})})}_linkNodeToItem(){l(this._itemElements(),(e,t)=>{const n=Si(t),i=n.data("dxBoxItemData");i.box||(i.node=n.children())})}_layoutItems(){const e=this._grid.length,t=e&&this._grid[0].length;if(!e&&!t)return;const n=this._layoutBlock({direction:"col",row:{start:0,end:e-1},col:{start:0,end:t-1}}),i=this._prepareBoxConfig(n.box||{direction:"row",items:[A(n,{ratio:1})]});A(i,this._rootBoxConfig(i.items)),this._$root=Si("<div>").appendTo(this._itemContainer()),this._createComponent(this._$root,$T,i)}_rootBoxConfig(e){const t=l(e,(e,t)=>{this._needApplyAutoBaseSize(t)&&A(t,{baseSize:"auto"})}),{itemHoldTimeout:n}=this.option();return{width:"100%",height:"100%",items:t,itemTemplate:this._getTemplateByOption("itemTemplate"),itemHoldTimeout:n,onItemHold:this._createActionByOption("onItemHold"),onItemClick:this._createActionByOption("onItemClick"),onItemContextMenu:this._createActionByOption("onItemContextMenu"),onItemRendered:this._createActionByOption("onItemRendered")}}_needApplyAutoBaseSize(e){return!e.baseSize&&(!e.minSize||"auto"===e.minSize)&&(!e.maxSize||"auto"===e.maxSize)}_prepareBoxConfig(e){return A(e||{},{crossAlign:"stretch",onItemStateChanged:this.option("onItemStateChanged")})}_layoutBlock(e){return this._isSingleItem(e)?this._itemByCell(e.row.start,e.col.start):this._layoutDirection(e)}_isSingleItem(e){const t=this._grid[e.row.start][e.col.start].location,n=e.row.end-e.row.start===t.rowspan-1,i=e.col.end-e.col.start===t.colspan-1;return n&&i}_itemByCell(e,t){const n=this._grid[e][t];return n.spanningCell?null:n.item}_layoutDirection(e){const t=[],{direction:n}=e,i=this._crossDirection(n);let r;for(;r=this._nextBlock(e);){if(this._isBlockIndivisible(e.prevBlockOptions,r))throw Ps.Error("E1025");const n=this._layoutBlock({direction:i,row:r.row,col:r.col,prevBlockOptions:e});n&&(A(n,this._blockSize(r,i)),t.push(n)),e[i].start=r[i].end+1}return{box:this._prepareBoxConfig({direction:n,items:t})}}_isBlockIndivisible(e,t){return e&&e.col.start===t.col.start&&e.col.end===t.col.end&&e.row.start===t.row.start&&e.row.end===t.row.end}_crossDirection(e){return"col"===e?"row":"col"}_nextBlock(e){const{direction:t}=e,n=this._crossDirection(t),i=e[t].start,r=e[t].end,o=e[n].start;if(o>e[n].end)return null;let s=1;for(let l=o;l<o+s;l++){let e=1;for(let o=i;o<=r;o++){const i=this._cellByDirection(t,o,l);e=Math.max(e,i.location[`${n}span`])}const a=l+e,c=o+s;a>c&&(s+=a-c)}const a={};return a[t]={start:i,end:r},a[n]={start:o,end:o+s-1},a}_cellByDirection(e,t,n){return"col"===e?this._grid[n][t]:this._grid[t][n]}_blockSize(e,t){const n="row"===t?"auto":0,i="row"===t?this._rows:this._cols,r=A(this._createDefaultSizeConfig(),{ratio:0});for(let o=e[t].start;o<=e[t].end;o++){const e=i[o];r.ratio+=e.ratio,r.baseSize+=e.baseSize,r.minSize+=e.minSize,r.maxSize+=e.maxSize,_(e.shrink)&&(r.shrink=e.shrink)}return r.minSize=r.minSize?r.minSize:n,r.maxSize=r.maxSize?r.maxSize:"auto",this._isSingleColumnScreen()&&(r.baseSize="auto"),r}_update(e){var t;const n=this._$root;this._renderItems(),n&&(e?n.remove():(n.detach(),this._saveAssistantRoot(n))),null===(t=this._layoutChangedAction)||void 0===t||t.call(this)}_saveAssistantRoot(e){this._assistantRoots=this._assistantRoots||[],this._assistantRoots.push(e)}_dispose(){this._clearItemNodeTemplates(),this._cleanUnusedRoots(),super._dispose.apply(this,arguments)}_cleanUnusedRoots(){this._assistantRoots&&l(this._assistantRoots,(e,t)=>{Si(t).remove()})}_clearItemNodeTemplates(){l(this.option("items"),function(){delete this.node})}_attachClickEvent(){}_optionChanged(e){switch(e.name){case"rows":case"cols":case"screenByWidth":case"singleColumnScreen":this._clearItemNodeTemplates(),this._invalidate();break;case"width":case"height":super._optionChanged(e),this._update();break;case"onLayoutChanged":this._initLayoutChangedAction();break;case"itemTemplate":this._clearItemNodeTemplates(),super._optionChanged(e);break;case"currentScreenFactor":break;default:super._optionChanged(e)}}_dimensionChanged(){this._getCurrentScreen()!==this.option("currentScreenFactor")&&this._update()}repaint(){this._update()}}Mi("dxResponsiveBox",LT);const VT=LT;function zT(e){let{item:t,$parent:n,rootElementCssClassList:i,validationGroup:r,createComponentCallback:o}=e;const s=Si("<div>").appendTo(n).addClass(i.join(" ")).addClass("dx-field-button-item").css("textAlign",(a=t.horizontalAlignment,_(a)?a:"right"));var a;n.css("justifyContent",function(e){switch(e){case"center":return"center";case"bottom":return"flex-end";default:return"flex-start"}}(t.verticalAlignment));return{$rootElement:s,buttonInstance:o(Si("<div>").appendTo(s),"dxButton",A({validationGroup:r},t.buttonOptions))}}function jT(e){let{$parent:t,rootElementCssClassList:n}=e;return Si("<div>").addClass("dx-field-empty-item").html("&nbsp;").addClass(n.join(" ")).appendTo(t)}const WT=cD,KT="dx-form-group",UT="dx-col-",qT="dx-field-item",GT="dx-layout-manager-one-col",ZT="dx-field-item-label-content",YT="dx-field-item-label",QT="dx-field-item-content",XT="dx-root-simple-item",JT="dx-field-item-tab",eA="dx-group-colcount-",tA="group-col-count",nA="simple",iA=["dxTagBox","dxRangeSlider","dxDateRangeBox"],rA=["dxRangeSlider","dxDateRangeBox"],oA=["dxRangeSlider","dxSlider"],sA=["dxCalendar","dxCheckBox","dxHtmlEditor","dxRadioGroup","dxRangeSlider","dxSlider","dxSwitch"],aA=["dxSelectBox","dxDropDownBox","dxTagBox","dxLookup","dxAutocomplete","dxColorBox","dxDateBox","dxDateRangeBox"];function lA(e){let{$parent:t,rootElementCssClassList:n,formOrLayoutManager:i,createComponentCallback:r,item:o,template:s,labelTemplate:a,name:c,formLabelLocation:u,requiredMessageTemplate:d,validationGroup:h,editorValue:p,canAssignUndefinedValueToEditor:f,editorValidationBoundary:m,editorStylingMode:v,showColonAfterLabel:y,managerLabelLocation:b,itemId:C,managerMarkOptions:x,labelMode:S,onLabelTemplateRendered:w}=e;const E=_(o.isRequired)?o.isRequired:!!function(e){let t;null!==e&&void 0!==e&&e.length&&l(e,(e,n)=>{if("required"===n.type)return t=!0,!1});return t}(o.validationRules),I=o.itemType===nA,k=o.helpText?`dx-${new ce}`:null,D=function(e){let{item:t,id:n,isRequired:i,managerMarkOptions:r,showColonAfterLabel:o,labelLocation:s,labelTemplate:a,formLabelMode:l,onLabelTemplateRendered:c}=e;const u=sA.includes(t.editorType),d=A({showColon:o,location:s,id:n,visible:"outside"===l||u&&"hidden"!==l,isRequired:i},t?t.label:{},{markOptions:cA(r,i),labelTemplate:a,onLabelTemplateRendered:c});["dxRadioGroup","dxCheckBox","dxLookup","dxSlider","dxRangeSlider","dxSwitch","dxHtmlEditor","dxDateRangeBox"].includes(t.editorType)&&(d.labelID=`dx-label-${new ce}`);!d.text&&t.dataField&&(d.text=ii(t.dataField));d.text&&(d.textWithoutColon=d.text,d.text+=d.showColon?":":"");return d}({item:o,id:C,isRequired:E,managerMarkOptions:x,showColonAfterLabel:y,labelLocation:b,formLabelMode:S,labelTemplate:a,onLabelTemplateRendered:w}),O=D.visible&&(D.text||D.labelTemplate&&I),{location:T,labelID:P}=D,M="top"!==T&&["dxTextArea","dxRadioGroup","dxCalendar","dxHtmlEditor"].includes(o.editorType),R=function(e){let{$parent:t,editorType:n,defaultEditorName:i,editorValue:r,canAssignUndefinedValueToEditor:o,externalEditorOptions:s,editorInputId:a,editorValidationBoundary:l,editorStylingMode:c,formLabelMode:u,labelText:d,labelMark:h}=e;const p={};(void 0!==r||o)&&(p.value=r);iA.includes(n)&&(p.value=p.value||[]);let f=null===s||void 0===s?void 0:s.labelMode;_(f)||(f="outside"===u?"hidden":u);const m=(null===s||void 0===s?void 0:s.stylingMode)||c,v=oA.includes(n),y=function(e,t,n){const i=aA.includes(t);if(!i)return{};return{onPopupInitialized:t=>{let{component:i,popup:r}=t;const o=i.option("openOnFieldClick"),s=r.option("hideOnOutsideClick");if(o&&g(s)){const t=t=>{const i=Si(t.target),r=e.find(`label[for="${n}"]`);return!!!i.closest(r).length&&s(t)};i.option("dropDownOptions",{hideOnOutsideClick:t}),r.option({hideOnOutsideClick:t})}}}}(t,n,a),b=A(!0,p,s,y,{inputAttr:{id:a},validationBoundary:l,stylingMode:m,label:v?null===s||void 0===s?void 0:s.label:d,labelMode:f,labelMark:h});s&&(b.dataSource&&(b.dataSource=s.dataSource),b.items&&(b.items=s.items));if(i){if(rA.includes(n))return"dxRangeSlider"===n&&(b.startName||(b.startName=`${i}Start`),b.endName||(b.endName=`${i}End`)),"dxDateRangeBox"===n&&(b.startDateName||(b.startDateName=`${i}Start`),b.endDateName||(b.endDateName=`${i}End`)),b;b.name||(b.name=i)}return b}({$parent:t,editorType:o.editorType,editorValue:p,defaultEditorName:o.dataField,canAssignUndefinedValueToEditor:f,externalEditorOptions:o.editorOptions,editorInputId:C,editorValidationBoundary:m,editorStylingMode:v,formLabelMode:S,labelText:D.textWithoutColon,labelMark:D.markOptions.showRequiredMark?String.fromCharCode(160)+D.markOptions.requiredMark:""});return{$parent:t,rootElementCssClassList:n,formOrLayoutManager:i,createComponentCallback:r,labelOptions:D,labelNeedBaselineAlign:M,labelLocation:T,needRenderLabel:O,item:o,isSimpleItem:I,isRequired:E,template:s,helpID:k,labelID:P,name:c,helpText:D.markOptions.showOptionalMark&&!D.visible&&"hidden"!==R.labelMode&&!_(o.helpText)?D.markOptions.optionalMark:o.helpText,formLabelLocation:u,requiredMessageTemplate:d,validationGroup:h,editorOptions:R}}function cA(e,t){let{showRequiredMark:n,requiredMark:i,showOptionalMark:r,optionalMark:o}=e;return{showRequiredMark:n&&t,requiredMark:i,showOptionalMark:r&&!t,optionalMark:o}}function uA(e){let{text:t,id:n,location:i,alignment:r,labelID:o=null,markOptions:s={},labelTemplate:a,labelTemplateData:l,onLabelTemplateRendered:c}=e;if((!_(t)||t.length<=0)&&!_(a))return null;const u=Si("<label>").addClass(`${YT} dx-field-item-label-location-${i}`).attr("for",n).attr("id",o).css("textAlign",r),d=Si("<span>").addClass(ZT);let h=Si("<span>").addClass("dx-field-item-label-text").text(t);return a&&(h=Si("<div>").addClass("dx-field-item-custom-label-content"),l.text=t,a.render({container:ma(h),model:l,onRendered(){null===c||void 0===c||c()}})),u.append(d.append(h,function(e){const t=function(e){let{showRequiredMark:t,requiredMark:n,showOptionalMark:i,optionalMark:r}=e;return t||i?String.fromCharCode(160)+(t?n:r):""}(e);if(""===t)return null;return Si("<span>").addClass(e.showRequiredMark?"dx-field-item-required-mark":"dx-field-item-optional-mark").text(t)}(s)))}function dA(e){let t=0;const n=e.children.length;for(let i=0;i<n;i++){t+=e.children[i].offsetWidth}return t}function hA(e){const t=e.children().first();return t.hasClass("dx-template-wrapper")?t.children().first():t}function pA(e){if(e&&ta()){const t=".dx-field-item-content-wrapper",n=e=>{let{element:n,component:i}=e;const{isValid:r,validationMessageMode:o}=i.option();Si(n).parents(t).toggleClass("dx-invalid",!1===r&&(i._isFocused()||"always"===o))};e.on("optionChanged",e=>{"isValid"===e.name&&n(e)}),e.on("focusIn",n).on("focusOut",n).on("enterKey",n)}}function fA(e,t,n){return{dataField:e.dataField,editorType:e.editorType,editorOptions:t,component:n,name:e.name}}class mA{constructor(){this._map={}}_findWidgetInstance(e){let t;return l(this._map,(n,i)=>{let{widgetInstance:r,item:o}=i;if(e(o))return t=r,!1}),t}_findFieldByCondition(e,t){let n;return l(this._map,(i,r)=>{if(e(r))return n="guid"===t?i:r[t],!1}),n}clear(){this._map={}}removeItemsByItems(e){l(e.getItems(),e=>this.removeItemByKey(e))}removeItemByKey(e){delete this._map[e]}add(e){const t=e.guid||new ce;return this._map[t]=e,t}addItemsOrExtendFrom(e){e.each((e,t)=>{this._map[e]?(t.widgetInstance&&(this._map[e].widgetInstance=t.widgetInstance),this._map[e].$itemContainer=t.$itemContainer):this.add({item:t.item,widgetInstance:t.widgetInstance,guid:e,$itemContainer:t.$itemContainer})})}extendRunTimeItemInfoByKey(e,t){this._map[e]&&(this._map[e]=A(this._map[e],t))}findWidgetInstanceByItem(e){return this._findWidgetInstance(t=>t===e)}findGroupOrTabLayoutManagerByPath(e){return this._findFieldByCondition(t=>{let{path:n}=t;return n===e},"layoutManager")}findKeyByPath(e){return this._findFieldByCondition(t=>{let{path:n}=t;return n===e},"guid")}findWidgetInstanceByName(e){return this._findWidgetInstance(t=>e===t.name)}findWidgetInstanceByDataField(e){return this._findWidgetInstance(t=>e===(v(t)?t:t.dataField))}findItemContainerByItem(e){for(const t in this._map)if(this._map[t].item===e)return this._map[t].$itemContainer;return null}findItemIndexByItem(e){return this._findFieldByCondition(t=>{let{item:n}=t;return n===e},"itemIndex")}findPreparedItemByItem(e){return this._findFieldByCondition(t=>{let{item:n}=t;return n===e},"preparedItem")}getItems(){return this._map}each(e){l(this._map,(t,n)=>{e(t,n)})}removeItemsByPathStartWith(e){Object.keys(this._map).filter(t=>!!this._map[t].path&&this._map[t].path.indexOf(e,0)>-1).forEach(e=>this.removeItemByKey(e))}}class _A extends yd{_getDefaultOptions(){return K({},super._getDefaultOptions(),{layoutData:{},readOnly:!1,colCount:1,labelLocation:"left",onFieldDataChanged:null,onEditorEnterKey:null,customizeItem:null,alignItemLabels:!0,minColWidth:200,showRequiredMark:!0,screenByWidth:null,showOptionalMark:!1,requiredMark:"*",labelMode:"outside",optionalMark:mr.format("dxForm-optionalMark"),requiredMessage:mr.getFormatter("dxForm-requiredMessage")})}_setOptionsByReference(){super._setOptionsByReference(),A(this._optionsByReference,{layoutData:!0,validationGroup:!0})}_init(){const e=this.option("layoutData");super._init(),this._itemWatchers=[],this._itemsRunTimeInfo=new mA,this._updateReferencedOptions(e),this._initDataAndItems(e)}_dispose(){super._dispose(),this._cleanItemWatchers()}_initDataAndItems(e){this._syncDataWithItems(),this._updateItems(e)}_syncDataWithItems(){const e=this.option("layoutData"),t=this.option("items");_(t)&&t.forEach(t=>{if(t.dataField&&void 0===this._getDataByField(t.dataField)){let n;t.editorOptions&&(n=t.editorOptions.value),(_(n)||t.dataField in e)&&this._updateFieldValue(t.dataField,n)}})}_getDataByField(e){return e?this.option(`layoutData.${e}`):null}_isCheckboxUndefinedStateEnabled(e){let{allowIndeterminateState:t,editorType:n,dataField:i}=e;if(!0===t&&"dxCheckBox"===n){const e=["layoutData",...i.split(".")],t=e.pop(),n=this.option(e.join("."));return n&&t in n}return!1}_updateFieldValue(e,t){const n=this.option("layoutData");let i=t;!he.isWrapped(n[e])&&_(e)?this.option(`layoutData.${e}`,i):he.isWritableWrapped(n[e])&&(i=g(i)?i():i,n[e](i)),this._triggerOnFieldDataChanged({dataField:e,value:i})}_triggerOnFieldDataChanged(e){this._createActionByOption("onFieldDataChanged")(e)}_updateItems(e){const t=this,n=this.option("items"),i=_(n),{customizeItem:r}=this.option(),o=i?n:this._generateItemsByData(e);if(_(o)){const e=[];l(o,(n,i)=>{t._isAcceptableItem(i)&&(i=t._processItem(i),r&&r(i),b(i)&&!1!==he.unwrap(i.visible)&&e.push(i))}),t._itemWatchers.length&&i||t._updateItemWatchers(o),this._setItems(e),this._sortItems()}}_cleanItemWatchers(){this._itemWatchers.forEach(e=>{e()}),this._itemWatchers=[]}_updateItemWatchers(e){const t=this,n=t._getWatch();e.forEach(e=>{b(e)&&_(e.visible)&&g(n)&&t._itemWatchers.push(n(()=>he.unwrap(e.visible),()=>{t._updateItems(t.option("layoutData")),t.repaint()},{skipImmediate:!0}))})}_generateItemsByData(e){const t=[];return _(e)&&l(e,e=>{t.push({dataField:e})}),t}_isAcceptableItem(e){const t=e.dataField||e,n=this._getDataByField(t);return!(g(n)&&!he.isWrapped(n))}_processItem(e){if("string"===typeof e&&(e={dataField:e}),"object"!==typeof e||e.itemType||(e.itemType=nA),!_(e.editorType)&&_(e.dataField)){const t=this._getDataByField(e.dataField);e.editorType=_(t)?this._getEditorTypeByDataType(h(t)):"dxTextBox"}return"dxCheckBox"===e.editorType&&(e.allowIndeterminateState=e.allowIndeterminateState??!0),e}_getEditorTypeByDataType(e){switch(e){case"number":return"dxNumberBox";case"date":return"dxDateBox";case"boolean":return"dxCheckBox";default:return"dxTextBox"}}_sortItems(){nd(this._items,"visibleIndex"),this._sortIndexes()}_sortIndexes(){this._items.sort((e,t)=>{const n=e.visibleIndex,i=t.visibleIndex;let r;return r=n>i?1:n<i?-1:0,r})}_initMarkup(){this._itemsRunTimeInfo.clear(),this.$element().addClass("dx-layout-manager"),super._initMarkup(),this._renderResponsiveBox()}_renderResponsiveBox(){const e=this,t=[];if(e._items&&e._items.length){const n=e._getColCount(),i=Si("<div>").appendTo(e.$element());e._prepareItemsWithMerging(n);const r=e._generateLayoutItems();e._responsiveBox=e._createComponent(i,VT,e._getResponsiveBoxConfig(r,n,t)),Ct()||e._renderTemplates(t)}}_itemStateChangedHandler(e){this._refresh()}_renderTemplates(e){const t=this;let n=0;e.forEach(e=>{var t;let{item:i}=e;null!==i&&void 0!==i&&null!==(t=i.label)&&void 0!==t&&t.template&&n++}),l(e,(e,i)=>{switch(i.itemType){case"empty":jT(i);break;case"button":t._renderButtonItem(i);break;default:t._renderFieldItem(i,n)}})}_getResponsiveBoxConfig(e,t,n){const i=this,r=i.option("colCountByScreen"),o=r&&r.xs;return{onItemStateChanged:this._itemStateChangedHandler.bind(this),onLayoutChanged(){const{onLayoutChanged:e}=i.option(),t=i.isSingleColumnMode();e&&(i.$element().toggleClass(GT,t),e(t))},onContentReady(e){Ct()&&i._renderTemplates(n),i.option("onLayoutChanged")&&i.$element().toggleClass(GT,i.isSingleColumnMode(e.component))},itemTemplate(e,r,o){if(!e.location)return;const s=Si(o),a=e.location.row*t,l=i._items[e.location.col+a];if(!l)return;const c=[l.cssClass];s.toggleClass("dx-single-column-item-content",i.isSingleColumnMode(this)),0===e.location.row&&c.push("dx-first-row"),0===e.location.col&&c.push("dx-first-col"),l.itemType===nA&&i.option("isRoot")&&s.addClass(XT);const u=e.location.col===t-1||e.location.col+e.location.colspan===t,d=i._getRowsCount(),h=e.location.row===d-1;u&&c.push("dx-last-col"),h&&c.push("dx-last-row"),"empty"!==l.itemType&&(c.push(qT),c.push(i.option("cssItemClass")),_(l.col)&&c.push(`dx-col-${l.col}`)),n.push({itemType:l.itemType,item:l,$parent:s,rootElementCssClassList:c})},cols:i._generateRatio(t),rows:i._generateRatio(i._getRowsCount(),!0),dataSource:e,screenByWidth:i.option("screenByWidth"),singleColumnScreen:!o&&"xs"}}_getColCount(){let{colCount:e}=this.option();const t=this.option("colCountByScreen");if(t){const{form:n}=this.option();let i=null===n||void 0===n?void 0:n.getTargetScreenFactor();i||(i=Ct()?It(this.option("screenByWidth")):"lg"),e=t[i]||e}if("auto"===e){if(this._cashedColCount)return this._cashedColCount;this._cashedColCount=e=this._getMaxColCount()}return e<1?1:e}_getMaxColCount(){if(!Ct())return 1;const e=this.option("minColWidth"),t=$n(this.$element()),n=this._items.length,i=Math.floor(t/e)||1;return n<i?n:i}isCachedColCountObsolete(){return this._cashedColCount&&this._getMaxColCount()!==this._cashedColCount}_prepareItemsWithMerging(e){const t=this._items.slice(0);let n,i,r,o,s=[];for(o=0;o<t.length;o++)if(n=t[o],s.push(n),(this.option("alignItemLabels")||n.alignItemLabels||n.colSpan)&&(n.col=this._getColByIndex(s.length-1,e)),n.colSpan>1&&n.col+n.colSpan<=e){for(i=[],r=0;r<n.colSpan-1;r++)i.push({merged:!0});s=s.concat(i)}else delete n.colSpan;this._setItems(s)}_getColByIndex(e,t){return e%t}_setItems(e){this._items=e,this._cashedColCount=null}_generateLayoutItems(){const e=this._items,t=this._getColCount(),n=[];let i,r;for(r=0;r<e.length;r++)if(i=e[r],!i.merged){const e={location:{row:parseInt(r/t),col:this._getColByIndex(r,t)}};_(i.disabled)&&(e.disabled=i.disabled),_(i.visible)&&(e.visible=i.visible),_(i.colSpan)&&(e.location.colspan=i.colSpan),_(i.rowSpan)&&(e.location.rowspan=i.rowSpan),n.push(e)}return n}_renderEmptyItem(e){jT({$container:e})}_renderButtonItem(e){let{item:t,$parent:n,rootElementCssClassList:i}=e;const{$rootElement:r,buttonInstance:o}=zT({item:t,$parent:n,rootElementCssClassList:i,validationGroup:this.option("validationGroup"),createComponentCallback:this._createComponent.bind(this)});this._itemsRunTimeInfo.add({item:t,widgetInstance:o,guid:t.guid,$itemContainer:r})}_renderFieldItem(e,t){var n;let{item:i,$parent:r,rootElementCssClassList:o}=e;const s=this._getDataByField(i.dataField);let a=!1;if(void 0===s){const{allowIndeterminateState:e,editorType:t,dataField:n}=i;a=this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:e,editorType:t,dataField:n})}const l=i.dataField||i.name,c=this._getFormOrThis(),{form:u}=this.option(),{$fieldEditorContainer:d,widgetInstance:h,$rootElement:p}=function(e){let{$parent:t,rootElementCssClassList:n,formOrLayoutManager:i,createComponentCallback:r,labelOptions:o,labelNeedBaselineAlign:s,labelLocation:a,needRenderLabel:l,formLabelLocation:c,item:u,editorOptions:d,isSimpleItem:h,isRequired:p,template:f,helpID:m,labelID:_,name:g,helpText:v,requiredMessageTemplate:y,validationGroup:b}=e;const C=Si("<div>").addClass(n.join(" ")).appendTo(t);C.addClass(p?"dx-field-item-required":"dx-field-item-optional"),h&&C.addClass("dx-flex-layout"),h&&s&&C.addClass("dx-field-item-label-align");const x=Si("<div>");x.data("dx-form-item",u),x.addClass(QT).addClass("dx-field-item-content-location-"+{right:"left",left:"right",top:"bottom"}[c]);let S,w=null;if(l&&(o.labelTemplate&&(o.labelTemplateData=fA(u,d,i)),w=uA(o)),w){const{editorType:e}=u;C.append(w),"top"!==a&&"left"!==a||C.append(x),"right"===a&&C.prepend(x),"top"===a?C.addClass("dx-label-v-align"):C.addClass("dx-label-h-align"),"dxCheckBox"!==e&&"dxSwitch"!==e||rn.on(w,dc,()=>{rn.trigger(x.children(),dc)});const t=["dxCheckBox","dxSwitch","dxRadioGroup"].includes(e),n=o.alignment;!f&&t&&"top"===a&&("left"===n||!n)&&x.addClass("dx-toggle-controls-paddings")}else C.append(x);if(f)f.render({container:ma(x),model:fA(u,d,i),onRendered(){const e=function(e){var t;return(null===e||void 0===e?void 0:e.data("dx-validation-target"))||(null===e||void 0===e||null===(t=e.parent)||void 0===t||null===(t=t.call(e))||void 0===t?void 0:t.data("dx-validation-target"))}(hA(x));pA(e)}});else{const e=Si("<div>").appendTo(x);try{S=r(e,u.editorType,d),S.setAria("describedby",m),_&&S.setAria("labelledby",_),S.setAria("required",p)}catch(k){Ps.log("E1035",k.message)}}const E=hA(x),I=E&&E.data("dx-validation-target");if(I){const e=u.label&&u.label.text,t=e?null:g,n=e?u.label.text:t&&ii(t);let i;if(h)if(u.validationRules)i=u.validationRules;else{const e=M(y,n||"");i=u.isRequired?[{type:"required",message:e}]:null}Array.isArray(i)&&i.length&&r(E,WT,{validationRules:i,validationGroup:b,dataGetter:()=>({formItem:u})}),pA(I)}v&&h&&x.parent().append(Si("<div>").addClass("dx-field-item-content-wrapper").append(x).append(Si("<div>").addClass("dx-field-item-help-text").attr("id",m).text(v)));return{$fieldEditorContainer:x,$rootElement:C,widgetInstance:S}}(lA({$parent:r,rootElementCssClassList:o,item:i,name:l,editorValue:s,canAssignUndefinedValueToEditor:a,formOrLayoutManager:this._getFormOrThis(),createComponentCallback:this._createComponent.bind(this),formLabelLocation:this.option("labelLocation"),requiredMessageTemplate:this.option("requiredMessage"),validationGroup:this.option("validationGroup"),editorValidationBoundary:this.option("validationBoundary"),editorStylingMode:null===u||void 0===u?void 0:u.option("stylingMode"),showColonAfterLabel:this.option("showColonAfterLabel"),managerLabelLocation:this.option("labelLocation"),template:i.template?this._getTemplate(i.template):null,labelTemplate:null!==(n=i.label)&&void 0!==n&&n.template?this._getTemplate(i.label.template):null,itemId:null===u||void 0===u?void 0:u.getItemID(l),managerMarkOptions:this._getMarkOptions(),labelMode:this.option("labelMode"),onLabelTemplateRendered:()=>{this._incTemplateRenderedCallCount(),this._shouldAlignLabelsOnTemplateRendered(c,t)&&c._alignLabels(this,this.isSingleColumnMode(c))}})),{onFieldItemRendered:f}=this.option();null===f||void 0===f||f(),h&&i.dataField&&this._bindDataField(h,i.dataField,i.editorType,d),this._itemsRunTimeInfo.add({item:i,widgetInstance:h,guid:i.guid,$itemContainer:p})}_incTemplateRenderedCallCount(){this._labelTemplateRenderedCallCount=(this._labelTemplateRenderedCallCount??0)+1}_shouldAlignLabelsOnTemplateRendered(e,t){return e.option("templatesRenderAsynchronously")&&this._labelTemplateRenderedCallCount===t}_getMarkOptions(){return{showRequiredMark:this.option("showRequiredMark"),requiredMark:this.option("requiredMark"),showOptionalMark:this.option("showOptionalMark"),optionalMark:this.option("optionalMark")}}_getFormOrThis(){const{form:e}=this.option();return e||this}_bindDataField(e,t,n,i){const r=this._getFormOrThis();e.on("enterKey",e=>{r._createActionByOption("onEditorEnterKey")(A(e,{dataField:t}))}),this._createWatcher(e,i,t),this.linkEditorToDataField(e,t)}_createWatcher(e,t,n){const i=this,r=i._getWatch();if(!g(r))return;const o=r(()=>i._getDataByField(n),()=>{const t=i._getDataByField(n);if("dxTagBox"===e.NAME){const n=e.option("value");if(t!==n&&function(e,t){if(!Array.isArray(e)||!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}(t,n))return}e.option("value",t)},{deep:!0,skipImmediate:!0},{createWatcherDataField:n});rn.on(t,Ii,o)}_getWatch(){if(!_(this._watch)){const{form:e}=this.option();this._watch=e&&e.option("integrationOptions.watchMethod")}return this._watch}_createComponent(e,t,n){const i=this.option("readOnly");let r=Object.hasOwn(n,"readOnly");const o=super._createComponent(e,t,K({},n,{readOnly:r?n.readOnly:i}));let s=!1;return o.on("optionChanged",e=>{"readOnly"!==e.name||s||(r=!0)}),this.on("optionChanged",e=>{"readOnly"!==e.name||r||(s=!0,o.option(e.name,e.value),s=!1)}),o}_generateRatio(e,t){const n=[];let i,r;for(r=0;r<e;r++)i={ratio:1},t&&(i.baseSize="auto"),n.push(i);return n}_getRowsCount(){return Math.ceil(this._items.length/this._getColCount())}_updateReferencedOptions(e){const t=this.option("layoutData");b(t)&&Object.getOwnPropertyNames(t).forEach(e=>delete this._optionsByReference[`layoutData.${e}`]),b(e)&&Object.getOwnPropertyNames(e).forEach(e=>this._optionsByReference[`layoutData.${e}`]=!0)}_clearWidget(e){this._disableEditorValueChangedHandler=!0,e.clear(),this._disableEditorValueChangedHandler=!1,e.option("isValid",!0)}_optionChanged(e){if(0!==e.fullName.search("layoutData."))switch(e.name){case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":case"alignItemLabels":case"labelLocation":case"labelMode":case"requiredMessage":this._invalidate();break;case"layoutData":this._updateReferencedOptions(e.value),this.option("items")?C(e.value)||this._itemsRunTimeInfo.each((t,n)=>{if(_(n.item)){const{dataField:t}=n.item;if(t&&_(n.widgetInstance)){const i=we(t)(e.value),{allowIndeterminateState:r,editorType:o}=n.item;void 0!==i||this._isCheckboxUndefinedStateEnabled({allowIndeterminateState:r,editorType:o,dataField:t})?n.widgetInstance.option("value",i):this._clearWidget(n.widgetInstance)}}}):(this._initDataAndItems(e.value),this._invalidate());break;case"items":this._cleanItemWatchers(),this._initDataAndItems(e.value),this._invalidate();break;case"customizeItem":this._updateItems(this.option("layoutData")),this._invalidate();break;case"colCount":case"colCountByScreen":this._resetColCount();break;case"minColWidth":{const{colCount:e}=this.option();"auto"===e&&this._resetColCount();break}case"readOnly":case"onFieldDataChanged":break;case"width":{super._optionChanged(e);const{colCount:t}=this.option();"auto"===t&&this._resetColCount();break}default:super._optionChanged(e)}}_resetColCount(){this._cashedColCount=null,this._invalidate()}linkEditorToDataField(e,t){this.on("optionChanged",n=>{n.fullName===`layoutData.${t}`&&e._setOptionWithoutOptionChange("value",n.value)}),e.on("valueChanged",e=>{const n=b(e.value)||Array.isArray(e.value);this._disableEditorValueChangedHandler||n&&e.value===e.previousValue||this._updateFieldValue(t,e.value)})}_dimensionChanged(){const{colCount:e}=this.option();"auto"===e&&this.isCachedColCountObsolete()&&this._eventsStrategy.fireEvent("autoColCountChanged")}updateData(e,t){const n=this;b(e)?l(e,(e,t)=>{n._updateFieldValue(e,t)}):"string"===typeof e&&n._updateFieldValue(e,t)}getEditor(e){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(e)||this._itemsRunTimeInfo.findWidgetInstanceByName(e)}isSingleColumnMode(e){const t=this._responsiveBox||e;if(t)return t.option("currentScreenFactor")===t.option("singleColumnScreen")}getItemsRunTimeInfo(){return this._itemsRunTimeInfo}}Mi("dxLayoutManager",_A);const gA=Wx,vA={move(e,t){wa(e,{left:t})}},yA={moveTo(e,t,n,i){Dl.animate(e,{type:"slide",to:{left:t},duration:n,complete:i})},complete(e){Dl.stop(e,!0)}},bA=e=>+e;class CA extends gA{_supportedKeys(){return K({},super._supportedKeys(),{pageUp:tt,pageDown:tt})}_getDefaultOptions(){return K({},super._getDefaultOptions(),{selectedIndex:0,swipeEnabled:!0,animationEnabled:!0,loop:!1,deferRendering:!0,loopItemFocus:!1,selectOnFocus:!0,selectionMode:"single",selectionRequired:!0,selectByClick:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>"desktop"===Is.real().deviceType&&!Is.isSimulator(),options:{focusStateEnabled:!0}}])}_itemClass(){return"dx-multiview-item"}_itemDataKey(){return"dxMultiViewItemData"}_itemContainer(){return this._$itemContainer}_itemElements(){return this._itemContainer().children(this._itemSelector())}_itemWidth(){return this._itemWidthValue||(this._itemWidthValue=$n(this._$wrapper)),this._itemWidthValue}_clearItemWidthCache(){delete this._itemWidthValue}_itemsCount(){return this.option("items").length}_isAllItemsHidden(){const{items:e}=this.option();return e.every((e,t)=>!this._isItemVisible(t))}_normalizeIndex(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const i=this._itemsCount();if(this._isAllItemsHidden())return;e<0&&(e+=i),e>=i&&(e-=i);const r=t>0?-1:1,o=-1===r?0:i-1;for(;!this._isItemVisible(e)&&(n||e!==o);)e=(e+r+i)%i;return e}_getRTLSignCorrection(){return this.option("rtlEnabled")?-1:1}_init(){super._init.apply(this,arguments),this._activeStateUnit=".dx-multiview-item";const e=this.$element();e.addClass("dx-multiview"),this._$wrapper=Si("<div>").addClass("dx-multiview-wrapper"),this._$wrapper.appendTo(e),this._$itemContainer=Si("<div>").addClass("dx-multiview-item-container"),this._$itemContainer.appendTo(this._$wrapper),this.option("loopItemFocus",this.option("loop")),this._findBoundaryIndices(),this._initSwipeable()}_ensureSelectedItemIsVisible(){const{loop:e,selectedIndex:t}=this.option();if(this._isItemVisible(t))return;if(this._isAllItemsHidden())return void this.option("selectedIndex",0);const n=-1*this._getRTLSignCorrection();let i=this._normalizeIndex(t,n,e);i===t&&(i=this._normalizeIndex(t,-n,e)),this.option("selectedIndex",i)}_initMarkup(){this._deferredItems=[],super._initMarkup(),this._ensureSelectedItemIsVisible();const e=this._getSelectedItemIndices();this._updateItemsVisibility(e[0]),this._setElementAria(),this._setItemsAria()}_afterItemElementDeleted(e,t){super._afterItemElementDeleted(e,t),this._deferredItems&&this._deferredItems.splice(t.itemIndex,1)}_beforeItemElementInserted(e){super._beforeItemElementInserted.apply(this,arguments),this._deferredItems&&this._deferredItems.splice(e.index,0,null)}_executeItemRenderAction(e,t,n){e=(this.option("items")||[]).indexOf(t),super._executeItemRenderAction(e,t,n)}_renderItemContent(e){const t=Re(),n=this,i=Re();return i.done(()=>{const i=super._renderItemContent.call(n,e);t.resolve(i)}),this._deferredItems[e.index]=i,this.option("deferRendering")||i.resolve(),t.promise()}_render(){super._render(),We(()=>{const e=this._getSelectedItemIndices();this._updateItems(e[0])})}_getElementAria(){return{role:"group",roledescription:mr.format("dxMultiView-elementAriaRoleDescription"),label:mr.format("dxMultiView-elementAriaLabel")}}_setElementAria(){const e=this._getElementAria();this.setAria(e,this.$element())}_setItemsAria(){const e=this._itemElements(),t=this._itemsCount();e.each((e,n)=>{const i=this._getItemAria({itemIndex:e,itemsCount:t});this.setAria(i,Si(n))})}_getItemAria(e){const{itemIndex:t,itemsCount:n}=e;return{role:"group",roledescription:mr.format("dxMultiView-itemAriaRoleDescription"),label:mr.format("dxMultiView-itemAriaLabel",t+1,n)}}_updateItems(e,t){this._updateItemsPosition(e,t),this._updateItemsVisibility(e,t)}_modifyByChanges(){super._modifyByChanges.apply(this,arguments);const e=this._getSelectedItemIndices();this._updateItemsVisibility(e[0])}_updateItemsPosition(e,t){const n=this._itemElements(),i=_(t)?-this._animationDirection(t,e):void 0,r=n.eq(e);vA.move(r,0),_(t)&&vA.move(n.eq(t),100*i+"%")}_isItemVisible(e){var t;return(null===(t=this.option("items")[e])||void 0===t?void 0:t.visible)??!0}_updateItemsVisibility(e,t){this._itemElements().each((n,i)=>{const r=Si(i),o=n!==e&&n!==t;o||this._renderSpecificItem(n),r.toggleClass("dx-multiview-item-hidden",o),this.setAria("hidden",o||void 0,r)})}_renderSpecificItem(e){const t=this._itemElements().eq(e),n=t.find(this._itemContentClass()).length>0;_(e)&&!n&&(this._deferredItems[e].resolve(),Uu(t))}_refreshItem(e,t){super._refreshItem(e,t),this._updateItemsVisibility(this.option("selectedIndex"))}_setAriaSelectionAttribute(){}_updateSelection(e,t){const n=e[0],i=t[0];yA.complete(this._$itemContainer),this._updateItems(i,n);const r=this._animationDirection(n,i);this._animateItemContainer(r*this._itemWidth(),()=>{vA.move(this._$itemContainer,0),this._updateItems(n),$n(this._$itemContainer)})}_animateItemContainer(e,t){const n=this.option("animationEnabled")?200:0;yA.moveTo(this._$itemContainer,e,n,t)}_animationDirection(e,t){const n=(i=this._$itemContainer,va(i).left);var i;const r=(t-e)*this._getRTLSignCorrection()*this._getItemFocusLoopSignCorrection();return Lo(0!==n?n:r)}_getSwipeDisabledState(){return!this.option("swipeEnabled")||this._itemsCount()<=1}_initSwipeable(){this._createComponent(this.$element(),nO,{disabled:this._getSwipeDisabledState(),elastic:!1,itemSizeFunc:this._itemWidth.bind(this),onStart:e=>this._swipeStartHandler(e.event),onUpdated:e=>this._swipeUpdateHandler(e.event),onEnd:e=>this._swipeEndHandler(e.event)})}_findBoundaryIndices(){const e=this.option("items");let t,n;e.forEach((e,i)=>{const r=Boolean(null===e||void 0===e?void 0:e.disabled),o=this._isItemVisible(i);!r&&o&&(t??(t=i),n=i)}),this._boundaryIndices={firstAvailableIndex:t??0,lastAvailableIndex:n??e.length-1,firstTrueIndex:0,lastTrueIndex:e.length-1}}_swipeStartHandler(e){yA.complete(this._$itemContainer);const t=this.option("selectedIndex"),n=this.option("loop"),{firstAvailableIndex:i,lastAvailableIndex:r}=this._boundaryIndices,o=this.option("rtlEnabled");e.maxLeftOffset=bA(n||(o?t>i:t<r)),e.maxRightOffset=bA(n||(o?t<r:t>i))}_swipeUpdateHandler(e){const{offset:t}=e,n=Lo(t)*this._getRTLSignCorrection(),i=this.option("selectedIndex"),r=this._normalizeIndex(i-n,n);i!==r&&(vA.move(this._$itemContainer,t*this._itemWidth()),this._updateItems(i,r))}_findNextAvailableIndex(e,t){const{items:n,loop:i}=this.option(),{firstAvailableIndex:r,lastAvailableIndex:o,firstTrueIndex:s,lastTrueIndex:a}=this._boundaryIndices,l=[s,r].includes(e),c=[a,o].includes(e);if(i){if(l&&t<0)return o;if(c&&t>0)return r}for(let u=e+t;u>=r&&u<=o;u+=t){const e=Boolean(n[u].disabled),t=this._isItemVisible(u);if(!e&&t)return u}return e}_postprocessSwipe(e){}_swipeEndHandler(e){const t=e.targetOffset*this._getRTLSignCorrection();if(t){const e=this._findNextAvailableIndex(this.option("selectedIndex"),-t);this.selectItem(e).fail(()=>{this._animateItemContainer(0,tt)}).done(()=>{this._postprocessSwipe({swipedTabsIndex:e})});const n=this.itemElements().filter(".dx-item-selected");this.option("focusStateEnabled")&&this.option("focusedElement",ma(n))}else this._animateItemContainer(0,tt)}_getItemFocusLoopSignCorrection(){return this._itemFocusLooped?-1:1}_moveFocus(){super._moveFocus.apply(this,arguments),this._itemFocusLooped=!1}_prevItem(e){const t=super._prevItem.apply(this,arguments);return this._itemFocusLooped=t.is(e.last()),t}_nextItem(e){const t=super._nextItem.apply(this,arguments);return this._itemFocusLooped=t.is(e.first()),t}_dimensionChanged(){this._clearItemWidthCache()}_visibilityChanged(e){e&&this._dimensionChanged()}_updateSwipeDisabledState(){const e=this._getSwipeDisabledState();nO.getInstance(this.$element()).option("disabled",e)}_dispose(){delete this._boundaryIndices,super._dispose()}_itemOptionChanged(e,t){super._itemOptionChanged(...arguments);const{selectedItem:n}=this.option();"visible"===t&&e===n&&this._ensureSelectedItemIsVisible()}_optionChanged(e){const{value:t}=e;switch(e.name){case"loop":this.option("loopItemFocus",t);break;case"animationEnabled":break;case"swipeEnabled":this._updateSwipeDisabledState();break;case"deferRendering":this._invalidate();break;case"items":this._updateSwipeDisabledState(),this._findBoundaryIndices(),super._optionChanged(e);break;case"selectedIndex":this._isItemVisible(t)?super._optionChanged(e):this._ensureSelectedItemIsVisible();break;default:super._optionChanged(e)}}}Mi("dxMultiView",CA);const xA=CA;function SA(e){return e.scrollWidth-e.clientWidth}function wA(e,t){return Math.round(e)<=t}function EA(e,t,n){return Math.round(SA(e)-t)<=n}function IA(e,t){return Math.round(e)<=t}function kA(e,t,n,i){return Math.round(function(e){return e.scrollHeight-e.clientHeight}(e)-t-n)<=i}const DA="dx-tabs-expanded";const OA=class extends Fy{_renderWatchers(){super._renderWatchers(),this._startWatcher("badge",this._renderBadge.bind(this))}_renderBadge(e){if(this._$element.children(".dx-badge").remove(),!e)return;const t=Si("<div>").addClass("dx-tabs-item-badge").addClass("dx-badge").text(e);this._$element.append(t)}},TA="dx-tabs-vertical",AA="dx-tabs-horizontal",PA={top:"dx-tab-indicator-position-top",right:"dx-tab-indicator-position-right",bottom:"dx-tab-indicator-position-bottom",left:"dx-tab-indicator-position-left"},MA={top:"dx-tabs-icon-position-top",end:"dx-tabs-icon-position-end",bottom:"dx-tabs-icon-position-bottom",start:"dx-tabs-icon-position-start"},RA={primary:"dx-tabs-styling-mode-primary",secondary:"dx-tabs-styling-mode-secondary"},BA="horizontal",NA="vertical",FA="right",$A="bottom",HA="left",LA="horizontal",VA="vertical",zA="top",jA="end",WA="bottom",KA="start",UA="primary",qA="secondary";class GA extends gA{_getDefaultOptions(){return K({},super._getDefaultOptions(),{hoverStateEnabled:!0,showNavButtons:!0,scrollByContent:!0,scrollingEnabled:!0,selectionMode:"single",orientation:BA,iconPosition:KA,stylingMode:UA,activeStateEnabled:!0,selectionRequired:!1,selectOnFocus:!0,loopItemFocus:!1,useInkRipple:!1,badgeExpr:e=>null===e||void 0===e?void 0:e.badge,_itemAttributes:{role:"tab"},_indicatorPosition:null})}_defaultOptionsRules(){const e=Zs();return super._defaultOptionsRules().concat([{device:()=>"desktop"!==Is.real().deviceType,options:{showNavButtons:!1}},{device:{deviceType:"desktop"},options:{scrollByContent:!1}},{device:()=>"desktop"===Is.real().deviceType&&!Is.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>ia(e),options:{iconPosition:zA,stylingMode:qA}},{device:()=>na(e),options:{useInkRipple:!0,selectOnFocus:!1,iconPosition:zA}}])}_init(){const{orientation:e,stylingMode:t,scrollingEnabled:n}=this.option(),i=this._getIndicatorPosition();super._init(),this._activeStateUnit=".dx-tab",this.setAria("role","tablist"),this.$element().addClass("dx-tabs"),this._toggleScrollingEnabledClass(n),this._toggleOrientationClass(e),this._toggleIndicatorPositionClass(i),this._toggleIconPositionClass(),this._toggleStylingModeClass(t),this._renderWrapper(),this._renderMultiple(),this._feedbackHideTimeout=100}_prepareDefaultItemTemplate(e,t){const n=x(e)?null===e||void 0===e?void 0:e.text:e;if(_(n)){const e=Si("<span>").addClass("dx-tab-text-span");e.text(n);const i=Si("<span>").addClass("dx-tab-text-span-pseudo");i.text(n),i.appendTo(e),e.appendTo(t)}_(e.html)&&t.html(e.html)}_initTemplates(){super._initTemplates(),this._templateManager.addDefaultTemplates({item:new Bg((e,t)=>{this._prepareDefaultItemTemplate(t,e);const n=pm(t.icon);n&&n.prependTo(e);const i=Si("<div>").addClass("dx-tab-text");e.wrapInner(i)},["text","html","icon"],this.option("integrationOptions.watchMethod"))})}_itemClass(){return"dx-tab"}_selectedItemClass(){return"dx-tab-selected"}_itemDataKey(){return"dxTabData"}_initMarkup(){super._initMarkup(),this.option("useInkRipple")&&this._renderInkRipple(),this.$element().addClass("dx-overflow-hidden")}_postProcessRenderItems(){this._renderScrolling()}_renderScrolling(){const e=["dx-tabs-stretched",DA,"dx-overflow-hidden"];if(this.$element().removeClass(e.join(" ")),this.option("scrollingEnabled")&&this._isItemsSizeExceeded()){this._scrollable||(this._renderScrollable(),this._renderNavButtons());const e=this.getScrollable();if(null===e||void 0===e||e.update(),this.option("rtlEnabled")){const t=SA(Si(this.getScrollable().container()).get(0));null===e||void 0===e||e.scrollTo({left:t})}this._updateNavButtonsState();const{selectedItem:t}=this.option();this._scrollToItem(t)}this.option("scrollingEnabled")&&this._isItemsSizeExceeded()||(this._cleanScrolling(),this._needStretchItems()&&this.$element().addClass("dx-tabs-stretched"),this.$element().removeClass("dx-tabs-nav-buttons").addClass(DA))}_isVertical(){const{orientation:e}=this.option();return e===NA}_isItemsSizeExceeded(){return this._isVertical()?this._isItemsHeightExceeded():this._isItemsWidthExceeded()}_isItemsWidthExceeded(){const e=this._getVisibleItems(),t=this._getSummaryItemsSize("width",e,!0),n=$n(this.$element());if([t,n].includes(0))return!1;return t>n-1}_isItemsHeightExceeded(){const e=this._getVisibleItems();return this._getSummaryItemsSize("height",e,!0)-1>Ln(this.$element())}_needStretchItems(){const e=this._getVisibleItems(),t=$n(this.$element()),n=[];l(e,(e,t)=>{n.push(zn(t,!0))});return Math.max.apply(null,n)>t/e.length+1}_cleanNavButtons(){this._leftButton&&this._rightButton&&(this._leftButton.$element().remove(),this._rightButton.$element().remove(),this._leftButton=null,this._rightButton=null)}_cleanScrolling(){this._scrollable&&(this._$wrapper.appendTo(this.$element()),this._scrollable.$element().remove(),this._scrollable=null,this._cleanNavButtons())}_renderInkRipple(){this._inkRipple=Um()}_getPointerEvent(){return yo.up}_toggleActiveState(e,t,n){if(super._toggleActiveState(e,t,n),!this._inkRipple)return;const i={element:e,event:n};t?this._inkRipple.showWave(i):this._inkRipple.hideWave(i)}_renderMultiple(){const{selectionMode:e}=this.option();"multiple"===e&&this.option("selectOnFocus",!1)}_renderWrapper(){this._$wrapper=Si("<div>").addClass("dx-tabs-wrapper"),this.$element().append(this._$wrapper)}_itemContainer(){return this._$wrapper}_getScrollableDirection(){return this._isVertical()?VA:LA}_updateScrollable(){this.getScrollable()&&this._cleanScrolling(),this._renderScrolling()}_renderScrollable(){const e=this.$element().wrapInner(Si("<div>").addClass("dx-tabs-scrollable")).children();this._scrollable=this._createComponent(e,iC,{direction:this._getScrollableDirection(),showScrollbar:"never",useKeyboard:!1,useNative:!1,scrollByContent:this.option("scrollByContent"),onScroll:()=>{this._updateNavButtonsState()}}),this.$element().append(this._scrollable.$element())}_scrollToItem(e){if(!this._scrollable)return;const t=this._editStrategy.getItemElement(e);this._scrollable.scrollToElement(t)}_renderNavButtons(){const{showNavButtons:e,rtlEnabled:t}=this.option();if(this.$element().toggleClass("dx-tabs-nav-buttons",e),!e)return;this._leftButton=this._createNavButton(-30,t?"chevronnext":"chevronprev");const n=this._leftButton.$element();n.addClass("dx-tabs-nav-button-left"),this.$element().prepend(n),this._rightButton=this._createNavButton(30,t?"chevronprev":"chevronnext");const i=this._rightButton.$element();i.addClass("dx-tabs-nav-button-right"),this.$element().append(i)}_updateNavButtonsAriaDisabled(){[this._leftButton,this._rightButton].forEach(e=>{null===e||void 0===e||e.$element().attr({"aria-disabled":null})})}_updateNavButtonsState(){const e=this._isVertical(),t=this.getScrollable();var n,i,r,o;e?(null===(n=this._leftButton)||void 0===n||n.option("disabled",IA(t.scrollTop(),1)),null===(i=this._rightButton)||void 0===i||i.option("disabled",kA(Si(t.container()).get(0),t.scrollTop(),0,1))):(null===(r=this._leftButton)||void 0===r||r.option("disabled",wA(t.scrollLeft(),1)),null===(o=this._rightButton)||void 0===o||o.option("disabled",EA(Si(t.container()).get(0),t.scrollLeft(),1)));this._updateNavButtonsAriaDisabled()}_updateScrollPosition(e,t){var n,i;null===(n=this._scrollable)||void 0===n||n.update(),null===(i=this._scrollable)||void 0===i||i.scrollBy(e/t)}_createNavButton(e,t){const n=this._createAction(()=>{this._holdInterval=setInterval(()=>{this._updateScrollPosition(e,5)},5)}),i=or(wy,"dxNavButton"),r=or(yo.up,"dxNavButton"),o=or(yo.out,"dxNavButton"),s=this._createComponent(Si("<div>").addClass("dx-tabs-nav-button"),g_,{focusStateEnabled:!1,icon:t,integrationOptions:{},elementAttr:{role:null,"aria-label":null,"aria-disabled":null},onClick:()=>{this._updateScrollPosition(e,1)}}),a=s.$element();return rn.on(a,i,{timeout:300},e=>{n({event:e})}),rn.on(a,r,()=>{this._clearInterval()}),rn.on(a,o,()=>{this._clearInterval()}),s}_clearInterval(){this._holdInterval&&clearInterval(this._holdInterval)}_updateSelection(e){if(this._scrollable)return this._scrollable.scrollToElement(this.itemElements().eq(e[0]))}_visibilityChanged(e){e&&this._dimensionChanged()}_dimensionChanged(){this._renderScrolling()}_enterKeyHandler(e){const{focusedElement:t}=this.option();super._enterKeyHandler(e),this.option("focusedElement",t)}_itemSelectHandler(e){const{selectionMode:t}=this.option();"single"===t&&this.isItemSelected(e.currentTarget)||super._itemSelectHandler(e)}_clean(){this._cleanScrolling(),super._clean()}_toggleTabsVerticalClass(e){this.$element().toggleClass(TA,e)}_toggleTabsHorizontalClass(e){this.$element().toggleClass(AA,e)}_getIndicatorPositionClass(e){return PA[e]}_getIndicatorPosition(){const{_indicatorPosition:e,rtlEnabled:t}=this.option();if(e)return e;const n=this._isVertical();return t?n?HA:$A:n?FA:$A}_toggleIndicatorPositionClass(e){const t=this._getIndicatorPositionClass(e);this._toggleElementClasses(PA,t)}_toggleScrollingEnabledClass(e){this.$element().toggleClass("dx-tabs-scrolling-enabled",Boolean(e))}_toggleOrientationClass(e){const t=e===NA;this._toggleTabsVerticalClass(t),this._toggleTabsHorizontalClass(!t)}_getTabsIconPositionClass(){const{iconPosition:e}=this.option();switch(e){case zA:return MA.top;case jA:return MA.end;case WA:return MA.bottom;default:return MA.start}}_toggleIconPositionClass(){const e=this._getTabsIconPositionClass();this._toggleElementClasses(MA,e)}_toggleStylingModeClass(e){const t=RA[e??"primary"];this._toggleElementClasses(RA,t)}_toggleElementClasses(e,t){for(const n in e)this.$element().removeClass(e[n]);this.$element().addClass(t)}_toggleFocusedDisabledNextClass(e,t){this._itemElements().eq(e).toggleClass("dx-focused-disabled-next-tab",t)}_toggleFocusedDisabledPrevClass(e,t){this._itemElements().eq(e).toggleClass("dx-focused-disabled-prev-tab",t)}_toggleFocusedDisabledClasses(e){const{selectedIndex:t}=this.option();this._itemElements().removeClass("dx-focused-disabled-next-tab").removeClass("dx-focused-disabled-prev-tab");const n=t-1,i=t+1,r=Si(e).index(),o=this._itemElements().eq(i).hasClass("dx-state-disabled")&&r===i,s=this._itemElements().eq(n).hasClass("dx-state-disabled")&&r===n;this._toggleFocusedDisabledNextClass(t,o),this._toggleFocusedDisabledPrevClass(t,s)}_updateFocusedElement(){const{focusStateEnabled:e,selectedIndex:t}=this.option(),n=this._itemElements();if(e&&n.length){const e=n.get(t);this.option({focusedElement:e})}}_optionChanged(e){var t;const{name:n,value:i}=e;switch(n){case"useInkRipple":case"scrollingEnabled":this._toggleScrollingEnabledClass(i),this._invalidate();break;case"showNavButtons":case"badgeExpr":this._invalidate();break;case"scrollByContent":null===(t=this._scrollable)||void 0===t||t.option(n,i);break;case"width":case"height":super._optionChanged(e),this._dimensionChanged();break;case"selectionMode":this._renderMultiple(),super._optionChanged(e);break;case"focusedElement":this._toggleFocusedDisabledClasses(i),super._optionChanged(e),this._scrollToItem(i);break;case"rtlEnabled":{super._optionChanged(e);const t=this._getIndicatorPosition();this._toggleIndicatorPositionClass(t);break}case"orientation":{this._toggleOrientationClass(i);const e=this._getIndicatorPosition();this._toggleIndicatorPositionClass(e),Ct()&&this._updateScrollable();break}case"iconPosition":this._toggleIconPositionClass(),Ct()&&this._dimensionChanged();break;case"stylingMode":this._toggleStylingModeClass(i),Ct()&&this._dimensionChanged();break;case"_indicatorPosition":{const e=this._getIndicatorPosition();this._toggleIndicatorPositionClass(e);break}case"selectedIndex":case"selectedItem":case"selectedItems":super._optionChanged(e),this._updateFocusedElement();break;default:super._optionChanged(e)}}_afterItemElementInserted(){super._afterItemElementInserted(),this._planPostRenderActions()}_afterItemElementDeleted(e,t){super._afterItemElementDeleted(e,t),this._renderScrolling()}getScrollable(){return this._scrollable}}GA.ItemClass=OA,Mi("dxTabs",GA);const ZA=GA;const YA={top:"dx-tabpanel-tabs-position-top",right:"dx-tabpanel-tabs-position-right",bottom:"dx-tabpanel-tabs-position-bottom",left:"dx-tabpanel-tabs-position-left"},QA={top:"top",right:"right",bottom:"bottom",left:"left"},XA={top:"bottom",right:"left",bottom:"top",left:"right"},JA="horizontal",eP="vertical",tP="top",nP="start",iP="primary",rP="secondary";class oP extends xA{_getDefaultOptions(){return K({},super._getDefaultOptions(),{itemTitleTemplate:"title",hoverStateEnabled:!0,selectOnFocus:!1,showNavButtons:!1,scrollByContent:!0,scrollingEnabled:!0,tabsPosition:QA.top,iconPosition:nP,stylingMode:iP,onTitleClick:null,onTitleHold:null,onTitleRendered:null,badgeExpr:e=>null===e||void 0===e?void 0:e.badge,_tabsIndicatorPosition:null})}_defaultOptionsRules(){const e=Zs();return super._defaultOptionsRules().concat([{device:()=>"desktop"===Is.real().deviceType&&!Is.isSimulator(),options:{focusStateEnabled:!0}},{device:()=>!go.touch,options:{swipeEnabled:!1}},{device:{platform:"generic"},options:{animationEnabled:!1}},{device:()=>ia(e),options:{stylingMode:rP}},{device:()=>ta(e),options:{iconPosition:tP}}])}_init(){super._init(),this.$element().addClass("dx-tabpanel"),this._toggleTabPanelTabsPositionClass()}_getElementAria(){return{role:"tabpanel"}}_getItemAria(){return{role:"tabpanel"}}_initMarkup(){super._initMarkup(),this._createTitleActions(),this._renderLayout()}_prepareTabsItemTemplate(e,t){const n=pm(null===e||void 0===e?void 0:e.icon);n&&t.append(n);const i=x(e)?null===e||void 0===e?void 0:e.title:e;if(_(i)&&!x(i)){const e=Si("<span>").addClass("dx-tab-text-span");e.append(mt.createTextNode(i));const n=Si("<span>").addClass("dx-tab-text-span-pseudo");n.append(mt.createTextNode(i)),n.appendTo(e),e.appendTo(t)}}_initTemplates(){super._initTemplates(),this._templateManager.addDefaultTemplates({title:new Bg((e,t)=>{this._prepareTabsItemTemplate(t,e);const n=Si("<div>").addClass("dx-tab-text");e.wrapInner(n)},["title","icon"],this.option("integrationOptions.watchMethod"))})}_createTitleActions(){this._createTitleClickAction(),this._createTitleHoldAction(),this._createTitleRenderedAction()}_createTitleClickAction(){this._titleClickAction=this._createActionByOption("onTitleClick")}_createTitleHoldAction(){this._titleHoldAction=this._createActionByOption("onTitleHold")}_createTitleRenderedAction(){this._titleRenderedAction=this._createActionByOption("onTitleRendered")}_renderLayout(){if(this._tabs)return;const e=this.$element();this._$tabContainer=Si("<div>").addClass("dx-tabpanel-tabs").appendTo(e);const t=Si("<div>").appendTo(this._$tabContainer);this._tabs=this._createComponent(t,ZA,this._tabConfig()),this._$container=Si("<div>").addClass("dx-tabpanel-container").appendTo(e),this._$container.append(this._$wrapper);const{focusStateEnabled:n,selectedIndex:i}=this.option();if(n&&_(i)){const e=this._tabs.itemElements().get(i);e&&this._tabs.option({focusedElement:e})}}_refreshActiveDescendant(){if(!this._tabs)return;const e=this._tabs,t=e.itemElements(),n=Si(t[e.option("selectedIndex")]),i=this.getFocusedItemId();this.setAria("controls",void 0,Si(t)),this.setAria("controls",i,n)}_getTabsIndicatorPosition(){const{_tabsIndicatorPosition:e,tabsPosition:t}=this.option();return e??XA[t??QA.top]}_tabConfig(){const e=this._getTabsIndicatorPosition(),{focusStateEnabled:t,hoverStateEnabled:n,repaintChangesOnly:i,tabIndex:r,selectedIndex:o,badgeExpr:s,itemHoldTimeout:a,items:l,scrollingEnabled:c,scrollByContent:u,showNavButtons:d,loop:h,iconPosition:p,stylingMode:f}=this.option();return{selectOnFocus:!0,focusStateEnabled:t,hoverStateEnabled:n,repaintChangesOnly:i,tabIndex:r,selectedIndex:o,badgeExpr:s,onItemClick:this._titleClickAction.bind(this),onItemHold:this._titleHoldAction.bind(this),itemHoldTimeout:a,onSelectionChanging:e=>{const t=e.addedItems[0],n=this._getIndexByItemData(t),i=this.selectItem(n),r=i.state();e.cancel="pending"===r?new Promise(e=>{i.done(()=>{e(!1)}).fail(()=>{e(!0)})}):"rejected"===r},onSelectionChanged:()=>{this._refreshActiveDescendant()},onItemRendered:this._titleRenderedAction.bind(this),itemTemplate:this._getTemplateByOption("itemTitleTemplate"),items:l,noDataText:null,scrollingEnabled:c,scrollByContent:u,showNavButtons:d,itemTemplateProperty:"tabTemplate",loopItemFocus:h,selectionRequired:!0,onOptionChanged:e=>{if("focusedElement"===e.name)if(e.value){const t=Si(e.value),n=this._itemElements().eq(t.index());this.option("focusedElement",ma(n))}else this.option("focusedElement",e.value)},onFocusIn:e=>{this._focusInHandler(e.event)},onFocusOut:e=>{this._isFocusOutHandlerExecuting||this._focusOutHandler(e.event)},orientation:this._getTabsOrientation(),iconPosition:p,stylingMode:f,_itemAttributes:{class:"dx-tabpanel-tab"},_indicatorPosition:e}}_renderFocusTarget(){this._focusTarget().attr("tabIndex",-1)}_getTabsOrientation(){const{tabsPosition:e}=this.option();return[QA.right,QA.left].includes(e)?eP:JA}_getTabPanelTabsPositionClass(){const{tabsPosition:e}=this.option();switch(e){case QA.right:return YA.right;case QA.bottom:return YA.bottom;case QA.left:return YA.left;case QA.top:default:return YA.top}}_toggleTabPanelTabsPositionClass(){for(const t in YA)this.$element().removeClass(YA[t]);const e=this._getTabPanelTabsPositionClass();this.$element().addClass(e)}_updateTabsOrientation(){const e=this._getTabsOrientation();this._setTabsOption("orientation",e)}_toggleWrapperFocusedClass(e){this._toggleFocusClass(e,this._$wrapper)}_toggleDisabledFocusedClass(e){this._focusTarget().toggleClass("dx-disabled-focused-tab",e)}_updateFocusState(e,t){super._updateFocusState(e,t);const n=e.target===this._tabs._focusTarget().get(0),i=e.target===this._focusTarget().get(0);if(n&&this._toggleFocusClass(t,this._focusTarget()),n||i){const e=this._isDisabled(this.option("focusedElement"));this._toggleWrapperFocusedClass(t&&!e),this._toggleDisabledFocusedClass(t&&e)}i&&(this._toggleFocusClass(t,this._tabs.$element()),this._toggleFocusClass(t,this._tabs.option("focusedElement")))}_focusOutHandler(e){this._isFocusOutHandlerExecuting=!0,super._focusOutHandler(e),this._tabs._focusOutHandler(e),this._isFocusOutHandlerExecuting=!1}_setTabsOption(e,t){this._tabs&&this._tabs.option(e,t)}_postprocessSwipe(e){this._setTabsOption("selectedIndex",e.swipedTabsIndex)}_visibilityChanged(e){e&&this._tabs._dimensionChanged()}registerKeyHandler(e,t){super.registerKeyHandler(e,t),this._tabs&&this._tabs.registerKeyHandler(e,t)}repaint(){super.repaint(),this._tabs.repaint()}_updateTabsIndicatorPosition(){const e=this._getTabsIndicatorPosition();this._setTabsOption("_indicatorPosition",e)}_optionChanged(e){const{name:t,value:n,fullName:i}=e;switch(t){case"dataSource":default:super._optionChanged(e);break;case"items":this._setTabsOption(t,this.option(t)),this.option("repaintChangesOnly")||this._tabs.repaint(),super._optionChanged(e);break;case"width":super._optionChanged(e),this._tabs.repaint();break;case"selectedIndex":case"selectedItem":{this._setTabsOption(i,n),super._optionChanged(e);const{focusStateEnabled:t}=this.option();if(!0===t){const e=this.option("selectedIndex"),t=this._itemElements().eq(e);this.option("focusedElement",ma(t))}break}case"itemHoldTimeout":case"focusStateEnabled":case"hoverStateEnabled":this._setTabsOption(i,n),super._optionChanged(e);break;case"scrollingEnabled":case"scrollByContent":case"showNavButtons":this._setTabsOption(i,n);break;case"focusedElement":{const t=n?Si(n).index():n,i=n&&this._tabs?this._tabs._itemElements().eq(t):n;if(this._setTabsOption("focusedElement",ma(i)),n){const e=this._isDisabled(n);this._toggleWrapperFocusedClass(!e),this._toggleDisabledFocusedClass(e)}super._optionChanged(e);break}case"itemTitleTemplate":this._setTabsOption("itemTemplate",this._getTemplateByOption("itemTitleTemplate"));break;case"onTitleClick":this._createTitleClickAction(),this._setTabsOption("onItemClick",this._titleClickAction.bind(this));break;case"onTitleHold":this._createTitleHoldAction(),this._setTabsOption("onItemHold",this._titleHoldAction.bind(this));break;case"onTitleRendered":this._createTitleRenderedAction(),this._setTabsOption("onItemRendered",this._titleRenderedAction.bind(this));break;case"loop":this._setTabsOption("loopItemFocus",n),super._optionChanged(e);break;case"badgeExpr":this._invalidate();break;case"tabsPosition":this._toggleTabPanelTabsPositionClass(),this._updateTabsIndicatorPosition(),this._updateTabsOrientation();break;case"iconPosition":this._setTabsOption("iconPosition",n);break;case"stylingMode":this._setTabsOption("stylingMode",n);break;case"_tabsIndicatorPosition":this._setTabsOption("_indicatorPosition",n)}}}oP.ItemClass=class extends Fy{_renderWatchers(){this._startWatcher("badge",tt),super._renderWatchers()}},Mi("dxTabPanel",oP);const sP=oP;class aP{constructor(e){this._options=e,this._itemsRunTimeInfo=this._options.itemsRunTimeInfo}findInstance(){return this._itemsRunTimeInfo.findWidgetInstanceByItem(this._options.item)}findItemContainer(){return this._itemsRunTimeInfo.findItemContainerByItem(this._options.item)}findPreparedItem(){return this._itemsRunTimeInfo.findPreparedItemByItem(this._options.item)}tryExecute(){ie.abstract()}}const lP=(e,t)=>`${t?"tabs":"items"}[${e}]`,cP=(e,t)=>_(e)&&_(t)?`${e}.${t}`:e||t,uP=e=>e?e.replace(/\s/g,""):void 0,dP=(e,t)=>`${e}.${t}`,hP=e=>{const t=e.split(".");return t[t.length-1].replace(/\[\d+]/,"")},pP=e=>e.indexOf("tabs")>-1,fP=(e,t,n)=>{const i=e.indexOf(t);if(i>-1)return lP(i,n);for(let r=0;r<e.length;r++){const i=e[r],o=i.tabs||i.items;if(o){const e=fP(o,t,i.tabs);if(e)return cP(lP(r,n),e)}}};class mP extends aP{tryExecute(){const{value:e}=this._options,t=this.findInstance();return!!t&&(t.option(e),!0)}}class _P extends aP{tryExecute(){const e=this.findInstance();if(e){const{optionName:t,item:n,value:i}=this._options,r=this._itemsRunTimeInfo.findItemIndexByItem(n);if(r>=0)return e.option(dP(`items[${r}]`,t),i),!0}return!1}}class gP extends aP{tryExecute(){return!1}}class vP extends aP{tryExecute(){const e=this.findPreparedItem();return!(null==e||!e._prepareGroupItemTemplate||!e._renderGroupContentTemplate)&&(e._prepareGroupItemTemplate(this._options.item.template),e._renderGroupContentTemplate(),!0)}}class yP extends aP{tryExecute(){const e=this.findInstance();if(e){const{value:t}=this._options;return e.option("dataSource",t),!0}return!1}}class bP extends aP{tryExecute(){const{item:e}=this._options,t=this.findInstance(),n=t&&un(t.$element()[0],"dxValidator");if(n&&e){const t=e=>"required"===e.type,i=(n.option("validationRules")||[]).some(t),r=(e.validationRules||[]).some(t);if(!i&&!r||i&&r)return n.option("validationRules",e.validationRules),!0}return!1}}class CP extends aP{tryExecute(){const e=this.findItemContainer(),{previousValue:t,value:n}=this._options;return!!e&&(e.removeClass(t).addClass(n),!0)}}const xP=(e,t)=>{switch(e){case"editorOptions":case"buttonOptions":return new mP(t);case"validationRules":return new bP(t);case"cssClass":return new CP(t);case"badge":case"disabled":case"icon":case"tabTemplate":case"title":return new _P(A(t,{optionName:e}));case"tabs":return new yP(t);case"template":{var n,i;const r=(null===t||void 0===t||null===(n=t.item)||void 0===n?void 0:n.itemType)??(null===(i=t.itemsRunTimeInfo.findPreparedItemByItem(null===t||void 0===t?void 0:t.item))||void 0===i?void 0:i.itemType);return"simple"===r?new gP(t):"group"===r?new vP(t):new _P(A(t,{optionName:e}))}default:return null}},SP=["items","isRequired","validationRules","visible"];class wP extends yd{_init(){super._init(),this._dirtyFields=new Set,this._cachedColCountOptions=[],this._itemsRunTimeInfo=new mA,this._groupsColCount=[],this._attachSyncSubscriptions()}_getDefaultOptions(){return K({},super._getDefaultOptions(),{formID:`dx-${new ce}`,formData:{},colCount:1,screenByWidth:Et,labelLocation:"left",readOnly:!1,onFieldDataChanged:null,customizeItem:null,onEditorEnterKey:null,minColWidth:200,alignItemLabels:!0,alignItemLabelsInAllGroups:!0,alignRootItemLabels:!0,showColonAfterLabel:!0,showRequiredMark:!0,showOptionalMark:!1,requiredMark:"*",optionalMark:mr.format("dxForm-optionalMark"),requiredMessage:mr.getFormatter("dxForm-requiredMessage"),showValidationSummary:!1,scrollingEnabled:!1,stylingMode:le().editorStylingMode,labelMode:"outside",isDirty:!1})}_defaultOptionsRules(){return super._defaultOptionsRules().concat([{device:()=>ta(),options:{labelLocation:"top"}},{device:()=>na(),options:{showColonAfterLabel:!1}}])}_setOptionsByReference(){super._setOptionsByReference(),A(this._optionsByReference,{formData:!0,validationGroup:!0})}_getGroupColCount(e){return parseInt(e.attr(tA))}_applyLabelsWidthByCol(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};!function(e,t){const n=`${t} > .${YT}:not(.dx-field-item-label-location-top) > .${ZT}`,i=e.find(n),r=i.length;let o,s,a=0;for(s=0;s<r;s++)o=dA(i[s]),o>a&&(a=o);for(s=0;s<r;s++)i[s].style.width=`${a}px`}(e,`.${n.inOneColumn?qT:UT+t}${n.excludeTabbed?`:not(.${JT})`:""}`)}_applyLabelsWidth(e,t,n,i,r){i=n?1:i||this._getGroupColCount(e);const o={excludeTabbed:t,inOneColumn:n};let s;for(s=0;s<i;s++)this._applyLabelsWidthByCol(e,s,o,r)}_getGroupElementsInColumn(e,t,n){const i=_(n)?`.${eA}${n}`:"",r=`.${UT}${t} > .${QT} > .${KT}${i}`;return e.find(r)}_applyLabelsWidthWithGroups(e,t,n,i){const{alignRootItemLabels:r}=this.option();if(!0===r){const r=e.find(`.${XT}`);for(let e=0;e<t;e++)this._applyLabelsWidthByCol(r,e,n,i)}if(this.option("alignItemLabelsInAllGroups"))this._applyLabelsWidthWithNestedGroups(e,t,n,i);else{const e=this.$element().find(`.${KT}`);let t;for(t=0;t<e.length;t++)this._applyLabelsWidth(e.eq(t),n,void 0,void 0,i)}}_applyLabelsWidthWithNestedGroups(e,t,n,i){const r={excludeTabbed:n};let o,s,a,l;for(o=0;o<t;o++)for(l=this._getGroupElementsInColumn(e,o),this._applyLabelsWidthByCol(l,0,r,i),s=0;s<this._groupsColCount.length;s++){l=this._getGroupElementsInColumn(e,o,this._groupsColCount[s]);const t=this._getGroupColCount(l);for(a=1;a<t;a++)this._applyLabelsWidthByCol(l,a,r,i)}}_labelLocation(){const{labelLocation:e}=this.option();return e}_alignLabelsInColumn(e){let{layoutManager:t,inOneColumn:n,$container:i,excludeTabbed:r,items:o}=e;if(!Ct()||"top"===this._labelLocation())return;const s=cA(t._getMarkOptions());n?this._applyLabelsWidth(i,r,!0,void 0,s):this._checkGrouping(o)?this._applyLabelsWidthWithGroups(i,t._getColCount(),r,s):this._applyLabelsWidth(i,r,!1,t._getColCount(),s)}_prepareFormData(){_(this.option("formData"))||this.option("formData",{})}_setStylingModeClass(){const{stylingMode:e}=this.option();"underlined"===e&&this.$element().addClass("dx-form-styling-mode-underlined")}_initMarkup(){rh.addGroup(this._getValidationGroup(),!1),this._clearCachedInstances(),this._prepareFormData(),this.$element().addClass("dx-form"),this._setStylingModeClass(),super._initMarkup(),this.setAria("role","form",this.$element()),this.option("scrollingEnabled")&&this._renderScrollable(),this._renderLayout(),this._renderValidationSummary(),this._lastMarkupScreenFactor=this._targetScreenFactor||this._getCurrentScreenFactor(),this._attachResizeObserverSubscription()}_attachResizeObserverSubscription(){if(Ct()){const e=this.$element().get(0);Ts.unobserve(e),Ts.observe(e,()=>{this._resizeHandler()})}}_resizeHandler(){this._cachedLayoutManagers.length&&l(this._cachedLayoutManagers,(e,t)=>{var n;null===(n=t.option("onLayoutChanged"))||void 0===n||n(t.isSingleColumnMode())})}_getCurrentScreenFactor(){return Ct()?It(this.option("screenByWidth")):"lg"}_clearCachedInstances(){this._itemsRunTimeInfo.clear(),this._cachedLayoutManagers=[]}_alignLabels(e,t){this._alignLabelsInColumn({$container:this.$element(),layoutManager:e,excludeTabbed:!0,items:this.option("items"),inOneColumn:t}),Uu(this.$element().find(`.${TS}`))}_clean(){this._clearValidationSummary(),super._clean(),this._groupsColCount=[],this._cachedColCountOptions=[],this._lastMarkupScreenFactor=void 0,Ts.unobserve(this.$element().get(0))}_renderScrollable(){const e=this.option("useNativeScrolling");this._scrollable=new iC(this.$element(),{useNative:!!e,useSimulatedScrollbar:!e,useKeyboard:!1,direction:"both",bounceEnabled:!1})}_getContent(){var e;return this.option("scrollingEnabled")?Si(null===(e=this._scrollable)||void 0===e?void 0:e.content()):this.$element()}_clearValidationSummary(){var e;null===(e=this._$validationSummary)||void 0===e||e.remove(),this._$validationSummary=void 0,this._validationSummary=void 0}_renderValidationSummary(){this._clearValidationSummary(),this.option("showValidationSummary")&&(this._$validationSummary=Si("<div>").addClass("dx-form-validation-summary").appendTo(this._getContent()),this._validationSummary=this._$validationSummary.dxValidationSummary({validationGroup:this._getValidationGroup()}).dxValidationSummary("instance"))}_prepareItems(e,t,n,i){if(e){const r=[];for(let o=0;o<e.length;o++){let s=e[o];const a=cP(n,lP(o,i)),l={item:s,itemIndex:o,path:a},c=this._itemsRunTimeInfo.add(l);if(v(s)&&(s={dataField:s}),b(s)){const e=K({},s);l.preparedItem=e,e.guid=c,this._tryPrepareGroupItemCaption(e),this._tryPrepareGroupItem(e),this._tryPrepareTabbedItem(e,a),this._tryPrepareItemTemplate(e),t&&(e.cssItemClass=JT),e.items&&(e.items=this._prepareItems(e.items,t,a)),r.push(e)}else r.push(s)}return r}}_tryPrepareGroupItemCaption(e){"group"===e.itemType&&(e._prepareGroupCaptionTemplate=t=>{e.captionTemplate&&(e.groupCaptionTemplate=this._getTemplate(t)),e.captionTemplate=this._itemGroupTemplate.bind(this,e)},e._prepareGroupCaptionTemplate(e.captionTemplate))}_tryPrepareGroupItem(e){"group"===e.itemType&&(e.alignItemLabels=Fe(e.alignItemLabels,!0),e._prepareGroupItemTemplate=t=>{e.template&&(e.groupContentTemplate=this._getTemplate(t)),e.template=this._itemGroupTemplate.bind(this,e)},e._prepareGroupItemTemplate(e.template))}_tryPrepareTabbedItem(e,t){"tabbed"===e.itemType&&(e.template=this._itemTabbedTemplate.bind(this,e),e.tabs=this._prepareItems(e.tabs,!0,t,!0))}_tryPrepareItemTemplate(e){e.template&&(e.template=this._getTemplate(e.template))}_checkGrouping(e){if(e)for(let t=0;t<e.length;t++){if("group"===e[t].itemType)return!0}}_renderLayout(){const e=this;let t=e.option("items");const n=e._getContent();t=e._prepareItems(t),e._rootLayoutManager=e._renderLayoutManager(n,this._createLayoutManagerOptions(t,{isRoot:!0,colCount:e.option("colCount"),alignItemLabels:e.option("alignItemLabels"),screenByWidth:this.option("screenByWidth"),colCountByScreen:this.option("colCountByScreen"),onLayoutChanged(t){e._alignLabels.bind(e)(e._rootLayoutManager,t)},onContentReady(t){e._alignLabels(t.component,t.component.isSingleColumnMode())}}))}_tryGetItemsForTemplate(e){return e.items||[]}_itemTabbedTemplate(e,t,n){const i=Si("<div>").appendTo(n),r=A({},e.tabPanelOptions,{dataSource:e.tabs,onItemRendered:t=>{var n,i;null===(n=e.tabPanelOptions)||void 0===n||null===(i=n.onItemRendered)||void 0===i||i.call(n,t),Wu(t.itemElement)},itemTemplate:(e,t,n)=>{const i=Si(n),r=Fe(e.alignItemLabels,!0),o=this._renderLayoutManager(i,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(e),{colCount:e.colCount,alignItemLabels:r,screenByWidth:this.option("screenByWidth"),colCountByScreen:e.colCountByScreen,cssItemClass:e.cssItemClass,onLayoutChanged:t=>{this._alignLabelsInColumn({$container:i,layoutManager:o,items:e.items,inOneColumn:t})}}));this._itemsRunTimeInfo&&this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(e.guid,{layoutManager:o}),r&&this._alignLabelsInColumn({$container:i,layoutManager:o,items:e.items,inOneColumn:o.isSingleColumnMode()})}}),o=(e,t)=>{Array.isArray(e)&&e.forEach(e=>this._itemsRunTimeInfo.extendRunTimeItemInfoByKey(e.guid,{widgetInstance:t}))},s=this._createComponent(i,sP,r);Si(n).parent().addClass("dx-field-item-has-tabs"),s.on("optionChanged",e=>{"dataSource"===e.fullName&&o(e.value,e.component)}),o([{guid:e.guid},...e.tabs??[]],s)}_itemGroupCaptionTemplate(e,t,n){if(e.groupCaptionTemplate){const i=Si("<div>").addClass("dx-form-group-custom-caption").attr("id",n).appendTo(t);return e._renderGroupCaptionTemplate=()=>{const t={component:this,caption:e.caption,name:e.name};e.groupCaptionTemplate.render({model:t,container:ma(i)})},void e._renderGroupCaptionTemplate()}e.caption&&Si("<span>").addClass("dx-form-group-caption").text(e.caption).attr("id",n).appendTo(t)}_itemGroupContentTemplate(e,t){const n=Si("<div>").addClass("dx-form-group-content").appendTo(t);if(e.groupContentTemplate)e._renderGroupContentTemplate=()=>{n.empty();const t={formData:this.option("formData"),component:this};e.groupContentTemplate.render({model:t,container:ma(n)})},e._renderGroupContentTemplate();else{var i;const r=this._renderLayoutManager(n,this._createLayoutManagerOptions(this._tryGetItemsForTemplate(e),{colCount:e.colCount,colCountByScreen:e.colCountByScreen,alignItemLabels:e.alignItemLabels,cssItemClass:e.cssItemClass}));null===(i=this._itemsRunTimeInfo)||void 0===i||i.extendRunTimeItemInfoByKey(e.guid,{layoutManager:r});const o=r._getColCount();this._groupsColCount.includes(o)||this._groupsColCount.push(o),t.addClass(eA+o),t.attr(tA,o)}}_itemGroupTemplate(e,t,n){const{id:i}=t.editorOptions.inputAttr,r=Si("<div>").toggleClass("dx-form-group-with-caption",_(e.caption)&&e.caption.length).addClass(KT).appendTo(n),o={role:"group",labelledby:i};this.setAria(o,r),Si(n).parent().addClass("dx-field-item-has-group"),this._itemGroupCaptionTemplate(e,r,i),this._itemGroupContentTemplate(e,r)}_createLayoutManagerOptions(e,t){return function(e){let{form:t,$formElement:n,formOptions:i,items:r,validationGroup:o,extendedLayoutManagerOptions:s,onFieldDataChanged:a,onContentReady:l,onDisposing:c,onFieldItemRendered:u}=e;const d={form:t,items:r,$formElement:n,validationGroup:o,onFieldDataChanged:a,onContentReady:l,onDisposing:c,onFieldItemRendered:u,validationBoundary:i.scrollingEnabled?n:void 0,scrollingEnabled:i.scrollingEnabled,showRequiredMark:i.showRequiredMark,showOptionalMark:i.showOptionalMark,requiredMark:i.requiredMark,optionalMark:i.optionalMark,requiredMessage:i.requiredMessage,screenByWidth:i.screenByWidth,layoutData:i.formData,labelLocation:i.labelLocation,customizeItem:i.customizeItem,minColWidth:i.minColWidth,showColonAfterLabel:i.showColonAfterLabel,onEditorEnterKey:i.onEditorEnterKey,labelMode:i.labelMode};return A(d,{isRoot:s.isRoot,colCount:s.colCount,alignItemLabels:s.alignItemLabels,cssItemClass:s.cssItemClass,colCountByScreen:s.colCountByScreen,onLayoutChanged:s.onLayoutChanged,width:s.width})}({form:this,formOptions:this.option(),$formElement:this.$element(),items:e,validationGroup:this._getValidationGroup(),extendedLayoutManagerOptions:t,onFieldDataChanged:e=>{this._isDataUpdating||this._triggerOnFieldDataChanged(e)},onContentReady:e=>{var n;this._itemsRunTimeInfo.addItemsOrExtendFrom(e.component._itemsRunTimeInfo),null===(n=t.onContentReady)||void 0===n||n.call(t,e)},onDisposing:e=>{let{component:t}=e;const n=t.getItemsRunTimeInfo();this._itemsRunTimeInfo.removeItemsByItems(n)},onFieldItemRendered:()=>{var e;null===(e=this._validationSummary)||void 0===e||e.refreshValidationGroup()}})}_renderLayoutManager(e,t){const n={lg:t.colCount,md:t.colCount,sm:t.colCount,xs:1};this._cachedColCountOptions.push({colCountByScreen:A(n,t.colCountByScreen)});const i=Si("<div>");i.appendTo(e);const r=this._createComponent(i,"dxLayoutManager",t);return r.on("autoColCountChanged",()=>{this._clearAutoColCountChangedTimeout(),this.autoColCountChangedTimeoutId=setTimeout(()=>!this._disposed&&this._refresh(),0)}),this._cachedLayoutManagers.push(r),r}_getValidationGroup(){return this.option("validationGroup")||this}_createComponent(e,t,n){return n=n||{},this._extendConfig(n,{readOnly:this.option("readOnly")}),super._createComponent(e,t,n)}_attachSyncSubscriptions(){const e=this;e.on("optionChanged",t=>{const n=t.fullName;"formData"===n&&(_(t.value)||e._options.silent("formData",t.value={}),e._triggerOnFieldDataChangedByDataSet(t.value)),e._cachedLayoutManagers.length&&l(e._cachedLayoutManagers,(i,r)=>{"formData"===n&&(e._isDataUpdating=!0,r.option("layoutData",t.value),e._isDataUpdating=!1),"readOnly"!==t.name&&"disabled"!==t.name||r.option(n,t.value)})})}_optionChanged(e){const t=e.fullName.split(".");t.length>1&&-1!==t[0].search("items")&&this._itemsOptionChangedHandler(e)||t.length>1&&-1!==t[0].search("formData")&&this._formDataOptionChangedHandler(e)||this._defaultOptionChangedHandler(e)}_defaultOptionChangedHandler(e){switch(e.name){case"formData":this.option("items")?C(e.value)&&this._clear():this._invalidate();break;case"onFieldDataChanged":case"alignRootItemLabels":case"readOnly":case"isDirty":break;case"items":case"colCount":case"onEditorEnterKey":case"labelLocation":case"labelMode":case"alignItemLabels":case"showColonAfterLabel":case"customizeItem":case"alignItemLabelsInAllGroups":case"showRequiredMark":case"showOptionalMark":case"requiredMark":case"optionalMark":case"requiredMessage":case"scrollingEnabled":case"formID":case"colCountByScreen":case"screenByWidth":case"stylingMode":this._invalidate();break;case"showValidationSummary":this._renderValidationSummary();break;case"minColWidth":{const{colCount:e}=this.option();"auto"===e&&this._invalidate();break}case"width":super._optionChanged(e),this._rootLayoutManager.option(e.name,e.value),this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode());break;case"validationGroup":rh.removeGroup(e.previousValue||this),this._invalidate();break;default:super._optionChanged(e)}}_itemsOptionChangedHandler(e){const t=e.fullName.split("."),{value:n}=e,i=this._getItemPath(t),r=this.option(i),o=e.fullName.replace(`${i}.`,""),s=o.split(".")[0].replace(/\[\d+]/,""),a=this._tryCreateItemOptionAction(s,r,r[s],e.previousValue,i);let l=this._tryExecuteItemOptionAction(a)||this._tryChangeLayoutManagerItemOption(e.fullName,n);if(!l&&r){this._changeItemOption(r,o,n);const e=this._generateItemsFromData(this.option("items"));this.option("items",e),l=!0}return l}_formDataOptionChangedHandler(e){const t=e.fullName.split("."),{value:n}=e,i=t.slice(1).join("."),r=this.getEditor(i);return r?r.option("value",n):this._triggerOnFieldDataChanged({dataField:i,value:n}),!0}_tryCreateItemOptionAction(e,t,n,i,r){return"tabs"===e&&(this._itemsRunTimeInfo.removeItemsByPathStartWith(`${r}.tabs`),n=this._prepareItems(n,!0,r,!0)),xP(e,{item:t,value:n,previousValue:i,itemsRunTimeInfo:this._itemsRunTimeInfo})}_tryExecuteItemOptionAction(e){return null===e||void 0===e?void 0:e.tryExecute()}_updateValidationGroupAndSummaryIfNeeded(e){const t=hP(e);var n;SP.includes(t)&&(rh.addGroup(this._getValidationGroup(),!1),this.option("showValidationSummary")&&(null===(n=this._validationSummary)||void 0===n||n.refreshValidationGroup()))}_setLayoutManagerItemOption(e,t,n,i){if(this._updateLockCount>0){!e._updateLockCount&&e.beginUpdate();const t=this._itemsRunTimeInfo.findKeyByPath(i);this.postponedOperations.add(t,()=>(!e._disposed&&e.endUpdate(),Re().resolve()))}const r=e=>{if(e.component.off("contentReady",r),pP(i)){const e=(e=>{const t=e.split("."),n=[...t];for(let i=t.length-1;i>=0;i--){if(pP(t[i]))return n.join(".");n.splice(i,1)}return""})(i),t=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(e);t&&this._alignLabelsInColumn({items:t.option("items"),layoutManager:t,$container:t.$element(),inOneColumn:t.isSingleColumnMode()})}else this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())};e.on("contentReady",r),e.option(t,n),this._updateValidationGroupAndSummaryIfNeeded(t)}_tryChangeLayoutManagerItemOption(e,t){const n=e.split("."),i=hP(e);if("items"===i&&n.length>1){const e=this._getItemPath(n),r=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(e);if(r){this._itemsRunTimeInfo.removeItemsByItems(r.getItemsRunTimeInfo());const n=this._prepareItems(t,!1,e);return this._setLayoutManagerItemOption(r,i,n,e),!0}}else if(n.length>2){const e=n.length-2,r=this._getItemPath(n.slice(0,e)),o=this._itemsRunTimeInfo.findGroupOrTabLayoutManagerByPath(r);if(o){const s=dP(n[e],i);if("editorType"===i&&o.option(s)!==t)return!1;if("visible"===i){const e=this.option(dP(r,"items"));if(null!==e&&void 0!==e&&e.length){const t=o.option("items");e.forEach((e,n)=>{t[n].visibleIndex=e.visibleIndex})}}return this._setLayoutManagerItemOption(o,s,t,r),!0}}return!1}_tryChangeLayoutManagerItemOptions(e,t){let n;return this.beginUpdate(),l(t,(t,i)=>{if(n=this._tryChangeLayoutManagerItemOption(dP(e,t),i),!n)return!1}),this.endUpdate(),n}_getItemPath(e){let t,n=e[0];for(t=1;t<e.length&&-1!==e[t].search(/items\[\d+]|tabs\[\d+]/);t++)n+=`.${e[t]}`;return n}_triggerOnFieldDataChanged(e){this._updateIsDirty(e.dataField),this._createActionByOption("onFieldDataChanged")(e)}_triggerOnFieldDataChangedByDataSet(e){e&&b(e)&&Object.keys(e).forEach(t=>{this._triggerOnFieldDataChanged({dataField:t,value:e[t]})})}_updateFieldValue(e,t){if(_(this.option("formData"))){const n=this.getEditor(e);if(this.option(`formData.${e}`,t),n){n.option("value")!==t&&n.option("value",t)}}}_generateItemsFromData(e){const t=this.option("formData"),n=[];return!e&&_(t)&&l(t,e=>{n.push({dataField:e})}),e&&l(e,(e,t)=>{b(t)?n.push(t):n.push({dataField:t})}),n}_getItemByField(e,t){const n=this,i=b(e)?e:n._getFieldParts(e),{fieldName:r}=i,{fieldPath:o}=i;let s;return t.length&&l(t,(e,t)=>{const{itemType:i}=t;if(o.length){const e=o.slice();t=n._getItemByFieldPath(e,r,t)}else if("group"===i&&!t.caption&&!t.name||"tabbed"===i&&!t.name){const e=n._getSubItemField(i);t.items=n._generateItemsFromData(t.items),t=n._getItemByField({fieldName:r,fieldPath:o},t[e])}if(((e,t)=>!!e&&(e.dataField===t||e.name===t||uP(e.title)===t||"group"===e.itemType&&uP(e.caption)===t))(t,r))return s=t,!1}),s}_getFieldParts(e){let t=e,n=t.indexOf(".");const i=[];for(;-1!==n;)i.push(t.substr(0,n)),t=t.substr(n+1),n=t.indexOf(".");return{fieldName:t,fieldPath:i.reverse()}}_getItemByFieldPath(e,t,n){const i=this,{itemType:r}=n,o=i._getSubItemField(r),s="group"===r||"tabbed"===r||n.title;let a;do{if(!s)break;{const r=n.name||n.caption||n.title,s=_(r),l=uP(r);let c;if(n[o]=i._generateItemsFromData(n[o]),s&&(c=e.pop()),!e.length&&(a=i._getItemByField(t,n[o]),a))break;(!s||s&&l===c)&&e.length&&(a=i._searchItemInEverySubItem(e,t,n[o]))}}while(e.length&&!_(a));return a}_getSubItemField(e){return"tabbed"===e?"tabs":"items"}_searchItemInEverySubItem(e,t,n){const i=this;let r;return l(n,(n,o)=>{if(r=i._getItemByFieldPath(e.slice(),t,o),r)return!1}),r||(r=!1),r}_changeItemOption(e,t,n){b(e)&&(e[t]=n)}_dimensionChanged(){const e=this._getCurrentScreenFactor();this._lastMarkupScreenFactor!==e&&(this._isColCountChanged(this._lastMarkupScreenFactor,e)&&(this._targetScreenFactor=e,this._refresh(),this._targetScreenFactor=void 0),this._lastMarkupScreenFactor=e)}_isColCountChanged(e,t){let n=!1;return l(this._cachedColCountOptions,(i,r)=>{if(r.colCountByScreen[e]!==r.colCountByScreen[t])return n=!0,!1}),n}_refresh(){rn.trigger(this.$element().find(".dx-texteditor.dx-state-focused:not(.dx-dropdowneditor) .dx-texteditor-input"),"change"),super._refresh()}_updateIsDirty(e){const t=this.getEditor(e);t&&(t.option("isDirty")?this._dirtyFields.add(e):this._dirtyFields.delete(e),this.option("isDirty",!!this._dirtyFields.size))}updateRunTimeInfoForEachEditor(e){this._itemsRunTimeInfo.each((t,n)=>{const{widgetInstance:i}=n;_(i)&&Ig.isEditor(i)&&e(i)})}_clear(){this.updateRunTimeInfoForEachEditor(e=>{e.clear(),e.option("isValid",!0)}),rh.resetGroup(this._getValidationGroup())}_updateData(e,t,n){const i=this,r=n?t:e;b(r)?l(r,(t,r)=>{i._updateData(n?`${e}.${t}`:t,r,b(r))}):v(e)&&i._updateFieldValue(e,t)}registerKeyHandler(e,t){super.registerKeyHandler(e,t),this._itemsRunTimeInfo.each((n,i)=>{_(i.widgetInstance)&&i.widgetInstance.registerKeyHandler(e,t)})}_focusTarget(){return this.$element().find(`.${QT} [tabindex]`).first()}_visibilityChanged(){this._alignLabels(this._rootLayoutManager,this._rootLayoutManager.isSingleColumnMode())}_clearAutoColCountChangedTimeout(){this.autoColCountChangedTimeoutId&&(clearTimeout(this.autoColCountChangedTimeoutId),this.autoColCountChangedTimeoutId=void 0)}_dispose(){this._clearAutoColCountChangedTimeout(),rh.removeGroup(this._getValidationGroup()),super._dispose()}clear(){this._clear()}resetValues(){this._clear()}reset(e){this.updateRunTimeInfoForEachEditor(t=>{const n=t.option("name");e&&n in e?(t.reset(e[n]),this._updateIsDirty(n)):t.reset()}),this._renderValidationSummary()}updateData(e,t){this._updateData(e,t)}getEditor(e){return this._itemsRunTimeInfo.findWidgetInstanceByDataField(e)||this._itemsRunTimeInfo.findWidgetInstanceByName(e)}getButton(e){return this._itemsRunTimeInfo.findWidgetInstanceByName(e)}updateDimensions(){const e=this,t=Re();return e._scrollable?e._scrollable.update().done(()=>{t.resolveWith(e)}):t.resolveWith(e),t.promise()}itemOption(e,t,n){const i=this._generateItemsFromData(this.option("items")),r=this._getItemByField(e,i),o=fP(i,r);if(r)switch(arguments.length){case 1:return r;case 3:{const e=this._tryCreateItemOptionAction(t,r,n,r[t],o);this._changeItemOption(r,t,n);const s=dP(o,t);this._tryExecuteItemOptionAction(e)||this._tryChangeLayoutManagerItemOption(s,n)||this.option("items",i);break}default:if(b(t)&&!this._tryChangeLayoutManagerItemOptions(o,t)){let e;l(t,(t,n)=>{const i=this._tryCreateItemOptionAction(t,r,n,r[t],o);this._changeItemOption(r,t,n),e||this._tryExecuteItemOptionAction(i)||(e=!0)}),e&&this.option("items",i)}}}validate(){return rh.validateGroup(this._getValidationGroup())}getItemID(e){const{formID:t}=this.option();return`dx_${t}_${e||new ce}`}getTargetScreenFactor(){return this._targetScreenFactor}}Mi("dxForm",wP);const EP=wP,IP=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"],kP={insertHeaderRow:"header",clear:"clearformat"};function DP(){return IP.map(e=>({id:e,value:mr.format(`dxHtmlEditor-borderStyle${Jn(e,!0)}`)}))}function OP(e){return{clear:t=>{let{event:n}=t;const i=e.quill.getSelection();var r;i&&(e.saveValueChangeEvent(n),e.quill.removeFormat(i),null===(r=HP(e))||void 0===r||r.updateFormatWidgets())},link:RP(e),image:BP(e,e.editorInstance.option("imageUpload")),color:FP(e,"color"),background:FP(e,"background"),orderedList:$P(e,"list","ordered"),bulletList:$P(e,"list","bullet"),alignLeft:$P(e,"align","left"),alignCenter:$P(e,"align","center"),alignRight:$P(e,"align","right"),alignJustify:$P(e,"align","justify"),codeBlock:LP(e,"code-block"),undo:t=>{let{event:n}=t;e.saveValueChangeEvent(n),e.quill.history.undo()},redo:t=>{let{event:n}=t;e.saveValueChangeEvent(n),e.quill.history.redo()},increaseIndent:t=>{let{event:n}=t;PP(e,["indent","+1","user"],n)},decreaseIndent:t=>{let{event:n}=t;PP(e,["indent","-1","user"],n)},superscript:$P(e,"script","super"),subscript:$P(e,"script","sub"),insertTable:VP(e),insertHeaderRow:ek(e.quill,"insertHeaderRow"),insertRowAbove:ek(e.quill,"insertRowAbove"),insertRowBelow:ek(e.quill,"insertRowBelow"),insertColumnLeft:ek(e.quill,"insertColumnLeft"),insertColumnRight:ek(e.quill,"insertColumnRight"),deleteColumn:ek(e.quill,"deleteColumn"),deleteRow:ek(e.quill,"deleteRow"),deleteTable:ek(e.quill,"deleteTable"),cellProperties:AP(e,"cell"),tableProperties:AP(e,"table")}}function TP(e,t){let{contentTemplate:n,title:i,minHeight:r,minWidth:o,maxWidth:s}=t;e.formDialogOption({contentTemplate:n,title:i,minHeight:r??0,minWidth:o??0,maxWidth:s??"none"})}function AP(e,t){return n=>{var i;null!==(i=n)&&void 0!==i&&i.length||(n=Si(function(e,t){const n=e.quill.getModule("table").getTable();return"table"===t?n[0].domNode:n[2].domNode}(e,t)));const[r,o]=e.quill.getModule("table").getTable()??[],s=e.quill.getFormat(e.editorInstance.getSelection(!0)),a=function(e){return"cell"===e?jP:zP}(t)(e,{$element:n,formats:s,tableBlot:r,rowBlot:o}),{contentTemplate:l,title:c,minHeight:u,minWidth:d,maxWidth:h}=e.editorInstance._formDialog._popup.option(),p={contentTemplate:l,title:c,minHeight:u,minWidth:d,maxWidth:h};let f;e.editorInstance.formDialogOption({contentTemplate:t=>{const n=Si("<div>").appendTo(t),i=Si("<div>").appendTo(n);return e.editorInstance._createComponent(i,EP,a.formOptions),e.editorInstance._createComponent(n,zx,{}),f=i.dxForm("instance"),n},title:mr.format(`dxHtmlEditor-${t}Properties`),minHeight:400,minWidth:Math.min(800,.9*$n(St())-1),maxWidth:.9*$n(St())});const m=e.editorInstance.showFormDialog();m.done((t,n)=>{e.saveValueChangeEvent(n),a.applyHandler(f),TP(e.editorInstance,p)}),m.fail(()=>{e.quill.focus(),TP(e.editorInstance,p)})}}function PP(e,t,n){e.saveValueChangeEvent(n),e.quill.format(...t)}function MP(e){return Array.isArray(e)?e[0]:e}function RP(e){return()=>{var t;e.quill.focus();let n=e.quill.getSelection();const i=n?e.quill.getFormat():{},r=void 0!==i.link&&0===(null===(t=n)||void 0===t?void 0:t.length);let o=i.link||"";if(r){const t=function(e,t){const n=Zw().import("formats/link");let i,r;return[i,r]=e.quill.scroll.descendant(n,t.index),i||0!==t.length||([i,r]=e.quill.scroll.descendant(n,t.index-1),i&&(r+=1)),i?{index:t.index-r,length:i.length()}:null}(e,n);t?n=t:o=""}const s=function(e,t){return!!t&&e.quill.getText(t).length<t.length}(e,n),a={href:o,text:n&&!s?e.quill.getText(n):"",target:!Object.prototype.hasOwnProperty.call(i,"target")||!!i.target};e.editorInstance.formDialogOption("title",mr.format("dxHtmlEditor-dialogLinkCaption"));const l=e.editorInstance.showFormDialog({formData:a,items:NP(s)});l.done((t,i)=>{if(n&&!s){const r=t.text||t.href,{index:o,length:s}=n;t.text=void 0,e.saveValueChangeEvent(i),s&&e.quill.deleteText(o,s,"silent"),e.quill.insertText(o,r,"link",t,"user"),e.quill.setSelection(o+r.length,0,"user")}else t.text=n||t.text?t.text:t.href,PP(e,["link",t,"user"],i)}),l.fail(()=>{e.quill.focus()})}}function BP(e,t){const n=new $E(e,t);return()=>{n.render()}}function NP(e){return[{dataField:"href",label:{text:mr.format("dxHtmlEditor-dialogLinkUrlField")}},{dataField:"text",label:{text:mr.format("dxHtmlEditor-dialogLinkTextField")},visible:!e},{dataField:"target",editorType:"dxCheckBox",editorOptions:{text:mr.format("dxHtmlEditor-dialogLinkTargetField")},cssClass:"dx-formdialog-field-target",label:{visible:!1}}]}function FP(e,t){return()=>{const n=e.quill.getFormat(),i="color"===t?"dxHtmlEditor-dialogColorCaption":"dxHtmlEditor-dialogBackgroundCaption";e.editorInstance.formDialogOption("title",mr.format(i));const r=e.editorInstance.showFormDialog({formData:n,items:[{dataField:t,editorType:"dxColorView",editorOptions:{focusStateEnabled:!1},label:{visible:!1}}]});r.done((n,i)=>{PP(e,[t,n[t],"user"],i)}),r.fail(()=>{e.quill.focus()})}}function $P(e,t,n){return i=>{var r;let{event:o}=i;const s=e.quill.getFormat()[t]!==n&&n;PP(e,[t,s,"user"],o),null===(r=HP(e))||void 0===r||r.updateFormatWidgets(!0)}}function HP(e){return e._updateFormatWidget?e:e.quill.getModule("toolbar")}function LP(e,t){return n=>{var i;let{event:r}=n;const o=e.quill.getFormat(),s=o[t],a=!(p(s)?s:_(s));PP(e,[t,a,"user"],r),null===(i=HP(e))||void 0===i||i._updateFormatWidget(t,a,o)}}function VP(e){return()=>{const t=e.quill.getFormat(),n=e._tableFormats.some(e=>Object.prototype.hasOwnProperty.call(t,e));if(n)return void e.quill.focus();e.editorInstance.formDialogOption("title",mr.format("dxHtmlEditor-dialogInsertTableCaption"));e.editorInstance.showFormDialog({formData:{rows:1,columns:1},items:[{dataField:"columns",editorType:"dxNumberBox",editorOptions:{min:1},label:{text:mr.format("dxHtmlEditor-dialogInsertTableRowsField")}},{dataField:"rows",editorType:"dxNumberBox",editorOptions:{min:1},label:{text:mr.format("dxHtmlEditor-dialogInsertTableColumnsField")}}]}).done((t,n)=>{e.quill.focus();const i=e.quill.getModule("table");if(i){e.saveValueChangeEvent(n);const{columns:r,rows:o}=t;i.insertTable(r,o)}}).always(()=>{e.quill.focus()})}}function zP(e,t){let{$element:n,formats:i,tableBlot:r}=t;const o=St();let s,a,c;const u=n,{editorInstance:d}=e,h=parseInt(i.tableWidth)||zn(u),p=o.getComputedStyle(u.get(0)),f="start"===p.textAlign?"left":p.textAlign;return{formOptions:{colCount:2,formData:{width:h,height:_(i.tableHeight)?parseInt(i.tableHeight):jn(u),backgroundColor:i.tableBackgroundColor||p.backgroundColor,borderStyle:i.tableBorderStyle||p.borderTopStyle,borderColor:i.tableBorderColor||p.borderTopColor,borderWidth:parseInt(_(i.tableBorderWidth)?i.tableBorderWidth:p.borderTopWidth),alignment:i.tableAlign||f},items:[{itemType:"group",caption:mr.format("dxHtmlEditor-border"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"borderStyle",label:{text:mr.format("dxHtmlEditor-style")},editorType:"dxSelectBox",editorOptions:{items:DP(),valueExpr:"id",displayExpr:"value",placeholder:"Select style"}},{dataField:"borderWidth",label:{text:mr.format("dxHtmlEditor-borderWidth")},editorOptions:{placeholder:mr.format("dxHtmlEditor-pixels")}},{itemType:"simple",dataField:"borderColor",label:{text:mr.format("dxHtmlEditor-borderColor")},colSpan:2,template:e=>{const t=Si("<div>");return d._createComponent(t,iD,{editAlphaChannel:!0,value:e.component.option("formData").borderColor,onInitialized:e=>{a=e.component}}),t}}]},{itemType:"group",caption:mr.format("dxHtmlEditor-dimensions"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"width",label:{text:mr.format("dxHtmlEditor-width")},editorOptions:{min:0,placeholder:mr.format("dxHtmlEditor-pixels")}},{dataField:"height",label:{text:mr.format("dxHtmlEditor-height")},editorOptions:{min:0,placeholder:mr.format("dxHtmlEditor-pixels")}}]},{itemType:"group",caption:mr.format("dxHtmlEditor-tableBackground"),items:[{itemType:"simple",dataField:"backgroundColor",label:{text:mr.format("dxHtmlEditor-borderColor")},template:e=>{const t=Si("<div>");return d._createComponent(t,iD,{editAlphaChannel:!0,value:e.component.option("formData").backgroundColor,onInitialized:e=>{c=e.component}}),t}}]},{itemType:"group",caption:mr.format("dxHtmlEditor-alignment"),items:[{itemType:"simple",label:{text:mr.format("dxHtmlEditor-horizontal")},template:()=>{const e=Si("<div>");return d._createComponent(e,BE,{items:[{value:"left",icon:"alignleft"},{value:"center",icon:"aligncenter"},{value:"right",icon:"alignright"},{value:"justify",icon:"alignjustify"}],keyExpr:"value",selectedItemKeys:[f],onInitialized:e=>{s=e.component}}),e}}]}],showColonAfterLabel:!0,labelLocation:"top",minColWidth:400},applyHandler:t=>{const n=t.option("formData"),i=n.width===h?void 0:n.width,o=n.height;!function(e,t){let{$table:n,newHeight:i,newWidth:r,tableBlot:o}=t;if(_(r)){if(YI(n).length>0)e.editorInstance.format("tableWidth",`${r}px`);else{const t=ZI(n),i=zn(n);GI(n,{tableBlot:o}),l(t,(t,o)=>{const s=Si(o),a=r/i*zn(s),l=XI(n,s.index(),"horizontal");QI(e,{elements:l,property:"width",value:a})})}}const s=YI(n,"vertical");if((null===s||void 0===s?void 0:s.length)>0)o.format("tableHeight",`${i}px`);else{const t=JI(n),r=jn(n);l(t,(t,o)=>{const s=Si(o),a=i/r*jn(s),l=XI(n,t,"vertical");QI(e,{elements:l,property:"height",value:a})})}}(e,{$table:u,newHeight:o,newWidth:i,tableBlot:r}),e.editorInstance.format("tableBorderStyle",n.borderStyle),e.editorInstance.format("tableBorderWidth",`${n.borderWidth}px`),e.editorInstance.format("tableBorderColor",a.option("value")),e.editorInstance.format("tableBackgroundColor",c.option("value")),e.editorInstance.format("tableTextAlign",s.option("selectedItemKeys")[0])}}}function jP(e,t){let{$element:n,formats:i,tableBlot:r,rowBlot:o}=t;const s=St();let a,l,c,u;const d=n,h=_(i.cellWidth)?parseInt(i.cellWidth):zn(d),{editorInstance:p}=e,f=s.getComputedStyle(d.get(0)),m="start"===f.textAlign?"left":f.textAlign;return{formOptions:{colCount:2,formData:{width:h,height:_(i.cellHeight)?parseInt(i.cellHeight):jn(d),backgroundColor:MP(i.cellBackgroundColor)||f.backgroundColor,borderStyle:i.cellBorderStyle||f.borderTopStyle,borderColor:MP(i.cellBorderColor)||f.borderTopColor,borderWidth:parseInt(_(i.cellBorderWidth)?i.cellBorderWidth:f.borderTopWidth),alignment:i.cellTextAlign||m,verticalAlignment:i.cellVerticalAlign||f.verticalAlign,verticalPadding:parseInt(_(i.cellPaddingTop)?i.cellPaddingTop:f.paddingTop),horizontalPadding:parseInt(_(i.cellPaddingLeft)?i.cellPaddingLeft:f.paddingLeft)},items:[{itemType:"group",caption:mr.format("dxHtmlEditor-border"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"borderStyle",label:{text:mr.format("dxHtmlEditor-style")},editorType:"dxSelectBox",editorOptions:{items:DP(),valueExpr:"id",displayExpr:"value"}},{dataField:"borderWidth",label:{text:mr.format("dxHtmlEditor-borderWidth")},editorOptions:{placeholder:mr.format("dxHtmlEditor-pixels")}},{itemType:"simple",dataField:"borderColor",colSpan:2,label:{text:mr.format("dxHtmlEditor-borderColor")},template:e=>{const t=Si("<div>");return p._createComponent(t,iD,{editAlphaChannel:!0,value:e.component.option("formData").borderColor,onInitialized:e=>{c=e.component}}),t}}]},{itemType:"group",caption:mr.format("dxHtmlEditor-dimensions"),colCount:2,colCountByScreen:{xs:2},items:[{dataField:"width",label:{text:mr.format("dxHtmlEditor-width")},editorOptions:{min:0,placeholder:mr.format("dxHtmlEditor-pixels")}},{dataField:"height",label:{text:mr.format("dxHtmlEditor-height")},editorOptions:{min:0,placeholder:mr.format("dxHtmlEditor-pixels")}},{dataField:"verticalPadding",label:{text:mr.format("dxHtmlEditor-paddingVertical")},editorOptions:{placeholder:mr.format("dxHtmlEditor-pixels")}},{label:{text:mr.format("dxHtmlEditor-paddingHorizontal")},dataField:"horizontalPadding",editorOptions:{placeholder:mr.format("dxHtmlEditor-pixels")}}]},{itemType:"group",caption:mr.format("dxHtmlEditor-tableBackground"),items:[{itemType:"simple",dataField:"backgroundColor",label:{text:mr.format("dxHtmlEditor-borderColor")},template:e=>{const t=Si("<div>");return p._createComponent(t,iD,{editAlphaChannel:!0,value:e.component.option("formData").backgroundColor,onInitialized:e=>{u=e.component}}),t}}]},{itemType:"group",caption:mr.format("dxHtmlEditor-alignment"),colCount:2,items:[{itemType:"simple",label:{text:mr.format("dxHtmlEditor-horizontal")},template:()=>{const e=Si("<div>");return p._createComponent(e,BE,{items:[{value:"left",icon:"alignleft"},{value:"center",icon:"aligncenter"},{value:"right",icon:"alignright"},{value:"justify",icon:"alignjustify"}],keyExpr:"value",selectedItemKeys:[m],onInitialized:e=>{a=e.component}}),e}},{itemType:"simple",label:{text:mr.format("dxHtmlEditor-vertical")},template:()=>{const e=Si("<div>");return p._createComponent(e,BE,{items:[{value:"top",icon:"verticalaligntop"},{value:"middle",icon:"verticalaligncenter"},{value:"bottom",icon:"verticalalignbottom"}],keyExpr:"value",selectedItemKeys:[f.verticalAlign],onInitialized:e=>{l=e.component}}),e}}]}],showColonAfterLabel:!0,labelLocation:"top",minColWidth:400},applyHandler:t=>{const n=t.option("formData"),i=n.width===parseInt(h)?void 0:n.width,s=n.height;!function(e,t){let{$cell:n,newHeight:i,newWidth:r,tableBlot:o,rowBlot:s}=t;const a=Si(n.closest("table"));if(_(r)){const t=Si(n).index();let i=XI(a,t);const s=r-zn(n);r>zn(a)&&GI(a,{tableBlot:o}),QI(e,{elements:i,property:"width",value:r});const l=n.next();if(0===YI(a).length)if(GI(a,{tableBlot:o}),1===l.length){i=XI(a,t+1);const n=zn(i.eq(0))-s;QI(e,{elements:i,property:"width",value:Math.max(n,0)})}else{if(1===n.prev().length){i=XI(a,t-1);const n=zn(i.eq(0))-s;QI(e,{elements:i,property:"width",value:Math.max(n,0)})}}}s.children.forEach(e=>{e.format("cellHeight",`${i}px`)});0===YI(a,"vertical").length&&a.css("height","auto")}(e,{$cell:d,newHeight:s,newWidth:i,tableBlot:r,rowBlot:o}),e.editorInstance.format("cellBorderWidth",`${n.borderWidth}px`),e.editorInstance.format("cellBorderColor",c.option("value")),e.editorInstance.format("cellBorderStyle",n.borderStyle),e.editorInstance.format("cellBackgroundColor",u.option("value")),e.editorInstance.format("cellTextAlign",a.option("selectedItemKeys")[0]),e.editorInstance.format("cellVerticalAlign",l.option("selectedItemKeys")[0]),e.editorInstance.format("cellPaddingLeft",`${n.horizontalPadding}px`),e.editorInstance.format("cellPaddingRight",`${n.horizontalPadding}px`),e.editorInstance.format("cellPaddingTop",`${n.verticalPadding}px`),e.editorInstance.format("cellPaddingBottom",`${n.verticalPadding}px`)}}}const WP=or("dxcontextmenu","dxHtmlEditorTableContextMenu");let KP=aE;const UP=e=>mr.format(`dxHtmlEditor-${Jn(e)}`);Gw()&&(KP=class extends aE{constructor(e,t){super(e,t),this.enabled=!!t.enabled,this._quillContainer=this.editorInstance._getQuillContainer(),this.addCleanCallback(this.prepareCleanCallback()),this._formatHandlers=OP(this),this._tableFormats=qI(e),this.enabled&&this._enableContextMenu(t.items)}_enableContextMenu(e){var t;null===(t=this._contextMenu)||void 0===t||t.dispose(),this._contextMenu=this._createContextMenu(e),this._attachEvents()}_attachEvents(){rn.on(this.editorInstance._getContent(),WP,this._prepareContextMenuHandler())}_detachEvents(){rn.off(this.editorInstance._getContent(),WP)}_onContextMenuInitialized(e){e.component.registerKeyHandler("escape",()=>{this.editorInstance.focus()})}_createContextMenu(e){const t=Si("<div>").appendTo(this.editorInstance.$element()),n=this._getMenuConfig(e);return this.editorInstance._createComponent(t,WI,n)}showPropertiesForm(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cell";const t=Si(this._targetElement).closest("cell"===e?"th, td":"table");this._contextMenu.hide(),this._formatHandlers[`${e}Properties`](t),this._targetElement=null}_isAcceptableItem(e,t){return!e||e===t}_handleObjectItem(e){if(e.name&&this._isAcceptableItem(e.widget,"dxButton")){const t=this._prepareMenuItemConfig(e.name);return A(!0,t,e)}return e.items?(e.items=this._prepareMenuItems(e.items),e):e}_prepareMenuItemConfig(e){const t=kP[e]??e,n=ti(e);return{text:UP(n),icon:t.toLowerCase(),onClick:this._formatHandlers[e]??LP(this,e)}}_prepareMenuItems(e){const t=[];return l(e,(e,n)=>{let i;b(n)?i=this._handleObjectItem(n):v(n)&&(i=this._prepareMenuItemConfig(n)),i&&t.push(i)}),t}_getMenuConfig(e){const t=[{text:UP("insert"),items:["insertHeaderRow","insertRowAbove","insertRowBelow",A(this._prepareMenuItemConfig("insertColumnLeft"),{beginGroup:!0}),"insertColumnRight"]},{text:UP("delete"),items:["deleteColumn","deleteRow","deleteTable"]},A(this._prepareMenuItemConfig("cellProperties"),{onClick:()=>{this.showPropertiesForm("cell")}}),A(this._prepareMenuItemConfig("tableProperties"),{onClick:()=>{this.showPropertiesForm("table")}})],n=this._prepareMenuItems(null!==e&&void 0!==e&&e.length?e:t);return{target:this._quillContainer,showEvent:null,hideOnParentScroll:!1,onInitialized:e=>{this._onContextMenuInitialized(e)},items:n}}_prepareContextMenuHandler(){return e=>{this._isTableTarget(e.target)&&(this._targetElement=e.target,this._setContextMenuPosition(e),this._contextMenu.show(),e.preventDefault())}}_setContextMenuPosition(e){const t=this._quillContainer.get(0).getBoundingClientRect();this._contextMenu.option({position:{my:"left top",at:"left top",collision:"fit fit",offset:{x:e.clientX-t.left,y:e.clientY-t.top}}})}_isTableTarget(e){return!!Si(e).closest(".dx-htmleditor-content td, .dx-htmleditor-content th").length}clean(){this._detachEvents()}option(e,t){if("tableContextMenu"!==e){if("enabled"===e)this.enabled=t,t?this._enableContextMenu():this.clean();else if("items"===e){var n;null===(n=this._contextMenu)||void 0===n||n.dispose(),this._contextMenu=this._createContextMenu(t)}}else this.handleOptionChangeValue(t)}prepareCleanCallback(){return()=>{this.clean()}}});const qP=KP,GP="dx-htmleditor-column-resizer",ZP="dx-htmleditor-row-resizer",YP={minColumnWidth:40,minRowHeight:24},QP="dxHtmlTableResizingModule",XP=or("dxpointerdown",QP),JP=or("scroll",QP);class eM extends aE{constructor(e,t){super(e,t),this.enabled=!!t.enabled,this._tableResizeFrames=[],this._minColumnWidth=this._minSizeLimit("minColumnWidth",t.minColumnWidth),this._minRowHeight=this._minSizeLimit("minRowHeight",t.minRowHeight),this._quillContainer=this.editorInstance._getQuillContainer(),this._tableData=[],this.enabled&&this._applyResizing()}_applyResizing(e){e?this._applyResizingImpl():this.editorInstance.addContentInitializedCallback(this._applyResizingImpl.bind(this)),this.addCleanCallback(this.clean.bind(this)),this._resizeHandlerWithContext=Hr.add(this._resizeHandler.bind(this))}_minSizeLimit(e,t){return _(t)?Math.max(t,0):YP[e]}_applyResizingImpl(){const e=this._findTables();e.length&&(this._fixTablesWidths(e),this._createResizeFrames(e),this._updateFramesPositions(),this._updateFramesSeparators()),this._attachEvents()}_attachEvents(){rn.on(this.editorInstance._getContent(),JP,this._updateFramesPositions.bind(this)),this.quill.on("text-change",this._getQuillTextChangeHandler())}_detachEvents(){rn.off(this.editorInstance._getContent(),QP),this.quill.off("text-change",this._quillTextChangeHandler)}_getQuillTextChangeHandler(e,t,n){return(e,t,n)=>{if(this._isTableChanging()){const e=this._findTables();this._removeResizeFrames(),"api"===n&&this._fixTablesWidths(e),this._updateTablesColumnsWidth(e),this._createResizeFrames(e),this._updateFramesPositions(),this._updateFramesSeparators()}else this._updateFramesPositions(),this._isDragging||this._updateFramesSeparators()}}_getFrameForTable(e){var t;return null===(t=this._framesForTables)||void 0===t?void 0:t.get(e.get(0))}_resizeHandler(){this._windowResizeTimeout=setTimeout(()=>{const e=this._findTables();l(e,(e,t)=>{const n=Si(t),i=this._tableResizeFrames[e],r=zn(n),o=this._tableLastWidth(i);Math.abs(r-o)>1&&(this._tableLastWidth(i,r),this._updateColumnsWidth(n,e))}),this._updateFramesPositions(),this._updateFramesSeparators()})}_findTables(){return Si(this._quillContainer).find("table")}_getWidthStyleValue(e){const t=e[0].style.width;return""!==t?parseInt(t):void 0}_tableLastWidth(e,t){if(!_(t))return null===e||void 0===e?void 0:e.lastWidth;e.lastWidth=t}_fixTablesWidths(e){l(e,(e,t)=>{const n=Si(t),i=this._getTableDeterminantElements(n,"horizontal");this._tableResizeFrames[e]||(this._tableResizeFrames[e]={lastWidth:void 0});const r=this._getFrameForTable(n);if(r||this._tableResizeFrames.push({$table:n}),0===YI(n).length){const{columnsSum:e}=this._getColumnElementsSum(i);GI(n,{quill:this.quill});const t=this._tableLastWidth(r)??zn(n);r&&this._tableLastWidth(r,Math.max(e,t))}})}_createResizeFrames(e){this._framesForTables=new Map,e.each((e,t)=>{var n;const i=Si(t),r=null===(n=this._tableResizeFrames[e])||void 0===n?void 0:n.$table,o=this._tableResizeFrames[e].lastWidth;this._tableResizeFrames[e]={$frame:this._createTableResizeFrame(t),$table:i,index:e,lastWidth:r&&t===r.get(0)?o:void 0,columnsCount:this._getTableDeterminantElements(i,"horizontal").length,rowsCount:this._getTableDeterminantElements(i,"vertical").length},this._framesForTables.set(t,this._tableResizeFrames[e])}),this._tableResizeFrames.length=e.length}_isTableChanging(){const e=this._findTables();let t=!1;return e.length!==this._tableResizeFrames.length?t=!0:l(e,(e,n)=>{const i=Si(n),r=this._tableResizeFrames[e],o=(null===r||void 0===r?void 0:r.columnsCount)!==this._getTableDeterminantElements(i,"horizontal").length,s=(null===r||void 0===r?void 0:r.rowsCount)!==this._getTableDeterminantElements(i,"vertical").length;if(o||s)return t=!0,!1}),t}_removeResizeFrames(e){var t;l(this._tableResizeFrames,(e,t)=>{if(t.$frame){var n;const e=`.${GP}, .${ZP}`;this._detachSeparatorEvents(null===(n=t.$frame)||void 0===n?void 0:n.find(e)),t.$frame.remove()}}),null===(t=this._framesForTables)||void 0===t||t.clear(),e&&(this._tableResizeFrames=[])}_detachSeparatorEvents(e){e.each((e,t)=>{rn.off(t,XP)})}_createTableResizeFrame(e){return Si("<div>").addClass("dx-table-resize-frame").appendTo(this._quillContainer)}_updateFramesPositions(){l(this._tableResizeFrames,(e,t)=>{this._updateFramePosition(t.$table,t.$frame)})}_updateFramePosition(e,t){const{height:n,width:i,top:r,left:o}=Aa(e.get(0)),{top:s,left:a}=Aa(this.quill.root);t.css({height:n,width:i,top:r-s,left:o-a}),wa(t,{left:0,top:0})}_updateFramesSeparators(e){l(this._tableResizeFrames,(t,n)=>{e?this._updateFrameSeparators(n,e):(this._updateFrameSeparators(n,"vertical"),this._updateFrameSeparators(n,"horizontal"))})}_isDraggable(e){return e.hasClass("dx-draggable")&&e.is(":visible")}_removeDraggable(e,t){if(this._isDraggable(e)){Si(e).dxDraggable("instance").dispose(),Si(e).addClass(t)}}_getDirectionInfo(e){return"vertical"===e?{lineResizerClass:ZP,sizeFunction:e=>jn(e),positionCoordinate:"top",positionStyleProperty:"height",positionCoordinateName:"y"}:{lineResizerClass:GP,sizeFunction:e=>zn(e),positionCoordinate:this.editorInstance.option("rtlEnabled")?"right":"left",positionStyleProperty:"width",positionCoordinateName:"x"}}_getSize(e,t){return t.sizeFunction(e)}_updateFrameSeparators(e,t){const n=this._getTableDeterminantElements(e.$table,t),i=n.length-1,r=this._getDirectionInfo(t),o=e.$frame.find(`.${r.lineResizerClass}`),s={transform:"none"};let a=0;for(let l=0;l<=i;l++){a+=this._getSize(n.eq(l),r),_(o[l])||(o[l]=Si("<div>").addClass(r.lineResizerClass).appendTo(e.$frame).get(0));const i=Si(o[l]);this._removeDraggable(i,r.lineResizerClass),s[r.positionCoordinate]=a-2,Si(i).css(s);const c={lineSeparator:o[l],index:l,$determinantElements:n,frame:e,direction:t};this._attachColumnSeparatorEvents(c)}}_getTableDeterminantElements(e,t){return"vertical"===t?e.find("th:first-child, td:first-child"):ZI(e)}_attachColumnSeparatorEvents(e){rn.on(e.lineSeparator,XP,()=>{this._createDraggableElement(e)})}_dragStartHandler(e){let{$determinantElements:t,index:n,frame:i,direction:r,lineSeparator:o}=e;const s=this._getDirectionInfo(r);this._isDragging=!0,this._fixColumnsWidth(i.$table),this._startLineSize=parseInt(this._getSize(Si(t[n]),s)),this._startTableWidth=zn(i.$table),this._startLineSeparatorPosition=parseInt(Si(o).css(s.positionCoordinate)),this._nextLineSize=0,t[n+1]?this._nextLineSize=parseInt(this._getSize(Si(t[n+1]),s)):"horizontal"===r&&GI(i.$table,{quill:this.quill})}_shouldRevertOffset(e){return"horizontal"===e&&this.editorInstance.option("rtlEnabled")}_isNextColumnWidthEnough(e,t,n){if(!this._nextLineSize)return!0;if(e>=this._minColumnWidth){const e=this._nextColumnOffsetLimit?n<this._nextColumnOffsetLimit:n<0,i=Math.abs(this._getWidthStyleValue(t)-zn(t))>3;return e||!i}return!1}_shouldSetNextColumnWidth(e){return this._nextLineSize&&e>0}_horizontalDragHandler(e){let{currentLineNewSize:t,directionInfo:n,eventOffset:i,$determinantElements:r,index:o,frame:s}=e,a=this._nextLineSize&&this._nextLineSize-i;const l=t>=this._minColumnWidth,c=XI(s.$table,o),u=XI(s.$table,o+1),d=zn(c.eq(0))-t;if(l)if(this._isNextColumnWidthEnough(a,r.eq(o+1),i)){QI(this,{elements:c,property:n.positionStyleProperty,value:t}),this._shouldSetNextColumnWidth(a)&&QI(this,{elements:u,property:n.positionStyleProperty,value:a});const e=Math.abs(this._startTableWidth-zn(s.$table))<3;(Math.abs(d)>3||!this._nextLineSize&&e)&&(QI(this,{elements:c,property:n.positionStyleProperty,value:zn(c.eq(0))}),a+=t-zn(c.eq(0)),this._shouldSetNextColumnWidth(a)&&QI(this,{elements:u,property:n.positionStyleProperty,value:a}))}else this._nextColumnOffsetLimit=this._nextColumnOffsetLimit||i;this._$highlightedElement.css(n.positionCoordinate,`${this._startLineSeparatorPosition+i+d}px`)}_verticalDragHandler(e){let{currentLineNewSize:t,directionInfo:n,eventOffset:i,$determinantElements:r,index:o,frame:s}=e;const a=Math.max(t,this._minRowHeight);QI(this,{elements:XI(s.$table,o,"vertical"),property:n.positionStyleProperty,value:a});const l=jn(r.eq(o))-t;this._$highlightedElement.css(n.positionCoordinate,`${this._startLineSeparatorPosition+i+l}px`)}_dragMoveHandler(e,t){let{$determinantElements:n,index:i,frame:r,direction:o}=t;const s=this._getDirectionInfo(o);let a=e.offset[s.positionCoordinateName];this.editorInstance._saveValueChangeEvent(e),this._shouldRevertOffset(o)&&(a=-a);const l=this._startLineSize+a;"horizontal"===o?this._horizontalDragHandler({currentLineNewSize:l,directionInfo:s,eventOffset:a,$determinantElements:n,index:i,frame:r}):this._verticalDragHandler({currentLineNewSize:l,directionInfo:s,eventOffset:a,$determinantElements:n,index:i,frame:r}),this._updateFramePosition(r.$table,r.$frame)}_dragEndHandler(e){var t;null===(t=this._$highlightedElement)||void 0===t||t.remove(),this._isDragging=void 0,this._nextColumnOffsetLimit=void 0,this._tableLastWidth(e.frame,zn(e.frame.$table)),this._updateFramesPositions(),this._updateFramesSeparators()}_isLastColumnResizing(e){let{$determinantElements:t,index:n}=e;return!_(t[n+1])}_getBoundaryConfig(e){const t={};if("vertical"===e.direction)t.boundary=e.frame.$table,t.boundOffset={bottom:Ct()?-Ln(St()):-jn(this._quillContainer),top:0,left:0,right:0};else if(this._isLastColumnResizing(e)){const e=this.editorInstance._getContent();t.boundary=e,t.boundOffset={bottom:0,top:0,left:e.css("paddingLeft"),right:e.css("paddingRight")}}else t.boundary=e.frame.$table;return t}_createDraggableElement(e){var t;const n=this._getBoundaryConfig(e),i="vertical"===e.direction?"dx-htmleditor-highlighted-row":"dx-htmleditor-highlighted-column";null===(t=this._$highlightedElement)||void 0===t||t.remove(),this._$highlightedElement=Si("<div>").addClass(`${i}`).insertAfter(Si(e.lineSeparator));const r={contentTemplate:null,allowMoveByClick:!1,dragDirection:e.direction,onDragMove:t=>{let{component:n,event:i}=t;this._dragMoveHandler(i,e)},onDragStart:()=>{this._dragStartHandler(e)},onDragEnd:()=>{this._dragEndHandler(e)}};A(r,n),this._currentDraggableElement=this.editorInstance._createComponent(e.lineSeparator,Sk,r)}_fixColumnsWidth(e){const t=this._getTableDeterminantElements(e);l(t,(t,n)=>{const i=zn(n);QI(this,{elements:XI(e,t),property:"width",value:Math.max(i,this._minColumnWidth)})})}_getColumnElementsSum(e){const t=[];let n=0;return l(e,(e,i)=>{const r=Si(i),o=this._getWidthStyleValue(r)||zn(r);t[e]=Math.max(o,this._minColumnWidth),n+=t[e]}),{columnsWidths:t,columnsSum:n}}_setColumnsRatioWidth(e,t,n,i){l(e,e=>{const r=XI(i,e);let o;o=t>0?this._minColumnWidth+Math.round((n[e]-this._minColumnWidth)*t):this._minColumnWidth,QI(this,{elements:r,property:"width",value:o})})}_updateColumnsWidth(e,t){const n=this._getTableDeterminantElements(e);let i=this._tableResizeFrames[t];i||(this._tableResizeFrames[t]={}),i=this._tableResizeFrames[t];const r=this._tableLastWidth(i)||zn(e);let o;const{columnsWidths:s,columnsSum:a}=this._getColumnElementsSum(n),l=n.length*this._minColumnWidth;o=a>l?(r-l)/(a-l):-1,this._tableLastWidth(i,o>0?r:l),this._setColumnsRatioWidth(n,o,s,e)}_updateTablesColumnsWidth(e){l(e,(e,t)=>{this._updateColumnsWidth(Si(t),e)})}option(e,t){"tableResizing"!==e?"enabled"===e?(this.enabled=t,t?this._applyResizing(!0):this.clean()):["minColumnWidth","minRowHeight"].includes(e)&&(this[`_${e}`]=this._minSizeLimit(e,t)):this.handleOptionChangeValue(t)}clean(){this._removeResizeFrames(!0),this._detachEvents(),Hr.remove(this._resizeHandlerWithContext),clearTimeout(this._windowResizeTimeout),this._resizeHandlerWithContext=void 0,this._isDragging=void 0,this._startTableWidth=void 0,clearTimeout(this._attachResizerTimeout)}}class tM{constructor(){this._collection=[]}clear(){this._collection=[]}add(e,t){this._collection.push({name:e,instance:t})}remove(e){this._collection=this._collection.filter(t=>t.name!==e)}getByName(e){let t=null;return l(this._collection,(n,i)=>{let{name:r,instance:o}=i;if(r===e)return t=o,!1}),t}each(e){this._collection.forEach(t=>{let{name:n,instance:i}=t;return i&&e(n,i)})}}let nM=aE;if(Gw()){const e="dx-htmleditor-toolbar-wrapper",t="dx-htmleditor-toolbar",n="dx-htmleditor-toolbar-format",i="dx-htmleditor-toolbar-separator",r="dx-htmleditor-toolbar-menu-separator",o="dx-format-active",s="dx-state-selected",a="dx-icon",c="selection-change",u="user",d="silent",h={66:"bold",73:"italic",85:"underline"},p={b:66,i:73,u:85},f=e=>mr.format(`dxHtmlEditor-${Jn(e)}`),m=(e,t)=>{if("header"===t){return _(e)&&!1!==e?`${f("heading")} ${e}`:f("normalText")}return f(e)||e};nM=class extends aE{constructor(e,t){var n;if(super(e,t),n=this,this._toolbarWidgets=new tM,this._formatHandlers=OP(this),this._tableFormats=qI(e),_(t.items)){this._addCallbacks(),this._renderToolbar();const e=this.toolbarInstance._layoutStrategy._menu;if(e){const{_renderPopup:t}=e;e._renderPopup=function(){for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];t.apply(e,...r),e._popup.on("showing",()=>{n._updateToolbar(!0)})}}this.quill.on("editor-change",(e,t,n,i)=>{if(!(i===d&&C(this.quill.getFormat()))){const t=e===c;this._updateToolbar(t)}})}}_addCallbacks(){this.addCleanCallback(this.clean.bind(this)),this.editorInstance.addContentInitializedCallback(this.updateHistoryWidgets.bind(this))}_updateToolbar(e){this.updateFormatWidgets(e),this.updateHistoryWidgets(),this.updateTableWidgets()}_updateFormatWidget(e,t,n){const i=this._toolbarWidgets.getByName(e);i&&(t?this._markActiveFormatWidget(e,i,n):(this._resetFormatWidget(e,i),Object.prototype.hasOwnProperty.call(e)&&delete n[e]),this._toggleClearFormatting(t||!C(n)))}_renderToolbar(){const n=this.options.container||this._getContainer();this._$toolbar=Si("<div>").addClass(t).appendTo(n),this._$toolbarContainer=Si(n).addClass(e),rn.on(this._$toolbarContainer,or("mousedown",this.editorInstance.NAME),e=>{e.target.focus(),e.preventDefault()}),this._subscribeFormatHotKeys(),this.toolbarInstance=this.editorInstance._createComponent(this._$toolbar,uI,this.toolbarConfig),this.editorInstance.on("optionChanged",e=>{let{name:t}=e;"readOnly"!==t&&"disabled"!==t||this.toolbarInstance.option("disabled",this.isInteractionDisabled)})}get toolbarConfig(){return{dataSource:this._prepareToolbarItems(),disabled:this.isInteractionDisabled,menuContainer:this._$toolbarContainer,multiline:this.isMultilineMode()}}get isInteractionDisabled(){return this.editorInstance.option("readOnly")||this.editorInstance.option("disabled")}isMultilineMode(){return this.options.multiline??!0}clean(){this._toolbarWidgets.clear(),this._$toolbarContainer&&this._$toolbarContainer.empty().removeClass(e)}repaint(){this.toolbarInstance&&this.toolbarInstance.repaint()}_getContainer(){const e=Si("<div>");return this.editorInstance.$element().prepend(e),e}_detectRenamedOptions(e){const t=[{newName:"name",oldName:"formatName"},{newName:"acceptedValues",oldName:"formatValues"}];b(e)&&l(t,(t,n)=>{Object.prototype.hasOwnProperty.call(e,n.oldName)&&Ps.log("W1016",n.oldName,n.newName)})}_subscribeFormatHotKeys(){this.quill.keyboard.addBinding({which:p.b,shortKey:!0},this._handleFormatHotKey.bind(this)),this.quill.keyboard.addBinding({which:p.i,shortKey:!0},this._handleFormatHotKey.bind(this)),this.quill.keyboard.addBinding({which:p.u,shortKey:!0},this._handleFormatHotKey.bind(this))}_handleFormatHotKey(e,t,n){let{which:i}=n;const r=h[i];this._updateButtonState(r)}_updateButtonState(e){const t=this._toolbarWidgets.getByName(e),n=this.quill.getFormat();n[e]?this._markActiveFormatWidget(e,t,n):this._resetFormatWidget(e,t)}_prepareToolbarItems(){const e=[];return l(this.options.items,(t,n)=>{let i;if(this._detectRenamedOptions(n),b(n))i=this._handleObjectItem(n);else if(v(n)){const e=this._prepareButtonItemConfig(n);i=this._getToolbarItem(e)}i&&e.push(i)}),e}_handleObjectItem(e){if(e.name&&e.acceptedValues&&this._isAcceptableItem(e.widget,"dxSelectBox")){const t=this._prepareSelectItemConfig(e);return this._getToolbarItem(t)}if(e.name&&this._isAcceptableItem(e.widget,"dxButton")){const t=this._prepareButtonItemConfig(e.name),n=A(!0,t,e);return this._getToolbarItem(n)}return this._getToolbarItem(e)}_isAcceptableItem(e,t){return!e||e===t}_prepareButtonItemConfig(e){const t=kP[e]??e,n=ti(e);return{widget:"dxButton",name:e,options:{hint:f(n),text:f(n),icon:t.toLowerCase(),onClick:this._formatHandlers[e]||LP(this,e),stylingMode:"text"},showText:"inMenu"}}_prepareSelectItemConfig(e){const{name:t,acceptedValues:n}=e;return A(!0,{widget:"dxSelectBox",name:t,options:{stylingMode:"filled",dataSource:n,displayExpr:e=>m(e,t),placeholder:f(t),onValueChanged:e=>{this._isReset||(this._hideAdaptiveMenu(),PP(this,[t,e.value,u],e.event),this._setValueSilent(e.component,e.value))}}},e)}_hideAdaptiveMenu(){this.toolbarInstance.option("overflowMenuVisible")&&this.toolbarInstance.option("overflowMenuVisible",!1)}_getToolbarItem(e){const t={options:{onInitialized:t=>{e.name&&(t.component.$element().addClass(n),t.component.$element().toggleClass(`dx-${e.name.toLowerCase()}-format`,!!e.name),this._toolbarWidgets.add(e.name,t.component))},onDisposing:()=>{this._toolbarWidgets.remove(e.name)}}};return A(!0,{location:"before",locateInMenu:"auto"},this._getDefaultConfig(e.name),e,t)}_getDefaultItemsConfig(){return{clear:{options:{disabled:!0}},undo:{options:{disabled:!0}},redo:{options:{disabled:!0}},insertRowAbove:{options:{disabled:!0}},insertRowBelow:{options:{disabled:!0}},insertHeaderRow:{options:{disabled:!0}},insertColumnLeft:{options:{disabled:!0}},insertColumnRight:{options:{disabled:!0}},deleteRow:{options:{disabled:!0}},deleteColumn:{options:{disabled:!0}},deleteTable:{options:{disabled:!0}},cellProperties:{options:{disabled:!0}},tableProperties:{options:{disabled:!0}},separator:{template:(e,t,n)=>{Si(n).addClass(i)},menuItemTemplate:(e,t,n)=>{Si(n).addClass(r)}}}}_getDefaultConfig(e){return this._getDefaultItemsConfig()[e]}updateHistoryWidgets(){const e=this.quill.history;if(!e)return;const{undo:t,redo:n}=e.stack;this._updateManipulationWidget(this._toolbarWidgets.getByName("undo"),Boolean(t.length)),this._updateManipulationWidget(this._toolbarWidgets.getByName("redo"),Boolean(n.length))}updateTableWidgets(){if(!this.quill.getModule("table"))return;const e=this.quill.getSelection(),t=e&&this.quill.getFormat(e)||{},n=this._tableFormats.some(e=>Boolean(t[e]));UI.forEach(e=>{const t="insertTable"===e,i=this._toolbarWidgets.getByName(e);this._updateManipulationWidget(i,t?!n:n)})}_updateManipulationWidget(e,t){e&&e.option("disabled",!t)}updateFormatWidgets(e){const t=this.quill.getSelection();if(!t)return;const n=this.quill.getFormat(t),i=!C(n);i&&!e||this._resetFormatWidgets();for(const r in n){const e=this._getFormatWidgetName(r,n),t=this._toolbarWidgets.getByName(e)??this._toolbarWidgets.getByName(r);t&&this._markActiveFormatWidget(r,t,n)}this._toggleClearFormatting(i||t.length>1)}_markActiveFormatWidget(e,t,n){this._isColorFormat(e)&&this._updateColorWidget(e,n[e]),"value"in t.option()?this._setValueSilent(t,n[e]):(t.$element().addClass(o),t.$element().addClass(s),t.$element().attr("aria-pressed",!0))}_toggleClearFormatting(e){const t=this._toolbarWidgets.getByName("clear");t&&t.option("disabled",!e)}_isColorFormat(e){return"color"===e||"background"===e}_updateColorWidget(e,t){const n=this._toolbarWidgets.getByName(e);n&&n.$element().find(`.${a}`).css("borderBottomColor",t||"transparent")}_getFormatWidgetName(e,t){let n;switch(e){case"align":n=e+ti(t[e]);break;case"list":n=t[e]+ti(e);break;case"code-block":n="codeBlock";break;case"script":n=t[e]+e;break;case"imageSrc":n="image";break;default:n=e}return n}_setValueSilent(e,t){this._isReset=!0,e.option("value",t),this._isReset=!1}_resetFormatWidgets(){this._toolbarWidgets.each((e,t)=>{this._resetFormatWidget(e,t)})}_resetFormatWidget(e,t){t.$element().removeClass(o),t.$element().removeClass(s),t.$element().removeAttr("aria-pressed"),this._isColorFormat(e)&&this._updateColorWidget(e),"clear"===e&&t.option("disabled",!0),"dxSelectBox"===t.NAME&&this._setValueSilent(t,null)}addClickHandler(e,t){this._formatHandlers[e]=t;const n=this._toolbarWidgets.getByName(e);n&&"dxButton"===n.NAME&&n.option("onClick",t)}}}const iM=nM;let rM={};if(Gw()){const e=Gw().import("blots/embed"),t="dx-variable";rM=class extends e{static create(e){const t=super.create();let n,i;const r=e.value;return Array.isArray(e.escapeChar)?(n=Fe(e.escapeChar[0],""),i=Fe(e.escapeChar[1],"")):n=i=e.escapeChar,t.innerText=n+r+i,t.dataset.varStartEscChar=n,t.dataset.varEndEscChar=i,t.dataset.varValue=e.value,t}static value(e){return A({},{value:e.dataset.varValue,escapeChar:[e.dataset.varStartEscChar||"",e.dataset.varEndEscChar||""]})}},rM.blotName="variable",rM.tagName="span",rM.className=t}const oM=rM;let sM=aE;if(Gw()){const e="dx-variable-format",t="dx-format-active",n="dx-state-selected";Gw().register({"formats/variable":oM},!0),sM=class extends fI{constructor(i,r){super(i,r);const o=i.getModule("toolbar");o&&o.addClickHandler("variable",this.showPopup.bind(this)),i.keyboard.addBinding({key:"P",altKey:!0},this.showPopup.bind(this)),this._popup.on("shown",i=>{const r=Si(i.component.option("position").of);r.hasClass(e)&&(r.addClass(t),r.addClass(n))})}_getDefaultOptions(){const e=super._getDefaultOptions();return A(e,{escapeChar:""})}showPopup(e){const t=this.quill.getSelection(!0),n=t?t.index:this.quill.getLength();this.savePosition(n),this._resetPopupPosition(e,n),super.showPopup()}_resetPopupPosition(e,t){if(e&&e.element)this._popup.option("position",{of:e.element,offset:{h:0,v:0},my:"top center",at:"bottom center",collision:"fit"});else{const e=this.quill.getBounds(t),n=Aa(this.quill.root);this._popup.option("position",{of:this.quill.root,offset:{h:e.left,v:e.bottom-n.height},my:"top center",at:"bottom left",collision:"fit flip"})}}insertEmbedContent(e){const t=this.getPosition(),n=e.component.option("selectedItem"),i=A({},{value:n,escapeChar:this.options.escapeChar});setTimeout(()=>{this.quill.insertEmbed(t,"variable",i),this.quill.setSelection(t+1)})}}}const aM=sM;let lM;if(Gw()){const e=Gw().import("core/theme");lM=class extends e{constructor(e,t){super(e,t),this.quill.root.classList.add("dx-htmleditor-content"),this.quill.root.setAttribute("role","textbox"),this.quill.root.setAttribute("aria-label","Editor content")}}}else lM={};const cM=lM;class uM{constructor(){if(this._customModules=[],uM.initialized)return;const e=this.getQuill(),t=e.import("attributors/style/direction");e.register({"formats/align":Qw,"formats/direction":t,"formats/font":Jw,"formats/size":oE,"formats/extendedImage":tE,"formats/link":iE,"modules/toolbar":iM,"modules/dropImage":cE,"modules/variables":aM,"modules/resizing":CI,"modules/tableResizing":eM,"modules/tableContextMenu":qP,"modules/imageUpload":QE,"modules/imageCursor":hE,"modules/mentions":_I,"themes/basic":cM},!0),this._customModules=[],uM._initialized=!0}createEditor(e,t){return new(this.getQuill())(e,t)}registerModules(e){const t=RegExp("modules/*"),n=this.getQuill(),i=e=>!!n.imports[e];for(const r in e)t.test(r)&&!i(r)&&this._customModules.push(r.slice(8));n.register(e,!0)}getRegisteredModuleNames(){return this._customModules}getQuill(){return Zw()}}const dM=uM;const hM=e=>{const t=e.import("delta"),n=e.MS_LIST_DATA_KEY;return(e,i)=>{const r=i.ops.slice(),o=r[0];if(!v(o.insert))return i;o.insert=o.insert.replace(/^\s+/,"");const s=o.insert.match(/^(\S+)\s+/),a=s&&function(e,t){const n=e.getAttribute(t);if(n){const e=n.replace(/\n+/g,"").match(/level(\d+)/);return e?e[1]-1:0}return!1}(e,n);return s&&!1!==a?(o.insert=o.insert.substring(s[0].length,o.insert.length),function(e){const t=e[e.length-1];t.insert=t.insert.trim()}(r),r.push({insert:"\n",attributes:{list:(l=s,l[1].match(/\S+\./)?"ordered":"bullet"),indent:a}}),new t(r)):i;var l}},pM="dx-formdialog";const fM=class{constructor(e,t){this._editorInstance=e,this._popupUserConfig=t,this._renderPopup(),this._attachOptionChangedHandler()}_renderPopup(){const e=this._editorInstance,t=Si("<div>").addClass(pM).appendTo(e.$element()),n=this._getPopupConfig();return e._createComponent(t,hI,n)}_attachOptionChangedHandler(){var e;null===(e=this._popup)||void 0===e||e.on("optionChanged",e=>{let{name:t,value:n}=e;"title"===t&&this._updateFormLabel(n)})}_escKeyHandler(){this._popup.hide()}_addEscapeHandler(e){e.component.registerKeyHandler("escape",this._escKeyHandler.bind(this))}_isSmallScreen(){const e=Ct()?It():null;return"phone"===Is.real().deviceType||"xs"===e}_getPopupConfig(){return A({onInitialized:e=>{this._popup=e.component,this._popup.on("hiding",()=>this.onHiding()),this._popup.on("shown",()=>{this._form.focus()})},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,fullScreen:this._isSmallScreen(),contentTemplate:e=>{const t=Si("<div>").appendTo(e);this._renderForm(t,{onEditorEnterKey:e=>this.callAddButtonAction(e.event),customizeItem:e=>{"simple"===e.itemType&&(e.editorOptions=A(!0,{},e.editorOptions,{onInitialized:this._addEscapeHandler.bind(this)}))}})},toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:K({onInitialized:this._addEscapeHandler.bind(this),text:mr.format("OK"),onClick:e=>this.callAddButtonAction(e.event)},ia()?{stylingMode:"contained",type:"default"}:{})},{toolbar:"bottom",location:"after",widget:"dxButton",options:K({onInitialized:this._addEscapeHandler.bind(this),text:mr.format("Cancel"),onClick:()=>{this._popup.hide()}},ia()?{stylingMode:"outlined",type:"normal"}:{})}],_wrapperClassExternal:`${pM} dx-dropdowneditor-overlay`},this._popupUserConfig)}onHiding(){this.beforeAddButtonAction=void 0,this.deferred.reject()}callAddButtonAction(e){this.beforeAddButtonAction&&!this.beforeAddButtonAction()||this.hide(this._form.option("formData"),e)}_renderForm(e,t){e.addClass("dx-formdialog-form"),this._form=this._editorInstance._createComponent(e,EP,t),this._updateFormLabel()}_updateFormLabel(e){var t;const n=e??this.popupOption("title");null===(t=this._form)||void 0===t||t.$element().attr("aria-label",n)}_getDefaultFormOptions(){return{colCount:1,width:"auto",labelLocation:ta()?"top":"left"}}formOption(e,t){return this._form.option.apply(this._form,arguments)}show(e){if(this._popup.option("visible"))return;this.deferred=Re();const t=A(this._getDefaultFormOptions(),e);return this._form.option(t),this._popup.show(),this.deferred.promise()}hide(e,t){this.deferred.resolve(e,t),this._popup.hide()}popupOption(e,t){return this._popup.option.apply(this._popup,arguments)}},mM=function(e,t,n){const i=Si(e),r=n?i.scrollLeft():i.scrollTop(),o=n?"Width":"Height",s=i.prop(`scroll${o}`)-i.prop(`client${o}`)-r|0;if(0===r&&0===s)return!1;return!!(0===r&&t>=0||0===s&&t<=0||r>0&&s>0)||void 0},_M=function(e,t){const n=Si(e);return{validate(i){if(Zi(i)&&(r=i.target,!t||Si(r).is(e)))return!!mM(n,-i.delta,i.shiftKey)&&(i._needSkipEvent=!0,!0);var r}}},gM="htmlContent",vM="ios"===Is.current().platform;let yM=0;class bM extends Kh{_getDefaultOptions(){return K({},super._getDefaultOptions(),{focusStateEnabled:!0,placeholder:"",toolbar:null,variables:null,mediaResizing:null,tableResizing:null,mentions:null,customizeModules:null,tableContextMenu:null,allowSoftLineBreak:!1,formDialogOptions:null,imageUpload:null,stylingMode:le().editorStylingMode||"outlined",converter:null})}_init(){this._mentionKeyInTemplateStorage=yM++,super._init(),this._cleanCallback=s(),this._contentInitializedCallback=s(),this._prepareHtmlConverter()}_prepareHtmlConverter(){const{converter:e}=this.option();e&&(this._htmlConverter=e)}_getAnonymousTemplateName(){return"htmlContent"}_initTemplates(){this._templateManager.addDefaultTemplates({[gM]:new Zu}),super._initTemplates()}_focusTarget(){return this._getContent()}_getContent(){return this.$element().find(".dx-htmleditor-content")}_focusInHandler(e){let{relatedTarget:t}=e;this._shouldSkipFocusEvent(t)||(this._toggleFocusClass(!0,this.$element()),super._focusInHandler.apply(this,arguments))}_focusOutHandler(e){let{relatedTarget:t}=e;this._shouldSkipFocusEvent(t)||(this._toggleFocusClass(!1,this.$element()),super._focusOutHandler.apply(this,arguments))}_shouldSkipFocusEvent(e){return Si(e).hasClass("ql-clipboard")}_initMarkup(){this._$htmlContainer=Si("<div>").addClass("dx-quill-container"),this.$element().attr("role","application").addClass("dx-htmleditor").wrapInner(this._$htmlContainer),this._renderStylingMode();const e=this._getTemplate("htmlContent");this._$templateResult=e&&e.render({container:ma(this._$htmlContainer),noModel:!0,transclude:!0}),this._renderSubmitElement(),super._initMarkup(),this._updateContainerMarkup()}_renderValidationState(){1===this._getContent().length&&super._renderValidationState()}_renderSubmitElement(){this._$submitElement=Si("<textarea>").addClass("dx-htmleditor-submit-element").attr("hidden",!0).appendTo(this.$element()),this._setSubmitValue(this.option("value"))}_setSubmitValue(e){this._getSubmitElement().val(e)}_getSubmitElement(){return this._$submitElement}_createNoScriptFrame(){return Si("<iframe>").css("display","none").attr({srcdoc:"",id:"xss-frame",sandbox:"allow-same-origin"})}_removeXSSVulnerableHtml(e){const t=this._createNoScriptFrame().appendTo("body"),n=t.get(0).contentWindow.document.body,i=Zw().replaceStyleAttribute(e);n.innerHTML=i;const r=e=>{if(e.attributes)for(let t=0;t<e.attributes.length;t++){const{name:n}=e.attributes[t];n.startsWith("on")&&e.removeAttribute(n)}if(e.childNodes)for(let t=0;t<e.childNodes.length;t++)r(e.childNodes[t])};r(n),n.querySelectorAll("script").forEach(e=>{e.remove()});const o=n.innerHTML;return t.remove(),o}_convertToHtml(e){var t;return g(null===(t=this._htmlConverter)||void 0===t?void 0:t.toHtml)?String(this._htmlConverter.toHtml(e??"")??""):e}_convertFromHtml(e){var t;return g(null===(t=this._htmlConverter)||void 0===t?void 0:t.fromHtml)?String(this._htmlConverter.fromHtml(e)??""):e}_updateContainerMarkup(){const{value:e}=this.option(),t=this._convertToHtml(e);if(!t)return;const n=this._removeXSSVulnerableHtml(t);this._$htmlContainer.html(n)}_render(){this._prepareConverters(),super._render(),this._toggleReadOnlyState()}_prepareQuillRegistrator(){this._quillRegistrator||(this._quillRegistrator=new dM)}_getRegistrator(){return this._prepareQuillRegistrator(),this._quillRegistrator}_prepareConverters(){if(!this._deltaConverter){const e=Kw.getConverter("delta");e&&(this._deltaConverter=new e)}}_renderContentImpl(){this._contentRenderedDeferred=Re();const e=this._contentRenderedDeferred.promise();return super._renderContentImpl(),this._renderHtmlEditor(),this._renderFormDialog(),this._addKeyPressHandler(),e}_pointerMoveHandler(e){vM&&e.stopPropagation()}_attachFocusEvents(){We(super._attachFocusEvents.bind(this))}_addKeyPressHandler(){const e=or("keydown",`${this.NAME}TextChange`);rn.on(this._$htmlContainer,e,this._keyDownHandler.bind(this))}_keyDownHandler(e){this._saveValueChangeEvent(e)}_renderHtmlEditor(){const e=this.option("customizeModules"),t=this._getModulesConfig();g(e)&&e(t),this._quillInstance=this._getRegistrator().createEditor(this._$htmlContainer[0],{placeholder:this.option("placeholder"),readOnly:this.option("readOnly")||this.option("disabled"),modules:t,theme:"basic"}),this._renderValidationState(),this._deltaConverter.setQuillInstance(this._quillInstance),this._textChangeHandlerWithContext=this._textChangeHandler.bind(this),this._quillInstance.on("text-change",this._textChangeHandlerWithContext),this._renderScrollHandler(),this._hasTranscludedContent()?this._updateContentTask=$e(()=>{this._applyTranscludedContent()}):this._finalizeContentRendering()}_renderScrollHandler(){const e=this._getContent(),t=_M(e);rn.on(e,or(km,this.NAME),t,tt),rn.on(e,or(yo.move,this.NAME),this._pointerMoveHandler.bind(this))}_applyTranscludedContent(){const e=this.option("value");if(!_(e)){const e=this._deltaConverter.toHtml(),t=this._quillInstance.clipboard.convert({html:e});if(t.ops.length)return void this._quillInstance.setContents(t)}this._finalizeContentRendering()}_hasTranscludedContent(){return this._$templateResult&&this._$templateResult.length}_getModulesConfig(){const e=this._getRegistrator().getQuill(),t=hM(e);return A({},{table:!0,toolbar:this._getModuleConfigByOption("toolbar"),variables:this._getModuleConfigByOption("variables"),resizing:this._getModuleConfigByOption("mediaResizing"),tableResizing:this._getModuleConfigByOption("tableResizing"),tableContextMenu:this._getModuleConfigByOption("tableContextMenu"),imageUpload:this._getModuleConfigByOption("imageUpload"),imageCursor:this._getBaseModuleConfig(),mentions:this._getModuleConfigByOption("mentions"),uploader:{onDrop:e=>this._saveValueChangeEvent(MC(e)),imageBlot:"extendedImage"},keyboard:{onKeydown:e=>this._saveValueChangeEvent(MC(e))},clipboard:{onPaste:e=>this._saveValueChangeEvent(MC(e)),onCut:e=>this._saveValueChangeEvent(MC(e)),matchers:[["p.MsoListParagraphCxSpFirst",t],["p.MsoListParagraphCxSpMiddle",t],["p.MsoListParagraphCxSpLast",t]]},multiline:Boolean(this.option("allowSoftLineBreak"))},this._getCustomModules())}_getModuleConfigByOption(e){const t=this.option(e);let n={};if(_(t))return Array.isArray(t)?n[e]=t:n=t,A(this._getBaseModuleConfig(),n)}_getBaseModuleConfig(){return{editorInstance:this}}_getCustomModules(){const e={};return this._getRegistrator().getRegisteredModuleNames().forEach(t=>{e[t]=this._getBaseModuleConfig()}),e}_textChangeHandler(){const{value:e}=this.option(),t=this._deltaConverter.toHtml(),n=this._convertFromHtml(t);e===n||this._isNullValueConverted(e,n)||(this._isEditorUpdating=!0,this.option("value",n)),this._finalizeContentRendering()}_isNullValueConverted(e,t){return null===e&&""===t}_finalizeContentRendering(){this._contentRenderedDeferred&&(this.clearHistory(),this._contentInitializedCallback.fire(),this._contentRenderedDeferred.resolve(),this._contentRenderedDeferred=void 0)}_resetEnabledState(){if(this._quillInstance){const e=!(this.option("readOnly")||this.option("disabled"));this._quillInstance.enable(e)}}_renderFormDialog(){const e=A(!0,{width:"auto",height:"auto",hideOnOutsideClick:!0},this.option("formDialogOptions"));this._formDialog=new fM(this,e)}_getStylingModePrefix(){return"dx-htmleditor-"}_getQuillContainer(){return this._$htmlContainer}_prepareModuleOptions(e){var t;const n=null===(t=e.fullName)||void 0===t?void 0:t.split(".");let{value:i}=e;const r=n.length>=2?n[1]:e.name;return 3===n.length&&(i={[n[2]]:i}),[r,i]}_moduleOptionChanged(e,t){const n=this.getModule(e);Boolean(n)?n.option(...this._prepareModuleOptions(t)):this._invalidate()}_processHtmlContentUpdating(e){if(this._quillInstance)if(this._isEditorUpdating)this._isEditorUpdating=!1;else{const t=this._convertToHtml(e);this._suppressValueChangeAction(),this._updateHtmlContent(t),this._resumeValueChangeAction()}else this._$htmlContainer.html(e)}_optionChanged(e){switch(e.name){case"converter":{this._htmlConverter=e.value;const{value:t}=this.option();this._processHtmlContentUpdating(t);break}case"value":{this._processHtmlContentUpdating(e.value);const t=this.option("value");t!==e.previousValue&&(this._setSubmitValue(t),super._optionChanged(K({},e,{value:t})));break}case"placeholder":case"variables":case"toolbar":case"mentions":case"customizeModules":case"allowSoftLineBreak":this._invalidate();break;case"tableResizing":this._moduleOptionChanged("tableResizing",e);break;case"stylingMode":this._renderStylingMode();break;case"readOnly":case"disabled":super._optionChanged(e),this._resetEnabledState();break;case"formDialogOptions":this._renderFormDialog();break;case"tableContextMenu":this._moduleOptionChanged("tableContextMenu",e);break;case"mediaResizing":this._moduleOptionChanged("resizing",e);break;case"width":super._optionChanged(e),this._repaintToolbar();break;case"imageUpload":this._moduleOptionChanged("imageUpload",e);break;default:super._optionChanged(e)}}_repaintToolbar(){this._applyToolbarMethod("repaint")}_updateHtmlContent(e){const t=this._quillInstance.clipboard.convert({html:e});this._quillInstance.setContents(t)}_clean(){this._quillInstance&&(rn.off(this._getContent(),`.${this.NAME}`),this._quillInstance.off("text-change",this._textChangeHandlerWithContext),this._cleanCallback.fire()),this._abortUpdateContentTask(),this._cleanCallback.empty(),this._contentInitializedCallback.empty(),super._clean()}_abortUpdateContentTask(){this._updateContentTask&&(this._updateContentTask.abort(),this._updateContentTask=void 0)}_applyQuillMethod(e,t){if(this._quillInstance)return this._quillInstance[e].apply(this._quillInstance,t)}_applyQuillHistoryMethod(e){this._quillInstance&&this._quillInstance.history&&this._quillInstance.history[e]()}_applyToolbarMethod(e){var t;null===(t=this.getModule("toolbar"))||void 0===t||t[e]()}addCleanCallback(e){this._cleanCallback.add(e)}addContentInitializedCallback(e){this._contentInitializedCallback.add(e)}register(e){this._getRegistrator().registerModules(e),this._quillInstance&&this.repaint()}get(e){return this._getRegistrator().getQuill().import(e)}getModule(e){return this._applyQuillMethod("getModule",arguments)}getQuillInstance(){return this._quillInstance}getSelection(e){return this._applyQuillMethod("getSelection",arguments)}setSelection(e,t){this._applyQuillMethod("setSelection",arguments)}getText(e,t){return this._applyQuillMethod("getText",arguments)}format(e,t){this._applyQuillMethod("format",arguments)}formatText(e,t,n,i){this._applyQuillMethod("formatText",arguments)}formatLine(e,t,n,i){this._applyQuillMethod("formatLine",arguments)}getFormat(e,t){return this._applyQuillMethod("getFormat",arguments)}removeFormat(e,t){return this._applyQuillMethod("removeFormat",arguments)}clearHistory(){this._applyQuillHistoryMethod("clear"),this._applyToolbarMethod("updateHistoryWidgets")}undo(){this._applyQuillHistoryMethod("undo")}redo(){this._applyQuillHistoryMethod("redo")}getLength(){return this._applyQuillMethod("getLength")}getBounds(e,t){return this._applyQuillMethod("getBounds",arguments)}delete(e,t){this._applyQuillMethod("deleteText",arguments)}insertText(e,t,n){this._applyQuillMethod("insertText",arguments)}insertEmbed(e,t,n){this._applyQuillMethod("insertEmbed",arguments)}showFormDialog(e){return this._formDialog.show(e)}formDialogOption(e,t){return this._formDialog.popupOption.apply(this._formDialog,arguments)}focus(){super.focus(),this._applyQuillMethod("focus")}blur(){this._applyQuillMethod("blur")}getMentionKeyInTemplateStorage(){return this._mentionKeyInTemplateStorage}}Mi("dxHtmlEditor",bM);const CM=bM,xM=(0,e.memo)((0,e.forwardRef)((t,n)=>{const i=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,()=>({instance:()=>i.current?.getInstance()}),[i.current]);const r=(0,e.useMemo)(()=>["value"],[]),o=(0,e.useMemo)(()=>["onContentReady","onDisposing","onFocusIn","onFocusOut","onInitialized","onValueChanged"],[]),s=(0,e.useMemo)(()=>({defaultValue:"value"}),[]),a=(0,e.useMemo)(()=>({converter:{optionName:"converter",isCollectionItem:!1},imageUpload:{optionName:"imageUpload",isCollectionItem:!1},mediaResizing:{optionName:"mediaResizing",isCollectionItem:!1},mention:{optionName:"mentions",isCollectionItem:!0},tableContextMenu:{optionName:"tableContextMenu",isCollectionItem:!1},tableResizing:{optionName:"tableResizing",isCollectionItem:!1},toolbar:{optionName:"toolbar",isCollectionItem:!1},variables:{optionName:"variables",isCollectionItem:!1}}),[]);return e.createElement(wx,{WidgetClass:CM,ref:i,subscribableOptions:r,independentEvents:o,defaults:s,expectedChildren:a,...t})})),SM=(Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"converter"}}),{componentType:"option"}),Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"fileUploaderOptions",DefaultsProps:{defaultValue:"value"}}}),{componentType:"option"}),Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"imageUpload",ExpectedChildren:{fileUploaderOptions:{optionName:"fileUploaderOptions",isCollectionItem:!1},tab:{optionName:"tabs",isCollectionItem:!0}}}}),{componentType:"option"}),Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"items",IsCollectionItem:!0,ExpectedChildren:{item:{optionName:"items",isCollectionItem:!0}},TemplateProps:[{tmplOption:"template",render:"render",component:"component"},{tmplOption:"menuItemTemplate",render:"menuItemRender",component:"menuItemComponent"}]}}),{componentType:"option"})),wM=(Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"mediaResizing"}}),{componentType:"option"}),Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"mentions",IsCollectionItem:!0,TemplateProps:[{tmplOption:"itemTemplate",render:"itemRender",component:"itemComponent"},{tmplOption:"template",render:"render",component:"component"}]}}),{componentType:"option"}),Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"tabs",IsCollectionItem:!0}}),{componentType:"option"}),Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"tableContextMenu",ExpectedChildren:{item:{optionName:"items",isCollectionItem:!0},tableContextMenuItem:{optionName:"items",isCollectionItem:!0}}}}),{componentType:"option"}),Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"items",IsCollectionItem:!0,ExpectedChildren:{item:{optionName:"items",isCollectionItem:!0}},TemplateProps:[{tmplOption:"template",render:"render",component:"component"}]}}),{componentType:"option"}),Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"tableResizing"}}),{componentType:"option"}),Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"toolbar",ExpectedChildren:{item:{optionName:"items",isCollectionItem:!0},toolbarItem:{optionName:"items",isCollectionItem:!0}}}}),{componentType:"option"})),EM=(Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"items",IsCollectionItem:!0,TemplateProps:[{tmplOption:"menuItemTemplate",render:"menuItemRender",component:"menuItemComponent"},{tmplOption:"template",render:"render",component:"component"}]}}),{componentType:"option"}),Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"variables"}}),{componentType:"option"}),(0,e.memo)((0,e.forwardRef)((t,n)=>{const i=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,()=>({instance:()=>i.current?.getInstance()}),[i.current]);const r=(0,e.useMemo)(()=>["onDisposing","onInitialized","onPullDown","onReachBottom","onScroll","onUpdated"],[]);return e.createElement(wx,{WidgetClass:zx,ref:i,independentEvents:r,...t})}))),IM=(0,e.memo)((0,e.forwardRef)((t,n)=>{const i=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,()=>({instance:()=>i.current?.getInstance()}),[i.current]);const r=(0,e.useMemo)(()=>["items"],[]),o=(0,e.useMemo)(()=>["onContentReady","onDisposing","onInitialized","onItemClick","onItemContextMenu","onItemHold","onItemRendered"],[]),s=(0,e.useMemo)(()=>({defaultItems:"items"}),[]),a=(0,e.useMemo)(()=>({item:{optionName:"items",isCollectionItem:!0}}),[]),l=(0,e.useMemo)(()=>[{tmplOption:"itemTemplate",render:"itemRender",component:"itemComponent"},{tmplOption:"menuItemTemplate",render:"menuItemRender",component:"menuItemComponent"}],[]);return e.createElement(wx,{WidgetClass:uI,ref:i,subscribableOptions:r,independentEvents:o,defaults:s,expectedChildren:a,templateProps:l,...t})})),kM=(Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"items",IsCollectionItem:!0,TemplateProps:[{tmplOption:"menuItemTemplate",render:"menuItemRender",component:"menuItemComponent"},{tmplOption:"template",render:"render",component:"component"}]}}),{componentType:"option"}),IM),DM=(0,e.memo)((0,e.forwardRef)((t,n)=>{const i=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,()=>({instance:()=>i.current?.getInstance()}),[i.current]);const r=(0,e.useMemo)(()=>["onClick","onContentReady","onDisposing","onInitialized"],[]),o=(0,e.useMemo)(()=>[{tmplOption:"template",render:"render",component:"component"}],[]);return e.createElement(wx,{WidgetClass:g_,ref:i,independentEvents:r,templateProps:o,...t})}));class OM extends G_{_getDefaultOptions(){return K({},super._getDefaultOptions(),{spellcheck:!0,autoResizeEnabled:!1})}_initMarkup(){this.$element().addClass("dx-textarea"),super._initMarkup(),this.setAria("multiline","true")}_renderContentImpl(){this._updateInputHeight(),super._renderContentImpl()}_renderInput(){super._renderInput(),this._renderScrollHandler()}_createInput(){const e=Si("<textarea>");return this._applyInputAttributes(e,this.option("inputAttr")),this._updateInputAutoResizeAppearance(e),e}_setInputMinHeight(){}_renderScrollHandler(){this._eventY=0;const e=this._input(),t=_M(e,!0);rn.on(e,or(km,this.NAME),t,tt),rn.on(e,or(yo.down,this.NAME),this._pointerDownHandler.bind(this)),rn.on(e,or(yo.move,this.NAME),this._pointerMoveHandler.bind(this))}_pointerDownHandler(e){this._eventY=Qi(e).y}_pointerMoveHandler(e){const t=Qi(e).y,n=this._eventY-t;mM(this._input(),n)&&(e.isScrollingEvent=!0,e.stopPropagation()),this._eventY=t}_renderDimensions(){const e=this.$element(),t=e.get(0),n=this._getOptionValue("width",t),i=this._getOptionValue("height",t),r=this.option("minHeight"),o=this.option("maxHeight");e.css({minHeight:void 0!==r?r:"",maxHeight:void 0!==o?o:"",width:n,height:i})}_resetDimensions(){this.$element().css({height:"",minHeight:"",maxHeight:""})}_renderEvents(){this.option("autoResizeEnabled")&&rn.on(this._input(),or("input paste",this.NAME),this._updateInputHeight.bind(this)),super._renderEvents()}_refreshEvents(){rn.off(this._input(),or("input paste",this.NAME)),super._refreshEvents()}_getHeightDifference(e){return kn(this.$element().get(0),!1)+kn(this._$textEditorContainer.get(0),!1)+kn(this._$textEditorInputContainer.get(0),!0)+yn("height",St().getComputedStyle(e.get(0))).margin}_updateInputHeight(){if(!Ct())return;const e=this._input(),t=this.option("height"),n=void 0===t&&this.option("autoResizeEnabled");if(!(n||void 0===t&&this.option("minHeight")))return void e.css("height","");this._resetDimensions(),this.$element().css("height",jn(this.$element())),e.css("height",0);const i=this._getHeightDifference(e);this._renderDimensions();const r=this._getBoundaryHeight("minHeight"),o=this._getBoundaryHeight("maxHeight");let s=e[0].scrollHeight;if(void 0!==r&&(s=Math.max(s,r-i)),void 0!==o){const t=o-i,n=s>t;s=Math.min(s,t),this._updateInputAutoResizeAppearance(e,!n)}e.css("height",s),n&&this.$element().css("height","auto")}_getBoundaryHeight(e){const t=this.option(e);if(_(t))return"number"===typeof t?t:En(t,this.$element().get(0).parentElement,this.$element().get(0))}_renderInputType(){}_visibilityChanged(e){e&&this._updateInputHeight()}_updateInputAutoResizeAppearance(e,t){if(e){const n=Fe(t,this.option("autoResizeEnabled"));e.toggleClass("dx-texteditor-input-auto-resize",n)}}_dimensionChanged(){this.option("visible")&&this._updateInputHeight()}_optionChanged(e){const{name:t,value:n}=e;switch(t){case"autoResizeEnabled":this._updateInputAutoResizeAppearance(this._input(),n),this._refreshEvents(),this._updateInputHeight();break;case"value":case"height":super._optionChanged(e),this._updateInputHeight();break;case"minHeight":case"maxHeight":this._renderDimensions(),this._updateInputHeight();break;case"visible":super._optionChanged(e),n&&this._updateInputHeight();break;default:super._optionChanged(e)}}}Mi("dxTextArea",OM);const TM=OM,AM=(0,e.memo)((0,e.forwardRef)((t,n)=>{const i=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,()=>({instance:()=>i.current?.getInstance()}),[i.current]);const r=(0,e.useMemo)(()=>["value"],[]),o=(0,e.useMemo)(()=>["onChange","onContentReady","onCopy","onCut","onDisposing","onEnterKey","onFocusIn","onFocusOut","onInitialized","onInput","onKeyDown","onKeyUp","onPaste","onValueChanged"],[]),s=(0,e.useMemo)(()=>({defaultValue:"value"}),[]);return e.createElement(wx,{WidgetClass:TM,ref:i,subscribableOptions:r,independentEvents:o,defaults:s,...t})}));function PM(e){return`_${Jn(e.replace("on",""))}Action`}const MM="onResize",RM="onResizeStart",BM="onResizeEnd",NM="onCollapsePrev",FM="onCollapseNext",$M="dx-resize-handle",HM="horizontal",LM="vertical";const VM=class extends yd{_supportedKeys(){return K({},super._supportedKeys(),{rightArrow(e){e.preventDefault(),e.stopPropagation();const{direction:t,showCollapseNext:n,showCollapsePrev:i,rtlEnabled:r}=this.option(),o=r?!1===i:!1===n;if(sr(e)){if(t===LM||o)return;r?this._collapsePrevHandler(e):this._collapseNextHandler(e)}else this._resizeBy(e,{x:5})},leftArrow(e){e.preventDefault(),e.stopPropagation();const{direction:t,showCollapsePrev:n,showCollapseNext:i,rtlEnabled:r}=this.option(),o=r?!1===i:!1===n;if(sr(e)){if(t===LM||o)return;r?this._collapseNextHandler(e):this._collapsePrevHandler(e)}else this._resizeBy(e,{x:-5})},upArrow(e){e.preventDefault(),e.stopPropagation();const{direction:t,showCollapsePrev:n}=this.option();if(sr(e)){if(t===HM||!1===n)return;this._collapsePrevHandler(e)}else this._resizeBy(e,{y:-5})},downArrow(e){e.preventDefault(),e.stopPropagation();const{direction:t,showCollapseNext:n}=this.option();if(sr(e)){if(t===HM||!1===n)return;this._collapseNextHandler(e)}else this._resizeBy(e,{y:5})}})}_getDefaultOptions(){return K({},super._getDefaultOptions(),{direction:HM,hoverStateEnabled:!0,focusStateEnabled:!0,activeStateEnabled:!0,onResize:void 0,onResizeEnd:void 0,onResizeStart:void 0,resizable:!0,showCollapsePrev:!0,showCollapseNext:!0,onCollapsePrev:void 0,onCollapseNext:void 0,separatorSize:8})}_init(){super._init();const e=`dxResizeHandle${new ce}`;this.RESIZE_START_EVENT_NAME=or(dh,e),this.RESIZE_EVENT_NAME=or(hh,e),this.RESIZE_END_EVENT_NAME=or(ph,e),this.CLICK_EVENT_NAME=or(dc,e),this.DOUBLE_CLICK_EVENT_NAME=or(eg,e)}_initMarkup(){super._initMarkup(),this._renderResizeHandleContent(),this._setAriaAttributes()}_renderResizeHandleContent(){const{resizable:e}=this.option();Si(this.element()).addClass("dx-resize-handle"),Si(this.element()).toggleClass("dx-resize-handle-resizable",e),this._toggleDirectionClass(),this._updateDimensions(),this._$collapsePrevButton=Si("<div>").addClass(this._getIconClass("prev")).appendTo(this.$element()),this._$resizeHandle=Si("<div>").addClass(this._getIconClass("icon")).appendTo(this.$element()),this._$collapseNextButton=Si("<div>").addClass(this._getIconClass("next")).appendTo(this.$element()),this._setCollapseButtonsVisibility(),this._setResizeIconVisibility()}_updateIconsClasses(){var e,t,n;const i=this._isHorizontalDirection(),r=this.option("rtlEnabled");null===(e=this._$collapsePrevButton)||void 0===e||e.removeClass(this._getCollapseIconClass(!1,!i,!!r)).addClass(this._getCollapseIconClass(!1,i,!!r)),null===(t=this._$resizeHandle)||void 0===t||t.removeClass(this._getResizeIconClass(!i)).addClass(this._getResizeIconClass(i)),null===(n=this._$collapseNextButton)||void 0===n||n.removeClass(this._getCollapseIconClass(!0,!i,!!r)).addClass(this._getCollapseIconClass(!0,i,!!r))}_updateDimensions(){const e=this._isHorizontalDirection(),t=e?"width":"height",n=e?"height":"width";this.option(n,null),this.option(t,this.getSize())}_isInactive(){const{resizable:e,showCollapseNext:t,showCollapsePrev:n}=this.option();return!1===e&&!1===t&&!1===n}_getIconClass(e){const t=this._isHorizontalDirection(),n=this.option("rtlEnabled");switch(e){case"prev":return`dx-resize-handle-collapse-prev-pane dx-icon ${this._getCollapseIconClass(!1,t,!!n)}`;case"next":return`dx-resize-handle-collapse-next-pane dx-icon ${this._getCollapseIconClass(!0,t,!!n)}`;case"icon":return`dx-resize-handle-icon dx-icon ${this._getResizeIconClass(t)}`;default:return""}}_getResizeIconClass(e){return"dx-icon-handle"+(e?"vertical":"horizontal")}_getCollapseIconClass(e,t,n){return`dx-icon-triangle${t?e===n?"left":"right":e?"down":"up"}`}_setCollapseButtonsVisibility(){var e,t;const{showCollapsePrev:n,showCollapseNext:i}=this.option();null===(e=this._$collapsePrevButton)||void 0===e||e.toggleClass("dx-state-invisible",!n),null===(t=this._$collapseNextButton)||void 0===t||t.toggleClass("dx-state-invisible",!i)}_setResizeIconVisibility(){var e;const{resizable:t}=this.option();null===(e=this._$resizeHandle)||void 0===e||e.toggleClass("dx-state-invisible",!t)}_setAriaAttributes(){this.setAria({role:"application",roledescription:mr.format("dxSplitter-resizeHandleAriaRoleDescription"),label:mr.format("dxSplitter-resizeHandleAriaLabel")})}_toggleDirectionClass(){Si(this.element()).toggleClass("dx-resize-handle-horizontal",this._isHorizontalDirection()),Si(this.element()).toggleClass("dx-resize-handle-vertical",!this._isHorizontalDirection())}_render(){super._render(),this._attachEventHandlers()}_resizeStartHandler(e){this._getAction(RM)({event:e})}_resizeHandler(e){this._getAction(MM)({event:e})}_resizeEndHandler(e){this._getAction(BM)({event:e})}_collapsePrevHandler(e){this._getAction(NM)({event:e})}_collapseNextHandler(e){this._getAction(FM)({event:e})}_resizeBy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{x:0,y:0};const{resizable:n}=this.option();!1!==n&&(e.offset=t,this._resizeStartHandler(e),this._resizeHandler(e),this._resizeEndHandler(e))}_createEventAction(e){this[PM(e)]=this._createActionByOption(e,{excludeValidators:["disabled","readOnly"]})}_getAction(e){const t=PM(e);return this[t]||this._createEventAction(e),this[t]}_attachEventHandlers(){this._attachResizeEventHandlers(),this._attachPointerEventHandlers()}_attachResizeEventHandlers(){const{resizable:e,direction:t}=this.option();if(e){const e={direction:t,immediate:!0};rn.on(this.$element(),this.RESIZE_START_EVENT_NAME,e,this._resizeStartHandler.bind(this)),rn.on(this.$element(),this.RESIZE_EVENT_NAME,e,this._resizeHandler.bind(this)),rn.on(this.$element(),this.RESIZE_END_EVENT_NAME,e,this._resizeEndHandler.bind(this))}}_attachPointerEventHandlers(){const{showCollapsePrev:e,showCollapseNext:t}=this.option();!0!==e&&!0!==t||rn.on(this.$element(),this.DOUBLE_CLICK_EVENT_NAME,this._doubleClickHandler.bind(this)),!0===e&&rn.on(this._$collapsePrevButton,this.CLICK_EVENT_NAME,this._collapsePrevHandler.bind(this)),!0===t&&rn.on(this._$collapseNextButton,this.CLICK_EVENT_NAME,this._collapseNextHandler.bind(this))}_detachEventHandlers(){this._detachResizeEventHandlers(),this._detachPointerEventHandlers()}_detachResizeEventHandlers(){rn.off(this.$element(),this.RESIZE_START_EVENT_NAME),rn.off(this.$element(),this.RESIZE_EVENT_NAME),rn.off(this.$element(),this.RESIZE_END_EVENT_NAME)}_detachPointerEventHandlers(){rn.off(this.$element(),this.DOUBLE_CLICK_EVENT_NAME),rn.off(this._$collapsePrevButton,this.CLICK_EVENT_NAME),rn.off(this._$collapseNextButton,this.CLICK_EVENT_NAME)}_doubleClickHandler(e){const{showCollapsePrev:t,showCollapseNext:n}=this.option();!0===t?this._collapsePrevHandler(e):!0===n&&this._collapseNextHandler(e)}_isHorizontalDirection(){const{direction:e}=this.option();return e===HM}_clean(){this._detachResizeEventHandlers(),this._detachPointerEventHandlers(),super._clean()}_optionChanged(e){const{name:t,value:n}=e;switch(t){case"direction":this._toggleDirectionClass(),this._detachResizeEventHandlers(),this._attachResizeEventHandlers(),this._updateDimensions(),this._updateIconsClasses();break;case"resizable":this._setResizeIconVisibility(),Si(this.element()).toggleClass("dx-resize-handle-resizable",!!n),this._detachResizeEventHandlers(),this._attachResizeEventHandlers(),this._updateDimensions();break;case"separatorSize":this._updateDimensions();break;case"showCollapsePrev":case"showCollapseNext":this._setCollapseButtonsVisibility(),this._setResizeIconVisibility(),this._updateDimensions(),this._detachPointerEventHandlers(),this._attachPointerEventHandlers();break;case"onCollapsePrev":case"onCollapseNext":case"onResize":case"onResizeStart":case"onResizeEnd":this._createEventAction(t);break;default:super._optionChanged(e)}}getSize(){const{separatorSize:e}=this.option();return this._isInactive()?2:void 0!==e&&Number.isFinite(e)&&e>=0?e:8}isInactive(){return this._isInactive()}};const zM=class extends Fy{constructor(e,t,n){super(e,t,n),this._owner=t.owner}_renderResizeHandle(){if(this._shouldHaveResizeHandle()){const e=`dx_${new ce}`;this._setIdAttr(e);const t=this._owner._getResizeHandleConfig(e);this._resizeHandle=this._owner._createComponent(Si("<div>"),VM,t),this._resizeHandle&&this._$element&&Si(this._resizeHandle.element()).insertAfter(this._$element)}}_shouldHaveResizeHandle(){var e;return!1!==(null===(e=this._rawData)||void 0===e?void 0:e.visible)&&!this.isLast()}updateResizeHandle(){if(this._shouldHaveResizeHandle()){if(this.getResizeHandle())return;this._renderResizeHandle()}else this._removeIdAttr(),this._removeResizeHandle()}_setIdAttr(e){this._$element.attr("id",e)}_removeIdAttr(){this._$element.attr("id",null)}getIndex(){return this._owner._getIndexByItemData(this._rawData)}getResizeHandle(){return this._resizeHandle}_removeResizeHandle(){var e;null===(e=this.getResizeHandle())||void 0===e||e.$element().remove(),delete this._resizeHandle}isLast(){return this._owner._isLastVisibleItem(this.getIndex())}_dispose(){this._removeResizeHandle(),super._dispose()}};function jM(e){var t,n;const i=null===(t=e.data)||void 0===t?void 0:t.call(e,"dxComponents")[0];return i&&(null===(n=e.data)||void 0===n?void 0:n.call(e,`${i}`))}function WM(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;const i=parseFloat(wd(e,n))-parseFloat(wd(t,n));return 0===i?0:i>0?1:-1}const KM="horizontal",UM="vertical";function qM(e){for(let t=e.length-1;t>=0;t-=1)if(!1!==e[t].visible)return t;return-1}function GM(e){for(let t=e.length-1;t>=0;t-=1)if(!0!==e[t].collapsed)return t;return-1}function ZM(e,t){const{minSize:n=0,maxSize:i=100,resizable:r,visible:o,collapsed:s,collapsedSize:a=0}=e;if(!1===o)return 0;if(!0===s)return a??0;if(!1===r&&_(e.size))return e.size;let l=WM(t,n)<0?n:t;return l=Math.min(i,l),l=parseFloat(wd(l,10)),l}function YM(e,t,n,i){let r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0;if(i<0||i>=n.length)return r;const o=t[i];return YM(e,t,n,i+e,r+(ZM(n[i],100)-o))}function QM(e,t,n,i){if(!_(n))return e;const r=[...e],o=n+1;let s=t;let a=s<0?o:n;const l=YM(s<0?1:-1,e,i,a,0),c=Math.min(Math.abs(s),Math.abs(l));let u=0;for(s=s<0?-c:c,a=s<0?n:o;a>=0&&a<i.length;){const t=Math.abs(s)-Math.abs(u),n=e[a],o=n-t,l=ZM(i[a],o);if(0!==WM(n,l)&&(u+=n-l,r[a]=l,parseFloat(wd(u,10))>=parseFloat(wd(Math.abs(s),10))))break;s<0?a-=1:a+=1}if(0===WM(u,0))return e;let d=s<0?o:n,h=e[d],p=h+u,f=ZM(i[d],p);if(r[d]=f,0!==WM(f,p)){let e=p-f;d=s<0?o:n;let t=d;for(;t>=0&&t<i.length&&(h=r[t],p=h+e,f=ZM(i[t],p),0!==WM(h,f)&&(e-=f-h,r[t]=f),0!==WM(e,0));)s>0?t-=1:t+=1}return 0!==WM(r.reduce((e,t)=>t+e,0),100,2)?e:r}function XM(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;const r=function(e,t,n){return t===UM?e.y??0:(n?-1:1)*(e.x??0)}(e,t,n)*i;return r}function JM(e,t,n){const i=ui(t,n);e.style[ai(t)]=i}function eR(e,t){if(!v(e))return!1;return new RegExp(`^\\d+(\\.\\d+)?${t}$`).test(e)}function tR(e,t){if(_(e)){if(y(e)&&e>=0)return Number(e);if(v(e)){if(function(e){return eR(e,"%")}(e))return parseFloat(e)/100*t;if(function(e){return"number"===typeof e?e>=0:eR(e,"px")}(e))return parseFloat(e.slice(0,-2))}}}function nR(e,t,n){const i=tR(e,t);if(!_(i))return;const r=function(e,t){return 0===e?0:t/e*100}(t-n,i);return parseFloat(wd(r,10))}function iR(e,t){return t===KM?$n(e):Ln(e)}var rR;!function(e){e.Previous="prev",e.Next="next"}(rR||(rR={}));const oR="flexGrow",sR="flexShrink",aR="flexBasis",lR="horizontal";class cR extends Wx{constructor(){super(...arguments),this._renderQueue=[],this._panesCacheSize=[],this._panesCacheSizeVisible=[],this._itemRestrictions=[]}_getDefaultOptions(){const e=super._getDefaultOptions();return K({},e,{orientation:lR,onItemCollapsed:void 0,onItemExpanded:void 0,onResize:void 0,onResizeEnd:void 0,onResizeStart:void 0,allowKeyboardNavigation:!0,separatorSize:8,_itemAttributes:K({},e._itemAttributes,{role:"group"}),_renderQueue:void 0})}_itemClass(){return"dx-splitter-item"}_itemDataKey(){return"dxSplitterItemData"}_init(){super._init(),this._initializeRenderQueue()}_initializeRenderQueue(){this._renderQueue=this.option("_renderQueue")??[]}_isRenderQueueEmpty(){return this._renderQueue.length<=0}_pushItemToRenderQueue(e,t){this._renderQueue.push({itemContent:e,splitterConfig:t})}_shiftItemFromQueue(){return this._renderQueue.shift()}_initMarkup(){Si(this.element()).addClass("dx-splitter"),this._toggleOrientationClass(),super._initMarkup(),this._panesCacheSize=[],this._panesCacheSizeVisible=[],this._attachResizeObserverSubscription()}_getItemDimension(e){return this._isHorizontalOrientation()?zn(e):jn(e)}_attachResizeObserverSubscription(){if(Ct()){const e=Si(this.element()).get(0);Ts.unobserve(e),Ts.observe(e,()=>{this._resizeHandler()})}}_attachHoldEvent(){}_isAttached(){return!!sc(mt.getBody(),Si(this.element()).get(0))}_isVisible(){return function(e){var t;return!!e&&!!(e.offsetWidth||e.offsetHeight||null!==(t=e.getClientRects)&&void 0!==t&&t.call(e).length)}(Si(this.element())[0])}_resizeHandler(){this._shouldRecalculateLayout&&this._isAttached()&&this._isVisible()&&(this._layout=this._getDefaultLayoutBasedOnSize(),this._applyStylesFromLayout(this._layout),this._updateItemSizes(),this._shouldRecalculateLayout=!1)}_renderItems(e){super._renderItems(e),this._updateResizeHandlesResizableState(),this._updateResizeHandlesCollapsibleState(),this._isVisible()?(this._layout=this._getDefaultLayoutBasedOnSize(),this._applyStylesFromLayout(this._layout),this._updateItemSizes()):this._shouldRecalculateLayout=!0,this._processRenderQueue()}_processRenderQueue(){if(this._isRenderQueueEmpty())return;const e=this._shiftItemFromQueue();e&&(this._createComponent(Si(e.itemContent),cR,A({itemTemplate:this.option("itemTemplate"),onResize:this.option("onResize"),onResizeStart:this.option("onResizeStart"),onResizeEnd:this.option("onResizeEnd"),onItemClick:this.option("onItemClick"),onItemContextMenu:this.option("onItemContextMenu"),onItemRendered:this.option("onItemRendered"),onItemExpanded:this.option("onItemExpanded"),onItemCollapsed:this.option("onItemCollapsed"),separatorSize:this.option("separatorSize"),allowKeyboardNavigation:this.option("allowKeyboardNavigation"),rtlEnabled:this.option("rtlEnabled"),_renderQueue:this._renderQueue},e.splitterConfig)),this._processRenderQueue())}_itemElements(){return Si(this._itemContainer()).children(this._itemSelector())}_isLastVisibleItem(e){const{items:t=[]}=this.option();return e===qM(t)}_renderItem(e,t,n,i){const r=super._renderItem(e,t,n,i),o=r.get(0);return JM(o,sR,0),JM(o,aR,0),this._getItemInstance(r)._renderResizeHandle(),r}_getItemInstance(e){return zM.getInstance(e)}_updateResizeHandlesResizableState(){this._getResizeHandles().forEach(e=>{this._updateResizeHandleResizableState(e)})}_updateResizeHandleResizableState(e){const t=e.$element(),n=this._getResizeHandleLeftItem(t),i=this._getResizeHandleRightItem(t),r=this._getItemData(n),o=this._getItemData(i),s=!1!==r.resizable&&!1!==o.resizable&&!0!==r.collapsed&&!0!==o.collapsed;e.option("resizable",s),e.option("disabled",e.isInactive())}_updateResizeHandlesCollapsibleState(){this._getResizeHandles().forEach(e=>{this._updateResizeHandleCollapsibleState(e)})}_updateResizeHandleCollapsibleState(e){const t=Si(e.element()),n=this._getResizeHandleLeftItem(t),i=this._getResizeHandleRightItem(t),r=this._getItemData(n),o=this._getItemData(i),s=!0===o.collapsed?!0===o.collapsible&&!0!==r.collapsed:!0===r.collapsible&&!0!==r.collapsed,a=!0===r.collapsed?!0===r.collapsible:!0===o.collapsible&&!0!==o.collapsed;e.option({showCollapsePrev:s,showCollapseNext:a}),e.option("disabled",e.isInactive())}_updateNestedSplitterOption(e,t){const{items:n=[]}=this.option();n.forEach(n=>{if(null!==n&&void 0!==n&&n.splitter){const i=this._findItemElementByItem(n).find(".dx-splitter").eq(0);i.length&&jM(i).option(e,t)}})}_updateResizeHandlesOption(e,t){this._getResizeHandles().forEach(n=>{n.option(e,t)})}_getNextVisibleItemData(e){const{items:t=[]}=this.option();return this._getItemDataByIndex(function(e,t){for(let n=t+1;n<e.length;n+=1)if(!1!==e[n].visible)return n;return-1}(t,e))}_getItemDataByIndex(e){return this._editStrategy.getItemDataByIndex(e)}_createEventAction(e){this[PM(e)]=this._createActionByOption(e,{excludeValidators:["disabled","readOnly"]})}_getAction(e){const t=PM(e);return this[t]||this._createEventAction(e),this[t]}_getResizeHandleConfig(e){const{orientation:t,rtlEnabled:n,allowKeyboardNavigation:i,separatorSize:r}=this.option();return{direction:t,focusStateEnabled:i,hoverStateEnabled:!0,separatorSize:r,elementAttr:{"aria-controls":e},onCollapsePrev:e=>{var t;null===(t=e.event)||void 0===t||t.stopPropagation(),this._savedCollapsingEvent=e.event,this.handleCollapseEvent(this._getResizeHandleLeftItem(Si(e.element)),rR.Previous)},onCollapseNext:e=>{var t;null===(t=e.event)||void 0===t||t.stopPropagation(),this._savedCollapsingEvent=e.event,this.handleCollapseEvent(this._getResizeHandleLeftItem(Si(e.element)),rR.Next)},onResizeStart:e=>{const{element:n,event:i}=e;if(!i)return;const r=Si(n),o={event:i,handleElement:ma(r)};if(this._getAction(RM)(o),o.cancel)return void(i.cancel=!0);this._feedbackDeferred=Re(),Cc(this._feedbackDeferred),this._toggleActiveState(r,!0);const s=this._getResizeHandleLeftItem(r),a=this._getItemData(s),l=this._getIndexByItem(a);this._activeResizeHandleIndex=l,this._currentOnePxRatio=nR(1,iR(Si(this.element()),t),this._getResizeHandlesSize()),this._currentLayout=this.getLayout(),this._updateItemsRestrictions()},onResize:e=>{const{element:t,event:i}=e;if(!i)return;const r={event:i,handleElement:ma(Si(t))};if(this._getAction(MM)(r),r.cancel)return void(i.cancel=!0);const{orientation:o}=this.option(),s=QM(this._currentLayout??[],XM(i.offset,o,n,this._currentOnePxRatio),this._activeResizeHandleIndex,this._itemRestrictions);this._applyStylesFromLayout(s),this._layout=s},onResizeEnd:e=>{var t;const{element:n,event:i}=e;if(this._activeResizeHandleIndex=void 0,!i)return;const r=Si(n),o={event:i,handleElement:ma(r)};null===(t=this._feedbackDeferred)||void 0===t||t.resolve(),this._toggleActiveState(r,!1),this._updateItemSizes(),this._getAction(BM)(o)}}}handleCollapseEvent(e,t,n){const i=e,r=this._getItemData(i),o=this._getIndexByItem(r),s=this._getResizeHandleRightItem(i),a=this._getItemData(s),l=this._getIndexByItem(a);this._activeResizeHandleIndex=o,this._collapseDirection=t;const c=n??(t===rR.Previous?a.collapsed:r.collapsed);let u=0;u=t===rR.Previous?c?l:o:c?o:l,this._updateItemData("collapsed",u,!c,!1)}_getResizeHandleLeftItem(e){let t=e.prev();for(;t.hasClass("dx-state-invisible")||t.hasClass($M);)t=t.prev();return t}_getResizeHandleRightItem(e){let t=e.next();for(;t.hasClass("dx-state-invisible")||t.hasClass($M);)t=t.next();return t}_getResizeHandlesSize(){return this._getResizeHandles().reduce((e,t)=>e+t.getSize(),0)}_createItemByTemplate(e,t){const{itemData:n}=t;return n.splitter?(this._onItemTemplateRendered(e,t)(),e.source?e.source():Si()):super._createItemByTemplate(e,t)}_postprocessRenderItem(e){const t=e.itemData.splitter;t&&this._pushItemToRenderQueue(e.itemContent,t)}_isHorizontalOrientation(){const{orientation:e}=this.option();return e===lR}_toggleOrientationClass(){Si(this.element()).toggleClass("dx-splitter-horizontal",this._isHorizontalOrientation()).toggleClass("dx-splitter-vertical",!this._isHorizontalOrientation())}_itemOptionChanged(e,t,n,i){switch(t){case"size":case"maxSize":case"minSize":case"collapsedSize":this._layout=this._getDefaultLayoutBasedOnSize(),this._applyStylesFromLayout(this.getLayout()),this._updateItemSizes();break;case"collapsed":this._itemCollapsedOptionChanged(e,n,i);break;case"resizable":this._updateResizeHandlesResizableState();break;case"collapsible":this._updateResizeHandlesCollapsibleState();break;case"visible":super._itemOptionChanged(e,t,n,i),this._itemVisibleOptionChanged(e,n,i);break;case"template":super._itemOptionChanged(e,t,n,i),this._applyStylesFromLayout(this.getLayout()),this._updateResizeHandles();break;default:super._itemOptionChanged(e,t,n,i)}}_itemVisibleOptionChanged(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(Boolean(!(arguments.length>2&&void 0!==arguments[2])||arguments[2])===Boolean(t))return;const{direction:n,paneIndex:i}=this._getDistributionData(e,t);if(this._updateResizeHandles(),i&&i<0)return;this._updateItemsRestrictions();const r=this._getCollapseDelta(e,!t,this._panesCacheSizeVisible,n);this._itemRestrictions.forEach(e=>{e.maxSize=void 0,e.resizable=void 0}),this._layout=QM(this.getLayout(),r,i,this._itemRestrictions),this._applyStylesFromLayout(this.getLayout()),this._updateItemSizes()}_getDistributionData(e,t){const n=this._getIndexByItem(e),i=Si(this._itemElements()[n]),{items:r=[]}=this.option(),o=n>=qM(r);return{direction:o===(!1===t)?rR.Next:rR.Previous,paneIndex:this._getPaneIndexByElement(o?this._getResizeHandleLeftItem(i):i)}}_updateResizeHandles(){this._iterateItems((e,t)=>{const n=this._getItemInstance(Si(t));n.updateResizeHandle();const i=n.getResizeHandle();i&&(this._updateResizeHandleResizableState(i),this._updateResizeHandleCollapsibleState(i))})}_getPaneIndexByElement(e){const t=this._getItemData(e);return this._getIndexByItem(t)}_itemCollapsedOptionChanged(e,t,n){if(Boolean(t)===Boolean(n))return;const i=this._getIndexByItem(e),r=Si(this._itemElements()[i]),{items:o=[]}=this.option();if(!_(this._activeResizeHandleIndex))if(t){const e=i>GM(o);this._isLastVisibleItem(i)||e?this.handleCollapseEvent(this._getResizeHandleLeftItem(r),rR.Next,!!n):this.handleCollapseEvent(r,rR.Previous,!!n)}else{var s;const e=i>=GM(o);this._isLastVisibleItem(i)||e||(null===(s=this._panesCacheSize[i])||void 0===s?void 0:s.direction)===rR.Previous?this.handleCollapseEvent(this._getResizeHandleLeftItem(r),rR.Previous,!!n):this.handleCollapseEvent(r,rR.Next,!!n)}this._updateItemsRestrictions();const a=this._getCollapseDelta(e,t,this._panesCacheSize,this._collapseDirection);this._itemRestrictions.forEach(e=>{e.maxSize=void 0,e.resizable=void 0}),this._layout=QM(this.getLayout(),a,this._activeResizeHandleIndex,this._itemRestrictions),this._applyStylesFromLayout(this.getLayout()),this._updateItemSizes(),this._updateResizeHandlesResizableState(),this._updateResizeHandlesCollapsibleState(),this._fireCollapsedStateChanged(!t,r,this._savedCollapsingEvent),this._savedCollapsingEvent=void 0,this._collapseDirection=void 0,this._activeResizeHandleIndex=void 0}_calculateExpandToLeftSize(e){const{items:t=[]}=this.option();for(let n=e;n>=0;n-=1){const{collapsed:e,visible:i}=t[n];if(!0!==e&&!1!==i)return this.getLayout()[n]/2}return 0}_calculateExpandToRightSize(e){const{items:t=[]}=this.option();for(let n=e;n<=t.length-1;n+=1){const{collapsed:e,visible:i}=t[n];if(!0!==e&&!1!==i)return this.getLayout()[n]/2}return 0}_getCollapseDelta(e,t,n,i){const r=this._getIndexByItem(e),{collapsedSize:o=0,minSize:s=0,maxSize:a=100}=this._itemRestrictions[r],l=this.getLayout()[r];if(t){const e=o;l>e&&(n[r]={size:l,direction:i===rR.Next?rR.Previous:rR.Next});return i===rR.Previous?e-l:l-e}const c=n[r];n[r]=void 0;let u=0;u=c&&c.direction===i?c.size-o:i===rR.Previous?this._calculateExpandToLeftSize(r-1):this._calculateExpandToRightSize(r+1);let d=WM(u,s)<0?s:u;d=Math.min(a,d);return d*(i===rR.Previous?-1:1)}_fireCollapsedStateChanged(e,t,n){const i=e?"onItemExpanded":"onItemCollapsed";this._itemEventHandler(t,i,{event:n})}_getDefaultLayoutBasedOnSize(){return this._updateItemsRestrictions(),function(e){let t=new Array(e.length).fill(null),n=0,i=100;e.forEach((e,r)=>{const{size:o,visible:s,collapsed:a,collapsedSize:l=0}=e;if(!1===s)return n+=1,t[r]=0,void(i-=0);if(!0===a)return n+=1,t[r]=l,void(i-=l);if(_(o)){if(n+=1,i-o<0)return t[r]=i,void(i=0);t[r]=o,i-=o}});let r=e.length-n;if(0===r)t[qM(e)]+=i,i=0;else if(e.forEach((e,o)=>{null===t[o]&&(_(e.maxSize)&&1===r?(t[o]=i>e.maxSize?i:e.maxSize,i-=t[o],n+=1):_(e.maxSize)&&e.maxSize<i/r&&(t[o]=e.maxSize,i-=e.maxSize,n+=1,r-=1))}),r=e.length-n,r>0){const e=i/r;t.forEach((n,i)=>{null===n&&(t[i]=e)})}if(t=t.map(e=>null===e?0:parseFloat(wd(e,10))),1===t.length)return t;let o=[...t];const s=o.reduce((e,t)=>e+t,0);if(0!==WM(s,100))for(let a=0;a<e.length;a+=1){const e=100/s*o[a];o[a]=e}if(i=0,o=t.map((t,n)=>{const r=ZM(e[n],t);return i+=t-r,r}),0!==WM(i,0)){for(let t=0;t<o.length&&0!==WM(i,0);t+=1){const n=o[t],r=ZM(e[t],n+i);i-=r-n,o[t]=r}if(i>0){const t=function(e){for(let t=e.length-1;t>=0;t-=1){const{collapsed:n,visible:i}=e[t];if(!0!==n&&!1!==i)return t}return-1}(e);-1!==t&&(o[t]+=i)}}return o}(this._itemRestrictions)}_updateItemsRestrictions(){const{orientation:e,items:t=[]}=this.option(),n=this._getResizeHandlesSize(),i=iR(Si(this.element()),e);this._itemRestrictions=[],t.forEach(e=>{this._itemRestrictions.push({resizable:!1!==e.resizable,visible:!1!==e.visible,collapsed:!0===e.collapsed,collapsedSize:nR(e.collapsedSize,i,n),size:nR(e.size,i,n),maxSize:nR(e.maxSize,i,n),minSize:nR(e.minSize,i,n)})})}_applyStylesFromLayout(e){this._iterateItems((t,n)=>{JM(Si(n)[0],oR,e[t]);const i=this._getItemData(n),r=0===e[t]&&!1!==i.visible;Si(n).toggleClass("dx-splitter-item-hidden-content",r)})}_updateItemSizes(){this._iterateItems((e,t)=>{this._updateItemData("size",e,this._getItemDimension(t))})}_updateItemData(e,t,n){let i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const r=`items[${t}]`,o=this.option(r);b(o)?this._updateItemOption(`${r}.${e}`,n,i):this._updateItemOption(r,{text:o,[e]:n},i)}_updateItemOption(e,t){arguments.length>2&&void 0!==arguments[2]&&arguments[2]?this._options.silent(e,t):this.option(e,t)}_iterateItems(e){this._itemElements().each((t,n)=>(e(t,n),!0))}_getResizeHandles(){const e=[];return this._iterateItems((t,n)=>{const i=this._getItemInstance(Si(n)).getResizeHandle();i&&e.push(i)}),e}_getResizeHandleItems(){return Si(this.element()).children(`.${$M}`)}_iterateResizeHandles(e){this._getResizeHandleItems().each((t,n)=>(e(jM(Si(n))),!0))}_dimensionChanged(){this._updateItemSizes(),this._layout=this._getDefaultLayoutBasedOnSize()}_optionChanged(e){const{name:t,value:n}=e;switch(t){case"width":case"height":super._optionChanged(e),this._dimensionChanged();break;case"allowKeyboardNavigation":this._iterateResizeHandles(e=>{e.option("focusStateEnabled",!!n)}),this._updateNestedSplitterOption(t,n);break;case"orientation":this._toggleOrientationClass(),this._updateResizeHandlesOption("direction",n);break;case"onResizeStart":case"onResizeEnd":case"onResize":case"onItemCollapsed":case"onItemExpanded":this._createEventAction(t),this._updateNestedSplitterOption(t,n);break;case"separatorSize":this._updateResizeHandlesOption(t,n),this._updateNestedSplitterOption(t,n);break;case"_renderQueue":this._invalidate();break;default:super._optionChanged(e)}}registerKeyHandler(e,t){Si(this.element()).find(`.${$M}`).each((n,i)=>(jM(Si(i)).registerKeyHandler(e,t),!0))}getLayout(){return this._layout??[]}}cR.ItemClass=zM,Mi("dxSplitter",cR);const uR=cR,dR=(0,e.memo)((0,e.forwardRef)((t,n)=>{const i=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,()=>({instance:()=>i.current?.getInstance()}),[i.current]);const r=(0,e.useMemo)(()=>["items"],[]),o=(0,e.useMemo)(()=>["onContentReady","onDisposing","onInitialized","onItemClick","onItemCollapsed","onItemContextMenu","onItemExpanded","onItemRendered","onResize","onResizeEnd","onResizeStart"],[]),s=(0,e.useMemo)(()=>({defaultItems:"items"}),[]),a=(0,e.useMemo)(()=>({item:{optionName:"items",isCollectionItem:!0}}),[]),l=(0,e.useMemo)(()=>[{tmplOption:"itemTemplate",render:"itemRender",component:"itemComponent"}],[]);return e.createElement(wx,{WidgetClass:uR,ref:i,subscribableOptions:r,independentEvents:o,defaults:s,expectedChildren:a,templateProps:l,...t})})),hR=Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"items",IsCollectionItem:!0,TemplateProps:[{tmplOption:"template",render:"render",component:"component"}]}}),{componentType:"option"}),pR=dR,fR=ZA,mR=(0,e.memo)((0,e.forwardRef)((t,n)=>{const i=(0,e.useRef)(null);(0,e.useImperativeHandle)(n,()=>({instance:()=>i.current?.getInstance()}),[i.current]);const r=(0,e.useMemo)(()=>["items","selectedIndex","selectedItem","selectedItemKeys","selectedItems"],[]),o=(0,e.useMemo)(()=>["onContentReady","onDisposing","onInitialized","onItemClick","onItemContextMenu","onItemHold","onItemRendered","onSelectionChanging"],[]),s=(0,e.useMemo)(()=>({defaultItems:"items",defaultSelectedIndex:"selectedIndex",defaultSelectedItem:"selectedItem",defaultSelectedItemKeys:"selectedItemKeys",defaultSelectedItems:"selectedItems"}),[]),a=(0,e.useMemo)(()=>({item:{optionName:"items",isCollectionItem:!0}}),[]),l=(0,e.useMemo)(()=>[{tmplOption:"itemTemplate",render:"itemRender",component:"itemComponent"}],[]);return e.createElement(wx,{WidgetClass:fR,ref:i,subscribableOptions:r,independentEvents:o,defaults:s,expectedChildren:a,templateProps:l,...t})})),_R=(Object.assign(t=>e.createElement(Ex,{...t,elementDescriptor:{OptionName:"items",IsCollectionItem:!0,TemplateProps:[{tmplOption:"template",render:"render",component:"component"}]}}),{componentType:"option"}),mR);var gR=n(579);const vR=[{id:1,text:"Projects"},{id:2,text:"Database Developers"},{id:3,text:"Admin"}],yR=[{id:"1",text:"CREAGIX",expanded:!0,items:[{id:"1_1",text:"Requirements Management",pages:[{id:"p1",title:"Ideas",content:"<h2>Initial Ideas</h2><p>Content for the <strong>Ideas</strong> page.</p>"},{id:"p2",title:"Scope Definition",content:"<h2>Project Scope</h2><p>Defining goals.</p>"}]},{id:"1_2",text:"UI/UX Design",pages:[{id:"p3",title:"Wireframes",content:"<h2>Wireframes Content</h2>"}]}]}];function bR(e){let{text:t,onClick:n}=e;return(0,gR.jsx)("div",{className:"collapsed-panel",onClick:n,children:(0,gR.jsx)("span",{children:t})})}function CR(e){let{onPinClick:t,onClose:n}=e;return(0,gR.jsxs)("div",{className:"panel properties-panel",children:[(0,gR.jsxs)("div",{className:"panel-header",children:[(0,gR.jsx)("span",{children:"Properties"}),(0,gR.jsxs)("div",{className:"panel-buttons",children:[(0,gR.jsx)("button",{onClick:t,className:"panel-icon-btn",children:"\ud83d\udccc"}),(0,gR.jsx)("button",{onClick:n,className:"panel-icon-btn",children:"\xd7"})]})]}),(0,gR.jsx)("div",{className:"panel-content",children:(0,gR.jsx)("p",{children:"Property details will appear here."})})]})}function xR(t){let{onPinClick:n,onClose:i}=t;const[r,o]=(0,e.useState)("");return(0,gR.jsxs)("div",{className:"panel",children:[(0,gR.jsxs)("div",{className:"panel-header",children:[(0,gR.jsx)("span",{children:"AI Assist"}),(0,gR.jsxs)("div",{className:"panel-buttons",children:[(0,gR.jsx)("button",{onClick:n,className:"panel-icon-btn",children:"\ud83d\udccc"}),(0,gR.jsx)("button",{onClick:i,className:"panel-icon-btn",children:"\xd7"})]})]}),(0,gR.jsxs)("div",{className:"ai-panel-content",children:[(0,gR.jsx)(EM,{className:"ai-chat-area",children:(0,gR.jsxs)("div",{className:"chat-message",children:[(0,gR.jsx)("div",{className:"chat-author",children:"CREAGIX"}),(0,gR.jsx)("div",{className:"chat-text",children:"How can I help you?"}),(0,gR.jsx)("div",{className:"chat-timestamp",children:"Sent on: 04 Aug, 2025 05:28 PM"})]})}),(0,gR.jsxs)("div",{className:"ai-input-area",children:[(0,gR.jsx)(AM,{value:r,onValueChanged:e=>o(e.value),height:80,placeholder:"Type your message..."}),(0,gR.jsxs)("div",{className:"ai-button-group",children:[(0,gR.jsx)(DM,{text:"Send",type:"default",stylingMode:"contained"}),(0,gR.jsx)(DM,{text:"Clear",onClick:()=>o("")})]})]})]})]})}const SR=function(){const[t,n]=(0,e.useState)(!0),[i,r]=(0,e.useState)(!1),[o,s]=(0,e.useState)(!0),[a,l]=(0,e.useState)(!1),[c,u]=(0,e.useState)([]),[d,h]=(0,e.useState)("<h1>Welcome!</h1><p>Select a note to get started.</p>"),[p,f]=(0,e.useState)("Editor"),[m,_]=(0,e.useState)(0),g=[[{location:"before",widget:"dxButton",options:{icon:"folder",text:"Projects"},cssClass:"ribbon-style-button"},{location:"before",widget:"dxButton",options:{icon:"doc",text:"Biz Req Doc"},cssClass:"ribbon-style-button"},{location:"before",widget:"dxButton",options:{icon:"edit",text:"Notes"},cssClass:"ribbon-style-button"},{location:"before",html:'<div class="toolbar-separator"></div>'},{location:"after",widget:"dxButton",options:{text:"Properties",icon:"columnfield",onClick:()=>n(!0)}},{location:"after",widget:"dxButton",options:{text:"AI Assist",icon:"comment",onClick:()=>s(!0)}}],[{location:"before",widget:"dxButton",options:{icon:"runner",text:"Run Query"},cssClass:"ribbon-style-button"}],[{location:"before",widget:"dxButton",options:{icon:"user",text:"Manage Users"},cssClass:"ribbon-style-button"}]];(0,e.useEffect)(()=>{const e=setTimeout(()=>window.dispatchEvent(new Event("resize")),150);return()=>clearTimeout(e)},[t,i,o,a]);const v=(0,e.useCallback)(e=>{var t;const n=e.itemData;null!==n&&void 0!==n&&null!==(t=n.pages)&&void 0!==t&&t.length?(u(n.pages),h(n.pages[0].content),f(n.pages[0].title)):(u([]),h(""),f("Editor"))},[]),y=(0,e.useCallback)(e=>{const t=e.itemData;null!==t&&void 0!==t&&t.content&&(h(t.content),f(t.title))},[]);return(0,gR.jsxs)("div",{className:"app-container",children:[(0,gR.jsx)("header",{className:"app-header",children:(0,gR.jsx)("div",{className:"welcome-message",children:"Welcome, Thirukkumaran Haridass"})}),(0,gR.jsxs)("div",{className:"ribbon-container",children:[(0,gR.jsx)(_R,{dataSource:vR,selectedIndex:m,onItemClick:e=>_(e.itemIndex),width:"40%"}),(0,gR.jsx)(kM,{dataSource:g[m]})]}),(0,gR.jsxs)("main",{className:"app-main-content",children:[t&&(0,gR.jsx)("div",{className:"side-panel-container properties-panel-container",children:i?(0,gR.jsx)(bR,{text:"Properties",onClick:()=>r(!1)}):(0,gR.jsx)(CR,{onPinClick:()=>r(!0),onClose:()=>n(!1)})}),(0,gR.jsx)("div",{className:"center-panel-wrapper",children:(0,gR.jsxs)(pR,{orientation:"horizontal",height:"100%",width:"100%",children:[(0,gR.jsx)(hR,{size:"25%",minSize:"200px",children:(0,gR.jsxs)("div",{className:"center-pane",children:[(0,gR.jsx)("div",{className:"pane-header",children:"Project Notes"}),(0,gR.jsx)(kx,{dataSource:yR,onItemClick:v,displayExpr:"text",keyExpr:"id",searchEnabled:!0})]})}),(0,gR.jsx)(hR,{size:"25%",minSize:"200px",children:(0,gR.jsxs)("div",{className:"center-pane",children:[(0,gR.jsx)("div",{className:"pane-header",children:"Project Pages"}),(0,gR.jsx)(jw,{dataSource:c,onItemClick:y,displayExpr:"title",keyExpr:"id",noDataText:"Select a note",height:"calc(100% - 30px)"})]})}),(0,gR.jsx)(hR,{minSize:"300px",children:(0,gR.jsxs)("div",{className:"center-pane",children:[(0,gR.jsx)("div",{className:"pane-header",children:p}),(0,gR.jsx)(xM,{value:d,height:"calc(100% - 30px)",onValueChanged:e=>h(e.value),children:(0,gR.jsxs)(wM,{children:[(0,gR.jsx)(SM,{name:"undo"})," ",(0,gR.jsx)(SM,{name:"redo"}),(0,gR.jsx)(SM,{name:"separator"}),(0,gR.jsx)(SM,{name:"bold"})," ",(0,gR.jsx)(SM,{name:"italic"})," ",(0,gR.jsx)(SM,{name:"underline"}),(0,gR.jsx)(SM,{name:"separator"}),(0,gR.jsx)(SM,{name:"insertTable"})]})})]})})]})}),o&&(0,gR.jsx)("div",{className:"side-panel-container",children:a?(0,gR.jsx)(bR,{text:"AI Assistant",onClick:()=>l(!1)}):(0,gR.jsx)(xR,{onPinClick:()=>l(!0),onClose:()=>s(!1)})})]})]})},wR=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then(t=>{let{getCLS:n,getFID:i,getFCP:r,getLCP:o,getTTFB:s}=t;n(e),i(e),r(e),o(e),s(e)})};t.createRoot(document.getElementById("root")).render((0,gR.jsx)(e.StrictMode,{children:(0,gR.jsx)(SR,{})})),wR()})()})();
//# sourceMappingURL=main.bc0847c2.js.map